var Hg=Object.defineProperty;var Gg=(Ce,Ee,Te)=>Ee in Ce?Hg(Ce,Ee,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Ce[Ee]=Te;var wi=(Ce,Ee,Te)=>Gg(Ce,typeof Ee!="symbol"?Ee+"":Ee,Te);(function(){const Ee=document.createElement("link").relList;if(Ee&&Ee.supports&&Ee.supports("modulepreload"))return;for(const Re of document.querySelectorAll('link[rel="modulepreload"]'))Be(Re);new MutationObserver(Re=>{for(const Me of Re)if(Me.type==="childList")for(const Ue of Me.addedNodes)Ue.tagName==="LINK"&&Ue.rel==="modulepreload"&&Be(Ue)}).observe(document,{childList:!0,subtree:!0});function Te(Re){const Me={};return Re.integrity&&(Me.integrity=Re.integrity),Re.referrerPolicy&&(Me.referrerPolicy=Re.referrerPolicy),Re.crossOrigin==="use-credentials"?Me.credentials="include":Re.crossOrigin==="anonymous"?Me.credentials="omit":Me.credentials="same-origin",Me}function Be(Re){if(Re.ep)return;Re.ep=!0;const Me=Te(Re);fetch(Re.href,Me)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(Ce){return Ce&&Ce.__esModule&&Object.prototype.hasOwnProperty.call(Ce,"default")?Ce.default:Ce}function getAugmentedNamespace(Ce){if(Object.prototype.hasOwnProperty.call(Ce,"__esModule"))return Ce;var Ee=Ce.default;if(typeof Ee=="function"){var Te=function Be(){return this instanceof Be?Reflect.construct(Ee,arguments,this.constructor):Ee.apply(this,arguments)};Te.prototype=Ee.prototype}else Te={};return Object.defineProperty(Te,"__esModule",{value:!0}),Object.keys(Ce).forEach(function(Be){var Re=Object.getOwnPropertyDescriptor(Ce,Be);Object.defineProperty(Te,Be,Re.get?Re:{enumerable:!0,get:function(){return Ce[Be]}})}),Te}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Ce=Symbol.for("react.transitional.element"),Ee=Symbol.for("react.fragment");function Te(Be,Re,Me){var Ue=null;if(Me!==void 0&&(Ue=""+Me),Re.key!==void 0&&(Ue=""+Re.key),"key"in Re){Me={};for(var De in Re)De!=="key"&&(Me[De]=Re[De])}else Me=Re;return Re=Me.ref,{$$typeof:Ce,type:Be,key:Ue,ref:Re!==void 0?Re:null,props:Me}}return reactJsxRuntime_production.Fragment=Ee,reactJsxRuntime_production.jsx=Te,reactJsxRuntime_production.jsxs=Te,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Ce=Symbol.for("react.transitional.element"),Ee=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Me=Symbol.for("react.consumer"),Ue=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),$e=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Xe=Symbol.iterator;function We(jn){return jn===null||typeof jn!="object"?null:(jn=Xe&&jn[Xe]||jn["@@iterator"],typeof jn=="function"?jn:null)}var Ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tn=Object.assign,en={};function an(jn,Gn,An){this.props=jn,this.context=Gn,this.refs=en,this.updater=An||Ge}an.prototype.isReactComponent={},an.prototype.setState=function(jn,Gn){if(typeof jn!="object"&&typeof jn!="function"&&jn!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,jn,Gn,"setState")},an.prototype.forceUpdate=function(jn){this.updater.enqueueForceUpdate(this,jn,"forceUpdate")};function Ye(){}Ye.prototype=an.prototype;function Ze(jn,Gn,An){this.props=jn,this.context=Gn,this.refs=en,this.updater=An||Ge}var St=Ze.prototype=new Ye;St.constructor=Ze,tn(St,an.prototype),St.isPureReactComponent=!0;var Qe=Array.isArray,Je={H:null,A:null,T:null,S:null,V:null},on=Object.prototype.hasOwnProperty;function hn(jn,Gn,An,$n,Nn,En){return An=En.ref,{$$typeof:Ce,type:jn,key:Gn,ref:An!==void 0?An:null,props:En}}function dn(jn,Gn){return hn(jn.type,Gn,void 0,void 0,void 0,jn.props)}function sn(jn){return typeof jn=="object"&&jn!==null&&jn.$$typeof===Ce}function kn(jn){var Gn={"=":"=0",":":"=2"};return"$"+jn.replace(/[=:]/g,function(An){return Gn[An]})}var Pn=/\/+/g;function _n(jn,Gn){return typeof jn=="object"&&jn!==null&&jn.key!=null?kn(""+jn.key):Gn.toString(36)}function Mn(){}function yn(jn){switch(jn.status){case"fulfilled":return jn.value;case"rejected":throw jn.reason;default:switch(typeof jn.status=="string"?jn.then(Mn,Mn):(jn.status="pending",jn.then(function(Gn){jn.status==="pending"&&(jn.status="fulfilled",jn.value=Gn)},function(Gn){jn.status==="pending"&&(jn.status="rejected",jn.reason=Gn)})),jn.status){case"fulfilled":return jn.value;case"rejected":throw jn.reason}}throw jn}function zn(jn,Gn,An,$n,Nn){var En=typeof jn;(En==="undefined"||En==="boolean")&&(jn=null);var Sn=!1;if(jn===null)Sn=!0;else switch(En){case"bigint":case"string":case"number":Sn=!0;break;case"object":switch(jn.$$typeof){case Ce:case Ee:Sn=!0;break;case ze:return Sn=jn._init,zn(Sn(jn._payload),Gn,An,$n,Nn)}}if(Sn)return Nn=Nn(jn),Sn=$n===""?"."+_n(jn,0):$n,Qe(Nn)?(An="",Sn!=null&&(An=Sn.replace(Pn,"$&/")+"/"),zn(Nn,Gn,An,"",function(un){return un})):Nn!=null&&(sn(Nn)&&(Nn=dn(Nn,An+(Nn.key==null||jn&&jn.key===Nn.key?"":(""+Nn.key).replace(Pn,"$&/")+"/")+Sn)),Gn.push(Nn)),1;Sn=0;var pn=$n===""?".":$n+":";if(Qe(jn))for(var mn=0;mn<jn.length;mn++)$n=jn[mn],En=pn+_n($n,mn),Sn+=zn($n,Gn,An,En,Nn);else if(mn=We(jn),typeof mn=="function")for(jn=mn.call(jn),mn=0;!($n=jn.next()).done;)$n=$n.value,En=pn+_n($n,mn++),Sn+=zn($n,Gn,An,En,Nn);else if(En==="object"){if(typeof jn.then=="function")return zn(yn(jn),Gn,An,$n,Nn);throw Gn=String(jn),Error("Objects are not valid as a React child (found: "+(Gn==="[object Object]"?"object with keys {"+Object.keys(jn).join(", ")+"}":Gn)+"). If you meant to render a collection of children, use an array instead.")}return Sn}function Ln(jn,Gn,An){if(jn==null)return jn;var $n=[],Nn=0;return zn(jn,$n,"","",function(En){return Gn.call(An,En,Nn++)}),$n}function Vn(jn){if(jn._status===-1){var Gn=jn._result;Gn=Gn(),Gn.then(function(An){(jn._status===0||jn._status===-1)&&(jn._status=1,jn._result=An)},function(An){(jn._status===0||jn._status===-1)&&(jn._status=2,jn._result=An)}),jn._status===-1&&(jn._status=0,jn._result=Gn)}if(jn._status===1)return jn._result.default;throw jn._result}var On=typeof reportError=="function"?reportError:function(jn){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Gn=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof jn=="object"&&jn!==null&&typeof jn.message=="string"?String(jn.message):String(jn),error:jn});if(!window.dispatchEvent(Gn))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",jn);return}console.error(jn)};function Un(){}return react_production.Children={map:Ln,forEach:function(jn,Gn,An){Ln(jn,function(){Gn.apply(this,arguments)},An)},count:function(jn){var Gn=0;return Ln(jn,function(){Gn++}),Gn},toArray:function(jn){return Ln(jn,function(Gn){return Gn})||[]},only:function(jn){if(!sn(jn))throw Error("React.Children.only expected to receive a single React element child.");return jn}},react_production.Component=an,react_production.Fragment=Te,react_production.Profiler=Re,react_production.PureComponent=Ze,react_production.StrictMode=Be,react_production.Suspense=qe,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(jn){return Je.H.useMemoCache(jn)}},react_production.cache=function(jn){return function(){return jn.apply(null,arguments)}},react_production.cloneElement=function(jn,Gn,An){if(jn==null)throw Error("The argument must be a React element, but you passed "+jn+".");var $n=tn({},jn.props),Nn=jn.key,En=void 0;if(Gn!=null)for(Sn in Gn.ref!==void 0&&(En=void 0),Gn.key!==void 0&&(Nn=""+Gn.key),Gn)!on.call(Gn,Sn)||Sn==="key"||Sn==="__self"||Sn==="__source"||Sn==="ref"&&Gn.ref===void 0||($n[Sn]=Gn[Sn]);var Sn=arguments.length-2;if(Sn===1)$n.children=An;else if(1<Sn){for(var pn=Array(Sn),mn=0;mn<Sn;mn++)pn[mn]=arguments[mn+2];$n.children=pn}return hn(jn.type,Nn,void 0,void 0,En,$n)},react_production.createContext=function(jn){return jn={$$typeof:Ue,_currentValue:jn,_currentValue2:jn,_threadCount:0,Provider:null,Consumer:null},jn.Provider=jn,jn.Consumer={$$typeof:Me,_context:jn},jn},react_production.createElement=function(jn,Gn,An){var $n,Nn={},En=null;if(Gn!=null)for($n in Gn.key!==void 0&&(En=""+Gn.key),Gn)on.call(Gn,$n)&&$n!=="key"&&$n!=="__self"&&$n!=="__source"&&(Nn[$n]=Gn[$n]);var Sn=arguments.length-2;if(Sn===1)Nn.children=An;else if(1<Sn){for(var pn=Array(Sn),mn=0;mn<Sn;mn++)pn[mn]=arguments[mn+2];Nn.children=pn}if(jn&&jn.defaultProps)for($n in Sn=jn.defaultProps,Sn)Nn[$n]===void 0&&(Nn[$n]=Sn[$n]);return hn(jn,En,void 0,void 0,null,Nn)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(jn){return{$$typeof:De,render:jn}},react_production.isValidElement=sn,react_production.lazy=function(jn){return{$$typeof:ze,_payload:{_status:-1,_result:jn},_init:Vn}},react_production.memo=function(jn,Gn){return{$$typeof:$e,type:jn,compare:Gn===void 0?null:Gn}},react_production.startTransition=function(jn){var Gn=Je.T,An={};Je.T=An;try{var $n=jn(),Nn=Je.S;Nn!==null&&Nn(An,$n),typeof $n=="object"&&$n!==null&&typeof $n.then=="function"&&$n.then(Un,On)}catch(En){On(En)}finally{Je.T=Gn}},react_production.unstable_useCacheRefresh=function(){return Je.H.useCacheRefresh()},react_production.use=function(jn){return Je.H.use(jn)},react_production.useActionState=function(jn,Gn,An){return Je.H.useActionState(jn,Gn,An)},react_production.useCallback=function(jn,Gn){return Je.H.useCallback(jn,Gn)},react_production.useContext=function(jn){return Je.H.useContext(jn)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(jn,Gn){return Je.H.useDeferredValue(jn,Gn)},react_production.useEffect=function(jn,Gn,An){var $n=Je.H;if(typeof An=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $n.useEffect(jn,Gn)},react_production.useId=function(){return Je.H.useId()},react_production.useImperativeHandle=function(jn,Gn,An){return Je.H.useImperativeHandle(jn,Gn,An)},react_production.useInsertionEffect=function(jn,Gn){return Je.H.useInsertionEffect(jn,Gn)},react_production.useLayoutEffect=function(jn,Gn){return Je.H.useLayoutEffect(jn,Gn)},react_production.useMemo=function(jn,Gn){return Je.H.useMemo(jn,Gn)},react_production.useOptimistic=function(jn,Gn){return Je.H.useOptimistic(jn,Gn)},react_production.useReducer=function(jn,Gn,An){return Je.H.useReducer(jn,Gn,An)},react_production.useRef=function(jn){return Je.H.useRef(jn)},react_production.useState=function(jn){return Je.H.useState(jn)},react_production.useSyncExternalStore=function(jn,Gn,An){return Je.H.useSyncExternalStore(jn,Gn,An)},react_production.useTransition=function(){return Je.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs$2(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Ce){function Ee(Ln,Vn){var On=Ln.length;Ln.push(Vn);e:for(;0<On;){var Un=On-1>>>1,jn=Ln[Un];if(0<Re(jn,Vn))Ln[Un]=Vn,Ln[On]=jn,On=Un;else break e}}function Te(Ln){return Ln.length===0?null:Ln[0]}function Be(Ln){if(Ln.length===0)return null;var Vn=Ln[0],On=Ln.pop();if(On!==Vn){Ln[0]=On;e:for(var Un=0,jn=Ln.length,Gn=jn>>>1;Un<Gn;){var An=2*(Un+1)-1,$n=Ln[An],Nn=An+1,En=Ln[Nn];if(0>Re($n,On))Nn<jn&&0>Re(En,$n)?(Ln[Un]=En,Ln[Nn]=On,Un=Nn):(Ln[Un]=$n,Ln[An]=On,Un=An);else if(Nn<jn&&0>Re(En,On))Ln[Un]=En,Ln[Nn]=On,Un=Nn;else break e}}return Vn}function Re(Ln,Vn){var On=Ln.sortIndex-Vn.sortIndex;return On!==0?On:Ln.id-Vn.id}if(Ce.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Me=performance;Ce.unstable_now=function(){return Me.now()}}else{var Ue=Date,De=Ue.now();Ce.unstable_now=function(){return Ue.now()-De}}var qe=[],$e=[],ze=1,Xe=null,We=3,Ge=!1,tn=!1,en=!1,an=!1,Ye=typeof setTimeout=="function"?setTimeout:null,Ze=typeof clearTimeout=="function"?clearTimeout:null,St=typeof setImmediate<"u"?setImmediate:null;function Qe(Ln){for(var Vn=Te($e);Vn!==null;){if(Vn.callback===null)Be($e);else if(Vn.startTime<=Ln)Be($e),Vn.sortIndex=Vn.expirationTime,Ee(qe,Vn);else break;Vn=Te($e)}}function Je(Ln){if(en=!1,Qe(Ln),!tn)if(Te(qe)!==null)tn=!0,on||(on=!0,_n());else{var Vn=Te($e);Vn!==null&&zn(Je,Vn.startTime-Ln)}}var on=!1,hn=-1,dn=5,sn=-1;function kn(){return an?!0:!(Ce.unstable_now()-sn<dn)}function Pn(){if(an=!1,on){var Ln=Ce.unstable_now();sn=Ln;var Vn=!0;try{e:{tn=!1,en&&(en=!1,Ze(hn),hn=-1),Ge=!0;var On=We;try{t:{for(Qe(Ln),Xe=Te(qe);Xe!==null&&!(Xe.expirationTime>Ln&&kn());){var Un=Xe.callback;if(typeof Un=="function"){Xe.callback=null,We=Xe.priorityLevel;var jn=Un(Xe.expirationTime<=Ln);if(Ln=Ce.unstable_now(),typeof jn=="function"){Xe.callback=jn,Qe(Ln),Vn=!0;break t}Xe===Te(qe)&&Be(qe),Qe(Ln)}else Be(qe);Xe=Te(qe)}if(Xe!==null)Vn=!0;else{var Gn=Te($e);Gn!==null&&zn(Je,Gn.startTime-Ln),Vn=!1}}break e}finally{Xe=null,We=On,Ge=!1}Vn=void 0}}finally{Vn?_n():on=!1}}}var _n;if(typeof St=="function")_n=function(){St(Pn)};else if(typeof MessageChannel<"u"){var Mn=new MessageChannel,yn=Mn.port2;Mn.port1.onmessage=Pn,_n=function(){yn.postMessage(null)}}else _n=function(){Ye(Pn,0)};function zn(Ln,Vn){hn=Ye(function(){Ln(Ce.unstable_now())},Vn)}Ce.unstable_IdlePriority=5,Ce.unstable_ImmediatePriority=1,Ce.unstable_LowPriority=4,Ce.unstable_NormalPriority=3,Ce.unstable_Profiling=null,Ce.unstable_UserBlockingPriority=2,Ce.unstable_cancelCallback=function(Ln){Ln.callback=null},Ce.unstable_forceFrameRate=function(Ln){0>Ln||125<Ln?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):dn=0<Ln?Math.floor(1e3/Ln):5},Ce.unstable_getCurrentPriorityLevel=function(){return We},Ce.unstable_next=function(Ln){switch(We){case 1:case 2:case 3:var Vn=3;break;default:Vn=We}var On=We;We=Vn;try{return Ln()}finally{We=On}},Ce.unstable_requestPaint=function(){an=!0},Ce.unstable_runWithPriority=function(Ln,Vn){switch(Ln){case 1:case 2:case 3:case 4:case 5:break;default:Ln=3}var On=We;We=Ln;try{return Vn()}finally{We=On}},Ce.unstable_scheduleCallback=function(Ln,Vn,On){var Un=Ce.unstable_now();switch(typeof On=="object"&&On!==null?(On=On.delay,On=typeof On=="number"&&0<On?Un+On:Un):On=Un,Ln){case 1:var jn=-1;break;case 2:jn=250;break;case 5:jn=1073741823;break;case 4:jn=1e4;break;default:jn=5e3}return jn=On+jn,Ln={id:ze++,callback:Vn,priorityLevel:Ln,startTime:On,expirationTime:jn,sortIndex:-1},On>Un?(Ln.sortIndex=On,Ee($e,Ln),Te(qe)===null&&Ln===Te($e)&&(en?(Ze(hn),hn=-1):en=!0,zn(Je,On-Un))):(Ln.sortIndex=jn,Ee(qe,Ln),tn||Ge||(tn=!0,on||(on=!0,_n()))),Ln},Ce.unstable_shouldYield=kn,Ce.unstable_wrapCallback=function(Ln){var Vn=We;return function(){var On=We;We=Vn;try{return Ln.apply(this,arguments)}finally{We=On}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Ce=requireReact();function Ee(qe){var $e="https://react.dev/errors/"+qe;if(1<arguments.length){$e+="?args[]="+encodeURIComponent(arguments[1]);for(var ze=2;ze<arguments.length;ze++)$e+="&args[]="+encodeURIComponent(arguments[ze])}return"Minified React error #"+qe+"; visit "+$e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Te(){}var Be={d:{f:Te,r:function(){throw Error(Ee(522))},D:Te,C:Te,L:Te,m:Te,X:Te,S:Te,M:Te},p:0,findDOMNode:null},Re=Symbol.for("react.portal");function Me(qe,$e,ze){var Xe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Re,key:Xe==null?null:""+Xe,children:qe,containerInfo:$e,implementation:ze}}var Ue=Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function De(qe,$e){if(qe==="font")return"";if(typeof $e=="string")return $e==="use-credentials"?$e:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,reactDom_production.createPortal=function(qe,$e){var ze=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$e||$e.nodeType!==1&&$e.nodeType!==9&&$e.nodeType!==11)throw Error(Ee(299));return Me(qe,$e,null,ze)},reactDom_production.flushSync=function(qe){var $e=Ue.T,ze=Be.p;try{if(Ue.T=null,Be.p=2,qe)return qe()}finally{Ue.T=$e,Be.p=ze,Be.d.f()}},reactDom_production.preconnect=function(qe,$e){typeof qe=="string"&&($e?($e=$e.crossOrigin,$e=typeof $e=="string"?$e==="use-credentials"?$e:"":void 0):$e=null,Be.d.C(qe,$e))},reactDom_production.prefetchDNS=function(qe){typeof qe=="string"&&Be.d.D(qe)},reactDom_production.preinit=function(qe,$e){if(typeof qe=="string"&&$e&&typeof $e.as=="string"){var ze=$e.as,Xe=De(ze,$e.crossOrigin),We=typeof $e.integrity=="string"?$e.integrity:void 0,Ge=typeof $e.fetchPriority=="string"?$e.fetchPriority:void 0;ze==="style"?Be.d.S(qe,typeof $e.precedence=="string"?$e.precedence:void 0,{crossOrigin:Xe,integrity:We,fetchPriority:Ge}):ze==="script"&&Be.d.X(qe,{crossOrigin:Xe,integrity:We,fetchPriority:Ge,nonce:typeof $e.nonce=="string"?$e.nonce:void 0})}},reactDom_production.preinitModule=function(qe,$e){if(typeof qe=="string")if(typeof $e=="object"&&$e!==null){if($e.as==null||$e.as==="script"){var ze=De($e.as,$e.crossOrigin);Be.d.M(qe,{crossOrigin:ze,integrity:typeof $e.integrity=="string"?$e.integrity:void 0,nonce:typeof $e.nonce=="string"?$e.nonce:void 0})}}else $e==null&&Be.d.M(qe)},reactDom_production.preload=function(qe,$e){if(typeof qe=="string"&&typeof $e=="object"&&$e!==null&&typeof $e.as=="string"){var ze=$e.as,Xe=De(ze,$e.crossOrigin);Be.d.L(qe,ze,{crossOrigin:Xe,integrity:typeof $e.integrity=="string"?$e.integrity:void 0,nonce:typeof $e.nonce=="string"?$e.nonce:void 0,type:typeof $e.type=="string"?$e.type:void 0,fetchPriority:typeof $e.fetchPriority=="string"?$e.fetchPriority:void 0,referrerPolicy:typeof $e.referrerPolicy=="string"?$e.referrerPolicy:void 0,imageSrcSet:typeof $e.imageSrcSet=="string"?$e.imageSrcSet:void 0,imageSizes:typeof $e.imageSizes=="string"?$e.imageSizes:void 0,media:typeof $e.media=="string"?$e.media:void 0})}},reactDom_production.preloadModule=function(qe,$e){if(typeof qe=="string")if($e){var ze=De($e.as,$e.crossOrigin);Be.d.m(qe,{as:typeof $e.as=="string"&&$e.as!=="script"?$e.as:void 0,crossOrigin:ze,integrity:typeof $e.integrity=="string"?$e.integrity:void 0})}else Be.d.m(qe)},reactDom_production.requestFormReset=function(qe){Be.d.r(qe)},reactDom_production.unstable_batchedUpdates=function(qe,$e){return qe($e)},reactDom_production.useFormState=function(qe,$e,ze){return Ue.H.useFormState(qe,$e,ze)},reactDom_production.useFormStatus=function(){return Ue.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Ce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ce)}catch(Ee){console.error(Ee)}}return Ce(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Ce=requireScheduler(),Ee=requireReact(),Te=requireReactDom();function Be(Ve){var Oe="https://react.dev/errors/"+Ve;if(1<arguments.length){Oe+="?args[]="+encodeURIComponent(arguments[1]);for(var He=2;He<arguments.length;He++)Oe+="&args[]="+encodeURIComponent(arguments[He])}return"Minified React error #"+Ve+"; visit "+Oe+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Re(Ve){return!(!Ve||Ve.nodeType!==1&&Ve.nodeType!==9&&Ve.nodeType!==11)}function Me(Ve){var Oe=Ve,He=Ve;if(Ve.alternate)for(;Oe.return;)Oe=Oe.return;else{Ve=Oe;do Oe=Ve,(Oe.flags&4098)!==0&&(He=Oe.return),Ve=Oe.return;while(Ve)}return Oe.tag===3?He:null}function Ue(Ve){if(Ve.tag===13){var Oe=Ve.memoizedState;if(Oe===null&&(Ve=Ve.alternate,Ve!==null&&(Oe=Ve.memoizedState)),Oe!==null)return Oe.dehydrated}return null}function De(Ve){if(Me(Ve)!==Ve)throw Error(Be(188))}function qe(Ve){var Oe=Ve.alternate;if(!Oe){if(Oe=Me(Ve),Oe===null)throw Error(Be(188));return Oe!==Ve?null:Ve}for(var He=Ve,Ke=Oe;;){var fn=He.return;if(fn===null)break;var Bn=fn.alternate;if(Bn===null){if(Ke=fn.return,Ke!==null){He=Ke;continue}break}if(fn.child===Bn.child){for(Bn=fn.child;Bn;){if(Bn===He)return De(fn),Ve;if(Bn===Ke)return De(fn),Oe;Bn=Bn.sibling}throw Error(Be(188))}if(He.return!==Ke.return)He=fn,Ke=Bn;else{for(var Kn=!1,ar=fn.child;ar;){if(ar===He){Kn=!0,He=fn,Ke=Bn;break}if(ar===Ke){Kn=!0,Ke=fn,He=Bn;break}ar=ar.sibling}if(!Kn){for(ar=Bn.child;ar;){if(ar===He){Kn=!0,He=Bn,Ke=fn;break}if(ar===Ke){Kn=!0,Ke=Bn,He=fn;break}ar=ar.sibling}if(!Kn)throw Error(Be(189))}}if(He.alternate!==Ke)throw Error(Be(190))}if(He.tag!==3)throw Error(Be(188));return He.stateNode.current===He?Ve:Oe}function $e(Ve){var Oe=Ve.tag;if(Oe===5||Oe===26||Oe===27||Oe===6)return Ve;for(Ve=Ve.child;Ve!==null;){if(Oe=$e(Ve),Oe!==null)return Oe;Ve=Ve.sibling}return null}var ze=Object.assign,Xe=Symbol.for("react.element"),We=Symbol.for("react.transitional.element"),Ge=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),en=Symbol.for("react.strict_mode"),an=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),Ze=Symbol.for("react.consumer"),St=Symbol.for("react.context"),Qe=Symbol.for("react.forward_ref"),Je=Symbol.for("react.suspense"),on=Symbol.for("react.suspense_list"),hn=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),sn=Symbol.for("react.activity"),kn=Symbol.for("react.memo_cache_sentinel"),Pn=Symbol.iterator;function _n(Ve){return Ve===null||typeof Ve!="object"?null:(Ve=Pn&&Ve[Pn]||Ve["@@iterator"],typeof Ve=="function"?Ve:null)}var Mn=Symbol.for("react.client.reference");function yn(Ve){if(Ve==null)return null;if(typeof Ve=="function")return Ve.$$typeof===Mn?null:Ve.displayName||Ve.name||null;if(typeof Ve=="string")return Ve;switch(Ve){case tn:return"Fragment";case an:return"Profiler";case en:return"StrictMode";case Je:return"Suspense";case on:return"SuspenseList";case sn:return"Activity"}if(typeof Ve=="object")switch(Ve.$$typeof){case Ge:return"Portal";case St:return(Ve.displayName||"Context")+".Provider";case Ze:return(Ve._context.displayName||"Context")+".Consumer";case Qe:var Oe=Ve.render;return Ve=Ve.displayName,Ve||(Ve=Oe.displayName||Oe.name||"",Ve=Ve!==""?"ForwardRef("+Ve+")":"ForwardRef"),Ve;case hn:return Oe=Ve.displayName||null,Oe!==null?Oe:yn(Ve.type)||"Memo";case dn:Oe=Ve._payload,Ve=Ve._init;try{return yn(Ve(Oe))}catch{}}return null}var zn=Array.isArray,Ln=Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vn=Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,On={pending:!1,data:null,method:null,action:null},Un=[],jn=-1;function Gn(Ve){return{current:Ve}}function An(Ve){0>jn||(Ve.current=Un[jn],Un[jn]=null,jn--)}function $n(Ve,Oe){jn++,Un[jn]=Ve.current,Ve.current=Oe}var Nn=Gn(null),En=Gn(null),Sn=Gn(null),pn=Gn(null);function mn(Ve,Oe){switch($n(Sn,Oe),$n(En,Ve),$n(Nn,null),Oe.nodeType){case 9:case 11:Ve=(Ve=Oe.documentElement)&&(Ve=Ve.namespaceURI)?gm(Ve):0;break;default:if(Ve=Oe.tagName,Oe=Oe.namespaceURI)Oe=gm(Oe),Ve=ym(Oe,Ve);else switch(Ve){case"svg":Ve=1;break;case"math":Ve=2;break;default:Ve=0}}An(Nn),$n(Nn,Ve)}function un(){An(Nn),An(En),An(Sn)}function wn(Ve){Ve.memoizedState!==null&&$n(pn,Ve);var Oe=Nn.current,He=ym(Oe,Ve.type);Oe!==He&&($n(En,Ve),$n(Nn,He))}function xn(Ve){En.current===Ve&&(An(Nn),An(En)),pn.current===Ve&&(An(pn),Wf._currentValue=On)}var Rn=Object.prototype.hasOwnProperty,Hn=Ce.unstable_scheduleCallback,vn=Ce.unstable_cancelCallback,qn=Ce.unstable_shouldYield,In=Ce.unstable_requestPaint,cn=Ce.unstable_now,bn=Ce.unstable_getCurrentPriorityLevel,Cn=Ce.unstable_ImmediatePriority,Yn=Ce.unstable_UserBlockingPriority,Jn=Ce.unstable_NormalPriority,er=Ce.unstable_LowPriority,ur=Ce.unstable_IdlePriority,dr=Ce.log,br=Ce.unstable_setDisableYieldValue,yr=null,jr=null;function Gr(Ve){if(typeof dr=="function"&&br(Ve),jr&&typeof jr.setStrictMode=="function")try{jr.setStrictMode(yr,Ve)}catch{}}var $r=Math.clz32?Math.clz32:Ur,Dr=Math.log,hr=Math.LN2;function Ur(Ve){return Ve>>>=0,Ve===0?32:31-(Dr(Ve)/hr|0)|0}var Qr=256,ia=4194304;function Er(Ve){var Oe=Ve&42;if(Oe!==0)return Oe;switch(Ve&-Ve){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ve&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return Ve&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return Ve}}function Kr(Ve,Oe,He){var Ke=Ve.pendingLanes;if(Ke===0)return 0;var fn=0,Bn=Ve.suspendedLanes,Kn=Ve.pingedLanes;Ve=Ve.warmLanes;var ar=Ke&134217727;return ar!==0?(Ke=ar&~Bn,Ke!==0?fn=Er(Ke):(Kn&=ar,Kn!==0?fn=Er(Kn):He||(He=ar&~Ve,He!==0&&(fn=Er(He))))):(ar=Ke&~Bn,ar!==0?fn=Er(ar):Kn!==0?fn=Er(Kn):He||(He=Ke&~Ve,He!==0&&(fn=Er(He)))),fn===0?0:Oe!==0&&Oe!==fn&&(Oe&Bn)===0&&(Bn=fn&-fn,He=Oe&-Oe,Bn>=He||Bn===32&&(He&4194048)!==0)?Oe:fn}function na(Ve,Oe){return(Ve.pendingLanes&~(Ve.suspendedLanes&~Ve.pingedLanes)&Oe)===0}function Pr(Ve,Oe){switch(Ve){case 1:case 2:case 4:case 8:case 64:return Oe+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Oe+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var Ve=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),Ve}function gr(){var Ve=ia;return ia<<=1,(ia&62914560)===0&&(ia=4194304),Ve}function Mr(Ve){for(var Oe=[],He=0;31>He;He++)Oe.push(Ve);return Oe}function sa(Ve,Oe){Ve.pendingLanes|=Oe,Oe!==268435456&&(Ve.suspendedLanes=0,Ve.pingedLanes=0,Ve.warmLanes=0)}function aa(Ve,Oe,He,Ke,fn,Bn){var Kn=Ve.pendingLanes;Ve.pendingLanes=He,Ve.suspendedLanes=0,Ve.pingedLanes=0,Ve.warmLanes=0,Ve.expiredLanes&=He,Ve.entangledLanes&=He,Ve.errorRecoveryDisabledLanes&=He,Ve.shellSuspendCounter=0;var ar=Ve.entanglements,mr=Ve.expirationTimes,Ir=Ve.hiddenUpdates;for(He=Kn&~He;0<He;){var Yr=31-$r(He),ta=1<<Yr;ar[Yr]=0,mr[Yr]=-1;var Fr=Ir[Yr];if(Fr!==null)for(Ir[Yr]=null,Yr=0;Yr<Fr.length;Yr++){var Or=Fr[Yr];Or!==null&&(Or.lane&=-536870913)}He&=~ta}Ke!==0&&Rr(Ve,Ke,0),Bn!==0&&fn===0&&Ve.tag!==0&&(Ve.suspendedLanes|=Bn&~(Kn&~Oe))}function Rr(Ve,Oe,He){Ve.pendingLanes|=Oe,Ve.suspendedLanes&=~Oe;var Ke=31-$r(Oe);Ve.entangledLanes|=Oe,Ve.entanglements[Ke]=Ve.entanglements[Ke]|1073741824|He&4194090}function Tr(Ve,Oe){var He=Ve.entangledLanes|=Oe;for(Ve=Ve.entanglements;He;){var Ke=31-$r(He),fn=1<<Ke;fn&Oe|Ve[Ke]&Oe&&(Ve[Ke]|=Oe),He&=~fn}}function Xr(Ve){switch(Ve){case 2:Ve=1;break;case 8:Ve=4;break;case 32:Ve=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Ve=128;break;case 268435456:Ve=134217728;break;default:Ve=0}return Ve}function ca(Ve){return Ve&=-Ve,2<Ve?8<Ve?(Ve&134217727)!==0?32:268435456:8:2}function Sa(){var Ve=Vn.p;return Ve!==0?Ve:(Ve=window.event,Ve===void 0?32:Dm(Ve.type))}function oa(Ve,Oe){var He=Vn.p;try{return Vn.p=Ve,Oe()}finally{Vn.p=He}}var ma=Math.random().toString(36).slice(2),da="__reactFiber$"+ma,fa="__reactProps$"+ma,Ca="__reactContainer$"+ma,Na="__reactEvents$"+ma,Ta="__reactListeners$"+ma,Ia="__reactHandles$"+ma,hi="__reactResources$"+ma,Ha="__reactMarker$"+ma;function ri(Ve){delete Ve[da],delete Ve[fa],delete Ve[Na],delete Ve[Ta],delete Ve[Ia]}function ja(Ve){var Oe=Ve[da];if(Oe)return Oe;for(var He=Ve.parentNode;He;){if(Oe=He[Ca]||He[da]){if(He=Oe.alternate,Oe.child!==null||He!==null&&He.child!==null)for(Ve=xm(Ve);Ve!==null;){if(He=Ve[da])return He;Ve=xm(Ve)}return Oe}Ve=He,He=Ve.parentNode}return null}function pi(Ve){if(Ve=Ve[da]||Ve[Ca]){var Oe=Ve.tag;if(Oe===5||Oe===6||Oe===13||Oe===26||Oe===27||Oe===3)return Ve}return null}function Ri(Ve){var Oe=Ve.tag;if(Oe===5||Oe===26||Oe===27||Oe===6)return Ve.stateNode;throw Error(Be(33))}function li(Ve){var Oe=Ve[hi];return Oe||(Oe=Ve[hi]={hoistableStyles:new Map,hoistableScripts:new Map}),Oe}function ii(Ve){Ve[Ha]=!0}var ys=new Set,Is={};function xi(Ve,Oe){$i(Ve,Oe),$i(Ve+"Capture",Oe)}function $i(Ve,Oe){for(Is[Ve]=Oe,Ve=0;Ve<Oe.length;Ve++)ys.add(Oe[Ve])}var lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},uo={};function Ru(Ve){return Rn.call(uo,Ve)?!0:Rn.call(hu,Ve)?!1:lo.test(Ve)?uo[Ve]=!0:(hu[Ve]=!0,!1)}function Jo(Ve,Oe,He){if(Ru(Oe))if(He===null)Ve.removeAttribute(Oe);else{switch(typeof He){case"undefined":case"function":case"symbol":Ve.removeAttribute(Oe);return;case"boolean":var Ke=Oe.toLowerCase().slice(0,5);if(Ke!=="data-"&&Ke!=="aria-"){Ve.removeAttribute(Oe);return}}Ve.setAttribute(Oe,""+He)}}function vs(Ve,Oe,He){if(He===null)Ve.removeAttribute(Oe);else{switch(typeof He){case"undefined":case"function":case"symbol":case"boolean":Ve.removeAttribute(Oe);return}Ve.setAttribute(Oe,""+He)}}function bs(Ve,Oe,He,Ke){if(Ke===null)Ve.removeAttribute(He);else{switch(typeof Ke){case"undefined":case"function":case"symbol":case"boolean":Ve.removeAttribute(He);return}Ve.setAttributeNS(Oe,He,""+Ke)}}var $l,jl;function No(Ve){if($l===void 0)try{throw Error()}catch(He){var Oe=He.stack.trim().match(/\n( *(at )?)/);$l=Oe&&Oe[1]||"",jl=-1<He.stack.indexOf(`
    at`)?" (<anonymous>)":-1<He.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$l+Ve+jl}var zl=!1;function Hl(Ve,Oe){if(!Ve||zl)return"";zl=!0;var He=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Ke={DetermineComponentFrameRoot:function(){try{if(Oe){var ta=function(){throw Error()};if(Object.defineProperty(ta.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ta,[])}catch(Or){var Fr=Or}Reflect.construct(Ve,[],ta)}else{try{ta.call()}catch(Or){Fr=Or}Ve.call(ta.prototype)}}else{try{throw Error()}catch(Or){Fr=Or}(ta=Ve())&&typeof ta.catch=="function"&&ta.catch(function(){})}}catch(Or){if(Or&&Fr&&typeof Or.stack=="string")return[Or.stack,Fr.stack]}return[null,null]}};Ke.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var fn=Object.getOwnPropertyDescriptor(Ke.DetermineComponentFrameRoot,"name");fn&&fn.configurable&&Object.defineProperty(Ke.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Bn=Ke.DetermineComponentFrameRoot(),Kn=Bn[0],ar=Bn[1];if(Kn&&ar){var mr=Kn.split(`
`),Ir=ar.split(`
`);for(fn=Ke=0;Ke<mr.length&&!mr[Ke].includes("DetermineComponentFrameRoot");)Ke++;for(;fn<Ir.length&&!Ir[fn].includes("DetermineComponentFrameRoot");)fn++;if(Ke===mr.length||fn===Ir.length)for(Ke=mr.length-1,fn=Ir.length-1;1<=Ke&&0<=fn&&mr[Ke]!==Ir[fn];)fn--;for(;1<=Ke&&0<=fn;Ke--,fn--)if(mr[Ke]!==Ir[fn]){if(Ke!==1||fn!==1)do if(Ke--,fn--,0>fn||mr[Ke]!==Ir[fn]){var Yr=`
`+mr[Ke].replace(" at new "," at ");return Ve.displayName&&Yr.includes("<anonymous>")&&(Yr=Yr.replace("<anonymous>",Ve.displayName)),Yr}while(1<=Ke&&0<=fn);break}}}finally{zl=!1,Error.prepareStackTrace=He}return(He=Ve?Ve.displayName||Ve.name:"")?No(He):""}function xl(Ve){switch(Ve.tag){case 26:case 27:case 5:return No(Ve.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 15:return Hl(Ve.type,!1);case 11:return Hl(Ve.type.render,!1);case 1:return Hl(Ve.type,!0);case 31:return No("Activity");default:return""}}function du(Ve){try{var Oe="";do Oe+=xl(Ve),Ve=Ve.return;while(Ve);return Oe}catch(He){return`
Error generating stack: `+He.message+`
`+He.stack}}function ei(Ve){switch(typeof Ve){case"bigint":case"boolean":case"number":case"string":case"undefined":return Ve;case"object":return Ve;default:return""}}function Vu(Ve){var Oe=Ve.type;return(Ve=Ve.nodeName)&&Ve.toLowerCase()==="input"&&(Oe==="checkbox"||Oe==="radio")}function ec(Ve){var Oe=Vu(Ve)?"checked":"value",He=Object.getOwnPropertyDescriptor(Ve.constructor.prototype,Oe),Ke=""+Ve[Oe];if(!Ve.hasOwnProperty(Oe)&&typeof He<"u"&&typeof He.get=="function"&&typeof He.set=="function"){var fn=He.get,Bn=He.set;return Object.defineProperty(Ve,Oe,{configurable:!0,get:function(){return fn.call(this)},set:function(Kn){Ke=""+Kn,Bn.call(this,Kn)}}),Object.defineProperty(Ve,Oe,{enumerable:He.enumerable}),{getValue:function(){return Ke},setValue:function(Kn){Ke=""+Kn},stopTracking:function(){Ve._valueTracker=null,delete Ve[Oe]}}}}function co(Ve){Ve._valueTracker||(Ve._valueTracker=ec(Ve))}function Zo(Ve){if(!Ve)return!1;var Oe=Ve._valueTracker;if(!Oe)return!0;var He=Oe.getValue(),Ke="";return Ve&&(Ke=Vu(Ve)?Ve.checked?"true":"false":Ve.value),Ve=Ke,Ve!==He?(Oe.setValue(Ve),!0):!1}function ji(Ve){if(Ve=Ve||(typeof document<"u"?document:void 0),typeof Ve>"u")return null;try{return Ve.activeElement||Ve.body}catch{return Ve.body}}var Gl=/[\n"\\]/g;function Ga(Ve){return Ve.replace(Gl,function(Oe){return"\\"+Oe.charCodeAt(0).toString(16)+" "})}function So(Ve,Oe,He,Ke,fn,Bn,Kn,ar){Ve.name="",Kn!=null&&typeof Kn!="function"&&typeof Kn!="symbol"&&typeof Kn!="boolean"?Ve.type=Kn:Ve.removeAttribute("type"),Oe!=null?Kn==="number"?(Oe===0&&Ve.value===""||Ve.value!=Oe)&&(Ve.value=""+ei(Oe)):Ve.value!==""+ei(Oe)&&(Ve.value=""+ei(Oe)):Kn!=="submit"&&Kn!=="reset"||Ve.removeAttribute("value"),Oe!=null?ws(Ve,Kn,ei(Oe)):He!=null?ws(Ve,Kn,ei(He)):Ke!=null&&Ve.removeAttribute("value"),fn==null&&Bn!=null&&(Ve.defaultChecked=!!Bn),fn!=null&&(Ve.checked=fn&&typeof fn!="function"&&typeof fn!="symbol"),ar!=null&&typeof ar!="function"&&typeof ar!="symbol"&&typeof ar!="boolean"?Ve.name=""+ei(ar):Ve.removeAttribute("name")}function Wl(Ve,Oe,He,Ke,fn,Bn,Kn,ar){if(Bn!=null&&typeof Bn!="function"&&typeof Bn!="symbol"&&typeof Bn!="boolean"&&(Ve.type=Bn),Oe!=null||He!=null){if(!(Bn!=="submit"&&Bn!=="reset"||Oe!=null))return;He=He!=null?""+ei(He):"",Oe=Oe!=null?""+ei(Oe):He,ar||Oe===Ve.value||(Ve.value=Oe),Ve.defaultValue=Oe}Ke=Ke??fn,Ke=typeof Ke!="function"&&typeof Ke!="symbol"&&!!Ke,Ve.checked=ar?Ve.checked:!!Ke,Ve.defaultChecked=!!Ke,Kn!=null&&typeof Kn!="function"&&typeof Kn!="symbol"&&typeof Kn!="boolean"&&(Ve.name=Kn)}function ws(Ve,Oe,He){Oe==="number"&&ji(Ve.ownerDocument)===Ve||Ve.defaultValue===""+He||(Ve.defaultValue=""+He)}function Qo(Ve,Oe,He,Ke){if(Ve=Ve.options,Oe){Oe={};for(var fn=0;fn<He.length;fn++)Oe["$"+He[fn]]=!0;for(He=0;He<Ve.length;He++)fn=Oe.hasOwnProperty("$"+Ve[He].value),Ve[He].selected!==fn&&(Ve[He].selected=fn),fn&&Ke&&(Ve[He].defaultSelected=!0)}else{for(He=""+ei(He),Oe=null,fn=0;fn<Ve.length;fn++){if(Ve[fn].value===He){Ve[fn].selected=!0,Ke&&(Ve[fn].defaultSelected=!0);return}Oe!==null||Ve[fn].disabled||(Oe=Ve[fn])}Oe!==null&&(Oe.selected=!0)}}function Hs(Ve,Oe,He){if(Oe!=null&&(Oe=""+ei(Oe),Oe!==Ve.value&&(Ve.value=Oe),He==null)){Ve.defaultValue!==Oe&&(Ve.defaultValue=Oe);return}Ve.defaultValue=He!=null?""+ei(He):""}function pu(Ve,Oe,He,Ke){if(Oe==null){if(Ke!=null){if(He!=null)throw Error(Be(92));if(zn(Ke)){if(1<Ke.length)throw Error(Be(93));Ke=Ke[0]}He=Ke}He==null&&(He=""),Oe=He}He=ei(Oe),Ve.defaultValue=He,Ke=Ve.textContent,Ke===He&&Ke!==""&&Ke!==null&&(Ve.value=Ke)}function fo(Ve,Oe){if(Oe){var He=Ve.firstChild;if(He&&He===Ve.lastChild&&He.nodeType===3){He.nodeValue=Oe;return}}Ve.textContent=Oe}var Po=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(Ve,Oe,He){var Ke=Oe.indexOf("--")===0;He==null||typeof He=="boolean"||He===""?Ke?Ve.setProperty(Oe,""):Oe==="float"?Ve.cssFloat="":Ve[Oe]="":Ke?Ve.setProperty(Oe,He):typeof He!="number"||He===0||Po.has(Oe)?Oe==="float"?Ve.cssFloat=He:Ve[Oe]=(""+He).trim():Ve[Oe]=He+"px"}function tc(Ve,Oe,He){if(Oe!=null&&typeof Oe!="object")throw Error(Be(62));if(Ve=Ve.style,He!=null){for(var Ke in He)!He.hasOwnProperty(Ke)||Oe!=null&&Oe.hasOwnProperty(Ke)||(Ke.indexOf("--")===0?Ve.setProperty(Ke,""):Ke==="float"?Ve.cssFloat="":Ve[Ke]="");for(var fn in Oe)Ke=Oe[fn],Oe.hasOwnProperty(fn)&&He[fn]!==Ke&&Xl(Ve,fn,Ke)}else for(var Bn in Oe)Oe.hasOwnProperty(Bn)&&Xl(Ve,Bn,Oe[Bn])}function ku(Ve){if(Ve.indexOf("-")===-1)return!1;switch(Ve){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),el=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(Ve){return el.test(""+Ve)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Ve}var Do=null;function Nu(Ve){return Ve=Ve.target||Ve.srcElement||window,Ve.correspondingUseElement&&(Ve=Ve.correspondingUseElement),Ve.nodeType===3?Ve.parentNode:Ve}var Gs=null,Ao=null;function ka(Ve){var Oe=pi(Ve);if(Oe&&(Ve=Oe.stateNode)){var He=Ve[fa]||null;e:switch(Ve=Oe.stateNode,Oe.type){case"input":if(So(Ve,He.value,He.defaultValue,He.defaultValue,He.checked,He.defaultChecked,He.type,He.name),Oe=He.name,He.type==="radio"&&Oe!=null){for(He=Ve;He.parentNode;)He=He.parentNode;for(He=He.querySelectorAll('input[name="'+Ga(""+Oe)+'"][type="radio"]'),Oe=0;Oe<He.length;Oe++){var Ke=He[Oe];if(Ke!==Ve&&Ke.form===Ve.form){var fn=Ke[fa]||null;if(!fn)throw Error(Be(90));So(Ke,fn.value,fn.defaultValue,fn.defaultValue,fn.checked,fn.defaultChecked,fn.type,fn.name)}}for(Oe=0;Oe<He.length;Oe++)Ke=He[Oe],Ke.form===Ve.form&&Zo(Ke)}break e;case"textarea":Hs(Ve,He.value,He.defaultValue);break e;case"select":Oe=He.value,Oe!=null&&Qo(Ve,!!He.multiple,Oe,!1)}}}var mu=!1;function gu(Ve,Oe,He){if(mu)return Ve(Oe,He);mu=!0;try{var Ke=Ve(Oe);return Ke}finally{if(mu=!1,(Gs!==null||Ao!==null)&&(_h(),Gs&&(Oe=Gs,Ve=Ao,Ao=Gs=null,ka(Oe),Ve)))for(Oe=0;Oe<Ve.length;Oe++)ka(Ve[Oe])}}function Ds(Ve,Oe){var He=Ve.stateNode;if(He===null)return null;var Ke=He[fa]||null;if(Ke===null)return null;He=Ke[Oe];e:switch(Oe){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ke=!Ke.disabled)||(Ve=Ve.type,Ke=!(Ve==="button"||Ve==="input"||Ve==="select"||Ve==="textarea")),Ve=!Ke;break e;default:Ve=!1}if(Ve)return null;if(He&&typeof He!="function")throw Error(Be(231,Oe,typeof He));return He}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(us)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{ho=!1}var Eo=null,_l=null,Xs=null;function tl(){if(Xs)return Xs;var Ve,Oe=_l,He=Oe.length,Ke,fn="value"in Eo?Eo.value:Eo.textContent,Bn=fn.length;for(Ve=0;Ve<He&&Oe[Ve]===fn[Ve];Ve++);var Kn=He-Ve;for(Ke=1;Ke<=Kn&&Oe[He-Ke]===fn[Bn-Ke];Ke++);return Xs=fn.slice(Ve,1<Ke?1-Ke:void 0)}function Ys(Ve){var Oe=Ve.keyCode;return"charCode"in Ve?(Ve=Ve.charCode,Ve===0&&Oe===13&&(Ve=13)):Ve=Oe,Ve===10&&(Ve=13),32<=Ve||Ve===13?Ve:0}function nl(){return!0}function Yl(){return!1}function xs(Ve){function Oe(He,Ke,fn,Bn,Kn){this._reactName=He,this._targetInst=fn,this.type=Ke,this.nativeEvent=Bn,this.target=Kn,this.currentTarget=null;for(var ar in Ve)Ve.hasOwnProperty(ar)&&(He=Ve[ar],this[ar]=He?He(Bn):Bn[ar]);return this.isDefaultPrevented=(Bn.defaultPrevented!=null?Bn.defaultPrevented:Bn.returnValue===!1)?nl:Yl,this.isPropagationStopped=Yl,this}return ze(Oe.prototype,{preventDefault:function(){this.defaultPrevented=!0;var He=this.nativeEvent;He&&(He.preventDefault?He.preventDefault():typeof He.returnValue!="unknown"&&(He.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var He=this.nativeEvent;He&&(He.stopPropagation?He.stopPropagation():typeof He.cancelBubble!="unknown"&&(He.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),Oe}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Ve){return Ve.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=xs(To),Co=ze({},To,{view:0,detail:0}),Pl=xs(Co),Kl,Al,rl,cs=ze({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(Ve){return Ve.relatedTarget===void 0?Ve.fromElement===Ve.srcElement?Ve.toElement:Ve.fromElement:Ve.relatedTarget},movementX:function(Ve){return"movementX"in Ve?Ve.movementX:(Ve!==rl&&(rl&&Ve.type==="mousemove"?(Kl=Ve.screenX-rl.screenX,Al=Ve.screenY-rl.screenY):Al=Kl=0,rl=Ve),Kl)},movementY:function(Ve){return"movementY"in Ve?Ve.movementY:Al}}),Jl=xs(cs),Iu=ze({},cs,{dataTransfer:0}),Ls=xs(Iu),Ts=ze({},Co,{relatedTarget:0}),Dn=xs(Ts),Qn=ze({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),cr=xs(Qn),wr=ze({},To,{clipboardData:function(Ve){return"clipboardData"in Ve?Ve.clipboardData:window.clipboardData}}),Br=xs(wr),Wr=ze({},To,{data:0}),ea=xs(Wr),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ba={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ua(Ve){var Oe=this.nativeEvent;return Oe.getModifierState?Oe.getModifierState(Ve):(Ve=Ba[Ve])?!!Oe[Ve]:!1}function qa(){return Ua}var Ei=ze({},Co,{key:function(Ve){if(Ve.key){var Oe=ga[Ve.key]||Ve.key;if(Oe!=="Unidentified")return Oe}return Ve.type==="keypress"?(Ve=Ys(Ve),Ve===13?"Enter":String.fromCharCode(Ve)):Ve.type==="keydown"||Ve.type==="keyup"?Pa[Ve.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(Ve){return Ve.type==="keypress"?Ys(Ve):0},keyCode:function(Ve){return Ve.type==="keydown"||Ve.type==="keyup"?Ve.keyCode:0},which:function(Ve){return Ve.type==="keypress"?Ys(Ve):Ve.type==="keydown"||Ve.type==="keyup"?Ve.keyCode:0}}),Li=xs(Ei),ui=ze({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ti=xs(ui),Vi=ze({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),mi=xs(Vi),Cs=ze({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),El=xs(Cs),nc=ze({},cs,{deltaX:function(Ve){return"deltaX"in Ve?Ve.deltaX:"wheelDeltaX"in Ve?-Ve.wheelDeltaX:0},deltaY:function(Ve){return"deltaY"in Ve?Ve.deltaY:"wheelDeltaY"in Ve?-Ve.wheelDeltaY:"wheelDelta"in Ve?-Ve.wheelDelta:0},deltaZ:0,deltaMode:0}),rc=xs(nc),Zl=ze({},To,{newState:0,oldState:0}),po=xs(Zl),Du=[9,13,27,32],al=us&&"CompositionEvent"in window,Ks=null;us&&"documentMode"in document&&(Ks=document.documentMode);var zi=us&&"TextEvent"in window&&!Ks,Bs=us&&(!al||Ks&&8<Ks&&11>=Ks),mo=" ",Tl=!1;function yu(Ve,Oe){switch(Ve){case"keyup":return Du.indexOf(Oe.keyCode)!==-1;case"keydown":return Oe.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hi(Ve){return Ve=Ve.detail,typeof Ve=="object"&&"data"in Ve?Ve.data:null}var il=!1;function vu(Ve,Oe){switch(Ve){case"compositionend":return Hi(Oe);case"keypress":return Oe.which!==32?null:(Tl=!0,mo);case"textInput":return Ve=Oe.data,Ve===mo&&Tl?null:Ve;default:return null}}function Lu(Ve,Oe){if(il)return Ve==="compositionend"||!al&&yu(Ve,Oe)?(Ve=tl(),Xs=_l=Eo=null,il=!1,Ve):null;switch(Ve){case"paste":return null;case"keypress":if(!(Oe.ctrlKey||Oe.altKey||Oe.metaKey)||Oe.ctrlKey&&Oe.altKey){if(Oe.char&&1<Oe.char.length)return Oe.char;if(Oe.which)return String.fromCharCode(Oe.which)}return null;case"compositionend":return Bs&&Oe.locale!=="ko"?null:Oe.data;default:return null}}var Gi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _s(Ve){var Oe=Ve&&Ve.nodeName&&Ve.nodeName.toLowerCase();return Oe==="input"?!!Gi[Ve.type]:Oe==="textarea"}function Lo(Ve,Oe,He,Ke){Gs?Ao?Ao.push(Ke):Ao=[Ke]:Gs=Ke,Oe=Ch(Oe,"onChange"),0<Oe.length&&(He=new Sl("onChange","change",null,He,Ke),Ve.push({event:He,listeners:Oe}))}var sl=null,go=null;function Cl(Ve){fm(Ve,0)}function ns(Ve){var Oe=Ri(Ve);if(Zo(Oe))return Ve}function rs(Ve,Oe){if(Ve==="change")return Oe}var Fo=!1;if(us){var as;if(us){var Fs="oninput"in document;if(!Fs){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),Fs=typeof ol.oninput=="function"}as=Fs}else as=!1;Fo=as&&(!document.documentMode||9<document.documentMode)}function Oo(){sl&&(sl.detachEvent("onpropertychange",ki),go=sl=null)}function ki(Ve){if(Ve.propertyName==="value"&&ns(go)){var Oe=[];Lo(Oe,go,Ve,Nu(Ve)),gu(Cl,Oe)}}function Fu(Ve,Oe,He){Ve==="focusin"?(Oo(),sl=Oe,go=He,sl.attachEvent("onpropertychange",ki)):Ve==="focusout"&&Oo()}function Uo(Ve){if(Ve==="selectionchange"||Ve==="keyup"||Ve==="keydown")return ns(go)}function Bo(Ve,Oe){if(Ve==="click")return ns(Oe)}function ll(Ve,Oe){if(Ve==="input"||Ve==="change")return ns(Oe)}function Ql(Ve,Oe){return Ve===Oe&&(Ve!==0||1/Ve===1/Oe)||Ve!==Ve&&Oe!==Oe}var Wi=typeof Object.is=="function"?Object.is:Ql;function Ro(Ve,Oe){if(Wi(Ve,Oe))return!0;if(typeof Ve!="object"||Ve===null||typeof Oe!="object"||Oe===null)return!1;var He=Object.keys(Ve),Ke=Object.keys(Oe);if(He.length!==Ke.length)return!1;for(Ke=0;Ke<He.length;Ke++){var fn=He[Ke];if(!Rn.call(Oe,fn)||!Wi(Ve[fn],Oe[fn]))return!1}return!0}function Bl(Ve){for(;Ve&&Ve.firstChild;)Ve=Ve.firstChild;return Ve}function Rl(Ve,Oe){var He=Bl(Ve);Ve=0;for(var Ke;He;){if(He.nodeType===3){if(Ke=Ve+He.textContent.length,Ve<=Oe&&Ke>=Oe)return{node:He,offset:Oe-Ve};Ve=Ke}e:{for(;He;){if(He.nextSibling){He=He.nextSibling;break e}He=He.parentNode}He=void 0}He=Bl(He)}}function yo(Ve,Oe){return Ve&&Oe?Ve===Oe?!0:Ve&&Ve.nodeType===3?!1:Oe&&Oe.nodeType===3?yo(Ve,Oe.parentNode):"contains"in Ve?Ve.contains(Oe):Ve.compareDocumentPosition?!!(Ve.compareDocumentPosition(Oe)&16):!1:!1}function bu(Ve){Ve=Ve!=null&&Ve.ownerDocument!=null&&Ve.ownerDocument.defaultView!=null?Ve.ownerDocument.defaultView:window;for(var Oe=ji(Ve.document);Oe instanceof Ve.HTMLIFrameElement;){try{var He=typeof Oe.contentWindow.location.href=="string"}catch{He=!1}if(He)Ve=Oe.contentWindow;else break;Oe=ji(Ve.document)}return Oe}function fs(Ve){var Oe=Ve&&Ve.nodeName&&Ve.nodeName.toLowerCase();return Oe&&(Oe==="input"&&(Ve.type==="text"||Ve.type==="search"||Ve.type==="tel"||Ve.type==="url"||Ve.type==="password")||Oe==="textarea"||Ve.contentEditable==="true")}var qo=us&&"documentMode"in document&&11>=document.documentMode,ti=null,ci=null,gi=null,_i=!1;function is(Ve,Oe,He){var Ke=He.window===He?He.document:He.nodeType===9?He:He.ownerDocument;_i||ti==null||ti!==ji(Ke)||(Ke=ti,"selectionStart"in Ke&&fs(Ke)?Ke={start:Ke.selectionStart,end:Ke.selectionEnd}:(Ke=(Ke.ownerDocument&&Ke.ownerDocument.defaultView||window).getSelection(),Ke={anchorNode:Ke.anchorNode,anchorOffset:Ke.anchorOffset,focusNode:Ke.focusNode,focusOffset:Ke.focusOffset}),gi&&Ro(gi,Ke)||(gi=Ke,Ke=Ch(ci,"onSelect"),0<Ke.length&&(Oe=new Sl("onSelect","select",null,Oe,He),Ve.push({event:Oe,listeners:Ke}),Oe.target=ti)))}function Rs(Ve,Oe){var He={};return He[Ve.toLowerCase()]=Oe.toLowerCase(),He["Webkit"+Ve]="webkit"+Oe,He["Moz"+Ve]="moz"+Oe,He}var Xi={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Vl={},wu={};us&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Os(Ve){if(Vl[Ve])return Vl[Ve];if(!Xi[Ve])return Ve;var Oe=Xi[Ve],He;for(He in Oe)if(Oe.hasOwnProperty(He)&&He in wu)return Vl[Ve]=Oe[He];return Ve}var kl=Os("animationend"),Js=Os("animationiteration"),Ou=Os("animationstart"),Yc=Os("transitionrun"),eu=Os("transitionstart"),Vc=Os("transitioncancel"),kc=Os("transitionend"),xu=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function vo(Ve,Oe){xu.set(Ve,Oe),xi(Oe,[Ve])}var _u=new WeakMap;function Zs(Ve,Oe){if(typeof Ve=="object"&&Ve!==null){var He=_u.get(Ve);return He!==void 0?He:(Oe={value:Ve,source:Oe,stack:du(Oe)},_u.set(Ve,Oe),Oe)}return{value:Ve,source:Oe,stack:du(Oe)}}var Qs=[],tu=0,ic=0;function Uu(){for(var Ve=tu,Oe=ic=tu=0;Oe<Ve;){var He=Qs[Oe];Qs[Oe++]=null;var Ke=Qs[Oe];Qs[Oe++]=null;var fn=Qs[Oe];Qs[Oe++]=null;var Bn=Qs[Oe];if(Qs[Oe++]=null,Ke!==null&&fn!==null){var Kn=Ke.pending;Kn===null?fn.next=fn:(fn.next=Kn.next,Kn.next=fn),Ke.pending=fn}Bn!==0&&oc(He,fn,Bn)}}function qu(Ve,Oe,He,Ke){Qs[tu++]=Ve,Qs[tu++]=Oe,Qs[tu++]=He,Qs[tu++]=Ke,ic|=Ke,Ve.lanes|=Ke,Ve=Ve.alternate,Ve!==null&&(Ve.lanes|=Ke)}function sc(Ve,Oe,He,Ke){return qu(Ve,Oe,He,Ke),ru(Ve)}function nu(Ve,Oe){return qu(Ve,null,null,Oe),ru(Ve)}function oc(Ve,Oe,He){Ve.lanes|=He;var Ke=Ve.alternate;Ke!==null&&(Ke.lanes|=He);for(var fn=!1,Bn=Ve.return;Bn!==null;)Bn.childLanes|=He,Ke=Bn.alternate,Ke!==null&&(Ke.childLanes|=He),Bn.tag===22&&(Ve=Bn.stateNode,Ve===null||Ve._visibility&1||(fn=!0)),Ve=Bn,Bn=Bn.return;return Ve.tag===3?(Bn=Ve.stateNode,fn&&Oe!==null&&(fn=31-$r(He),Ve=Bn.hiddenUpdates,Ke=Ve[fn],Ke===null?Ve[fn]=[Oe]:Ke.push(Oe),Oe.lane=He|536870912),Bn):null}function ru(Ve){if(50<Of)throw Of=0,gd=null,Error(Be(185));for(var Oe=Ve.return;Oe!==null;)Ve=Oe,Oe=Ve.return;return Ve.tag===3?Ve.stateNode:null}var Yi={};function bo(Ve,Oe,He,Ke){this.tag=Ve,this.key=He,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Oe,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ke,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(Ve,Oe,He,Ke){return new bo(Ve,Oe,He,Ke)}function Ii(Ve){return Ve=Ve.prototype,!(!Ve||!Ve.isReactComponent)}function Us(Ve,Oe){var He=Ve.alternate;return He===null?(He=Ss(Ve.tag,Oe,Ve.key,Ve.mode),He.elementType=Ve.elementType,He.type=Ve.type,He.stateNode=Ve.stateNode,He.alternate=Ve,Ve.alternate=He):(He.pendingProps=Oe,He.type=Ve.type,He.flags=0,He.subtreeFlags=0,He.deletions=null),He.flags=Ve.flags&65011712,He.childLanes=Ve.childLanes,He.lanes=Ve.lanes,He.child=Ve.child,He.memoizedProps=Ve.memoizedProps,He.memoizedState=Ve.memoizedState,He.updateQueue=Ve.updateQueue,Oe=Ve.dependencies,He.dependencies=Oe===null?null:{lanes:Oe.lanes,firstContext:Oe.firstContext},He.sibling=Ve.sibling,He.index=Ve.index,He.ref=Ve.ref,He.refCleanup=Ve.refCleanup,He}function Su(Ve,Oe){Ve.flags&=65011714;var He=Ve.alternate;return He===null?(Ve.childLanes=0,Ve.lanes=Oe,Ve.child=null,Ve.subtreeFlags=0,Ve.memoizedProps=null,Ve.memoizedState=null,Ve.updateQueue=null,Ve.dependencies=null,Ve.stateNode=null):(Ve.childLanes=He.childLanes,Ve.lanes=He.lanes,Ve.child=He.child,Ve.subtreeFlags=0,Ve.deletions=null,Ve.memoizedProps=He.memoizedProps,Ve.memoizedState=He.memoizedState,Ve.updateQueue=He.updateQueue,Ve.type=He.type,Oe=He.dependencies,Ve.dependencies=Oe===null?null:{lanes:Oe.lanes,firstContext:Oe.firstContext}),Ve}function ul(Ve,Oe,He,Ke,fn,Bn){var Kn=0;if(Ke=Ve,typeof Ve=="function")Ii(Ve)&&(Kn=1);else if(typeof Ve=="string")Kn=kg(Ve,He,Nn.current)?26:Ve==="html"||Ve==="head"||Ve==="body"?27:5;else e:switch(Ve){case sn:return Ve=Ss(31,He,Oe,fn),Ve.elementType=sn,Ve.lanes=Bn,Ve;case tn:return Ps(He.children,fn,Bn,Oe);case en:Kn=8,fn|=24;break;case an:return Ve=Ss(12,He,Oe,fn|2),Ve.elementType=an,Ve.lanes=Bn,Ve;case Je:return Ve=Ss(13,He,Oe,fn),Ve.elementType=Je,Ve.lanes=Bn,Ve;case on:return Ve=Ss(19,He,Oe,fn),Ve.elementType=on,Ve.lanes=Bn,Ve;default:if(typeof Ve=="object"&&Ve!==null)switch(Ve.$$typeof){case Ye:case St:Kn=10;break e;case Ze:Kn=9;break e;case Qe:Kn=11;break e;case hn:Kn=14;break e;case dn:Kn=16,Ke=null;break e}Kn=29,He=Error(Be(130,Ve===null?"null":typeof Ve,"")),Ke=null}return Oe=Ss(Kn,He,Oe,fn),Oe.elementType=Ve,Oe.type=Ke,Oe.lanes=Bn,Oe}function Ps(Ve,Oe,He,Ke){return Ve=Ss(7,Ve,Ke,Oe),Ve.lanes=He,Ve}function Vo(Ve,Oe,He){return Ve=Ss(6,Ve,null,Oe),Ve.lanes=He,Ve}function Vs(Ve,Oe,He){return Oe=Ss(4,Ve.children!==null?Ve.children:[],Ve.key,Oe),Oe.lanes=He,Oe.stateNode={containerInfo:Ve.containerInfo,pendingChildren:null,implementation:Ve.implementation},Oe}var wo=[],$o=0,xo=null,$u=0,eo=[],As=0,Ml=null,jo=1,zo="";function Ho(Ve,Oe){wo[$o++]=$u,wo[$o++]=xo,xo=Ve,$u=Oe}function Mc(Ve,Oe,He){eo[As++]=jo,eo[As++]=zo,eo[As++]=Ml,Ml=Ve;var Ke=jo;Ve=zo;var fn=32-$r(Ke)-1;Ke&=~(1<<fn),He+=1;var Bn=32-$r(Oe)+fn;if(30<Bn){var Kn=fn-fn%5;Bn=(Ke&(1<<Kn)-1).toString(32),Ke>>=Kn,fn-=Kn,jo=1<<32-$r(Oe)+fn|He<<fn|Ke,zo=Bn+Ve}else jo=1<<Bn|He<<fn|Ke,zo=Ve}function Pu(Ve){Ve.return!==null&&(Ho(Ve,1),Mc(Ve,1,0))}function ju(Ve){for(;Ve===xo;)xo=wo[--$o],wo[$o]=null,$u=wo[--$o],wo[$o]=null;for(;Ve===Ml;)Ml=eo[--As],eo[As]=null,zo=eo[--As],eo[As]=null,jo=eo[--As],eo[As]=null}var Ki=null,Mi=null,ni=!1,Nl=null,to=!1,Nc=Error(Be(519));function Il(Ve){var Oe=Error(Be(418,""));throw hl(Zs(Oe,Ve)),Nc}function Ic(Ve){var Oe=Ve.stateNode,He=Ve.type,Ke=Ve.memoizedProps;switch(Oe[da]=Ve,Oe[fa]=Ke,He){case"dialog":Ja("cancel",Oe),Ja("close",Oe);break;case"iframe":case"object":case"embed":Ja("load",Oe);break;case"video":case"audio":for(He=0;He<qf.length;He++)Ja(qf[He],Oe);break;case"source":Ja("error",Oe);break;case"img":case"image":case"link":Ja("error",Oe),Ja("load",Oe);break;case"details":Ja("toggle",Oe);break;case"input":Ja("invalid",Oe),Wl(Oe,Ke.value,Ke.defaultValue,Ke.checked,Ke.defaultChecked,Ke.type,Ke.name,!0),co(Oe);break;case"select":Ja("invalid",Oe);break;case"textarea":Ja("invalid",Oe),pu(Oe,Ke.value,Ke.defaultValue,Ke.children),co(Oe)}He=Ke.children,typeof He!="string"&&typeof He!="number"&&typeof He!="bigint"||Oe.textContent===""+He||Ke.suppressHydrationWarning===!0||mm(Oe.textContent,He)?(Ke.popover!=null&&(Ja("beforetoggle",Oe),Ja("toggle",Oe)),Ke.onScroll!=null&&Ja("scroll",Oe),Ke.onScrollEnd!=null&&Ja("scrollend",Oe),Ke.onClick!=null&&(Oe.onclick=Bh),Oe=!0):Oe=!1,Oe||Il(Ve)}function ko(Ve){for(Ki=Ve.return;Ki;)switch(Ki.tag){case 5:case 13:to=!1;return;case 27:case 3:to=!0;return;default:Ki=Ki.return}}function hs(Ve){if(Ve!==Ki)return!1;if(!ni)return ko(Ve),ni=!0,!1;var Oe=Ve.tag,He;if((He=Oe!==3&&Oe!==27)&&((He=Oe===5)&&(He=Ve.type,He=!(He!=="form"&&He!=="button")||kd(Ve.type,Ve.memoizedProps)),He=!He),He&&Mi&&Il(Ve),ko(Ve),Oe===13){if(Ve=Ve.memoizedState,Ve=Ve!==null?Ve.dehydrated:null,!Ve)throw Error(Be(317));e:{for(Ve=Ve.nextSibling,Oe=0;Ve;){if(Ve.nodeType===8)if(He=Ve.data,He==="/$"){if(Oe===0){Mi=fu(Ve.nextSibling);break e}Oe--}else He!=="$"&&He!=="$!"&&He!=="$?"||Oe++;Ve=Ve.nextSibling}Mi=null}}else Oe===27?(Oe=Mi,Ac(Ve.type)?(Ve=Dd,Dd=null,Mi=Ve):Mi=Oe):Mi=Ki?fu(Ve.stateNode.nextSibling):null;return!0}function Es(){Mi=Ki=null,ni=!1}function cl(){var Ve=Nl;return Ve!==null&&(Ko===null?Ko=Ve:Ko.push.apply(Ko,Ve),Nl=null),Ve}function hl(Ve){Nl===null?Nl=[Ve]:Nl.push(Ve)}var Go=Gn(null),ss=null,_o=null;function dl(Ve,Oe,He){$n(Go,Oe._currentValue),Oe._currentValue=He}function Wo(Ve){Ve._currentValue=Go.current,An(Go)}function zu(Ve,Oe,He){for(;Ve!==null;){var Ke=Ve.alternate;if((Ve.childLanes&Oe)!==Oe?(Ve.childLanes|=Oe,Ke!==null&&(Ke.childLanes|=Oe)):Ke!==null&&(Ke.childLanes&Oe)!==Oe&&(Ke.childLanes|=Oe),Ve===He)break;Ve=Ve.return}}function uc(Ve,Oe,He,Ke){var fn=Ve.child;for(fn!==null&&(fn.return=Ve);fn!==null;){var Bn=fn.dependencies;if(Bn!==null){var Kn=fn.child;Bn=Bn.firstContext;e:for(;Bn!==null;){var ar=Bn;Bn=fn;for(var mr=0;mr<Oe.length;mr++)if(ar.context===Oe[mr]){Bn.lanes|=He,ar=Bn.alternate,ar!==null&&(ar.lanes|=He),zu(Bn.return,He,Ve),Ke||(Kn=null);break e}Bn=ar.next}}else if(fn.tag===18){if(Kn=fn.return,Kn===null)throw Error(Be(341));Kn.lanes|=He,Bn=Kn.alternate,Bn!==null&&(Bn.lanes|=He),zu(Kn,He,Ve),Kn=null}else Kn=fn.child;if(Kn!==null)Kn.return=fn;else for(Kn=fn;Kn!==null;){if(Kn===Ve){Kn=null;break}if(fn=Kn.sibling,fn!==null){fn.return=Kn.return,Kn=fn;break}Kn=Kn.return}fn=Kn}}function Au(Ve,Oe,He,Ke){Ve=null;for(var fn=Oe,Bn=!1;fn!==null;){if(!Bn){if((fn.flags&524288)!==0)Bn=!0;else if((fn.flags&262144)!==0)break}if(fn.tag===10){var Kn=fn.alternate;if(Kn===null)throw Error(Be(387));if(Kn=Kn.memoizedProps,Kn!==null){var ar=fn.type;Wi(fn.pendingProps.value,Kn.value)||(Ve!==null?Ve.push(ar):Ve=[ar])}}else if(fn===pn.current){if(Kn=fn.alternate,Kn===null)throw Error(Be(387));Kn.memoizedState.memoizedState!==fn.memoizedState.memoizedState&&(Ve!==null?Ve.push(Wf):Ve=[Wf])}fn=fn.return}Ve!==null&&uc(Oe,Ve,He,Ke),Oe.flags|=262144}function cc(Ve){for(Ve=Ve.firstContext;Ve!==null;){if(!Wi(Ve.context._currentValue,Ve.memoizedValue))return!0;Ve=Ve.next}return!1}function Xo(Ve){ss=Ve,_o=null,Ve=Ve.dependencies,Ve!==null&&(Ve.firstContext=null)}function Ji(Ve){return au(ss,Ve)}function Dl(Ve,Oe){return ss===null&&Xo(Ve),au(Ve,Oe)}function au(Ve,Oe){var He=Oe._currentValue;if(Oe={context:Oe,memoizedValue:He,next:null},_o===null){if(Ve===null)throw Error(Be(308));_o=Oe,Ve.dependencies={lanes:0,firstContext:Oe},Ve.flags|=524288}else _o=_o.next=Oe;return He}var Dc=typeof AbortController<"u"?AbortController:function(){var Ve=[],Oe=this.signal={aborted:!1,addEventListener:function(He,Ke){Ve.push(Ke)}};this.abort=function(){Oe.aborted=!0,Ve.forEach(function(He){return He()})}},iu=Ce.unstable_scheduleCallback,Kc=Ce.unstable_NormalPriority,nn={$$typeof:St,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tn(){return{controller:new Dc,data:new Map,refCount:0}}function Xn(Ve){Ve.refCount--,Ve.refCount===0&&iu(Kc,function(){Ve.controller.abort()})}var or=null,pr=0,xr=0,Lr=null;function ua(Ve,Oe){if(or===null){var He=or=[];pr=0,xr=Sd(),Lr={status:"pending",value:void 0,then:function(Ke){He.push(Ke)}}}return pr++,Oe.then(ba,ba),Oe}function ba(){if(--pr===0&&or!==null){Lr!==null&&(Lr.status="fulfilled");var Ve=or;or=null,xr=0,Lr=null;for(var Oe=0;Oe<Ve.length;Oe++)(0,Ve[Oe])()}}function la(Ve,Oe){var He=[],Ke={status:"pending",value:null,reason:null,then:function(fn){He.push(fn)}};return Ve.then(function(){Ke.status="fulfilled",Ke.value=Oe;for(var fn=0;fn<He.length;fn++)(0,He[fn])(Oe)},function(fn){for(Ke.status="rejected",Ke.reason=fn,fn=0;fn<He.length;fn++)(0,He[fn])(void 0)}),Ke}var rn=Ln.S;Ln.S=function(Ve,Oe){typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&ua(Ve,Oe),rn!==null&&rn(Ve,Oe)};var gn=Gn(null);function Fn(){var Ve=gn.current;return Ve!==null?Ve:Ni.pooledCache}function Wn(Ve,Oe){Oe===null?$n(gn,gn.current):$n(gn,Oe.pool)}function Zn(){var Ve=Fn();return Ve===null?null:{parent:nn._currentValue,pool:Ve}}var tr=Error(Be(460)),nr=Error(Be(474)),rr=Error(Be(542)),sr={then:function(){}};function lr(Ve){return Ve=Ve.status,Ve==="fulfilled"||Ve==="rejected"}function _r(){}function Cr(Ve,Oe,He){switch(He=Ve[He],He===void 0?Ve.push(Oe):He!==Oe&&(Oe.then(_r,_r),Oe=He),Oe.status){case"fulfilled":return Oe.value;case"rejected":throw Ve=Oe.reason,Ar(Ve),Ve;default:if(typeof Oe.status=="string")Oe.then(_r,_r);else{if(Ve=Ni,Ve!==null&&100<Ve.shellSuspendCounter)throw Error(Be(482));Ve=Oe,Ve.status="pending",Ve.then(function(Ke){if(Oe.status==="pending"){var fn=Oe;fn.status="fulfilled",fn.value=Ke}},function(Ke){if(Oe.status==="pending"){var fn=Oe;fn.status="rejected",fn.reason=Ke}})}switch(Oe.status){case"fulfilled":return Oe.value;case"rejected":throw Ve=Oe.reason,Ar(Ve),Ve}throw ir=Oe,tr}}var ir=null;function vr(){if(ir===null)throw Error(Be(459));var Ve=ir;return ir=null,Ve}function Ar(Ve){if(Ve===tr||Ve===rr)throw Error(Be(483))}var qr=!1;function kr(Ve){Ve.updateQueue={baseState:Ve.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zr(Ve,Oe){Ve=Ve.updateQueue,Oe.updateQueue===Ve&&(Oe.updateQueue={baseState:Ve.baseState,firstBaseUpdate:Ve.firstBaseUpdate,lastBaseUpdate:Ve.lastBaseUpdate,shared:Ve.shared,callbacks:null})}function Hr(Ve){return{lane:Ve,tag:0,payload:null,callback:null,next:null}}function ra(Ve,Oe,He){var Ke=Ve.updateQueue;if(Ke===null)return null;if(Ke=Ke.shared,(vi&2)!==0){var fn=Ke.pending;return fn===null?Oe.next=Oe:(Oe.next=fn.next,fn.next=Oe),Ke.pending=Oe,Oe=ru(Ve),oc(Ve,null,He),Oe}return qu(Ve,Ke,Oe,He),ru(Ve)}function Zr(Ve,Oe,He){if(Oe=Oe.updateQueue,Oe!==null&&(Oe=Oe.shared,(He&4194048)!==0)){var Ke=Oe.lanes;Ke&=Ve.pendingLanes,He|=Ke,Oe.lanes=He,Tr(Ve,He)}}function Aa(Ve,Oe){var He=Ve.updateQueue,Ke=Ve.alternate;if(Ke!==null&&(Ke=Ke.updateQueue,He===Ke)){var fn=null,Bn=null;if(He=He.firstBaseUpdate,He!==null){do{var Kn={lane:He.lane,tag:He.tag,payload:He.payload,callback:null,next:null};Bn===null?fn=Bn=Kn:Bn=Bn.next=Kn,He=He.next}while(He!==null);Bn===null?fn=Bn=Oe:Bn=Bn.next=Oe}else fn=Bn=Oe;He={baseState:Ke.baseState,firstBaseUpdate:fn,lastBaseUpdate:Bn,shared:Ke.shared,callbacks:Ke.callbacks},Ve.updateQueue=He;return}Ve=He.lastBaseUpdate,Ve===null?He.firstBaseUpdate=Oe:Ve.next=Oe,He.lastBaseUpdate=Oe}var pa=!1;function Fa(){if(pa){var Ve=Lr;if(Ve!==null)throw Ve}}function ya(Ve,Oe,He,Ke){pa=!1;var fn=Ve.updateQueue;qr=!1;var Bn=fn.firstBaseUpdate,Kn=fn.lastBaseUpdate,ar=fn.shared.pending;if(ar!==null){fn.shared.pending=null;var mr=ar,Ir=mr.next;mr.next=null,Kn===null?Bn=Ir:Kn.next=Ir,Kn=mr;var Yr=Ve.alternate;Yr!==null&&(Yr=Yr.updateQueue,ar=Yr.lastBaseUpdate,ar!==Kn&&(ar===null?Yr.firstBaseUpdate=Ir:ar.next=Ir,Yr.lastBaseUpdate=mr))}if(Bn!==null){var ta=fn.baseState;Kn=0,Yr=Ir=mr=null,ar=Bn;do{var Fr=ar.lane&-536870913,Or=Fr!==ar.lane;if(Or?(oi&Fr)===Fr:(Ke&Fr)===Fr){Fr!==0&&Fr===xr&&(pa=!0),Yr!==null&&(Yr=Yr.next={lane:0,tag:ar.tag,payload:ar.payload,callback:null,next:null});e:{var La=Ve,Va=ar;Fr=Oe;var Ai=He;switch(Va.tag){case 1:if(La=Va.payload,typeof La=="function"){ta=La.call(Ai,ta,Fr);break e}ta=La;break e;case 3:La.flags=La.flags&-65537|128;case 0:if(La=Va.payload,Fr=typeof La=="function"?La.call(Ai,ta,Fr):La,Fr==null)break e;ta=ze({},ta,Fr);break e;case 2:qr=!0}}Fr=ar.callback,Fr!==null&&(Ve.flags|=64,Or&&(Ve.flags|=8192),Or=fn.callbacks,Or===null?fn.callbacks=[Fr]:Or.push(Fr))}else Or={lane:Fr,tag:ar.tag,payload:ar.payload,callback:ar.callback,next:null},Yr===null?(Ir=Yr=Or,mr=ta):Yr=Yr.next=Or,Kn|=Fr;if(ar=ar.next,ar===null){if(ar=fn.shared.pending,ar===null)break;Or=ar,ar=Or.next,Or.next=null,fn.lastBaseUpdate=Or,fn.shared.pending=null}}while(!0);Yr===null&&(mr=ta),fn.baseState=mr,fn.firstBaseUpdate=Ir,fn.lastBaseUpdate=Yr,Bn===null&&(fn.shared.lanes=0),xc|=Kn,Ve.lanes=Kn,Ve.memoizedState=ta}}function Xa(Ve,Oe){if(typeof Ve!="function")throw Error(Be(191,Ve));Ve.call(Oe)}function os(Ve,Oe){var He=Ve.callbacks;if(He!==null)for(Ve.callbacks=null,Ve=0;Ve<He.length;Ve++)Xa(He[Ve],Oe)}var Da=Gn(null),va=Gn(0);function ha(Ve,Oe){Ve=Zu,$n(va,Ve),$n(Da,Oe),Zu=Ve|Oe.baseLanes}function Di(){$n(va,Zu),$n(Da,Da.current)}function Oa(){Zu=va.current,An(Da),An(va)}var za=0,wa=null,$a=null,Za=null,Ci=!1,Zi=!1,Qi=!1,Fi=0,Wa=0,Qa=null,Oi=0;function Ra(){throw Error(Be(321))}function ds(Ve,Oe){if(Oe===null)return!1;for(var He=0;He<Oe.length&&He<Ve.length;He++)if(!Wi(Ve[He],Oe[He]))return!1;return!0}function Mo(Ve,Oe,He,Ke,fn,Bn){return za=Bn,wa=Oe,Oe.memoizedState=null,Oe.updateQueue=null,Oe.lanes=0,Ln.H=Ve===null||Ve.memoizedState===null?Yd:Kd,Qi=!1,Bn=He(Ke,fn),Qi=!1,Zi&&(Bn=no(Oe,He,Ke,fn)),Ui(Ve),Bn}function Ui(Ve){Ln.H=uh;var Oe=$a!==null&&$a.next!==null;if(za=0,Za=$a=wa=null,Ci=!1,Wa=0,Qa=null,Oe)throw Error(Be(300));Ve===null||$s||(Ve=Ve.dependencies,Ve!==null&&cc(Ve)&&($s=!0))}function no(Ve,Oe,He,Ke){wa=Ve;var fn=0;do{if(Zi&&(Qa=null),Wa=0,Zi=!1,25<=fn)throw Error(Be(301));if(fn+=1,Za=$a=null,Ve.updateQueue!=null){var Bn=Ve.updateQueue;Bn.lastEffect=null,Bn.events=null,Bn.stores=null,Bn.memoCache!=null&&(Bn.memoCache.index=0)}Ln.H=jm,Bn=Oe(He,Ke)}while(Zi);return Bn}function yi(){var Ve=Ln.H,Oe=Ve.useState()[0];return Oe=typeof Oe.then=="function"?Ms(Oe):Oe,Ve=Ve.useState()[0],($a!==null?$a.memoizedState:null)!==Ve&&(wa.flags|=1024),Oe}function es(){var Ve=Fi!==0;return Fi=0,Ve}function ro(Ve,Oe,He){Oe.updateQueue=Ve.updateQueue,Oe.flags&=-2053,Ve.lanes&=~He}function ks(Ve){if(Ci){for(Ve=Ve.memoizedState;Ve!==null;){var Oe=Ve.queue;Oe!==null&&(Oe.pending=null),Ve=Ve.next}Ci=!1}za=0,Za=$a=wa=null,Zi=!1,Wa=Fi=0,Qa=null}function Si(){var Ve={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Za===null?wa.memoizedState=Za=Ve:Za=Za.next=Ve,Za}function si(){if($a===null){var Ve=wa.alternate;Ve=Ve!==null?Ve.memoizedState:null}else Ve=$a.next;var Oe=Za===null?wa.memoizedState:Za.next;if(Oe!==null)Za=Oe,$a=Ve;else{if(Ve===null)throw wa.alternate===null?Error(Be(467)):Error(Be(310));$a=Ve,Ve={memoizedState:$a.memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},Za===null?wa.memoizedState=Za=Ve:Za=Za.next=Ve}return Za}function qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ms(Ve){var Oe=Wa;return Wa+=1,Qa===null&&(Qa=[]),Ve=Cr(Qa,Ve,Oe),Oe=wa,(Za===null?Oe.memoizedState:Za.next)===null&&(Oe=Oe.alternate,Ln.H=Oe===null||Oe.memoizedState===null?Yd:Kd),Ve}function di(Ve){if(Ve!==null&&typeof Ve=="object"){if(typeof Ve.then=="function")return Ms(Ve);if(Ve.$$typeof===St)return Ji(Ve)}throw Error(Be(438,String(Ve)))}function ao(Ve){var Oe=null,He=wa.updateQueue;if(He!==null&&(Oe=He.memoCache),Oe==null){var Ke=wa.alternate;Ke!==null&&(Ke=Ke.updateQueue,Ke!==null&&(Ke=Ke.memoCache,Ke!=null&&(Oe={data:Ke.data.map(function(fn){return fn.slice()}),index:0})))}if(Oe==null&&(Oe={data:[],index:0}),He===null&&(He=qs(),wa.updateQueue=He),He.memoCache=Oe,He=Oe.data[Oe.index],He===void 0)for(He=Oe.data[Oe.index]=Array(Ve),Ke=0;Ke<Ve;Ke++)He[Ke]=kn;return Oe.index++,He}function ps(Ve,Oe){return typeof Oe=="function"?Oe(Ve):Oe}function Ll(Ve){var Oe=si();return pl(Oe,$a,Ve)}function pl(Ve,Oe,He){var Ke=Ve.queue;if(Ke===null)throw Error(Be(311));Ke.lastRenderedReducer=He;var fn=Ve.baseQueue,Bn=Ke.pending;if(Bn!==null){if(fn!==null){var Kn=fn.next;fn.next=Bn.next,Bn.next=Kn}Oe.baseQueue=fn=Bn,Ke.pending=null}if(Bn=Ve.baseState,fn===null)Ve.memoizedState=Bn;else{Oe=fn.next;var ar=Kn=null,mr=null,Ir=Oe,Yr=!1;do{var ta=Ir.lane&-536870913;if(ta!==Ir.lane?(oi&ta)===ta:(za&ta)===ta){var Fr=Ir.revertLane;if(Fr===0)mr!==null&&(mr=mr.next={lane:0,revertLane:0,action:Ir.action,hasEagerState:Ir.hasEagerState,eagerState:Ir.eagerState,next:null}),ta===xr&&(Yr=!0);else if((za&Fr)===Fr){Ir=Ir.next,Fr===xr&&(Yr=!0);continue}else ta={lane:0,revertLane:Ir.revertLane,action:Ir.action,hasEagerState:Ir.hasEagerState,eagerState:Ir.eagerState,next:null},mr===null?(ar=mr=ta,Kn=Bn):mr=mr.next=ta,wa.lanes|=Fr,xc|=Fr;ta=Ir.action,Qi&&He(Bn,ta),Bn=Ir.hasEagerState?Ir.eagerState:He(Bn,ta)}else Fr={lane:ta,revertLane:Ir.revertLane,action:Ir.action,hasEagerState:Ir.hasEagerState,eagerState:Ir.eagerState,next:null},mr===null?(ar=mr=Fr,Kn=Bn):mr=mr.next=Fr,wa.lanes|=ta,xc|=ta;Ir=Ir.next}while(Ir!==null&&Ir!==Oe);if(mr===null?Kn=Bn:mr.next=ar,!Wi(Bn,Ve.memoizedState)&&($s=!0,Yr&&(He=Lr,He!==null)))throw He;Ve.memoizedState=Bn,Ve.baseState=Kn,Ve.baseQueue=mr,Ke.lastRenderedState=Bn}return fn===null&&(Ke.lanes=0),[Ve.memoizedState,Ke.dispatch]}function ms(Ve){var Oe=si(),He=Oe.queue;if(He===null)throw Error(Be(311));He.lastRenderedReducer=Ve;var Ke=He.dispatch,fn=He.pending,Bn=Oe.memoizedState;if(fn!==null){He.pending=null;var Kn=fn=fn.next;do Bn=Ve(Bn,Kn.action),Kn=Kn.next;while(Kn!==fn);Wi(Bn,Oe.memoizedState)||($s=!0),Oe.memoizedState=Bn,Oe.baseQueue===null&&(Oe.baseState=Bn),He.lastRenderedState=Bn}return[Bn,Ke]}function Lc(Ve,Oe,He){var Ke=wa,fn=si(),Bn=ni;if(Bn){if(He===void 0)throw Error(Be(407));He=He()}else He=Oe();var Kn=!Wi(($a||fn).memoizedState,He);Kn&&(fn.memoizedState=He,$s=!0),fn=fn.queue;var ar=fc.bind(null,Ke,fn,Ve);if(pc(2048,8,ar,[Ve]),fn.getSnapshot!==Oe||Kn||Za!==null&&Za.memoizedState.tag&1){if(Ke.flags|=2048,ou(9,qc(),Fc.bind(null,Ke,fn,He,Oe),null),Ni===null)throw Error(Be(349));Bn||(za&124)!==0||Jc(Ke,Oe,He)}return He}function Jc(Ve,Oe,He){Ve.flags|=16384,Ve={getSnapshot:Oe,value:He},Oe=wa.updateQueue,Oe===null?(Oe=qs(),wa.updateQueue=Oe,Oe.stores=[Ve]):(He=Oe.stores,He===null?Oe.stores=[Ve]:He.push(Ve))}function Fc(Ve,Oe,He,Ke){Oe.value=He,Oe.getSnapshot=Ke,Zf(Oe)&&Qf(Ve)}function fc(Ve,Oe,He){return He(function(){Zf(Oe)&&Qf(Ve)})}function Zf(Ve){var Oe=Ve.getSnapshot;Ve=Ve.value;try{var He=Oe();return!Wi(Ve,He)}catch{return!0}}function Qf(Ve){var Oe=nu(Ve,2);Oe!==null&&wl(Oe,Ve,2)}function Oc(Ve){var Oe=Si();if(typeof Ve=="function"){var He=Ve;if(Ve=He(),Qi){Gr(!0);try{He()}finally{Gr(!1)}}}return Oe.memoizedState=Oe.baseState=Ve,Oe.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:Ve},Oe}function su(Ve,Oe,He,Ke){return Ve.baseState=He,pl(Ve,$a,typeof Ke=="function"?Ke:ps)}function jh(Ve,Oe,He,Ke,fn){if(lh(Ve))throw Error(Be(485));if(Ve=Oe.action,Ve!==null){var Bn={payload:fn,action:Ve,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Kn){Bn.listeners.push(Kn)}};Ln.T!==null?He(!0):Bn.isTransition=!1,Ke(Bn),He=Oe.pending,He===null?(Bn.next=Oe.pending=Bn,eh(Oe,Bn)):(Bn.next=He.next,Oe.pending=He.next=Bn)}}function eh(Ve,Oe){var He=Oe.action,Ke=Oe.payload,fn=Ve.state;if(Oe.isTransition){var Bn=Ln.T,Kn={};Ln.T=Kn;try{var ar=He(fn,Ke),mr=Ln.S;mr!==null&&mr(Kn,ar),th(Ve,Oe,ar)}catch(Ir){hc(Ve,Oe,Ir)}finally{Ln.T=Bn}}else try{Bn=He(fn,Ke),th(Ve,Oe,Bn)}catch(Ir){hc(Ve,Oe,Ir)}}function th(Ve,Oe,He){He!==null&&typeof He=="object"&&typeof He.then=="function"?He.then(function(Ke){vf(Ve,Oe,Ke)},function(Ke){return hc(Ve,Oe,Ke)}):vf(Ve,Oe,He)}function vf(Ve,Oe,He){Oe.status="fulfilled",Oe.value=He,bf(Oe),Ve.state=He,Oe=Ve.pending,Oe!==null&&(He=Oe.next,He===Oe?Ve.pending=null:(He=He.next,Oe.next=He,eh(Ve,He)))}function hc(Ve,Oe,He){var Ke=Ve.pending;if(Ve.pending=null,Ke!==null){Ke=Ke.next;do Oe.status="rejected",Oe.reason=He,bf(Oe),Oe=Oe.next;while(Oe!==Ke)}Ve.action=null}function bf(Ve){Ve=Ve.listeners;for(var Oe=0;Oe<Ve.length;Oe++)(0,Ve[Oe])()}function wf(Ve,Oe){return Oe}function Uc(Ve,Oe){if(ni){var He=Ni.formState;if(He!==null){e:{var Ke=wa;if(ni){if(Mi){t:{for(var fn=Mi,Bn=to;fn.nodeType!==8;){if(!Bn){fn=null;break t}if(fn=fu(fn.nextSibling),fn===null){fn=null;break t}}Bn=fn.data,fn=Bn==="F!"||Bn==="F"?fn:null}if(fn){Mi=fu(fn.nextSibling),Ke=fn.data==="F!";break e}}Il(Ke)}Ke=!1}Ke&&(Oe=He[0])}}return He=Si(),He.memoizedState=He.baseState=Oe,Ke={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:Oe},He.queue=Ke,He=Gd.bind(null,wa,Ke),Ke.dispatch=He,Ke=Oc(!1),Bn=zh.bind(null,wa,!1,Ke.queue),Ke=Si(),fn={state:Oe,dispatch:null,action:Ve,pending:null},Ke.queue=fn,He=jh.bind(null,wa,fn,Bn,He),fn.dispatch=He,Ke.memoizedState=Ve,[Oe,He,!1]}function Zc(Ve){var Oe=si();return dc(Oe,$a,Ve)}function dc(Ve,Oe,He){if(Oe=pl(Ve,Oe,wf)[0],Ve=Ll(ps)[0],typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function")try{var Ke=Ms(Oe)}catch(Kn){throw Kn===tr?rr:Kn}else Ke=Oe;Oe=si();var fn=Oe.queue,Bn=fn.dispatch;return He!==Oe.memoizedState&&(wa.flags|=2048,ou(9,qc(),nh.bind(null,fn,He),null)),[Ke,Bn,Ve]}function nh(Ve,Oe){Ve.action=Oe}function rh(Ve){var Oe=si(),He=$a;if(He!==null)return dc(Oe,He,Ve);si(),Oe=Oe.memoizedState,He=si();var Ke=He.queue.dispatch;return He.memoizedState=Ve,[Oe,Ke,!1]}function ou(Ve,Oe,He,Ke){return Ve={tag:Ve,create:He,deps:Ke,inst:Oe,next:null},Oe=wa.updateQueue,Oe===null&&(Oe=qs(),wa.updateQueue=Oe),He=Oe.lastEffect,He===null?Oe.lastEffect=Ve.next=Ve:(Ke=He.next,He.next=Ve,Ve.next=Ke,Oe.lastEffect=Ve),Ve}function qc(){return{destroy:void 0,resource:void 0}}function Qc(){return si().memoizedState}function ml(Ve,Oe,He,Ke){var fn=Si();Ke=Ke===void 0?null:Ke,wa.flags|=Ve,fn.memoizedState=ou(1|Oe,qc(),He,Ke)}function pc(Ve,Oe,He,Ke){var fn=si();Ke=Ke===void 0?null:Ke;var Bn=fn.memoizedState.inst;$a!==null&&Ke!==null&&ds(Ke,$a.memoizedState.deps)?fn.memoizedState=ou(Oe,Bn,He,Ke):(wa.flags|=Ve,fn.memoizedState=ou(1|Oe,Bn,He,Ke))}function xf(Ve,Oe){ml(8390656,8,Ve,Oe)}function ah(Ve,Oe){pc(2048,8,Ve,Oe)}function _f(Ve,Oe){return pc(4,2,Ve,Oe)}function Hu(Ve,Oe){return pc(4,4,Ve,Oe)}function ih(Ve,Oe){if(typeof Oe=="function"){Ve=Ve();var He=Oe(Ve);return function(){typeof He=="function"?He():Oe(null)}}if(Oe!=null)return Ve=Ve(),Oe.current=Ve,function(){Oe.current=null}}function Sf(Ve,Oe,He){He=He!=null?He.concat([Ve]):null,pc(4,4,ih.bind(null,Oe,Ve),He)}function Pf(){}function Af(Ve,Oe){var He=si();Oe=Oe===void 0?null:Oe;var Ke=He.memoizedState;return Oe!==null&&ds(Oe,Ke[1])?Ke[0]:(He.memoizedState=[Ve,Oe],Ve)}function sh(Ve,Oe){var He=si();Oe=Oe===void 0?null:Oe;var Ke=He.memoizedState;if(Oe!==null&&ds(Oe,Ke[1]))return Ke[0];if(Ke=Ve(),Qi){Gr(!0);try{Ve()}finally{Gr(!1)}}return He.memoizedState=[Ke,Oe],Ke}function Gu(Ve,Oe,He){return He===void 0||(za&1073741824)!==0?Ve.memoizedState=Oe:(Ve.memoizedState=He,Ve=$p(),wa.lanes|=Ve,xc|=Ve,He)}function ef(Ve,Oe,He,Ke){return Wi(He,Oe)?He:Da.current!==null?(Ve=Gu(Ve,He,Ke),Wi(Ve,Oe)||($s=!0),Ve):(za&42)===0?($s=!0,Ve.memoizedState=He):(Ve=$p(),wa.lanes|=Ve,xc|=Ve,Oe)}function $c(Ve,Oe,He,Ke,fn){var Bn=Vn.p;Vn.p=Bn!==0&&8>Bn?Bn:8;var Kn=Ln.T,ar={};Ln.T=ar,zh(Ve,!1,Oe,He);try{var mr=fn(),Ir=Ln.S;if(Ir!==null&&Ir(ar,mr),mr!==null&&typeof mr=="object"&&typeof mr.then=="function"){var Yr=la(mr,Ke);Bf(Ve,Oe,Yr,bl(Ve))}else Bf(Ve,Oe,Ke,bl(Ve))}catch(ta){Bf(Ve,Oe,{then:function(){},status:"rejected",reason:ta},bl())}finally{Vn.p=Bn,Ln.T=Kn}}function lu(){}function Fl(Ve,Oe,He,Ke){if(Ve.tag!==5)throw Error(Be(476));var fn=uu(Ve).queue;$c(Ve,fn,Oe,On,He===null?lu:function(){return jc(Ve),He(Ke)})}function uu(Ve){var Oe=Ve.memoizedState;if(Oe!==null)return Oe;Oe={memoizedState:On,baseState:On,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:On},next:null};var He={};return Oe.next={memoizedState:He,baseState:He,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:He},next:null},Ve.memoizedState=Oe,Ve=Ve.alternate,Ve!==null&&(Ve.memoizedState=Oe),Oe}function jc(Ve){var Oe=uu(Ve).next.queue;Bf(Ve,Oe,{},bl())}function zc(){return Ji(Wf)}function Ef(){return si().memoizedState}function oh(){return si().memoizedState}function Tf(Ve){for(var Oe=Ve.return;Oe!==null;){switch(Oe.tag){case 24:case 3:var He=bl();Ve=Hr(He);var Ke=ra(Oe,Ve,He);Ke!==null&&(wl(Ke,Oe,He),Zr(Ke,Oe,He)),Oe={cache:Tn()},Ve.payload=Oe;return}Oe=Oe.return}}function Cf(Ve,Oe,He){var Ke=bl();He={lane:Ke,revertLane:0,action:He,hasEagerState:!1,eagerState:null,next:null},lh(Ve)?Wd(Oe,He):(He=sc(Ve,Oe,He,Ke),He!==null&&(wl(He,Ve,Ke),Xd(He,Oe,Ke)))}function Gd(Ve,Oe,He){var Ke=bl();Bf(Ve,Oe,He,Ke)}function Bf(Ve,Oe,He,Ke){var fn={lane:Ke,revertLane:0,action:He,hasEagerState:!1,eagerState:null,next:null};if(lh(Ve))Wd(Oe,fn);else{var Bn=Ve.alternate;if(Ve.lanes===0&&(Bn===null||Bn.lanes===0)&&(Bn=Oe.lastRenderedReducer,Bn!==null))try{var Kn=Oe.lastRenderedState,ar=Bn(Kn,He);if(fn.hasEagerState=!0,fn.eagerState=ar,Wi(ar,Kn))return qu(Ve,Oe,fn,0),Ni===null&&Uu(),!1}catch{}finally{}if(He=sc(Ve,Oe,fn,Ke),He!==null)return wl(He,Ve,Ke),Xd(He,Oe,Ke),!0}return!1}function zh(Ve,Oe,He,Ke){if(Ke={lane:2,revertLane:Sd(),action:Ke,hasEagerState:!1,eagerState:null,next:null},lh(Ve)){if(Oe)throw Error(Be(479))}else Oe=sc(Ve,He,Ke,2),Oe!==null&&wl(Oe,Ve,2)}function lh(Ve){var Oe=Ve.alternate;return Ve===wa||Oe!==null&&Oe===wa}function Wd(Ve,Oe){Zi=Ci=!0;var He=Ve.pending;He===null?Oe.next=Oe:(Oe.next=He.next,He.next=Oe),Ve.pending=Oe}function Xd(Ve,Oe,He){if((He&4194048)!==0){var Ke=Oe.lanes;Ke&=Ve.pendingLanes,He|=Ke,Oe.lanes=He,Tr(Ve,He)}}var uh={readContext:Ji,use:di,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useLayoutEffect:Ra,useInsertionEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useSyncExternalStore:Ra,useId:Ra,useHostTransitionStatus:Ra,useFormState:Ra,useActionState:Ra,useOptimistic:Ra,useMemoCache:Ra,useCacheRefresh:Ra},Yd={readContext:Ji,use:di,useCallback:function(Ve,Oe){return Si().memoizedState=[Ve,Oe===void 0?null:Oe],Ve},useContext:Ji,useEffect:xf,useImperativeHandle:function(Ve,Oe,He){He=He!=null?He.concat([Ve]):null,ml(4194308,4,ih.bind(null,Oe,Ve),He)},useLayoutEffect:function(Ve,Oe){return ml(4194308,4,Ve,Oe)},useInsertionEffect:function(Ve,Oe){ml(4,2,Ve,Oe)},useMemo:function(Ve,Oe){var He=Si();Oe=Oe===void 0?null:Oe;var Ke=Ve();if(Qi){Gr(!0);try{Ve()}finally{Gr(!1)}}return He.memoizedState=[Ke,Oe],Ke},useReducer:function(Ve,Oe,He){var Ke=Si();if(He!==void 0){var fn=He(Oe);if(Qi){Gr(!0);try{He(Oe)}finally{Gr(!1)}}}else fn=Oe;return Ke.memoizedState=Ke.baseState=fn,Ve={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ve,lastRenderedState:fn},Ke.queue=Ve,Ve=Ve.dispatch=Cf.bind(null,wa,Ve),[Ke.memoizedState,Ve]},useRef:function(Ve){var Oe=Si();return Ve={current:Ve},Oe.memoizedState=Ve},useState:function(Ve){Ve=Oc(Ve);var Oe=Ve.queue,He=Gd.bind(null,wa,Oe);return Oe.dispatch=He,[Ve.memoizedState,He]},useDebugValue:Pf,useDeferredValue:function(Ve,Oe){var He=Si();return Gu(He,Ve,Oe)},useTransition:function(){var Ve=Oc(!1);return Ve=$c.bind(null,wa,Ve.queue,!0,!1),Si().memoizedState=Ve,[!1,Ve]},useSyncExternalStore:function(Ve,Oe,He){var Ke=wa,fn=Si();if(ni){if(He===void 0)throw Error(Be(407));He=He()}else{if(He=Oe(),Ni===null)throw Error(Be(349));(oi&124)!==0||Jc(Ke,Oe,He)}fn.memoizedState=He;var Bn={value:He,getSnapshot:Oe};return fn.queue=Bn,xf(fc.bind(null,Ke,Bn,Ve),[Ve]),Ke.flags|=2048,ou(9,qc(),Fc.bind(null,Ke,Bn,He,Oe),null),He},useId:function(){var Ve=Si(),Oe=Ni.identifierPrefix;if(ni){var He=zo,Ke=jo;He=(Ke&~(1<<32-$r(Ke)-1)).toString(32)+He,Oe="«"+Oe+"R"+He,He=Fi++,0<He&&(Oe+="H"+He.toString(32)),Oe+="»"}else He=Oi++,Oe="«"+Oe+"r"+He.toString(32)+"»";return Ve.memoizedState=Oe},useHostTransitionStatus:zc,useFormState:Uc,useActionState:Uc,useOptimistic:function(Ve){var Oe=Si();Oe.memoizedState=Oe.baseState=Ve;var He={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Oe.queue=He,Oe=zh.bind(null,wa,!0,He),He.dispatch=Oe,[Ve,Oe]},useMemoCache:ao,useCacheRefresh:function(){return Si().memoizedState=Tf.bind(null,wa)}},Kd={readContext:Ji,use:di,useCallback:Af,useContext:Ji,useEffect:ah,useImperativeHandle:Sf,useInsertionEffect:_f,useLayoutEffect:Hu,useMemo:sh,useReducer:Ll,useRef:Qc,useState:function(){return Ll(ps)},useDebugValue:Pf,useDeferredValue:function(Ve,Oe){var He=si();return ef(He,$a.memoizedState,Ve,Oe)},useTransition:function(){var Ve=Ll(ps)[0],Oe=si().memoizedState;return[typeof Ve=="boolean"?Ve:Ms(Ve),Oe]},useSyncExternalStore:Lc,useId:Ef,useHostTransitionStatus:zc,useFormState:Zc,useActionState:Zc,useOptimistic:function(Ve,Oe){var He=si();return su(He,$a,Ve,Oe)},useMemoCache:ao,useCacheRefresh:oh},jm={readContext:Ji,use:di,useCallback:Af,useContext:Ji,useEffect:ah,useImperativeHandle:Sf,useInsertionEffect:_f,useLayoutEffect:Hu,useMemo:sh,useReducer:ms,useRef:Qc,useState:function(){return ms(ps)},useDebugValue:Pf,useDeferredValue:function(Ve,Oe){var He=si();return $a===null?Gu(He,Ve,Oe):ef(He,$a.memoizedState,Ve,Oe)},useTransition:function(){var Ve=ms(ps)[0],Oe=si().memoizedState;return[typeof Ve=="boolean"?Ve:Ms(Ve),Oe]},useSyncExternalStore:Lc,useId:Ef,useHostTransitionStatus:zc,useFormState:rh,useActionState:rh,useOptimistic:function(Ve,Oe){var He=si();return $a!==null?su(He,$a,Ve,Oe):(He.baseState=Ve,[Ve,He.queue.dispatch])},useMemoCache:ao,useCacheRefresh:oh},tf=null,Rf=0;function ch(Ve){var Oe=Rf;return Rf+=1,tf===null&&(tf=[]),Cr(tf,Ve,Oe)}function Vf(Ve,Oe){Oe=Oe.props.ref,Ve.ref=Oe!==void 0?Oe:null}function fh(Ve,Oe){throw Oe.$$typeof===Xe?Error(Be(525)):(Ve=Object.prototype.toString.call(Oe),Error(Be(31,Ve==="[object Object]"?"object with keys {"+Object.keys(Oe).join(", ")+"}":Ve)))}function Jd(Ve){var Oe=Ve._init;return Oe(Ve._payload)}function Zd(Ve){function Oe(Vr,Sr){if(Ve){var Nr=Vr.deletions;Nr===null?(Vr.deletions=[Sr],Vr.flags|=16):Nr.push(Sr)}}function He(Vr,Sr){if(!Ve)return null;for(;Sr!==null;)Oe(Vr,Sr),Sr=Sr.sibling;return null}function Ke(Vr){for(var Sr=new Map;Vr!==null;)Vr.key!==null?Sr.set(Vr.key,Vr):Sr.set(Vr.index,Vr),Vr=Vr.sibling;return Sr}function fn(Vr,Sr){return Vr=Us(Vr,Sr),Vr.index=0,Vr.sibling=null,Vr}function Bn(Vr,Sr,Nr){return Vr.index=Nr,Ve?(Nr=Vr.alternate,Nr!==null?(Nr=Nr.index,Nr<Sr?(Vr.flags|=67108866,Sr):Nr):(Vr.flags|=67108866,Sr)):(Vr.flags|=1048576,Sr)}function Kn(Vr){return Ve&&Vr.alternate===null&&(Vr.flags|=67108866),Vr}function ar(Vr,Sr,Nr,Jr){return Sr===null||Sr.tag!==6?(Sr=Vo(Nr,Vr.mode,Jr),Sr.return=Vr,Sr):(Sr=fn(Sr,Nr),Sr.return=Vr,Sr)}function mr(Vr,Sr,Nr,Jr){var xa=Nr.type;return xa===tn?Yr(Vr,Sr,Nr.props.children,Jr,Nr.key):Sr!==null&&(Sr.elementType===xa||typeof xa=="object"&&xa!==null&&xa.$$typeof===dn&&Jd(xa)===Sr.type)?(Sr=fn(Sr,Nr.props),Vf(Sr,Nr),Sr.return=Vr,Sr):(Sr=ul(Nr.type,Nr.key,Nr.props,null,Vr.mode,Jr),Vf(Sr,Nr),Sr.return=Vr,Sr)}function Ir(Vr,Sr,Nr,Jr){return Sr===null||Sr.tag!==4||Sr.stateNode.containerInfo!==Nr.containerInfo||Sr.stateNode.implementation!==Nr.implementation?(Sr=Vs(Nr,Vr.mode,Jr),Sr.return=Vr,Sr):(Sr=fn(Sr,Nr.children||[]),Sr.return=Vr,Sr)}function Yr(Vr,Sr,Nr,Jr,xa){return Sr===null||Sr.tag!==7?(Sr=Ps(Nr,Vr.mode,Jr,xa),Sr.return=Vr,Sr):(Sr=fn(Sr,Nr),Sr.return=Vr,Sr)}function ta(Vr,Sr,Nr){if(typeof Sr=="string"&&Sr!==""||typeof Sr=="number"||typeof Sr=="bigint")return Sr=Vo(""+Sr,Vr.mode,Nr),Sr.return=Vr,Sr;if(typeof Sr=="object"&&Sr!==null){switch(Sr.$$typeof){case We:return Nr=ul(Sr.type,Sr.key,Sr.props,null,Vr.mode,Nr),Vf(Nr,Sr),Nr.return=Vr,Nr;case Ge:return Sr=Vs(Sr,Vr.mode,Nr),Sr.return=Vr,Sr;case dn:var Jr=Sr._init;return Sr=Jr(Sr._payload),ta(Vr,Sr,Nr)}if(zn(Sr)||_n(Sr))return Sr=Ps(Sr,Vr.mode,Nr,null),Sr.return=Vr,Sr;if(typeof Sr.then=="function")return ta(Vr,ch(Sr),Nr);if(Sr.$$typeof===St)return ta(Vr,Dl(Vr,Sr),Nr);fh(Vr,Sr)}return null}function Fr(Vr,Sr,Nr,Jr){var xa=Sr!==null?Sr.key:null;if(typeof Nr=="string"&&Nr!==""||typeof Nr=="number"||typeof Nr=="bigint")return xa!==null?null:ar(Vr,Sr,""+Nr,Jr);if(typeof Nr=="object"&&Nr!==null){switch(Nr.$$typeof){case We:return Nr.key===xa?mr(Vr,Sr,Nr,Jr):null;case Ge:return Nr.key===xa?Ir(Vr,Sr,Nr,Jr):null;case dn:return xa=Nr._init,Nr=xa(Nr._payload),Fr(Vr,Sr,Nr,Jr)}if(zn(Nr)||_n(Nr))return xa!==null?null:Yr(Vr,Sr,Nr,Jr,null);if(typeof Nr.then=="function")return Fr(Vr,Sr,ch(Nr),Jr);if(Nr.$$typeof===St)return Fr(Vr,Sr,Dl(Vr,Nr),Jr);fh(Vr,Nr)}return null}function Or(Vr,Sr,Nr,Jr,xa){if(typeof Jr=="string"&&Jr!==""||typeof Jr=="number"||typeof Jr=="bigint")return Vr=Vr.get(Nr)||null,ar(Sr,Vr,""+Jr,xa);if(typeof Jr=="object"&&Jr!==null){switch(Jr.$$typeof){case We:return Vr=Vr.get(Jr.key===null?Nr:Jr.key)||null,mr(Sr,Vr,Jr,xa);case Ge:return Vr=Vr.get(Jr.key===null?Nr:Jr.key)||null,Ir(Sr,Vr,Jr,xa);case dn:var Ya=Jr._init;return Jr=Ya(Jr._payload),Or(Vr,Sr,Nr,Jr,xa)}if(zn(Jr)||_n(Jr))return Vr=Vr.get(Nr)||null,Yr(Sr,Vr,Jr,xa,null);if(typeof Jr.then=="function")return Or(Vr,Sr,Nr,ch(Jr),xa);if(Jr.$$typeof===St)return Or(Vr,Sr,Nr,Dl(Sr,Jr),xa);fh(Sr,Jr)}return null}function La(Vr,Sr,Nr,Jr){for(var xa=null,Ya=null,Ea=Sr,Ma=Sr=0,zs=null;Ea!==null&&Ma<Nr.length;Ma++){Ea.index>Ma?(zs=Ea,Ea=null):zs=Ea.sibling;var fi=Fr(Vr,Ea,Nr[Ma],Jr);if(fi===null){Ea===null&&(Ea=zs);break}Ve&&Ea&&fi.alternate===null&&Oe(Vr,Ea),Sr=Bn(fi,Sr,Ma),Ya===null?xa=fi:Ya.sibling=fi,Ya=fi,Ea=zs}if(Ma===Nr.length)return He(Vr,Ea),ni&&Ho(Vr,Ma),xa;if(Ea===null){for(;Ma<Nr.length;Ma++)Ea=ta(Vr,Nr[Ma],Jr),Ea!==null&&(Sr=Bn(Ea,Sr,Ma),Ya===null?xa=Ea:Ya.sibling=Ea,Ya=Ea);return ni&&Ho(Vr,Ma),xa}for(Ea=Ke(Ea);Ma<Nr.length;Ma++)zs=Or(Ea,Vr,Ma,Nr[Ma],Jr),zs!==null&&(Ve&&zs.alternate!==null&&Ea.delete(zs.key===null?Ma:zs.key),Sr=Bn(zs,Sr,Ma),Ya===null?xa=zs:Ya.sibling=zs,Ya=zs);return Ve&&Ea.forEach(function(Rc){return Oe(Vr,Rc)}),ni&&Ho(Vr,Ma),xa}function Va(Vr,Sr,Nr,Jr){if(Nr==null)throw Error(Be(151));for(var xa=null,Ya=null,Ea=Sr,Ma=Sr=0,zs=null,fi=Nr.next();Ea!==null&&!fi.done;Ma++,fi=Nr.next()){Ea.index>Ma?(zs=Ea,Ea=null):zs=Ea.sibling;var Rc=Fr(Vr,Ea,fi.value,Jr);if(Rc===null){Ea===null&&(Ea=zs);break}Ve&&Ea&&Rc.alternate===null&&Oe(Vr,Ea),Sr=Bn(Rc,Sr,Ma),Ya===null?xa=Rc:Ya.sibling=Rc,Ya=Rc,Ea=zs}if(fi.done)return He(Vr,Ea),ni&&Ho(Vr,Ma),xa;if(Ea===null){for(;!fi.done;Ma++,fi=Nr.next())fi=ta(Vr,fi.value,Jr),fi!==null&&(Sr=Bn(fi,Sr,Ma),Ya===null?xa=fi:Ya.sibling=fi,Ya=fi);return ni&&Ho(Vr,Ma),xa}for(Ea=Ke(Ea);!fi.done;Ma++,fi=Nr.next())fi=Or(Ea,Vr,Ma,fi.value,Jr),fi!==null&&(Ve&&fi.alternate!==null&&Ea.delete(fi.key===null?Ma:fi.key),Sr=Bn(fi,Sr,Ma),Ya===null?xa=fi:Ya.sibling=fi,Ya=fi);return Ve&&Ea.forEach(function(zg){return Oe(Vr,zg)}),ni&&Ho(Vr,Ma),xa}function Ai(Vr,Sr,Nr,Jr){if(typeof Nr=="object"&&Nr!==null&&Nr.type===tn&&Nr.key===null&&(Nr=Nr.props.children),typeof Nr=="object"&&Nr!==null){switch(Nr.$$typeof){case We:e:{for(var xa=Nr.key;Sr!==null;){if(Sr.key===xa){if(xa=Nr.type,xa===tn){if(Sr.tag===7){He(Vr,Sr.sibling),Jr=fn(Sr,Nr.props.children),Jr.return=Vr,Vr=Jr;break e}}else if(Sr.elementType===xa||typeof xa=="object"&&xa!==null&&xa.$$typeof===dn&&Jd(xa)===Sr.type){He(Vr,Sr.sibling),Jr=fn(Sr,Nr.props),Vf(Jr,Nr),Jr.return=Vr,Vr=Jr;break e}He(Vr,Sr);break}else Oe(Vr,Sr);Sr=Sr.sibling}Nr.type===tn?(Jr=Ps(Nr.props.children,Vr.mode,Jr,Nr.key),Jr.return=Vr,Vr=Jr):(Jr=ul(Nr.type,Nr.key,Nr.props,null,Vr.mode,Jr),Vf(Jr,Nr),Jr.return=Vr,Vr=Jr)}return Kn(Vr);case Ge:e:{for(xa=Nr.key;Sr!==null;){if(Sr.key===xa)if(Sr.tag===4&&Sr.stateNode.containerInfo===Nr.containerInfo&&Sr.stateNode.implementation===Nr.implementation){He(Vr,Sr.sibling),Jr=fn(Sr,Nr.children||[]),Jr.return=Vr,Vr=Jr;break e}else{He(Vr,Sr);break}else Oe(Vr,Sr);Sr=Sr.sibling}Jr=Vs(Nr,Vr.mode,Jr),Jr.return=Vr,Vr=Jr}return Kn(Vr);case dn:return xa=Nr._init,Nr=xa(Nr._payload),Ai(Vr,Sr,Nr,Jr)}if(zn(Nr))return La(Vr,Sr,Nr,Jr);if(_n(Nr)){if(xa=_n(Nr),typeof xa!="function")throw Error(Be(150));return Nr=xa.call(Nr),Va(Vr,Sr,Nr,Jr)}if(typeof Nr.then=="function")return Ai(Vr,Sr,ch(Nr),Jr);if(Nr.$$typeof===St)return Ai(Vr,Sr,Dl(Vr,Nr),Jr);fh(Vr,Nr)}return typeof Nr=="string"&&Nr!==""||typeof Nr=="number"||typeof Nr=="bigint"?(Nr=""+Nr,Sr!==null&&Sr.tag===6?(He(Vr,Sr.sibling),Jr=fn(Sr,Nr),Jr.return=Vr,Vr=Jr):(He(Vr,Sr),Jr=Vo(Nr,Vr.mode,Jr),Jr.return=Vr,Vr=Jr),Kn(Vr)):He(Vr,Sr)}return function(Vr,Sr,Nr,Jr){try{Rf=0;var xa=Ai(Vr,Sr,Nr,Jr);return tf=null,xa}catch(Ea){if(Ea===tr||Ea===rr)throw Ea;var Ya=Ss(29,Ea,null,Vr.mode);return Ya.lanes=Jr,Ya.return=Vr,Ya}finally{}}}var nf=Zd(!0),Qd=Zd(!1),Ol=Gn(null),Eu=null;function mc(Ve){var Oe=Ve.alternate;$n(Ns,Ns.current&1),$n(Ol,Ve),Eu===null&&(Oe===null||Da.current!==null||Oe.memoizedState!==null)&&(Eu=Ve)}function ep(Ve){if(Ve.tag===22){if($n(Ns,Ns.current),$n(Ol,Ve),Eu===null){var Oe=Ve.alternate;Oe!==null&&Oe.memoizedState!==null&&(Eu=Ve)}}else gc()}function gc(){$n(Ns,Ns.current),$n(Ol,Ol.current)}function Wu(Ve){An(Ol),Eu===Ve&&(Eu=null),An(Ns)}var Ns=Gn(0);function hh(Ve){for(var Oe=Ve;Oe!==null;){if(Oe.tag===13){var He=Oe.memoizedState;if(He!==null&&(He=He.dehydrated,He===null||He.data==="$?"||Id(He)))return Oe}else if(Oe.tag===19&&Oe.memoizedProps.revealOrder!==void 0){if((Oe.flags&128)!==0)return Oe}else if(Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===Ve)break;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===Ve)return null;Oe=Oe.return}Oe.sibling.return=Oe.return,Oe=Oe.sibling}return null}function Hh(Ve,Oe,He,Ke){Oe=Ve.memoizedState,He=He(Ke,Oe),He=He==null?Oe:ze({},Oe,He),Ve.memoizedState=He,Ve.lanes===0&&(Ve.updateQueue.baseState=He)}var Gh={enqueueSetState:function(Ve,Oe,He){Ve=Ve._reactInternals;var Ke=bl(),fn=Hr(Ke);fn.payload=Oe,He!=null&&(fn.callback=He),Oe=ra(Ve,fn,Ke),Oe!==null&&(wl(Oe,Ve,Ke),Zr(Oe,Ve,Ke))},enqueueReplaceState:function(Ve,Oe,He){Ve=Ve._reactInternals;var Ke=bl(),fn=Hr(Ke);fn.tag=1,fn.payload=Oe,He!=null&&(fn.callback=He),Oe=ra(Ve,fn,Ke),Oe!==null&&(wl(Oe,Ve,Ke),Zr(Oe,Ve,Ke))},enqueueForceUpdate:function(Ve,Oe){Ve=Ve._reactInternals;var He=bl(),Ke=Hr(He);Ke.tag=2,Oe!=null&&(Ke.callback=Oe),Oe=ra(Ve,Ke,He),Oe!==null&&(wl(Oe,Ve,He),Zr(Oe,Ve,He))}};function tp(Ve,Oe,He,Ke,fn,Bn,Kn){return Ve=Ve.stateNode,typeof Ve.shouldComponentUpdate=="function"?Ve.shouldComponentUpdate(Ke,Bn,Kn):Oe.prototype&&Oe.prototype.isPureReactComponent?!Ro(He,Ke)||!Ro(fn,Bn):!0}function np(Ve,Oe,He,Ke){Ve=Oe.state,typeof Oe.componentWillReceiveProps=="function"&&Oe.componentWillReceiveProps(He,Ke),typeof Oe.UNSAFE_componentWillReceiveProps=="function"&&Oe.UNSAFE_componentWillReceiveProps(He,Ke),Oe.state!==Ve&&Gh.enqueueReplaceState(Oe,Oe.state,null)}function Hc(Ve,Oe){var He=Oe;if("ref"in Oe){He={};for(var Ke in Oe)Ke!=="ref"&&(He[Ke]=Oe[Ke])}if(Ve=Ve.defaultProps){He===Oe&&(He=ze({},He));for(var fn in Ve)He[fn]===void 0&&(He[fn]=Ve[fn])}return He}var dh=typeof reportError=="function"?reportError:function(Ve){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Ve=="object"&&Ve!==null&&typeof Ve.message=="string"?String(Ve.message):String(Ve),error:Ve});if(!window.dispatchEvent(Oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Ve);return}console.error(Ve)};function rp(Ve){dh(Ve)}function ap(Ve){console.error(Ve)}function ip(Ve){dh(Ve)}function ph(Ve,Oe){try{var He=Ve.onUncaughtError;He(Oe.value,{componentStack:Oe.stack})}catch(Ke){setTimeout(function(){throw Ke})}}function sp(Ve,Oe,He){try{var Ke=Ve.onCaughtError;Ke(He.value,{componentStack:He.stack,errorBoundary:Oe.tag===1?Oe.stateNode:null})}catch(fn){setTimeout(function(){throw fn})}}function Wh(Ve,Oe,He){return He=Hr(He),He.tag=3,He.payload={element:null},He.callback=function(){ph(Ve,Oe)},He}function op(Ve){return Ve=Hr(Ve),Ve.tag=3,Ve}function lp(Ve,Oe,He,Ke){var fn=He.type.getDerivedStateFromError;if(typeof fn=="function"){var Bn=Ke.value;Ve.payload=function(){return fn(Bn)},Ve.callback=function(){sp(Oe,He,Ke)}}var Kn=He.stateNode;Kn!==null&&typeof Kn.componentDidCatch=="function"&&(Ve.callback=function(){sp(Oe,He,Ke),typeof fn!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var ar=Ke.stack;this.componentDidCatch(Ke.value,{componentStack:ar!==null?ar:""})})}function zm(Ve,Oe,He,Ke,fn){if(He.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){if(Oe=He.alternate,Oe!==null&&Au(Oe,He,fn,!0),He=Ol.current,He!==null){switch(He.tag){case 13:return Eu===null?vd():He.alternate===null&&ls===0&&(ls=3),He.flags&=-257,He.flags|=65536,He.lanes=fn,Ke===sr?He.flags|=16384:(Oe=He.updateQueue,Oe===null?He.updateQueue=new Set([Ke]):Oe.add(Ke),wd(Ve,Ke,fn)),!1;case 22:return He.flags|=65536,Ke===sr?He.flags|=16384:(Oe=He.updateQueue,Oe===null?(Oe={transitions:null,markerInstances:null,retryQueue:new Set([Ke])},He.updateQueue=Oe):(He=Oe.retryQueue,He===null?Oe.retryQueue=new Set([Ke]):He.add(Ke)),wd(Ve,Ke,fn)),!1}throw Error(Be(435,He.tag))}return wd(Ve,Ke,fn),vd(),!1}if(ni)return Oe=Ol.current,Oe!==null?((Oe.flags&65536)===0&&(Oe.flags|=256),Oe.flags|=65536,Oe.lanes=fn,Ke!==Nc&&(Ve=Error(Be(422),{cause:Ke}),hl(Zs(Ve,He)))):(Ke!==Nc&&(Oe=Error(Be(423),{cause:Ke}),hl(Zs(Oe,He))),Ve=Ve.current.alternate,Ve.flags|=65536,fn&=-fn,Ve.lanes|=fn,Ke=Zs(Ke,He),fn=Wh(Ve.stateNode,Ke,fn),Aa(Ve,fn),ls!==4&&(ls=2)),!1;var Bn=Error(Be(520),{cause:Ke});if(Bn=Zs(Bn,He),Ff===null?Ff=[Bn]:Ff.push(Bn),ls!==4&&(ls=2),Oe===null)return!0;Ke=Zs(Ke,He),He=Oe;do{switch(He.tag){case 3:return He.flags|=65536,Ve=fn&-fn,He.lanes|=Ve,Ve=Wh(He.stateNode,Ke,Ve),Aa(He,Ve),!1;case 1:if(Oe=He.type,Bn=He.stateNode,(He.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||Bn!==null&&typeof Bn.componentDidCatch=="function"&&(_c===null||!_c.has(Bn))))return He.flags|=65536,fn&=-fn,He.lanes|=fn,fn=op(fn),lp(fn,Ve,He,Ke),Aa(He,fn),!1}He=He.return}while(He!==null);return!1}var up=Error(Be(461)),$s=!1;function io(Ve,Oe,He,Ke){Oe.child=Ve===null?Qd(Oe,null,He,Ke):nf(Oe,Ve.child,He,Ke)}function cp(Ve,Oe,He,Ke,fn){He=He.render;var Bn=Oe.ref;if("ref"in Ke){var Kn={};for(var ar in Ke)ar!=="ref"&&(Kn[ar]=Ke[ar])}else Kn=Ke;return Xo(Oe),Ke=Mo(Ve,Oe,He,Kn,Bn,fn),ar=es(),Ve!==null&&!$s?(ro(Ve,Oe,fn),Xu(Ve,Oe,fn)):(ni&&ar&&Pu(Oe),Oe.flags|=1,io(Ve,Oe,Ke,fn),Oe.child)}function fp(Ve,Oe,He,Ke,fn){if(Ve===null){var Bn=He.type;return typeof Bn=="function"&&!Ii(Bn)&&Bn.defaultProps===void 0&&He.compare===null?(Oe.tag=15,Oe.type=Bn,hp(Ve,Oe,Bn,Ke,fn)):(Ve=ul(He.type,null,Ke,Oe,Oe.mode,fn),Ve.ref=Oe.ref,Ve.return=Oe,Oe.child=Ve)}if(Bn=Ve.child,!nd(Ve,fn)){var Kn=Bn.memoizedProps;if(He=He.compare,He=He!==null?He:Ro,He(Kn,Ke)&&Ve.ref===Oe.ref)return Xu(Ve,Oe,fn)}return Oe.flags|=1,Ve=Us(Bn,Ke),Ve.ref=Oe.ref,Ve.return=Oe,Oe.child=Ve}function hp(Ve,Oe,He,Ke,fn){if(Ve!==null){var Bn=Ve.memoizedProps;if(Ro(Bn,Ke)&&Ve.ref===Oe.ref)if($s=!1,Oe.pendingProps=Ke=Bn,nd(Ve,fn))(Ve.flags&131072)!==0&&($s=!0);else return Oe.lanes=Ve.lanes,Xu(Ve,Oe,fn)}return Xh(Ve,Oe,He,Ke,fn)}function dp(Ve,Oe,He){var Ke=Oe.pendingProps,fn=Ke.children,Bn=Ve!==null?Ve.memoizedState:null;if(Ke.mode==="hidden"){if((Oe.flags&128)!==0){if(Ke=Bn!==null?Bn.baseLanes|He:He,Ve!==null){for(fn=Oe.child=Ve.child,Bn=0;fn!==null;)Bn=Bn|fn.lanes|fn.childLanes,fn=fn.sibling;Oe.childLanes=Bn&~Ke}else Oe.childLanes=0,Oe.child=null;return pp(Ve,Oe,Ke,He)}if((He&536870912)!==0)Oe.memoizedState={baseLanes:0,cachePool:null},Ve!==null&&Wn(Oe,Bn!==null?Bn.cachePool:null),Bn!==null?ha(Oe,Bn):Di(),ep(Oe);else return Oe.lanes=Oe.childLanes=536870912,pp(Ve,Oe,Bn!==null?Bn.baseLanes|He:He,He)}else Bn!==null?(Wn(Oe,Bn.cachePool),ha(Oe,Bn),gc(),Oe.memoizedState=null):(Ve!==null&&Wn(Oe,null),Di(),gc());return io(Ve,Oe,fn,He),Oe.child}function pp(Ve,Oe,He,Ke){var fn=Fn();return fn=fn===null?null:{parent:nn._currentValue,pool:fn},Oe.memoizedState={baseLanes:He,cachePool:fn},Ve!==null&&Wn(Oe,null),Di(),ep(Oe),Ve!==null&&Au(Ve,Oe,Ke,!0),null}function mh(Ve,Oe){var He=Oe.ref;if(He===null)Ve!==null&&Ve.ref!==null&&(Oe.flags|=4194816);else{if(typeof He!="function"&&typeof He!="object")throw Error(Be(284));(Ve===null||Ve.ref!==He)&&(Oe.flags|=4194816)}}function Xh(Ve,Oe,He,Ke,fn){return Xo(Oe),He=Mo(Ve,Oe,He,Ke,void 0,fn),Ke=es(),Ve!==null&&!$s?(ro(Ve,Oe,fn),Xu(Ve,Oe,fn)):(ni&&Ke&&Pu(Oe),Oe.flags|=1,io(Ve,Oe,He,fn),Oe.child)}function mp(Ve,Oe,He,Ke,fn,Bn){return Xo(Oe),Oe.updateQueue=null,He=no(Oe,Ke,He,fn),Ui(Ve),Ke=es(),Ve!==null&&!$s?(ro(Ve,Oe,Bn),Xu(Ve,Oe,Bn)):(ni&&Ke&&Pu(Oe),Oe.flags|=1,io(Ve,Oe,He,Bn),Oe.child)}function gp(Ve,Oe,He,Ke,fn){if(Xo(Oe),Oe.stateNode===null){var Bn=Yi,Kn=He.contextType;typeof Kn=="object"&&Kn!==null&&(Bn=Ji(Kn)),Bn=new He(Ke,Bn),Oe.memoizedState=Bn.state!==null&&Bn.state!==void 0?Bn.state:null,Bn.updater=Gh,Oe.stateNode=Bn,Bn._reactInternals=Oe,Bn=Oe.stateNode,Bn.props=Ke,Bn.state=Oe.memoizedState,Bn.refs={},kr(Oe),Kn=He.contextType,Bn.context=typeof Kn=="object"&&Kn!==null?Ji(Kn):Yi,Bn.state=Oe.memoizedState,Kn=He.getDerivedStateFromProps,typeof Kn=="function"&&(Hh(Oe,He,Kn,Ke),Bn.state=Oe.memoizedState),typeof He.getDerivedStateFromProps=="function"||typeof Bn.getSnapshotBeforeUpdate=="function"||typeof Bn.UNSAFE_componentWillMount!="function"&&typeof Bn.componentWillMount!="function"||(Kn=Bn.state,typeof Bn.componentWillMount=="function"&&Bn.componentWillMount(),typeof Bn.UNSAFE_componentWillMount=="function"&&Bn.UNSAFE_componentWillMount(),Kn!==Bn.state&&Gh.enqueueReplaceState(Bn,Bn.state,null),ya(Oe,Ke,Bn,fn),Fa(),Bn.state=Oe.memoizedState),typeof Bn.componentDidMount=="function"&&(Oe.flags|=4194308),Ke=!0}else if(Ve===null){Bn=Oe.stateNode;var ar=Oe.memoizedProps,mr=Hc(He,ar);Bn.props=mr;var Ir=Bn.context,Yr=He.contextType;Kn=Yi,typeof Yr=="object"&&Yr!==null&&(Kn=Ji(Yr));var ta=He.getDerivedStateFromProps;Yr=typeof ta=="function"||typeof Bn.getSnapshotBeforeUpdate=="function",ar=Oe.pendingProps!==ar,Yr||typeof Bn.UNSAFE_componentWillReceiveProps!="function"&&typeof Bn.componentWillReceiveProps!="function"||(ar||Ir!==Kn)&&np(Oe,Bn,Ke,Kn),qr=!1;var Fr=Oe.memoizedState;Bn.state=Fr,ya(Oe,Ke,Bn,fn),Fa(),Ir=Oe.memoizedState,ar||Fr!==Ir||qr?(typeof ta=="function"&&(Hh(Oe,He,ta,Ke),Ir=Oe.memoizedState),(mr=qr||tp(Oe,He,mr,Ke,Fr,Ir,Kn))?(Yr||typeof Bn.UNSAFE_componentWillMount!="function"&&typeof Bn.componentWillMount!="function"||(typeof Bn.componentWillMount=="function"&&Bn.componentWillMount(),typeof Bn.UNSAFE_componentWillMount=="function"&&Bn.UNSAFE_componentWillMount()),typeof Bn.componentDidMount=="function"&&(Oe.flags|=4194308)):(typeof Bn.componentDidMount=="function"&&(Oe.flags|=4194308),Oe.memoizedProps=Ke,Oe.memoizedState=Ir),Bn.props=Ke,Bn.state=Ir,Bn.context=Kn,Ke=mr):(typeof Bn.componentDidMount=="function"&&(Oe.flags|=4194308),Ke=!1)}else{Bn=Oe.stateNode,zr(Ve,Oe),Kn=Oe.memoizedProps,Yr=Hc(He,Kn),Bn.props=Yr,ta=Oe.pendingProps,Fr=Bn.context,Ir=He.contextType,mr=Yi,typeof Ir=="object"&&Ir!==null&&(mr=Ji(Ir)),ar=He.getDerivedStateFromProps,(Ir=typeof ar=="function"||typeof Bn.getSnapshotBeforeUpdate=="function")||typeof Bn.UNSAFE_componentWillReceiveProps!="function"&&typeof Bn.componentWillReceiveProps!="function"||(Kn!==ta||Fr!==mr)&&np(Oe,Bn,Ke,mr),qr=!1,Fr=Oe.memoizedState,Bn.state=Fr,ya(Oe,Ke,Bn,fn),Fa();var Or=Oe.memoizedState;Kn!==ta||Fr!==Or||qr||Ve!==null&&Ve.dependencies!==null&&cc(Ve.dependencies)?(typeof ar=="function"&&(Hh(Oe,He,ar,Ke),Or=Oe.memoizedState),(Yr=qr||tp(Oe,He,Yr,Ke,Fr,Or,mr)||Ve!==null&&Ve.dependencies!==null&&cc(Ve.dependencies))?(Ir||typeof Bn.UNSAFE_componentWillUpdate!="function"&&typeof Bn.componentWillUpdate!="function"||(typeof Bn.componentWillUpdate=="function"&&Bn.componentWillUpdate(Ke,Or,mr),typeof Bn.UNSAFE_componentWillUpdate=="function"&&Bn.UNSAFE_componentWillUpdate(Ke,Or,mr)),typeof Bn.componentDidUpdate=="function"&&(Oe.flags|=4),typeof Bn.getSnapshotBeforeUpdate=="function"&&(Oe.flags|=1024)):(typeof Bn.componentDidUpdate!="function"||Kn===Ve.memoizedProps&&Fr===Ve.memoizedState||(Oe.flags|=4),typeof Bn.getSnapshotBeforeUpdate!="function"||Kn===Ve.memoizedProps&&Fr===Ve.memoizedState||(Oe.flags|=1024),Oe.memoizedProps=Ke,Oe.memoizedState=Or),Bn.props=Ke,Bn.state=Or,Bn.context=mr,Ke=Yr):(typeof Bn.componentDidUpdate!="function"||Kn===Ve.memoizedProps&&Fr===Ve.memoizedState||(Oe.flags|=4),typeof Bn.getSnapshotBeforeUpdate!="function"||Kn===Ve.memoizedProps&&Fr===Ve.memoizedState||(Oe.flags|=1024),Ke=!1)}return Bn=Ke,mh(Ve,Oe),Ke=(Oe.flags&128)!==0,Bn||Ke?(Bn=Oe.stateNode,He=Ke&&typeof He.getDerivedStateFromError!="function"?null:Bn.render(),Oe.flags|=1,Ve!==null&&Ke?(Oe.child=nf(Oe,Ve.child,null,fn),Oe.child=nf(Oe,null,He,fn)):io(Ve,Oe,He,fn),Oe.memoizedState=Bn.state,Ve=Oe.child):Ve=Xu(Ve,Oe,fn),Ve}function yp(Ve,Oe,He,Ke){return Es(),Oe.flags|=256,io(Ve,Oe,He,Ke),Oe.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(Ve){return{baseLanes:Ve,cachePool:Zn()}}function Jh(Ve,Oe,He){return Ve=Ve!==null?Ve.childLanes&~He:0,Oe&&(Ve|=Ul),Ve}function vp(Ve,Oe,He){var Ke=Oe.pendingProps,fn=!1,Bn=(Oe.flags&128)!==0,Kn;if((Kn=Bn)||(Kn=Ve!==null&&Ve.memoizedState===null?!1:(Ns.current&2)!==0),Kn&&(fn=!0,Oe.flags&=-129),Kn=(Oe.flags&32)!==0,Oe.flags&=-33,Ve===null){if(ni){if(fn?mc(Oe):gc(),ni){var ar=Mi,mr;if(mr=ar){e:{for(mr=ar,ar=to;mr.nodeType!==8;){if(!ar){ar=null;break e}if(mr=fu(mr.nextSibling),mr===null){ar=null;break e}}ar=mr}ar!==null?(Oe.memoizedState={dehydrated:ar,treeContext:Ml!==null?{id:jo,overflow:zo}:null,retryLane:536870912,hydrationErrors:null},mr=Ss(18,null,null,0),mr.stateNode=ar,mr.return=Oe,Oe.child=mr,Ki=Oe,Mi=null,mr=!0):mr=!1}mr||Il(Oe)}if(ar=Oe.memoizedState,ar!==null&&(ar=ar.dehydrated,ar!==null))return Id(ar)?Oe.lanes=32:Oe.lanes=536870912,null;Wu(Oe)}return ar=Ke.children,Ke=Ke.fallback,fn?(gc(),fn=Oe.mode,ar=gh({mode:"hidden",children:ar},fn),Ke=Ps(Ke,fn,He,null),ar.return=Oe,Ke.return=Oe,ar.sibling=Ke,Oe.child=ar,fn=Oe.child,fn.memoizedState=Kh(He),fn.childLanes=Jh(Ve,Kn,He),Oe.memoizedState=Yh,Ke):(mc(Oe),Zh(Oe,ar))}if(mr=Ve.memoizedState,mr!==null&&(ar=mr.dehydrated,ar!==null)){if(Bn)Oe.flags&256?(mc(Oe),Oe.flags&=-257,Oe=Qh(Ve,Oe,He)):Oe.memoizedState!==null?(gc(),Oe.child=Ve.child,Oe.flags|=128,Oe=null):(gc(),fn=Ke.fallback,ar=Oe.mode,Ke=gh({mode:"visible",children:Ke.children},ar),fn=Ps(fn,ar,He,null),fn.flags|=2,Ke.return=Oe,fn.return=Oe,Ke.sibling=fn,Oe.child=Ke,nf(Oe,Ve.child,null,He),Ke=Oe.child,Ke.memoizedState=Kh(He),Ke.childLanes=Jh(Ve,Kn,He),Oe.memoizedState=Yh,Oe=fn);else if(mc(Oe),Id(ar)){if(Kn=ar.nextSibling&&ar.nextSibling.dataset,Kn)var Ir=Kn.dgst;Kn=Ir,Ke=Error(Be(419)),Ke.stack="",Ke.digest=Kn,hl({value:Ke,source:null,stack:null}),Oe=Qh(Ve,Oe,He)}else if($s||Au(Ve,Oe,He,!1),Kn=(He&Ve.childLanes)!==0,$s||Kn){if(Kn=Ni,Kn!==null&&(Ke=He&-He,Ke=(Ke&42)!==0?1:Xr(Ke),Ke=(Ke&(Kn.suspendedLanes|He))!==0?0:Ke,Ke!==0&&Ke!==mr.retryLane))throw mr.retryLane=Ke,nu(Ve,Ke),wl(Kn,Ve,Ke),up;ar.data==="$?"||vd(),Oe=Qh(Ve,Oe,He)}else ar.data==="$?"?(Oe.flags|=192,Oe.child=Ve.child,Oe=null):(Ve=mr.treeContext,Mi=fu(ar.nextSibling),Ki=Oe,ni=!0,Nl=null,to=!1,Ve!==null&&(eo[As++]=jo,eo[As++]=zo,eo[As++]=Ml,jo=Ve.id,zo=Ve.overflow,Ml=Oe),Oe=Zh(Oe,Ke.children),Oe.flags|=4096);return Oe}return fn?(gc(),fn=Ke.fallback,ar=Oe.mode,mr=Ve.child,Ir=mr.sibling,Ke=Us(mr,{mode:"hidden",children:Ke.children}),Ke.subtreeFlags=mr.subtreeFlags&65011712,Ir!==null?fn=Us(Ir,fn):(fn=Ps(fn,ar,He,null),fn.flags|=2),fn.return=Oe,Ke.return=Oe,Ke.sibling=fn,Oe.child=Ke,Ke=fn,fn=Oe.child,ar=Ve.child.memoizedState,ar===null?ar=Kh(He):(mr=ar.cachePool,mr!==null?(Ir=nn._currentValue,mr=mr.parent!==Ir?{parent:Ir,pool:Ir}:mr):mr=Zn(),ar={baseLanes:ar.baseLanes|He,cachePool:mr}),fn.memoizedState=ar,fn.childLanes=Jh(Ve,Kn,He),Oe.memoizedState=Yh,Ke):(mc(Oe),He=Ve.child,Ve=He.sibling,He=Us(He,{mode:"visible",children:Ke.children}),He.return=Oe,He.sibling=null,Ve!==null&&(Kn=Oe.deletions,Kn===null?(Oe.deletions=[Ve],Oe.flags|=16):Kn.push(Ve)),Oe.child=He,Oe.memoizedState=null,He)}function Zh(Ve,Oe){return Oe=gh({mode:"visible",children:Oe},Ve.mode),Oe.return=Ve,Ve.child=Oe}function gh(Ve,Oe){return Ve=Ss(22,Ve,null,Oe),Ve.lanes=0,Ve.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},Ve}function Qh(Ve,Oe,He){return nf(Oe,Ve.child,null,He),Ve=Zh(Oe,Oe.pendingProps.children),Ve.flags|=2,Oe.memoizedState=null,Ve}function bp(Ve,Oe,He){Ve.lanes|=Oe;var Ke=Ve.alternate;Ke!==null&&(Ke.lanes|=Oe),zu(Ve.return,Oe,He)}function ed(Ve,Oe,He,Ke,fn){var Bn=Ve.memoizedState;Bn===null?Ve.memoizedState={isBackwards:Oe,rendering:null,renderingStartTime:0,last:Ke,tail:He,tailMode:fn}:(Bn.isBackwards=Oe,Bn.rendering=null,Bn.renderingStartTime=0,Bn.last=Ke,Bn.tail=He,Bn.tailMode=fn)}function wp(Ve,Oe,He){var Ke=Oe.pendingProps,fn=Ke.revealOrder,Bn=Ke.tail;if(io(Ve,Oe,Ke.children,He),Ke=Ns.current,(Ke&2)!==0)Ke=Ke&1|2,Oe.flags|=128;else{if(Ve!==null&&(Ve.flags&128)!==0)e:for(Ve=Oe.child;Ve!==null;){if(Ve.tag===13)Ve.memoizedState!==null&&bp(Ve,He,Oe);else if(Ve.tag===19)bp(Ve,He,Oe);else if(Ve.child!==null){Ve.child.return=Ve,Ve=Ve.child;continue}if(Ve===Oe)break e;for(;Ve.sibling===null;){if(Ve.return===null||Ve.return===Oe)break e;Ve=Ve.return}Ve.sibling.return=Ve.return,Ve=Ve.sibling}Ke&=1}switch($n(Ns,Ke),fn){case"forwards":for(He=Oe.child,fn=null;He!==null;)Ve=He.alternate,Ve!==null&&hh(Ve)===null&&(fn=He),He=He.sibling;He=fn,He===null?(fn=Oe.child,Oe.child=null):(fn=He.sibling,He.sibling=null),ed(Oe,!1,fn,He,Bn);break;case"backwards":for(He=null,fn=Oe.child,Oe.child=null;fn!==null;){if(Ve=fn.alternate,Ve!==null&&hh(Ve)===null){Oe.child=fn;break}Ve=fn.sibling,fn.sibling=He,He=fn,fn=Ve}ed(Oe,!0,He,null,Bn);break;case"together":ed(Oe,!1,null,null,void 0);break;default:Oe.memoizedState=null}return Oe.child}function Xu(Ve,Oe,He){if(Ve!==null&&(Oe.dependencies=Ve.dependencies),xc|=Oe.lanes,(He&Oe.childLanes)===0)if(Ve!==null){if(Au(Ve,Oe,He,!1),(He&Oe.childLanes)===0)return null}else return null;if(Ve!==null&&Oe.child!==Ve.child)throw Error(Be(153));if(Oe.child!==null){for(Ve=Oe.child,He=Us(Ve,Ve.pendingProps),Oe.child=He,He.return=Oe;Ve.sibling!==null;)Ve=Ve.sibling,He=He.sibling=Us(Ve,Ve.pendingProps),He.return=Oe;He.sibling=null}return Oe.child}function nd(Ve,Oe){return(Ve.lanes&Oe)!==0?!0:(Ve=Ve.dependencies,!!(Ve!==null&&cc(Ve)))}function Hm(Ve,Oe,He){switch(Oe.tag){case 3:mn(Oe,Oe.stateNode.containerInfo),dl(Oe,nn,Ve.memoizedState.cache),Es();break;case 27:case 5:wn(Oe);break;case 4:mn(Oe,Oe.stateNode.containerInfo);break;case 10:dl(Oe,Oe.type,Oe.memoizedProps.value);break;case 13:var Ke=Oe.memoizedState;if(Ke!==null)return Ke.dehydrated!==null?(mc(Oe),Oe.flags|=128,null):(He&Oe.child.childLanes)!==0?vp(Ve,Oe,He):(mc(Oe),Ve=Xu(Ve,Oe,He),Ve!==null?Ve.sibling:null);mc(Oe);break;case 19:var fn=(Ve.flags&128)!==0;if(Ke=(He&Oe.childLanes)!==0,Ke||(Au(Ve,Oe,He,!1),Ke=(He&Oe.childLanes)!==0),fn){if(Ke)return wp(Ve,Oe,He);Oe.flags|=128}if(fn=Oe.memoizedState,fn!==null&&(fn.rendering=null,fn.tail=null,fn.lastEffect=null),$n(Ns,Ns.current),Ke)break;return null;case 22:case 23:return Oe.lanes=0,dp(Ve,Oe,He);case 24:dl(Oe,nn,Ve.memoizedState.cache)}return Xu(Ve,Oe,He)}function xp(Ve,Oe,He){if(Ve!==null)if(Ve.memoizedProps!==Oe.pendingProps)$s=!0;else{if(!nd(Ve,He)&&(Oe.flags&128)===0)return $s=!1,Hm(Ve,Oe,He);$s=(Ve.flags&131072)!==0}else $s=!1,ni&&(Oe.flags&1048576)!==0&&Mc(Oe,$u,Oe.index);switch(Oe.lanes=0,Oe.tag){case 16:e:{Ve=Oe.pendingProps;var Ke=Oe.elementType,fn=Ke._init;if(Ke=fn(Ke._payload),Oe.type=Ke,typeof Ke=="function")Ii(Ke)?(Ve=Hc(Ke,Ve),Oe.tag=1,Oe=gp(null,Oe,Ke,Ve,He)):(Oe.tag=0,Oe=Xh(null,Oe,Ke,Ve,He));else{if(Ke!=null){if(fn=Ke.$$typeof,fn===Qe){Oe.tag=11,Oe=cp(null,Oe,Ke,Ve,He);break e}else if(fn===hn){Oe.tag=14,Oe=fp(null,Oe,Ke,Ve,He);break e}}throw Oe=yn(Ke)||Ke,Error(Be(306,Oe,""))}}return Oe;case 0:return Xh(Ve,Oe,Oe.type,Oe.pendingProps,He);case 1:return Ke=Oe.type,fn=Hc(Ke,Oe.pendingProps),gp(Ve,Oe,Ke,fn,He);case 3:e:{if(mn(Oe,Oe.stateNode.containerInfo),Ve===null)throw Error(Be(387));Ke=Oe.pendingProps;var Bn=Oe.memoizedState;fn=Bn.element,zr(Ve,Oe),ya(Oe,Ke,null,He);var Kn=Oe.memoizedState;if(Ke=Kn.cache,dl(Oe,nn,Ke),Ke!==Bn.cache&&uc(Oe,[nn],He,!0),Fa(),Ke=Kn.element,Bn.isDehydrated)if(Bn={element:Ke,isDehydrated:!1,cache:Kn.cache},Oe.updateQueue.baseState=Bn,Oe.memoizedState=Bn,Oe.flags&256){Oe=yp(Ve,Oe,Ke,He);break e}else if(Ke!==fn){fn=Zs(Error(Be(424)),Oe),hl(fn),Oe=yp(Ve,Oe,Ke,He);break e}else{switch(Ve=Oe.stateNode.containerInfo,Ve.nodeType){case 9:Ve=Ve.body;break;default:Ve=Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve}for(Mi=fu(Ve.firstChild),Ki=Oe,ni=!0,Nl=null,to=!0,He=Qd(Oe,null,Ke,He),Oe.child=He;He;)He.flags=He.flags&-3|4096,He=He.sibling}else{if(Es(),Ke===fn){Oe=Xu(Ve,Oe,He);break e}io(Ve,Oe,Ke,He)}Oe=Oe.child}return Oe;case 26:return mh(Ve,Oe),Ve===null?(He=Am(Oe.type,null,Oe.pendingProps,null))?Oe.memoizedState=He:ni||(He=Oe.type,Ve=Oe.pendingProps,Ke=Rh(Sn.current).createElement(He),Ke[da]=Oe,Ke[fa]=Ve,oo(Ke,He,Ve),ii(Ke),Oe.stateNode=Ke):Oe.memoizedState=Am(Oe.type,Ve.memoizedProps,Oe.pendingProps,Ve.memoizedState),null;case 27:return wn(Oe),Ve===null&&ni&&(Ke=Oe.stateNode=_m(Oe.type,Oe.pendingProps,Sn.current),Ki=Oe,to=!0,fn=Mi,Ac(Oe.type)?(Dd=fn,Mi=fu(Ke.firstChild)):Mi=fn),io(Ve,Oe,Oe.pendingProps.children,He),mh(Ve,Oe),Ve===null&&(Oe.flags|=4194304),Oe.child;case 5:return Ve===null&&ni&&((fn=Ke=Mi)&&(Ke=bg(Ke,Oe.type,Oe.pendingProps,to),Ke!==null?(Oe.stateNode=Ke,Ki=Oe,Mi=fu(Ke.firstChild),to=!1,fn=!0):fn=!1),fn||Il(Oe)),wn(Oe),fn=Oe.type,Bn=Oe.pendingProps,Kn=Ve!==null?Ve.memoizedProps:null,Ke=Bn.children,kd(fn,Bn)?Ke=null:Kn!==null&&kd(fn,Kn)&&(Oe.flags|=32),Oe.memoizedState!==null&&(fn=Mo(Ve,Oe,yi,null,null,He),Wf._currentValue=fn),mh(Ve,Oe),io(Ve,Oe,Ke,He),Oe.child;case 6:return Ve===null&&ni&&((Ve=He=Mi)&&(He=wg(He,Oe.pendingProps,to),He!==null?(Oe.stateNode=He,Ki=Oe,Mi=null,Ve=!0):Ve=!1),Ve||Il(Oe)),null;case 13:return vp(Ve,Oe,He);case 4:return mn(Oe,Oe.stateNode.containerInfo),Ke=Oe.pendingProps,Ve===null?Oe.child=nf(Oe,null,Ke,He):io(Ve,Oe,Ke,He),Oe.child;case 11:return cp(Ve,Oe,Oe.type,Oe.pendingProps,He);case 7:return io(Ve,Oe,Oe.pendingProps,He),Oe.child;case 8:return io(Ve,Oe,Oe.pendingProps.children,He),Oe.child;case 12:return io(Ve,Oe,Oe.pendingProps.children,He),Oe.child;case 10:return Ke=Oe.pendingProps,dl(Oe,Oe.type,Ke.value),io(Ve,Oe,Ke.children,He),Oe.child;case 9:return fn=Oe.type._context,Ke=Oe.pendingProps.children,Xo(Oe),fn=Ji(fn),Ke=Ke(fn),Oe.flags|=1,io(Ve,Oe,Ke,He),Oe.child;case 14:return fp(Ve,Oe,Oe.type,Oe.pendingProps,He);case 15:return hp(Ve,Oe,Oe.type,Oe.pendingProps,He);case 19:return wp(Ve,Oe,He);case 31:return Ke=Oe.pendingProps,He=Oe.mode,Ke={mode:Ke.mode,children:Ke.children},Ve===null?(He=gh(Ke,He),He.ref=Oe.ref,Oe.child=He,He.return=Oe,Oe=He):(He=Us(Ve.child,Ke),He.ref=Oe.ref,Oe.child=He,He.return=Oe,Oe=He),Oe;case 22:return dp(Ve,Oe,He);case 24:return Xo(Oe),Ke=Ji(nn),Ve===null?(fn=Fn(),fn===null&&(fn=Ni,Bn=Tn(),fn.pooledCache=Bn,Bn.refCount++,Bn!==null&&(fn.pooledCacheLanes|=He),fn=Bn),Oe.memoizedState={parent:Ke,cache:fn},kr(Oe),dl(Oe,nn,fn)):((Ve.lanes&He)!==0&&(zr(Ve,Oe),ya(Oe,null,null,He),Fa()),fn=Ve.memoizedState,Bn=Oe.memoizedState,fn.parent!==Ke?(fn={parent:Ke,cache:Ke},Oe.memoizedState=fn,Oe.lanes===0&&(Oe.memoizedState=Oe.updateQueue.baseState=fn),dl(Oe,nn,Ke)):(Ke=Bn.cache,dl(Oe,nn,Ke),Ke!==fn.cache&&uc(Oe,[nn],He,!0))),io(Ve,Oe,Oe.pendingProps.children,He),Oe.child;case 29:throw Oe.pendingProps}throw Error(Be(156,Oe.tag))}function Yu(Ve){Ve.flags|=4}function _p(Ve,Oe){if(Oe.type!=="stylesheet"||(Oe.state.loading&4)!==0)Ve.flags&=-16777217;else if(Ve.flags|=16777216,!Rm(Oe)){if(Oe=Ol.current,Oe!==null&&((oi&4194048)===oi?Eu!==null:(oi&62914560)!==oi&&(oi&536870912)===0||Oe!==Eu))throw ir=sr,nr;Ve.flags|=8192}}function yh(Ve,Oe){Oe!==null&&(Ve.flags|=4),Ve.flags&16384&&(Oe=Ve.tag!==22?gr():536870912,Ve.lanes|=Oe,of|=Oe)}function kf(Ve,Oe){if(!ni)switch(Ve.tailMode){case"hidden":Oe=Ve.tail;for(var He=null;Oe!==null;)Oe.alternate!==null&&(He=Oe),Oe=Oe.sibling;He===null?Ve.tail=null:He.sibling=null;break;case"collapsed":He=Ve.tail;for(var Ke=null;He!==null;)He.alternate!==null&&(Ke=He),He=He.sibling;Ke===null?Oe||Ve.tail===null?Ve.tail=null:Ve.tail.sibling=null:Ke.sibling=null}}function ts(Ve){var Oe=Ve.alternate!==null&&Ve.alternate.child===Ve.child,He=0,Ke=0;if(Oe)for(var fn=Ve.child;fn!==null;)He|=fn.lanes|fn.childLanes,Ke|=fn.subtreeFlags&65011712,Ke|=fn.flags&65011712,fn.return=Ve,fn=fn.sibling;else for(fn=Ve.child;fn!==null;)He|=fn.lanes|fn.childLanes,Ke|=fn.subtreeFlags,Ke|=fn.flags,fn.return=Ve,fn=fn.sibling;return Ve.subtreeFlags|=Ke,Ve.childLanes=He,Oe}function Gm(Ve,Oe,He){var Ke=Oe.pendingProps;switch(ju(Oe),Oe.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(Oe),null;case 1:return ts(Oe),null;case 3:return He=Oe.stateNode,Ke=null,Ve!==null&&(Ke=Ve.memoizedState.cache),Oe.memoizedState.cache!==Ke&&(Oe.flags|=2048),Wo(nn),un(),He.pendingContext&&(He.context=He.pendingContext,He.pendingContext=null),(Ve===null||Ve.child===null)&&(hs(Oe)?Yu(Oe):Ve===null||Ve.memoizedState.isDehydrated&&(Oe.flags&256)===0||(Oe.flags|=1024,cl())),ts(Oe),null;case 26:return He=Oe.memoizedState,Ve===null?(Yu(Oe),He!==null?(ts(Oe),_p(Oe,He)):(ts(Oe),Oe.flags&=-16777217)):He?He!==Ve.memoizedState?(Yu(Oe),ts(Oe),_p(Oe,He)):(ts(Oe),Oe.flags&=-16777217):(Ve.memoizedProps!==Ke&&Yu(Oe),ts(Oe),Oe.flags&=-16777217),null;case 27:xn(Oe),He=Sn.current;var fn=Oe.type;if(Ve!==null&&Oe.stateNode!=null)Ve.memoizedProps!==Ke&&Yu(Oe);else{if(!Ke){if(Oe.stateNode===null)throw Error(Be(166));return ts(Oe),null}Ve=Nn.current,hs(Oe)?Ic(Oe):(Ve=_m(fn,Ke,He),Oe.stateNode=Ve,Yu(Oe))}return ts(Oe),null;case 5:if(xn(Oe),He=Oe.type,Ve!==null&&Oe.stateNode!=null)Ve.memoizedProps!==Ke&&Yu(Oe);else{if(!Ke){if(Oe.stateNode===null)throw Error(Be(166));return ts(Oe),null}if(Ve=Nn.current,hs(Oe))Ic(Oe);else{switch(fn=Rh(Sn.current),Ve){case 1:Ve=fn.createElementNS("http://www.w3.org/2000/svg",He);break;case 2:Ve=fn.createElementNS("http://www.w3.org/1998/Math/MathML",He);break;default:switch(He){case"svg":Ve=fn.createElementNS("http://www.w3.org/2000/svg",He);break;case"math":Ve=fn.createElementNS("http://www.w3.org/1998/Math/MathML",He);break;case"script":Ve=fn.createElement("div"),Ve.innerHTML="<script><\/script>",Ve=Ve.removeChild(Ve.firstChild);break;case"select":Ve=typeof Ke.is=="string"?fn.createElement("select",{is:Ke.is}):fn.createElement("select"),Ke.multiple?Ve.multiple=!0:Ke.size&&(Ve.size=Ke.size);break;default:Ve=typeof Ke.is=="string"?fn.createElement(He,{is:Ke.is}):fn.createElement(He)}}Ve[da]=Oe,Ve[fa]=Ke;e:for(fn=Oe.child;fn!==null;){if(fn.tag===5||fn.tag===6)Ve.appendChild(fn.stateNode);else if(fn.tag!==4&&fn.tag!==27&&fn.child!==null){fn.child.return=fn,fn=fn.child;continue}if(fn===Oe)break e;for(;fn.sibling===null;){if(fn.return===null||fn.return===Oe)break e;fn=fn.return}fn.sibling.return=fn.return,fn=fn.sibling}Oe.stateNode=Ve;e:switch(oo(Ve,He,Ke),He){case"button":case"input":case"select":case"textarea":Ve=!!Ke.autoFocus;break e;case"img":Ve=!0;break e;default:Ve=!1}Ve&&Yu(Oe)}}return ts(Oe),Oe.flags&=-16777217,null;case 6:if(Ve&&Oe.stateNode!=null)Ve.memoizedProps!==Ke&&Yu(Oe);else{if(typeof Ke!="string"&&Oe.stateNode===null)throw Error(Be(166));if(Ve=Sn.current,hs(Oe)){if(Ve=Oe.stateNode,He=Oe.memoizedProps,Ke=null,fn=Ki,fn!==null)switch(fn.tag){case 27:case 5:Ke=fn.memoizedProps}Ve[da]=Oe,Ve=!!(Ve.nodeValue===He||Ke!==null&&Ke.suppressHydrationWarning===!0||mm(Ve.nodeValue,He)),Ve||Il(Oe)}else Ve=Rh(Ve).createTextNode(Ke),Ve[da]=Oe,Oe.stateNode=Ve}return ts(Oe),null;case 13:if(Ke=Oe.memoizedState,Ve===null||Ve.memoizedState!==null&&Ve.memoizedState.dehydrated!==null){if(fn=hs(Oe),Ke!==null&&Ke.dehydrated!==null){if(Ve===null){if(!fn)throw Error(Be(318));if(fn=Oe.memoizedState,fn=fn!==null?fn.dehydrated:null,!fn)throw Error(Be(317));fn[da]=Oe}else Es(),(Oe.flags&128)===0&&(Oe.memoizedState=null),Oe.flags|=4;ts(Oe),fn=!1}else fn=cl(),Ve!==null&&Ve.memoizedState!==null&&(Ve.memoizedState.hydrationErrors=fn),fn=!0;if(!fn)return Oe.flags&256?(Wu(Oe),Oe):(Wu(Oe),null)}if(Wu(Oe),(Oe.flags&128)!==0)return Oe.lanes=He,Oe;if(He=Ke!==null,Ve=Ve!==null&&Ve.memoizedState!==null,He){Ke=Oe.child,fn=null,Ke.alternate!==null&&Ke.alternate.memoizedState!==null&&Ke.alternate.memoizedState.cachePool!==null&&(fn=Ke.alternate.memoizedState.cachePool.pool);var Bn=null;Ke.memoizedState!==null&&Ke.memoizedState.cachePool!==null&&(Bn=Ke.memoizedState.cachePool.pool),Bn!==fn&&(Ke.flags|=2048)}return He!==Ve&&He&&(Oe.child.flags|=8192),yh(Oe,Oe.updateQueue),ts(Oe),null;case 4:return un(),Ve===null&&Td(Oe.stateNode.containerInfo),ts(Oe),null;case 10:return Wo(Oe.type),ts(Oe),null;case 19:if(An(Ns),fn=Oe.memoizedState,fn===null)return ts(Oe),null;if(Ke=(Oe.flags&128)!==0,Bn=fn.rendering,Bn===null)if(Ke)kf(fn,!1);else{if(ls!==0||Ve!==null&&(Ve.flags&128)!==0)for(Ve=Oe.child;Ve!==null;){if(Bn=hh(Ve),Bn!==null){for(Oe.flags|=128,kf(fn,!1),Ve=Bn.updateQueue,Oe.updateQueue=Ve,yh(Oe,Ve),Oe.subtreeFlags=0,Ve=He,He=Oe.child;He!==null;)Su(He,Ve),He=He.sibling;return $n(Ns,Ns.current&1|2),Oe.child}Ve=Ve.sibling}fn.tail!==null&&cn()>wh&&(Oe.flags|=128,Ke=!0,kf(fn,!1),Oe.lanes=4194304)}else{if(!Ke)if(Ve=hh(Bn),Ve!==null){if(Oe.flags|=128,Ke=!0,Ve=Ve.updateQueue,Oe.updateQueue=Ve,yh(Oe,Ve),kf(fn,!0),fn.tail===null&&fn.tailMode==="hidden"&&!Bn.alternate&&!ni)return ts(Oe),null}else 2*cn()-fn.renderingStartTime>wh&&He!==536870912&&(Oe.flags|=128,Ke=!0,kf(fn,!1),Oe.lanes=4194304);fn.isBackwards?(Bn.sibling=Oe.child,Oe.child=Bn):(Ve=fn.last,Ve!==null?Ve.sibling=Bn:Oe.child=Bn,fn.last=Bn)}return fn.tail!==null?(Oe=fn.tail,fn.rendering=Oe,fn.tail=Oe.sibling,fn.renderingStartTime=cn(),Oe.sibling=null,Ve=Ns.current,$n(Ns,Ke?Ve&1|2:Ve&1),Oe):(ts(Oe),null);case 22:case 23:return Wu(Oe),Oa(),Ke=Oe.memoizedState!==null,Ve!==null?Ve.memoizedState!==null!==Ke&&(Oe.flags|=8192):Ke&&(Oe.flags|=8192),Ke?(He&536870912)!==0&&(Oe.flags&128)===0&&(ts(Oe),Oe.subtreeFlags&6&&(Oe.flags|=8192)):ts(Oe),He=Oe.updateQueue,He!==null&&yh(Oe,He.retryQueue),He=null,Ve!==null&&Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(He=Ve.memoizedState.cachePool.pool),Ke=null,Oe.memoizedState!==null&&Oe.memoizedState.cachePool!==null&&(Ke=Oe.memoizedState.cachePool.pool),Ke!==He&&(Oe.flags|=2048),Ve!==null&&An(gn),null;case 24:return He=null,Ve!==null&&(He=Ve.memoizedState.cache),Oe.memoizedState.cache!==He&&(Oe.flags|=2048),Wo(nn),ts(Oe),null;case 25:return null;case 30:return null}throw Error(Be(156,Oe.tag))}function Wm(Ve,Oe){switch(ju(Oe),Oe.tag){case 1:return Ve=Oe.flags,Ve&65536?(Oe.flags=Ve&-65537|128,Oe):null;case 3:return Wo(nn),un(),Ve=Oe.flags,(Ve&65536)!==0&&(Ve&128)===0?(Oe.flags=Ve&-65537|128,Oe):null;case 26:case 27:case 5:return xn(Oe),null;case 13:if(Wu(Oe),Ve=Oe.memoizedState,Ve!==null&&Ve.dehydrated!==null){if(Oe.alternate===null)throw Error(Be(340));Es()}return Ve=Oe.flags,Ve&65536?(Oe.flags=Ve&-65537|128,Oe):null;case 19:return An(Ns),null;case 4:return un(),null;case 10:return Wo(Oe.type),null;case 22:case 23:return Wu(Oe),Oa(),Ve!==null&&An(gn),Ve=Oe.flags,Ve&65536?(Oe.flags=Ve&-65537|128,Oe):null;case 24:return Wo(nn),null;case 25:return null;default:return null}}function Sp(Ve,Oe){switch(ju(Oe),Oe.tag){case 3:Wo(nn),un();break;case 26:case 27:case 5:xn(Oe);break;case 4:un();break;case 13:Wu(Oe);break;case 19:An(Ns);break;case 10:Wo(Oe.type);break;case 22:case 23:Wu(Oe),Oa(),Ve!==null&&An(gn);break;case 24:Wo(nn)}}function Mf(Ve,Oe){try{var He=Oe.updateQueue,Ke=He!==null?He.lastEffect:null;if(Ke!==null){var fn=Ke.next;He=fn;do{if((He.tag&Ve)===Ve){Ke=void 0;var Bn=He.create,Kn=He.inst;Ke=Bn(),Kn.destroy=Ke}He=He.next}while(He!==fn)}}catch(ar){Bi(Oe,Oe.return,ar)}}function yc(Ve,Oe,He){try{var Ke=Oe.updateQueue,fn=Ke!==null?Ke.lastEffect:null;if(fn!==null){var Bn=fn.next;Ke=Bn;do{if((Ke.tag&Ve)===Ve){var Kn=Ke.inst,ar=Kn.destroy;if(ar!==void 0){Kn.destroy=void 0,fn=Oe;var mr=He,Ir=ar;try{Ir()}catch(Yr){Bi(fn,mr,Yr)}}}Ke=Ke.next}while(Ke!==Bn)}}catch(Yr){Bi(Oe,Oe.return,Yr)}}function Pp(Ve){var Oe=Ve.updateQueue;if(Oe!==null){var He=Ve.stateNode;try{os(Oe,He)}catch(Ke){Bi(Ve,Ve.return,Ke)}}}function Ap(Ve,Oe,He){He.props=Hc(Ve.type,Ve.memoizedProps),He.state=Ve.memoizedState;try{He.componentWillUnmount()}catch(Ke){Bi(Ve,Oe,Ke)}}function Nf(Ve,Oe){try{var He=Ve.ref;if(He!==null){switch(Ve.tag){case 26:case 27:case 5:var Ke=Ve.stateNode;break;case 30:Ke=Ve.stateNode;break;default:Ke=Ve.stateNode}typeof He=="function"?Ve.refCleanup=He(Ke):He.current=Ke}}catch(fn){Bi(Ve,Oe,fn)}}function Tu(Ve,Oe){var He=Ve.ref,Ke=Ve.refCleanup;if(He!==null)if(typeof Ke=="function")try{Ke()}catch(fn){Bi(Ve,Oe,fn)}finally{Ve.refCleanup=null,Ve=Ve.alternate,Ve!=null&&(Ve.refCleanup=null)}else if(typeof He=="function")try{He(null)}catch(fn){Bi(Ve,Oe,fn)}else He.current=null}function Ep(Ve){var Oe=Ve.type,He=Ve.memoizedProps,Ke=Ve.stateNode;try{e:switch(Oe){case"button":case"input":case"select":case"textarea":He.autoFocus&&Ke.focus();break e;case"img":He.src?Ke.src=He.src:He.srcSet&&(Ke.srcset=He.srcSet)}}catch(fn){Bi(Ve,Ve.return,fn)}}function rd(Ve,Oe,He){try{var Ke=Ve.stateNode;pg(Ke,Ve.type,He,Oe),Ke[fa]=Oe}catch(fn){Bi(Ve,Ve.return,fn)}}function Tp(Ve){return Ve.tag===5||Ve.tag===3||Ve.tag===26||Ve.tag===27&&Ac(Ve.type)||Ve.tag===4}function ad(Ve){e:for(;;){for(;Ve.sibling===null;){if(Ve.return===null||Tp(Ve.return))return null;Ve=Ve.return}for(Ve.sibling.return=Ve.return,Ve=Ve.sibling;Ve.tag!==5&&Ve.tag!==6&&Ve.tag!==18;){if(Ve.tag===27&&Ac(Ve.type)||Ve.flags&2||Ve.child===null||Ve.tag===4)continue e;Ve.child.return=Ve,Ve=Ve.child}if(!(Ve.flags&2))return Ve.stateNode}}function id(Ve,Oe,He){var Ke=Ve.tag;if(Ke===5||Ke===6)Ve=Ve.stateNode,Oe?(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).insertBefore(Ve,Oe):(Oe=He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He,Oe.appendChild(Ve),He=He._reactRootContainer,He!=null||Oe.onclick!==null||(Oe.onclick=Bh));else if(Ke!==4&&(Ke===27&&Ac(Ve.type)&&(He=Ve.stateNode,Oe=null),Ve=Ve.child,Ve!==null))for(id(Ve,Oe,He),Ve=Ve.sibling;Ve!==null;)id(Ve,Oe,He),Ve=Ve.sibling}function vh(Ve,Oe,He){var Ke=Ve.tag;if(Ke===5||Ke===6)Ve=Ve.stateNode,Oe?He.insertBefore(Ve,Oe):He.appendChild(Ve);else if(Ke!==4&&(Ke===27&&Ac(Ve.type)&&(He=Ve.stateNode),Ve=Ve.child,Ve!==null))for(vh(Ve,Oe,He),Ve=Ve.sibling;Ve!==null;)vh(Ve,Oe,He),Ve=Ve.sibling}function Cp(Ve){var Oe=Ve.stateNode,He=Ve.memoizedProps;try{for(var Ke=Ve.type,fn=Oe.attributes;fn.length;)Oe.removeAttributeNode(fn[0]);oo(Oe,Ke,He),Oe[da]=Ve,Oe[fa]=He}catch(Bn){Bi(Ve,Ve.return,Bn)}}var Ku=!1,gs=!1,sd=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,js=null;function Xm(Ve,Oe){if(Ve=Ve.containerInfo,Rd=Dh,Ve=bu(Ve),fs(Ve)){if("selectionStart"in Ve)var He={start:Ve.selectionStart,end:Ve.selectionEnd};else e:{He=(He=Ve.ownerDocument)&&He.defaultView||window;var Ke=He.getSelection&&He.getSelection();if(Ke&&Ke.rangeCount!==0){He=Ke.anchorNode;var fn=Ke.anchorOffset,Bn=Ke.focusNode;Ke=Ke.focusOffset;try{He.nodeType,Bn.nodeType}catch{He=null;break e}var Kn=0,ar=-1,mr=-1,Ir=0,Yr=0,ta=Ve,Fr=null;t:for(;;){for(var Or;ta!==He||fn!==0&&ta.nodeType!==3||(ar=Kn+fn),ta!==Bn||Ke!==0&&ta.nodeType!==3||(mr=Kn+Ke),ta.nodeType===3&&(Kn+=ta.nodeValue.length),(Or=ta.firstChild)!==null;)Fr=ta,ta=Or;for(;;){if(ta===Ve)break t;if(Fr===He&&++Ir===fn&&(ar=Kn),Fr===Bn&&++Yr===Ke&&(mr=Kn),(Or=ta.nextSibling)!==null)break;ta=Fr,Fr=ta.parentNode}ta=Or}He=ar===-1||mr===-1?null:{start:ar,end:mr}}else He=null}He=He||{start:0,end:0}}else He=null;for(Vd={focusedElem:Ve,selectionRange:He},Dh=!1,js=Oe;js!==null;)if(Oe=js,Ve=Oe.child,(Oe.subtreeFlags&1024)!==0&&Ve!==null)Ve.return=Oe,js=Ve;else for(;js!==null;){switch(Oe=js,Bn=Oe.alternate,Ve=Oe.flags,Oe.tag){case 0:break;case 11:case 15:break;case 1:if((Ve&1024)!==0&&Bn!==null){Ve=void 0,He=Oe,fn=Bn.memoizedProps,Bn=Bn.memoizedState,Ke=He.stateNode;try{var La=Hc(He.type,fn,He.elementType===He.type);Ve=Ke.getSnapshotBeforeUpdate(La,Bn),Ke.__reactInternalSnapshotBeforeUpdate=Ve}catch(Va){Bi(He,He.return,Va)}}break;case 3:if((Ve&1024)!==0){if(Ve=Oe.stateNode.containerInfo,He=Ve.nodeType,He===9)Nd(Ve);else if(He===1)switch(Ve.nodeName){case"HEAD":case"HTML":case"BODY":Nd(Ve);break;default:Ve.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((Ve&1024)!==0)throw Error(Be(163))}if(Ve=Oe.sibling,Ve!==null){Ve.return=Oe.return,js=Ve;break}js=Oe.return}}function Rp(Ve,Oe,He){var Ke=He.flags;switch(He.tag){case 0:case 11:case 15:vc(Ve,He),Ke&4&&Mf(5,He);break;case 1:if(vc(Ve,He),Ke&4)if(Ve=He.stateNode,Oe===null)try{Ve.componentDidMount()}catch(Kn){Bi(He,He.return,Kn)}else{var fn=Hc(He.type,Oe.memoizedProps);Oe=Oe.memoizedState;try{Ve.componentDidUpdate(fn,Oe,Ve.__reactInternalSnapshotBeforeUpdate)}catch(Kn){Bi(He,He.return,Kn)}}Ke&64&&Pp(He),Ke&512&&Nf(He,He.return);break;case 3:if(vc(Ve,He),Ke&64&&(Ve=He.updateQueue,Ve!==null)){if(Oe=null,He.child!==null)switch(He.child.tag){case 27:case 5:Oe=He.child.stateNode;break;case 1:Oe=He.child.stateNode}try{os(Ve,Oe)}catch(Kn){Bi(He,He.return,Kn)}}break;case 27:Oe===null&&Ke&4&&Cp(He);case 26:case 5:vc(Ve,He),Oe===null&&Ke&4&&Ep(He),Ke&512&&Nf(He,He.return);break;case 12:vc(Ve,He);break;case 13:vc(Ve,He),Ke&4&&Mp(Ve,He),Ke&64&&(Ve=He.memoizedState,Ve!==null&&(Ve=Ve.dehydrated,Ve!==null&&(He=rg.bind(null,He),xg(Ve,He))));break;case 22:if(Ke=He.memoizedState!==null||Ku,!Ke){Oe=Oe!==null&&Oe.memoizedState!==null||gs,fn=Ku;var Bn=gs;Ku=Ke,(gs=Oe)&&!Bn?bc(Ve,He,(He.subtreeFlags&8772)!==0):vc(Ve,He),Ku=fn,gs=Bn}break;case 30:break;default:vc(Ve,He)}}function Vp(Ve){var Oe=Ve.alternate;Oe!==null&&(Ve.alternate=null,Vp(Oe)),Ve.child=null,Ve.deletions=null,Ve.sibling=null,Ve.tag===5&&(Oe=Ve.stateNode,Oe!==null&&ri(Oe)),Ve.stateNode=null,Ve.return=null,Ve.dependencies=null,Ve.memoizedProps=null,Ve.memoizedState=null,Ve.pendingProps=null,Ve.stateNode=null,Ve.updateQueue=null}var qi=null,Yo=!1;function Ju(Ve,Oe,He){for(He=He.child;He!==null;)kp(Ve,Oe,He),He=He.sibling}function kp(Ve,Oe,He){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(yr,He)}catch{}switch(He.tag){case 26:gs||Tu(He,Oe),Ju(Ve,Oe,He),He.memoizedState?He.memoizedState.count--:He.stateNode&&(He=He.stateNode,He.parentNode.removeChild(He));break;case 27:gs||Tu(He,Oe);var Ke=qi,fn=Yo;Ac(He.type)&&(qi=He.stateNode,Yo=!1),Ju(Ve,Oe,He),jf(He.stateNode),qi=Ke,Yo=fn;break;case 5:gs||Tu(He,Oe);case 6:if(Ke=qi,fn=Yo,qi=null,Ju(Ve,Oe,He),qi=Ke,Yo=fn,qi!==null)if(Yo)try{(qi.nodeType===9?qi.body:qi.nodeName==="HTML"?qi.ownerDocument.body:qi).removeChild(He.stateNode)}catch(Bn){Bi(He,Oe,Bn)}else try{qi.removeChild(He.stateNode)}catch(Bn){Bi(He,Oe,Bn)}break;case 18:qi!==null&&(Yo?(Ve=qi,wm(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve,He.stateNode),Jf(Ve)):wm(qi,He.stateNode));break;case 4:Ke=qi,fn=Yo,qi=He.stateNode.containerInfo,Yo=!0,Ju(Ve,Oe,He),qi=Ke,Yo=fn;break;case 0:case 11:case 14:case 15:gs||yc(2,He,Oe),gs||yc(4,He,Oe),Ju(Ve,Oe,He);break;case 1:gs||(Tu(He,Oe),Ke=He.stateNode,typeof Ke.componentWillUnmount=="function"&&Ap(He,Oe,Ke)),Ju(Ve,Oe,He);break;case 21:Ju(Ve,Oe,He);break;case 22:gs=(Ke=gs)||He.memoizedState!==null,Ju(Ve,Oe,He),gs=Ke;break;default:Ju(Ve,Oe,He)}}function Mp(Ve,Oe){if(Oe.memoizedState===null&&(Ve=Oe.alternate,Ve!==null&&(Ve=Ve.memoizedState,Ve!==null&&(Ve=Ve.dehydrated,Ve!==null))))try{Jf(Ve)}catch(He){Bi(Oe,Oe.return,He)}}function Ym(Ve){switch(Ve.tag){case 13:case 19:var Oe=Ve.stateNode;return Oe===null&&(Oe=Ve.stateNode=new Bp),Oe;case 22:return Ve=Ve.stateNode,Oe=Ve._retryCache,Oe===null&&(Oe=Ve._retryCache=new Bp),Oe;default:throw Error(Be(435,Ve.tag))}}function od(Ve,Oe){var He=Ym(Ve);Oe.forEach(function(Ke){var fn=ag.bind(null,Ve,Ke);He.has(Ke)||(He.add(Ke),Ke.then(fn,fn))})}function gl(Ve,Oe){var He=Oe.deletions;if(He!==null)for(var Ke=0;Ke<He.length;Ke++){var fn=He[Ke],Bn=Ve,Kn=Oe,ar=Kn;e:for(;ar!==null;){switch(ar.tag){case 27:if(Ac(ar.type)){qi=ar.stateNode,Yo=!1;break e}break;case 5:qi=ar.stateNode,Yo=!1;break e;case 3:case 4:qi=ar.stateNode.containerInfo,Yo=!0;break e}ar=ar.return}if(qi===null)throw Error(Be(160));kp(Bn,Kn,fn),qi=null,Yo=!1,Bn=fn.alternate,Bn!==null&&(Bn.return=null),fn.return=null}if(Oe.subtreeFlags&13878)for(Oe=Oe.child;Oe!==null;)Np(Oe,Ve),Oe=Oe.sibling}var cu=null;function Np(Ve,Oe){var He=Ve.alternate,Ke=Ve.flags;switch(Ve.tag){case 0:case 11:case 14:case 15:gl(Oe,Ve),yl(Ve),Ke&4&&(yc(3,Ve,Ve.return),Mf(3,Ve),yc(5,Ve,Ve.return));break;case 1:gl(Oe,Ve),yl(Ve),Ke&512&&(gs||He===null||Tu(He,He.return)),Ke&64&&Ku&&(Ve=Ve.updateQueue,Ve!==null&&(Ke=Ve.callbacks,Ke!==null&&(He=Ve.shared.hiddenCallbacks,Ve.shared.hiddenCallbacks=He===null?Ke:He.concat(Ke))));break;case 26:var fn=cu;if(gl(Oe,Ve),yl(Ve),Ke&512&&(gs||He===null||Tu(He,He.return)),Ke&4){var Bn=He!==null?He.memoizedState:null;if(Ke=Ve.memoizedState,He===null)if(Ke===null)if(Ve.stateNode===null){e:{Ke=Ve.type,He=Ve.memoizedProps,fn=fn.ownerDocument||fn;t:switch(Ke){case"title":Bn=fn.getElementsByTagName("title")[0],(!Bn||Bn[Ha]||Bn[da]||Bn.namespaceURI==="http://www.w3.org/2000/svg"||Bn.hasAttribute("itemprop"))&&(Bn=fn.createElement(Ke),fn.head.insertBefore(Bn,fn.querySelector("head > title"))),oo(Bn,Ke,He),Bn[da]=Ve,ii(Bn),Ke=Bn;break e;case"link":var Kn=Cm("link","href",fn).get(Ke+(He.href||""));if(Kn){for(var ar=0;ar<Kn.length;ar++)if(Bn=Kn[ar],Bn.getAttribute("href")===(He.href==null||He.href===""?null:He.href)&&Bn.getAttribute("rel")===(He.rel==null?null:He.rel)&&Bn.getAttribute("title")===(He.title==null?null:He.title)&&Bn.getAttribute("crossorigin")===(He.crossOrigin==null?null:He.crossOrigin)){Kn.splice(ar,1);break t}}Bn=fn.createElement(Ke),oo(Bn,Ke,He),fn.head.appendChild(Bn);break;case"meta":if(Kn=Cm("meta","content",fn).get(Ke+(He.content||""))){for(ar=0;ar<Kn.length;ar++)if(Bn=Kn[ar],Bn.getAttribute("content")===(He.content==null?null:""+He.content)&&Bn.getAttribute("name")===(He.name==null?null:He.name)&&Bn.getAttribute("property")===(He.property==null?null:He.property)&&Bn.getAttribute("http-equiv")===(He.httpEquiv==null?null:He.httpEquiv)&&Bn.getAttribute("charset")===(He.charSet==null?null:He.charSet)){Kn.splice(ar,1);break t}}Bn=fn.createElement(Ke),oo(Bn,Ke,He),fn.head.appendChild(Bn);break;default:throw Error(Be(468,Ke))}Bn[da]=Ve,ii(Bn),Ke=Bn}Ve.stateNode=Ke}else Bm(fn,Ve.type,Ve.stateNode);else Ve.stateNode=Tm(fn,Ke,Ve.memoizedProps);else Bn!==Ke?(Bn===null?He.stateNode!==null&&(He=He.stateNode,He.parentNode.removeChild(He)):Bn.count--,Ke===null?Bm(fn,Ve.type,Ve.stateNode):Tm(fn,Ke,Ve.memoizedProps)):Ke===null&&Ve.stateNode!==null&&rd(Ve,Ve.memoizedProps,He.memoizedProps)}break;case 27:gl(Oe,Ve),yl(Ve),Ke&512&&(gs||He===null||Tu(He,He.return)),He!==null&&Ke&4&&rd(Ve,Ve.memoizedProps,He.memoizedProps);break;case 5:if(gl(Oe,Ve),yl(Ve),Ke&512&&(gs||He===null||Tu(He,He.return)),Ve.flags&32){fn=Ve.stateNode;try{fo(fn,"")}catch(Or){Bi(Ve,Ve.return,Or)}}Ke&4&&Ve.stateNode!=null&&(fn=Ve.memoizedProps,rd(Ve,fn,He!==null?He.memoizedProps:fn)),Ke&1024&&(sd=!0);break;case 6:if(gl(Oe,Ve),yl(Ve),Ke&4){if(Ve.stateNode===null)throw Error(Be(162));Ke=Ve.memoizedProps,He=Ve.stateNode;try{He.nodeValue=Ke}catch(Or){Bi(Ve,Ve.return,Or)}}break;case 3:if(Mh=null,fn=cu,cu=Vh(Oe.containerInfo),gl(Oe,Ve),cu=fn,yl(Ve),Ke&4&&He!==null&&He.memoizedState.isDehydrated)try{Jf(Oe.containerInfo)}catch(Or){Bi(Ve,Ve.return,Or)}sd&&(sd=!1,Ip(Ve));break;case 4:Ke=cu,cu=Vh(Ve.stateNode.containerInfo),gl(Oe,Ve),yl(Ve),cu=Ke;break;case 12:gl(Oe,Ve),yl(Ve);break;case 13:gl(Oe,Ve),yl(Ve),Ve.child.flags&8192&&Ve.memoizedState!==null!=(He!==null&&He.memoizedState!==null)&&(dd=cn()),Ke&4&&(Ke=Ve.updateQueue,Ke!==null&&(Ve.updateQueue=null,od(Ve,Ke)));break;case 22:fn=Ve.memoizedState!==null;var mr=He!==null&&He.memoizedState!==null,Ir=Ku,Yr=gs;if(Ku=Ir||fn,gs=Yr||mr,gl(Oe,Ve),gs=Yr,Ku=Ir,yl(Ve),Ke&8192)e:for(Oe=Ve.stateNode,Oe._visibility=fn?Oe._visibility&-2:Oe._visibility|1,fn&&(He===null||mr||Ku||gs||Gc(Ve)),He=null,Oe=Ve;;){if(Oe.tag===5||Oe.tag===26){if(He===null){mr=He=Oe;try{if(Bn=mr.stateNode,fn)Kn=Bn.style,typeof Kn.setProperty=="function"?Kn.setProperty("display","none","important"):Kn.display="none";else{ar=mr.stateNode;var ta=mr.memoizedProps.style,Fr=ta!=null&&ta.hasOwnProperty("display")?ta.display:null;ar.style.display=Fr==null||typeof Fr=="boolean"?"":(""+Fr).trim()}}catch(Or){Bi(mr,mr.return,Or)}}}else if(Oe.tag===6){if(He===null){mr=Oe;try{mr.stateNode.nodeValue=fn?"":mr.memoizedProps}catch(Or){Bi(mr,mr.return,Or)}}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===Ve)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===Ve)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===Ve)break e;He===Oe&&(He=null),Oe=Oe.return}He===Oe&&(He=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}Ke&4&&(Ke=Ve.updateQueue,Ke!==null&&(He=Ke.retryQueue,He!==null&&(Ke.retryQueue=null,od(Ve,He))));break;case 19:gl(Oe,Ve),yl(Ve),Ke&4&&(Ke=Ve.updateQueue,Ke!==null&&(Ve.updateQueue=null,od(Ve,Ke)));break;case 30:break;case 21:break;default:gl(Oe,Ve),yl(Ve)}}function yl(Ve){var Oe=Ve.flags;if(Oe&2){try{for(var He,Ke=Ve.return;Ke!==null;){if(Tp(Ke)){He=Ke;break}Ke=Ke.return}if(He==null)throw Error(Be(160));switch(He.tag){case 27:var fn=He.stateNode,Bn=ad(Ve);vh(Ve,Bn,fn);break;case 5:var Kn=He.stateNode;He.flags&32&&(fo(Kn,""),He.flags&=-33);var ar=ad(Ve);vh(Ve,ar,Kn);break;case 3:case 4:var mr=He.stateNode.containerInfo,Ir=ad(Ve);id(Ve,Ir,mr);break;default:throw Error(Be(161))}}catch(Yr){Bi(Ve,Ve.return,Yr)}Ve.flags&=-3}Oe&4096&&(Ve.flags&=-4097)}function Ip(Ve){if(Ve.subtreeFlags&1024)for(Ve=Ve.child;Ve!==null;){var Oe=Ve;Ip(Oe),Oe.tag===5&&Oe.flags&1024&&Oe.stateNode.reset(),Ve=Ve.sibling}}function vc(Ve,Oe){if(Oe.subtreeFlags&8772)for(Oe=Oe.child;Oe!==null;)Rp(Ve,Oe.alternate,Oe),Oe=Oe.sibling}function Gc(Ve){for(Ve=Ve.child;Ve!==null;){var Oe=Ve;switch(Oe.tag){case 0:case 11:case 14:case 15:yc(4,Oe,Oe.return),Gc(Oe);break;case 1:Tu(Oe,Oe.return);var He=Oe.stateNode;typeof He.componentWillUnmount=="function"&&Ap(Oe,Oe.return,He),Gc(Oe);break;case 27:jf(Oe.stateNode);case 26:case 5:Tu(Oe,Oe.return),Gc(Oe);break;case 22:Oe.memoizedState===null&&Gc(Oe);break;case 30:Gc(Oe);break;default:Gc(Oe)}Ve=Ve.sibling}}function bc(Ve,Oe,He){for(He=He&&(Oe.subtreeFlags&8772)!==0,Oe=Oe.child;Oe!==null;){var Ke=Oe.alternate,fn=Ve,Bn=Oe,Kn=Bn.flags;switch(Bn.tag){case 0:case 11:case 15:bc(fn,Bn,He),Mf(4,Bn);break;case 1:if(bc(fn,Bn,He),Ke=Bn,fn=Ke.stateNode,typeof fn.componentDidMount=="function")try{fn.componentDidMount()}catch(Ir){Bi(Ke,Ke.return,Ir)}if(Ke=Bn,fn=Ke.updateQueue,fn!==null){var ar=Ke.stateNode;try{var mr=fn.shared.hiddenCallbacks;if(mr!==null)for(fn.shared.hiddenCallbacks=null,fn=0;fn<mr.length;fn++)Xa(mr[fn],ar)}catch(Ir){Bi(Ke,Ke.return,Ir)}}He&&Kn&64&&Pp(Bn),Nf(Bn,Bn.return);break;case 27:Cp(Bn);case 26:case 5:bc(fn,Bn,He),He&&Ke===null&&Kn&4&&Ep(Bn),Nf(Bn,Bn.return);break;case 12:bc(fn,Bn,He);break;case 13:bc(fn,Bn,He),He&&Kn&4&&Mp(fn,Bn);break;case 22:Bn.memoizedState===null&&bc(fn,Bn,He),Nf(Bn,Bn.return);break;case 30:break;default:bc(fn,Bn,He)}Oe=Oe.sibling}}function ld(Ve,Oe){var He=null;Ve!==null&&Ve.memoizedState!==null&&Ve.memoizedState.cachePool!==null&&(He=Ve.memoizedState.cachePool.pool),Ve=null,Oe.memoizedState!==null&&Oe.memoizedState.cachePool!==null&&(Ve=Oe.memoizedState.cachePool.pool),Ve!==He&&(Ve!=null&&Ve.refCount++,He!=null&&Xn(He))}function ud(Ve,Oe){Ve=null,Oe.alternate!==null&&(Ve=Oe.alternate.memoizedState.cache),Oe=Oe.memoizedState.cache,Oe!==Ve&&(Oe.refCount++,Ve!=null&&Xn(Ve))}function Cu(Ve,Oe,He,Ke){if(Oe.subtreeFlags&10256)for(Oe=Oe.child;Oe!==null;)Dp(Ve,Oe,He,Ke),Oe=Oe.sibling}function Dp(Ve,Oe,He,Ke){var fn=Oe.flags;switch(Oe.tag){case 0:case 11:case 15:Cu(Ve,Oe,He,Ke),fn&2048&&Mf(9,Oe);break;case 1:Cu(Ve,Oe,He,Ke);break;case 3:Cu(Ve,Oe,He,Ke),fn&2048&&(Ve=null,Oe.alternate!==null&&(Ve=Oe.alternate.memoizedState.cache),Oe=Oe.memoizedState.cache,Oe!==Ve&&(Oe.refCount++,Ve!=null&&Xn(Ve)));break;case 12:if(fn&2048){Cu(Ve,Oe,He,Ke),Ve=Oe.stateNode;try{var Bn=Oe.memoizedProps,Kn=Bn.id,ar=Bn.onPostCommit;typeof ar=="function"&&ar(Kn,Oe.alternate===null?"mount":"update",Ve.passiveEffectDuration,-0)}catch(mr){Bi(Oe,Oe.return,mr)}}else Cu(Ve,Oe,He,Ke);break;case 13:Cu(Ve,Oe,He,Ke);break;case 23:break;case 22:Bn=Oe.stateNode,Kn=Oe.alternate,Oe.memoizedState!==null?Bn._visibility&2?Cu(Ve,Oe,He,Ke):If(Ve,Oe):Bn._visibility&2?Cu(Ve,Oe,He,Ke):(Bn._visibility|=2,rf(Ve,Oe,He,Ke,(Oe.subtreeFlags&10256)!==0)),fn&2048&&ld(Kn,Oe);break;case 24:Cu(Ve,Oe,He,Ke),fn&2048&&ud(Oe.alternate,Oe);break;default:Cu(Ve,Oe,He,Ke)}}function rf(Ve,Oe,He,Ke,fn){for(fn=fn&&(Oe.subtreeFlags&10256)!==0,Oe=Oe.child;Oe!==null;){var Bn=Ve,Kn=Oe,ar=He,mr=Ke,Ir=Kn.flags;switch(Kn.tag){case 0:case 11:case 15:rf(Bn,Kn,ar,mr,fn),Mf(8,Kn);break;case 23:break;case 22:var Yr=Kn.stateNode;Kn.memoizedState!==null?Yr._visibility&2?rf(Bn,Kn,ar,mr,fn):If(Bn,Kn):(Yr._visibility|=2,rf(Bn,Kn,ar,mr,fn)),fn&&Ir&2048&&ld(Kn.alternate,Kn);break;case 24:rf(Bn,Kn,ar,mr,fn),fn&&Ir&2048&&ud(Kn.alternate,Kn);break;default:rf(Bn,Kn,ar,mr,fn)}Oe=Oe.sibling}}function If(Ve,Oe){if(Oe.subtreeFlags&10256)for(Oe=Oe.child;Oe!==null;){var He=Ve,Ke=Oe,fn=Ke.flags;switch(Ke.tag){case 22:If(He,Ke),fn&2048&&ld(Ke.alternate,Ke);break;case 24:If(He,Ke),fn&2048&&ud(Ke.alternate,Ke);break;default:If(He,Ke)}Oe=Oe.sibling}}var Df=8192;function af(Ve){if(Ve.subtreeFlags&Df)for(Ve=Ve.child;Ve!==null;)Lp(Ve),Ve=Ve.sibling}function Lp(Ve){switch(Ve.tag){case 26:af(Ve),Ve.flags&Df&&Ve.memoizedState!==null&&Ng(cu,Ve.memoizedState,Ve.memoizedProps);break;case 5:af(Ve);break;case 3:case 4:var Oe=cu;cu=Vh(Ve.stateNode.containerInfo),af(Ve),cu=Oe;break;case 22:Ve.memoizedState===null&&(Oe=Ve.alternate,Oe!==null&&Oe.memoizedState!==null?(Oe=Df,Df=16777216,af(Ve),Df=Oe):af(Ve));break;default:af(Ve)}}function Fp(Ve){var Oe=Ve.alternate;if(Oe!==null&&(Ve=Oe.child,Ve!==null)){Oe.child=null;do Oe=Ve.sibling,Ve.sibling=null,Ve=Oe;while(Ve!==null)}}function Lf(Ve){var Oe=Ve.deletions;if((Ve.flags&16)!==0){if(Oe!==null)for(var He=0;He<Oe.length;He++){var Ke=Oe[He];js=Ke,Up(Ke,Ve)}Fp(Ve)}if(Ve.subtreeFlags&10256)for(Ve=Ve.child;Ve!==null;)Op(Ve),Ve=Ve.sibling}function Op(Ve){switch(Ve.tag){case 0:case 11:case 15:Lf(Ve),Ve.flags&2048&&yc(9,Ve,Ve.return);break;case 3:Lf(Ve);break;case 12:Lf(Ve);break;case 22:var Oe=Ve.stateNode;Ve.memoizedState!==null&&Oe._visibility&2&&(Ve.return===null||Ve.return.tag!==13)?(Oe._visibility&=-3,bh(Ve)):Lf(Ve);break;default:Lf(Ve)}}function bh(Ve){var Oe=Ve.deletions;if((Ve.flags&16)!==0){if(Oe!==null)for(var He=0;He<Oe.length;He++){var Ke=Oe[He];js=Ke,Up(Ke,Ve)}Fp(Ve)}for(Ve=Ve.child;Ve!==null;){switch(Oe=Ve,Oe.tag){case 0:case 11:case 15:yc(8,Oe,Oe.return),bh(Oe);break;case 22:He=Oe.stateNode,He._visibility&2&&(He._visibility&=-3,bh(Oe));break;default:bh(Oe)}Ve=Ve.sibling}}function Up(Ve,Oe){for(;js!==null;){var He=js;switch(He.tag){case 0:case 11:case 15:yc(8,He,Oe);break;case 23:case 22:if(He.memoizedState!==null&&He.memoizedState.cachePool!==null){var Ke=He.memoizedState.cachePool.pool;Ke!=null&&Ke.refCount++}break;case 24:Xn(He.memoizedState.cache)}if(Ke=He.child,Ke!==null)Ke.return=He,js=Ke;else e:for(He=Ve;js!==null;){Ke=js;var fn=Ke.sibling,Bn=Ke.return;if(Vp(Ke),Ke===He){js=null;break e}if(fn!==null){fn.return=Bn,js=fn;break e}js=Bn}}}var Km={getCacheForType:function(Ve){var Oe=Ji(nn),He=Oe.data.get(Ve);return He===void 0&&(He=Ve(),Oe.data.set(Ve,He)),He}},Jm=typeof WeakMap=="function"?WeakMap:Map,vi=0,Ni=null,Ka=null,oi=0,bi=0,vl=null,wc=!1,sf=!1,cd=!1,Zu=0,ls=0,xc=0,Wc=0,fd=0,Ul=0,of=0,Ff=null,Ko=null,hd=!1,dd=0,wh=1/0,xh=null,_c=null,so=0,Sc=null,lf=null,uf=0,pd=0,md=null,qp=null,Of=0,gd=null;function bl(){if((vi&2)!==0&&oi!==0)return oi&-oi;if(Ln.T!==null){var Ve=xr;return Ve!==0?Ve:Sd()}return Sa()}function $p(){Ul===0&&(Ul=(oi&536870912)===0||ni?fr():536870912);var Ve=Ol.current;return Ve!==null&&(Ve.flags|=32),Ul}function wl(Ve,Oe,He){(Ve===Ni&&(bi===2||bi===9)||Ve.cancelPendingCommit!==null)&&(cf(Ve,0),Pc(Ve,oi,Ul,!1)),sa(Ve,He),((vi&2)===0||Ve!==Ni)&&(Ve===Ni&&((vi&2)===0&&(Wc|=He),ls===4&&Pc(Ve,oi,Ul,!1)),Bu(Ve))}function jp(Ve,Oe,He){if((vi&6)!==0)throw Error(Be(327));var Ke=!He&&(Oe&124)===0&&(Oe&Ve.expiredLanes)===0||na(Ve,Oe),fn=Ke?eg(Ve,Oe):bd(Ve,Oe,!0),Bn=Ke;do{if(fn===0){sf&&!Ke&&Pc(Ve,Oe,0,!1);break}else{if(He=Ve.current.alternate,Bn&&!Zm(He)){fn=bd(Ve,Oe,!1),Bn=!1;continue}if(fn===2){if(Bn=Oe,Ve.errorRecoveryDisabledLanes&Bn)var Kn=0;else Kn=Ve.pendingLanes&-536870913,Kn=Kn!==0?Kn:Kn&536870912?536870912:0;if(Kn!==0){Oe=Kn;e:{var ar=Ve;fn=Ff;var mr=ar.current.memoizedState.isDehydrated;if(mr&&(cf(ar,Kn).flags|=256),Kn=bd(ar,Kn,!1),Kn!==2){if(cd&&!mr){ar.errorRecoveryDisabledLanes|=Bn,Wc|=Bn,fn=4;break e}Bn=Ko,Ko=fn,Bn!==null&&(Ko===null?Ko=Bn:Ko.push.apply(Ko,Bn))}fn=Kn}if(Bn=!1,fn!==2)continue}}if(fn===1){cf(Ve,0),Pc(Ve,Oe,0,!0);break}e:{switch(Ke=Ve,Bn=fn,Bn){case 0:case 1:throw Error(Be(345));case 4:if((Oe&4194048)!==Oe)break;case 6:Pc(Ke,Oe,Ul,!wc);break e;case 2:Ko=null;break;case 3:case 5:break;default:throw Error(Be(329))}if((Oe&62914560)===Oe&&(fn=dd+300-cn(),10<fn)){if(Pc(Ke,Oe,Ul,!wc),Kr(Ke,0,!0)!==0)break e;Ke.timeoutHandle=vm(zp.bind(null,Ke,He,Ko,xh,hd,Oe,Ul,Wc,of,wc,Bn,2,-0,0),fn);break e}zp(Ke,He,Ko,xh,hd,Oe,Ul,Wc,of,wc,Bn,0,-0,0)}}break}while(!0);Bu(Ve)}function zp(Ve,Oe,He,Ke,fn,Bn,Kn,ar,mr,Ir,Yr,ta,Fr,Or){if(Ve.timeoutHandle=-1,ta=Oe.subtreeFlags,(ta&8192||(ta&16785408)===16785408)&&(Gf={stylesheets:null,count:0,unsuspend:Mg},Lp(Oe),ta=Ig(),ta!==null)){Ve.cancelPendingCommit=ta(Jp.bind(null,Ve,Oe,Bn,He,Ke,fn,Kn,ar,mr,Yr,1,Fr,Or)),Pc(Ve,Bn,Kn,!Ir);return}Jp(Ve,Oe,Bn,He,Ke,fn,Kn,ar,mr)}function Zm(Ve){for(var Oe=Ve;;){var He=Oe.tag;if((He===0||He===11||He===15)&&Oe.flags&16384&&(He=Oe.updateQueue,He!==null&&(He=He.stores,He!==null)))for(var Ke=0;Ke<He.length;Ke++){var fn=He[Ke],Bn=fn.getSnapshot;fn=fn.value;try{if(!Wi(Bn(),fn))return!1}catch{return!1}}if(He=Oe.child,Oe.subtreeFlags&16384&&He!==null)He.return=Oe,Oe=He;else{if(Oe===Ve)break;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===Ve)return!0;Oe=Oe.return}Oe.sibling.return=Oe.return,Oe=Oe.sibling}}return!0}function Pc(Ve,Oe,He,Ke){Oe&=~fd,Oe&=~Wc,Ve.suspendedLanes|=Oe,Ve.pingedLanes&=~Oe,Ke&&(Ve.warmLanes|=Oe),Ke=Ve.expirationTimes;for(var fn=Oe;0<fn;){var Bn=31-$r(fn),Kn=1<<Bn;Ke[Bn]=-1,fn&=~Kn}He!==0&&Rr(Ve,He,Oe)}function _h(){return(vi&6)===0?(Uf(0),!1):!0}function yd(){if(Ka!==null){if(bi===0)var Ve=Ka.return;else Ve=Ka,_o=ss=null,ks(Ve),tf=null,Rf=0,Ve=Ka;for(;Ve!==null;)Sp(Ve.alternate,Ve),Ve=Ve.return;Ka=null}}function cf(Ve,Oe){var He=Ve.timeoutHandle;He!==-1&&(Ve.timeoutHandle=-1,gg(He)),He=Ve.cancelPendingCommit,He!==null&&(Ve.cancelPendingCommit=null,He()),yd(),Ni=Ve,Ka=He=Us(Ve.current,null),oi=Oe,bi=0,vl=null,wc=!1,sf=na(Ve,Oe),cd=!1,of=Ul=fd=Wc=xc=ls=0,Ko=Ff=null,hd=!1,(Oe&8)!==0&&(Oe|=Oe&32);var Ke=Ve.entangledLanes;if(Ke!==0)for(Ve=Ve.entanglements,Ke&=Oe;0<Ke;){var fn=31-$r(Ke),Bn=1<<fn;Oe|=Ve[fn],Ke&=~Bn}return Zu=Oe,Uu(),He}function Hp(Ve,Oe){wa=null,Ln.H=uh,Oe===tr||Oe===rr?(Oe=vr(),bi=3):Oe===nr?(Oe=vr(),bi=4):bi=Oe===up?8:Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"?6:1,vl=Oe,Ka===null&&(ls=1,ph(Ve,Zs(Oe,Ve.current)))}function Gp(){var Ve=Ln.H;return Ln.H=uh,Ve===null?uh:Ve}function Wp(){var Ve=Ln.A;return Ln.A=Km,Ve}function vd(){ls=4,wc||(oi&4194048)!==oi&&Ol.current!==null||(sf=!0),(xc&134217727)===0&&(Wc&134217727)===0||Ni===null||Pc(Ni,oi,Ul,!1)}function bd(Ve,Oe,He){var Ke=vi;vi|=2;var fn=Gp(),Bn=Wp();(Ni!==Ve||oi!==Oe)&&(xh=null,cf(Ve,Oe)),Oe=!1;var Kn=ls;e:do try{if(bi!==0&&Ka!==null){var ar=Ka,mr=vl;switch(bi){case 8:yd(),Kn=6;break e;case 3:case 2:case 9:case 6:Ol.current===null&&(Oe=!0);var Ir=bi;if(bi=0,vl=null,ff(Ve,ar,mr,Ir),He&&sf){Kn=0;break e}break;default:Ir=bi,bi=0,vl=null,ff(Ve,ar,mr,Ir)}}Qm(),Kn=ls;break}catch(Yr){Hp(Ve,Yr)}while(!0);return Oe&&Ve.shellSuspendCounter++,_o=ss=null,vi=Ke,Ln.H=fn,Ln.A=Bn,Ka===null&&(Ni=null,oi=0,Uu()),Kn}function Qm(){for(;Ka!==null;)Xp(Ka)}function eg(Ve,Oe){var He=vi;vi|=2;var Ke=Gp(),fn=Wp();Ni!==Ve||oi!==Oe?(xh=null,wh=cn()+500,cf(Ve,Oe)):sf=na(Ve,Oe);e:do try{if(bi!==0&&Ka!==null){Oe=Ka;var Bn=vl;t:switch(bi){case 1:bi=0,vl=null,ff(Ve,Oe,Bn,1);break;case 2:case 9:if(lr(Bn)){bi=0,vl=null,Yp(Oe);break}Oe=function(){bi!==2&&bi!==9||Ni!==Ve||(bi=7),Bu(Ve)},Bn.then(Oe,Oe);break e;case 3:bi=7;break e;case 4:bi=5;break e;case 7:lr(Bn)?(bi=0,vl=null,Yp(Oe)):(bi=0,vl=null,ff(Ve,Oe,Bn,7));break;case 5:var Kn=null;switch(Ka.tag){case 26:Kn=Ka.memoizedState;case 5:case 27:var ar=Ka;if(!Kn||Rm(Kn)){bi=0,vl=null;var mr=ar.sibling;if(mr!==null)Ka=mr;else{var Ir=ar.return;Ir!==null?(Ka=Ir,Sh(Ir)):Ka=null}break t}}bi=0,vl=null,ff(Ve,Oe,Bn,5);break;case 6:bi=0,vl=null,ff(Ve,Oe,Bn,6);break;case 8:yd(),ls=6;break e;default:throw Error(Be(462))}}tg();break}catch(Yr){Hp(Ve,Yr)}while(!0);return _o=ss=null,Ln.H=Ke,Ln.A=fn,vi=He,Ka!==null?0:(Ni=null,oi=0,Uu(),ls)}function tg(){for(;Ka!==null&&!qn();)Xp(Ka)}function Xp(Ve){var Oe=xp(Ve.alternate,Ve,Zu);Ve.memoizedProps=Ve.pendingProps,Oe===null?Sh(Ve):Ka=Oe}function Yp(Ve){var Oe=Ve,He=Oe.alternate;switch(Oe.tag){case 15:case 0:Oe=mp(He,Oe,Oe.pendingProps,Oe.type,void 0,oi);break;case 11:Oe=mp(He,Oe,Oe.pendingProps,Oe.type.render,Oe.ref,oi);break;case 5:ks(Oe);default:Sp(He,Oe),Oe=Ka=Su(Oe,Zu),Oe=xp(He,Oe,Zu)}Ve.memoizedProps=Ve.pendingProps,Oe===null?Sh(Ve):Ka=Oe}function ff(Ve,Oe,He,Ke){_o=ss=null,ks(Oe),tf=null,Rf=0;var fn=Oe.return;try{if(zm(Ve,fn,Oe,He,oi)){ls=1,ph(Ve,Zs(He,Ve.current)),Ka=null;return}}catch(Bn){if(fn!==null)throw Ka=fn,Bn;ls=1,ph(Ve,Zs(He,Ve.current)),Ka=null;return}Oe.flags&32768?(ni||Ke===1?Ve=!0:sf||(oi&536870912)!==0?Ve=!1:(wc=Ve=!0,(Ke===2||Ke===9||Ke===3||Ke===6)&&(Ke=Ol.current,Ke!==null&&Ke.tag===13&&(Ke.flags|=16384))),Kp(Oe,Ve)):Sh(Oe)}function Sh(Ve){var Oe=Ve;do{if((Oe.flags&32768)!==0){Kp(Oe,wc);return}Ve=Oe.return;var He=Gm(Oe.alternate,Oe,Zu);if(He!==null){Ka=He;return}if(Oe=Oe.sibling,Oe!==null){Ka=Oe;return}Ka=Oe=Ve}while(Oe!==null);ls===0&&(ls=5)}function Kp(Ve,Oe){do{var He=Wm(Ve.alternate,Ve);if(He!==null){He.flags&=32767,Ka=He;return}if(He=Ve.return,He!==null&&(He.flags|=32768,He.subtreeFlags=0,He.deletions=null),!Oe&&(Ve=Ve.sibling,Ve!==null)){Ka=Ve;return}Ka=Ve=He}while(Ve!==null);ls=6,Ka=null}function Jp(Ve,Oe,He,Ke,fn,Bn,Kn,ar,mr){Ve.cancelPendingCommit=null;do Ph();while(so!==0);if((vi&6)!==0)throw Error(Be(327));if(Oe!==null){if(Oe===Ve.current)throw Error(Be(177));if(Bn=Oe.lanes|Oe.childLanes,Bn|=ic,aa(Ve,He,Bn,Kn,ar,mr),Ve===Ni&&(Ka=Ni=null,oi=0),lf=Oe,Sc=Ve,uf=He,pd=Bn,md=fn,qp=Ke,(Oe.subtreeFlags&10256)!==0||(Oe.flags&10256)!==0?(Ve.callbackNode=null,Ve.callbackPriority=0,ig(Jn,function(){return nm(),null})):(Ve.callbackNode=null,Ve.callbackPriority=0),Ke=(Oe.flags&13878)!==0,(Oe.subtreeFlags&13878)!==0||Ke){Ke=Ln.T,Ln.T=null,fn=Vn.p,Vn.p=2,Kn=vi,vi|=4;try{Xm(Ve,Oe,He)}finally{vi=Kn,Vn.p=fn,Ln.T=Ke}}so=1,Zp(),Qp(),em()}}function Zp(){if(so===1){so=0;var Ve=Sc,Oe=lf,He=(Oe.flags&13878)!==0;if((Oe.subtreeFlags&13878)!==0||He){He=Ln.T,Ln.T=null;var Ke=Vn.p;Vn.p=2;var fn=vi;vi|=4;try{Np(Oe,Ve);var Bn=Vd,Kn=bu(Ve.containerInfo),ar=Bn.focusedElem,mr=Bn.selectionRange;if(Kn!==ar&&ar&&ar.ownerDocument&&yo(ar.ownerDocument.documentElement,ar)){if(mr!==null&&fs(ar)){var Ir=mr.start,Yr=mr.end;if(Yr===void 0&&(Yr=Ir),"selectionStart"in ar)ar.selectionStart=Ir,ar.selectionEnd=Math.min(Yr,ar.value.length);else{var ta=ar.ownerDocument||document,Fr=ta&&ta.defaultView||window;if(Fr.getSelection){var Or=Fr.getSelection(),La=ar.textContent.length,Va=Math.min(mr.start,La),Ai=mr.end===void 0?Va:Math.min(mr.end,La);!Or.extend&&Va>Ai&&(Kn=Ai,Ai=Va,Va=Kn);var Vr=Rl(ar,Va),Sr=Rl(ar,Ai);if(Vr&&Sr&&(Or.rangeCount!==1||Or.anchorNode!==Vr.node||Or.anchorOffset!==Vr.offset||Or.focusNode!==Sr.node||Or.focusOffset!==Sr.offset)){var Nr=ta.createRange();Nr.setStart(Vr.node,Vr.offset),Or.removeAllRanges(),Va>Ai?(Or.addRange(Nr),Or.extend(Sr.node,Sr.offset)):(Nr.setEnd(Sr.node,Sr.offset),Or.addRange(Nr))}}}}for(ta=[],Or=ar;Or=Or.parentNode;)Or.nodeType===1&&ta.push({element:Or,left:Or.scrollLeft,top:Or.scrollTop});for(typeof ar.focus=="function"&&ar.focus(),ar=0;ar<ta.length;ar++){var Jr=ta[ar];Jr.element.scrollLeft=Jr.left,Jr.element.scrollTop=Jr.top}}Dh=!!Rd,Vd=Rd=null}finally{vi=fn,Vn.p=Ke,Ln.T=He}}Ve.current=Oe,so=2}}function Qp(){if(so===2){so=0;var Ve=Sc,Oe=lf,He=(Oe.flags&8772)!==0;if((Oe.subtreeFlags&8772)!==0||He){He=Ln.T,Ln.T=null;var Ke=Vn.p;Vn.p=2;var fn=vi;vi|=4;try{Rp(Ve,Oe.alternate,Oe)}finally{vi=fn,Vn.p=Ke,Ln.T=He}}so=3}}function em(){if(so===4||so===3){so=0,In();var Ve=Sc,Oe=lf,He=uf,Ke=qp;(Oe.subtreeFlags&10256)!==0||(Oe.flags&10256)!==0?so=5:(so=0,lf=Sc=null,tm(Ve,Ve.pendingLanes));var fn=Ve.pendingLanes;if(fn===0&&(_c=null),ca(He),Oe=Oe.stateNode,jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(yr,Oe,void 0,(Oe.current.flags&128)===128)}catch{}if(Ke!==null){Oe=Ln.T,fn=Vn.p,Vn.p=2,Ln.T=null;try{for(var Bn=Ve.onRecoverableError,Kn=0;Kn<Ke.length;Kn++){var ar=Ke[Kn];Bn(ar.value,{componentStack:ar.stack})}}finally{Ln.T=Oe,Vn.p=fn}}(uf&3)!==0&&Ph(),Bu(Ve),fn=Ve.pendingLanes,(He&4194090)!==0&&(fn&42)!==0?Ve===gd?Of++:(Of=0,gd=Ve):Of=0,Uf(0)}}function tm(Ve,Oe){(Ve.pooledCacheLanes&=Oe)===0&&(Oe=Ve.pooledCache,Oe!=null&&(Ve.pooledCache=null,Xn(Oe)))}function Ph(Ve){return Zp(),Qp(),em(),nm()}function nm(){if(so!==5)return!1;var Ve=Sc,Oe=pd;pd=0;var He=ca(uf),Ke=Ln.T,fn=Vn.p;try{Vn.p=32>He?32:He,Ln.T=null,He=md,md=null;var Bn=Sc,Kn=uf;if(so=0,lf=Sc=null,uf=0,(vi&6)!==0)throw Error(Be(331));var ar=vi;if(vi|=4,Op(Bn.current),Dp(Bn,Bn.current,Kn,He),vi=ar,Uf(0,!1),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(yr,Bn)}catch{}return!0}finally{Vn.p=fn,Ln.T=Ke,tm(Ve,Oe)}}function rm(Ve,Oe,He){Oe=Zs(He,Oe),Oe=Wh(Ve.stateNode,Oe,2),Ve=ra(Ve,Oe,2),Ve!==null&&(sa(Ve,2),Bu(Ve))}function Bi(Ve,Oe,He){if(Ve.tag===3)rm(Ve,Ve,He);else for(;Oe!==null;){if(Oe.tag===3){rm(Oe,Ve,He);break}else if(Oe.tag===1){var Ke=Oe.stateNode;if(typeof Oe.type.getDerivedStateFromError=="function"||typeof Ke.componentDidCatch=="function"&&(_c===null||!_c.has(Ke))){Ve=Zs(He,Ve),He=op(2),Ke=ra(Oe,He,2),Ke!==null&&(lp(He,Ke,Oe,Ve),sa(Ke,2),Bu(Ke));break}}Oe=Oe.return}}function wd(Ve,Oe,He){var Ke=Ve.pingCache;if(Ke===null){Ke=Ve.pingCache=new Jm;var fn=new Set;Ke.set(Oe,fn)}else fn=Ke.get(Oe),fn===void 0&&(fn=new Set,Ke.set(Oe,fn));fn.has(He)||(cd=!0,fn.add(He),Ve=ng.bind(null,Ve,Oe,He),Oe.then(Ve,Ve))}function ng(Ve,Oe,He){var Ke=Ve.pingCache;Ke!==null&&Ke.delete(Oe),Ve.pingedLanes|=Ve.suspendedLanes&He,Ve.warmLanes&=~He,Ni===Ve&&(oi&He)===He&&(ls===4||ls===3&&(oi&62914560)===oi&&300>cn()-dd?(vi&2)===0&&cf(Ve,0):fd|=He,of===oi&&(of=0)),Bu(Ve)}function am(Ve,Oe){Oe===0&&(Oe=gr()),Ve=nu(Ve,Oe),Ve!==null&&(sa(Ve,Oe),Bu(Ve))}function rg(Ve){var Oe=Ve.memoizedState,He=0;Oe!==null&&(He=Oe.retryLane),am(Ve,He)}function ag(Ve,Oe){var He=0;switch(Ve.tag){case 13:var Ke=Ve.stateNode,fn=Ve.memoizedState;fn!==null&&(He=fn.retryLane);break;case 19:Ke=Ve.stateNode;break;case 22:Ke=Ve.stateNode._retryCache;break;default:throw Error(Be(314))}Ke!==null&&Ke.delete(Oe),am(Ve,He)}function ig(Ve,Oe){return Hn(Ve,Oe)}var Ah=null,hf=null,xd=!1,Eh=!1,_d=!1,Xc=0;function Bu(Ve){Ve!==hf&&Ve.next===null&&(hf===null?Ah=hf=Ve:hf=hf.next=Ve),Eh=!0,xd||(xd=!0,og())}function Uf(Ve,Oe){if(!_d&&Eh){_d=!0;do for(var He=!1,Ke=Ah;Ke!==null;){if(Ve!==0){var fn=Ke.pendingLanes;if(fn===0)var Bn=0;else{var Kn=Ke.suspendedLanes,ar=Ke.pingedLanes;Bn=(1<<31-$r(42|Ve)+1)-1,Bn&=fn&~(Kn&~ar),Bn=Bn&201326741?Bn&201326741|1:Bn?Bn|2:0}Bn!==0&&(He=!0,lm(Ke,Bn))}else Bn=oi,Bn=Kr(Ke,Ke===Ni?Bn:0,Ke.cancelPendingCommit!==null||Ke.timeoutHandle!==-1),(Bn&3)===0||na(Ke,Bn)||(He=!0,lm(Ke,Bn));Ke=Ke.next}while(He);_d=!1}}function sg(){im()}function im(){Eh=xd=!1;var Ve=0;Xc!==0&&(mg()&&(Ve=Xc),Xc=0);for(var Oe=cn(),He=null,Ke=Ah;Ke!==null;){var fn=Ke.next,Bn=sm(Ke,Oe);Bn===0?(Ke.next=null,He===null?Ah=fn:He.next=fn,fn===null&&(hf=He)):(He=Ke,(Ve!==0||(Bn&3)!==0)&&(Eh=!0)),Ke=fn}Uf(Ve)}function sm(Ve,Oe){for(var He=Ve.suspendedLanes,Ke=Ve.pingedLanes,fn=Ve.expirationTimes,Bn=Ve.pendingLanes&-62914561;0<Bn;){var Kn=31-$r(Bn),ar=1<<Kn,mr=fn[Kn];mr===-1?((ar&He)===0||(ar&Ke)!==0)&&(fn[Kn]=Pr(ar,Oe)):mr<=Oe&&(Ve.expiredLanes|=ar),Bn&=~ar}if(Oe=Ni,He=oi,He=Kr(Ve,Ve===Oe?He:0,Ve.cancelPendingCommit!==null||Ve.timeoutHandle!==-1),Ke=Ve.callbackNode,He===0||Ve===Oe&&(bi===2||bi===9)||Ve.cancelPendingCommit!==null)return Ke!==null&&Ke!==null&&vn(Ke),Ve.callbackNode=null,Ve.callbackPriority=0;if((He&3)===0||na(Ve,He)){if(Oe=He&-He,Oe===Ve.callbackPriority)return Oe;switch(Ke!==null&&vn(Ke),ca(He)){case 2:case 8:He=Yn;break;case 32:He=Jn;break;case 268435456:He=ur;break;default:He=Jn}return Ke=om.bind(null,Ve),He=Hn(He,Ke),Ve.callbackPriority=Oe,Ve.callbackNode=He,Oe}return Ke!==null&&Ke!==null&&vn(Ke),Ve.callbackPriority=2,Ve.callbackNode=null,2}function om(Ve,Oe){if(so!==0&&so!==5)return Ve.callbackNode=null,Ve.callbackPriority=0,null;var He=Ve.callbackNode;if(Ph()&&Ve.callbackNode!==He)return null;var Ke=oi;return Ke=Kr(Ve,Ve===Ni?Ke:0,Ve.cancelPendingCommit!==null||Ve.timeoutHandle!==-1),Ke===0?null:(jp(Ve,Ke,Oe),sm(Ve,cn()),Ve.callbackNode!=null&&Ve.callbackNode===He?om.bind(null,Ve):null)}function lm(Ve,Oe){if(Ph())return null;jp(Ve,Oe,!0)}function og(){yg(function(){(vi&6)!==0?Hn(Cn,sg):im()})}function Sd(){return Xc===0&&(Xc=fr()),Xc}function um(Ve){return Ve==null||typeof Ve=="symbol"||typeof Ve=="boolean"?null:typeof Ve=="function"?Ve:Io(""+Ve)}function cm(Ve,Oe){var He=Oe.ownerDocument.createElement("input");return He.name=Oe.name,He.value=Oe.value,Ve.id&&He.setAttribute("form",Ve.id),Oe.parentNode.insertBefore(He,Oe),Ve=new FormData(Ve),He.parentNode.removeChild(He),Ve}function lg(Ve,Oe,He,Ke,fn){if(Oe==="submit"&&He&&He.stateNode===fn){var Bn=um((fn[fa]||null).action),Kn=Ke.submitter;Kn&&(Oe=(Oe=Kn[fa]||null)?um(Oe.formAction):Kn.getAttribute("formAction"),Oe!==null&&(Bn=Oe,Kn=null));var ar=new Sl("action","action",null,Ke,fn);Ve.push({event:ar,listeners:[{instance:null,listener:function(){if(Ke.defaultPrevented){if(Xc!==0){var mr=Kn?cm(fn,Kn):new FormData(fn);Fl(He,{pending:!0,data:mr,method:fn.method,action:Bn},null,mr)}}else typeof Bn=="function"&&(ar.preventDefault(),mr=Kn?cm(fn,Kn):new FormData(fn),Fl(He,{pending:!0,data:mr,method:fn.method,action:Bn},Bn,mr))},currentTarget:fn}]})}}for(var Pd=0;Pd<ac.length;Pd++){var Ad=ac[Pd],ug=Ad.toLowerCase(),cg=Ad[0].toUpperCase()+Ad.slice(1);vo(ug,"on"+cg)}vo(kl,"onAnimationEnd"),vo(Js,"onAnimationIteration"),vo(Ou,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(Yc,"onTransitionRun"),vo(eu,"onTransitionStart"),vo(Vc,"onTransitionCancel"),vo(kc,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qf));function fm(Ve,Oe){Oe=(Oe&4)!==0;for(var He=0;He<Ve.length;He++){var Ke=Ve[He],fn=Ke.event;Ke=Ke.listeners;e:{var Bn=void 0;if(Oe)for(var Kn=Ke.length-1;0<=Kn;Kn--){var ar=Ke[Kn],mr=ar.instance,Ir=ar.currentTarget;if(ar=ar.listener,mr!==Bn&&fn.isPropagationStopped())break e;Bn=ar,fn.currentTarget=Ir;try{Bn(fn)}catch(Yr){dh(Yr)}fn.currentTarget=null,Bn=mr}else for(Kn=0;Kn<Ke.length;Kn++){if(ar=Ke[Kn],mr=ar.instance,Ir=ar.currentTarget,ar=ar.listener,mr!==Bn&&fn.isPropagationStopped())break e;Bn=ar,fn.currentTarget=Ir;try{Bn(fn)}catch(Yr){dh(Yr)}fn.currentTarget=null,Bn=mr}}}}function Ja(Ve,Oe){var He=Oe[Na];He===void 0&&(He=Oe[Na]=new Set);var Ke=Ve+"__bubble";He.has(Ke)||(hm(Oe,Ve,2,!1),He.add(Ke))}function Ed(Ve,Oe,He){var Ke=0;Oe&&(Ke|=4),hm(He,Ve,Ke,Oe)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Td(Ve){if(!Ve[Th]){Ve[Th]=!0,ys.forEach(function(He){He!=="selectionchange"&&(fg.has(He)||Ed(He,!1,Ve),Ed(He,!0,Ve))});var Oe=Ve.nodeType===9?Ve:Ve.ownerDocument;Oe===null||Oe[Th]||(Oe[Th]=!0,Ed("selectionchange",!1,Oe))}}function hm(Ve,Oe,He,Ke){switch(Dm(Oe)){case 2:var fn=Fg;break;case 8:fn=Og;break;default:fn=qd}He=fn.bind(null,Oe,He,Ve),fn=void 0,!ho||Oe!=="touchstart"&&Oe!=="touchmove"&&Oe!=="wheel"||(fn=!0),Ke?fn!==void 0?Ve.addEventListener(Oe,He,{capture:!0,passive:fn}):Ve.addEventListener(Oe,He,!0):fn!==void 0?Ve.addEventListener(Oe,He,{passive:fn}):Ve.addEventListener(Oe,He,!1)}function Cd(Ve,Oe,He,Ke,fn){var Bn=Ke;if((Oe&1)===0&&(Oe&2)===0&&Ke!==null)e:for(;;){if(Ke===null)return;var Kn=Ke.tag;if(Kn===3||Kn===4){var ar=Ke.stateNode.containerInfo;if(ar===fn)break;if(Kn===4)for(Kn=Ke.return;Kn!==null;){var mr=Kn.tag;if((mr===3||mr===4)&&Kn.stateNode.containerInfo===fn)return;Kn=Kn.return}for(;ar!==null;){if(Kn=ja(ar),Kn===null)return;if(mr=Kn.tag,mr===5||mr===6||mr===26||mr===27){Ke=Bn=Kn;continue e}ar=ar.parentNode}}Ke=Ke.return}gu(function(){var Ir=Bn,Yr=Nu(He),ta=[];e:{var Fr=xu.get(Ve);if(Fr!==void 0){var Or=Sl,La=Ve;switch(Ve){case"keypress":if(Ys(He)===0)break e;case"keydown":case"keyup":Or=Li;break;case"focusin":La="focus",Or=Dn;break;case"focusout":La="blur",Or=Dn;break;case"beforeblur":case"afterblur":Or=Dn;break;case"click":if(He.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Or=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Or=Ls;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Or=mi;break;case kl:case Js:case Ou:Or=cr;break;case kc:Or=El;break;case"scroll":case"scrollend":Or=Pl;break;case"wheel":Or=rc;break;case"copy":case"cut":case"paste":Or=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Or=Ti;break;case"toggle":case"beforetoggle":Or=po}var Va=(Oe&4)!==0,Ai=!Va&&(Ve==="scroll"||Ve==="scrollend"),Vr=Va?Fr!==null?Fr+"Capture":null:Fr;Va=[];for(var Sr=Ir,Nr;Sr!==null;){var Jr=Sr;if(Nr=Jr.stateNode,Jr=Jr.tag,Jr!==5&&Jr!==26&&Jr!==27||Nr===null||Vr===null||(Jr=Ds(Sr,Vr),Jr!=null&&Va.push($f(Sr,Jr,Nr))),Ai)break;Sr=Sr.return}0<Va.length&&(Fr=new Or(Fr,La,null,He,Yr),ta.push({event:Fr,listeners:Va}))}}if((Oe&7)===0){e:{if(Fr=Ve==="mouseover"||Ve==="pointerover",Or=Ve==="mouseout"||Ve==="pointerout",Fr&&He!==Do&&(La=He.relatedTarget||He.fromElement)&&(ja(La)||La[Ca]))break e;if((Or||Fr)&&(Fr=Yr.window===Yr?Yr:(Fr=Yr.ownerDocument)?Fr.defaultView||Fr.parentWindow:window,Or?(La=He.relatedTarget||He.toElement,Or=Ir,La=La?ja(La):null,La!==null&&(Ai=Me(La),Va=La.tag,La!==Ai||Va!==5&&Va!==27&&Va!==6)&&(La=null)):(Or=null,La=Ir),Or!==La)){if(Va=Jl,Jr="onMouseLeave",Vr="onMouseEnter",Sr="mouse",(Ve==="pointerout"||Ve==="pointerover")&&(Va=Ti,Jr="onPointerLeave",Vr="onPointerEnter",Sr="pointer"),Ai=Or==null?Fr:Ri(Or),Nr=La==null?Fr:Ri(La),Fr=new Va(Jr,Sr+"leave",Or,He,Yr),Fr.target=Ai,Fr.relatedTarget=Nr,Jr=null,ja(Yr)===Ir&&(Va=new Va(Vr,Sr+"enter",La,He,Yr),Va.target=Nr,Va.relatedTarget=Ai,Jr=Va),Ai=Jr,Or&&La)t:{for(Va=Or,Vr=La,Sr=0,Nr=Va;Nr;Nr=df(Nr))Sr++;for(Nr=0,Jr=Vr;Jr;Jr=df(Jr))Nr++;for(;0<Sr-Nr;)Va=df(Va),Sr--;for(;0<Nr-Sr;)Vr=df(Vr),Nr--;for(;Sr--;){if(Va===Vr||Vr!==null&&Va===Vr.alternate)break t;Va=df(Va),Vr=df(Vr)}Va=null}else Va=null;Or!==null&&dm(ta,Fr,Or,Va,!1),La!==null&&Ai!==null&&dm(ta,Ai,La,Va,!0)}}e:{if(Fr=Ir?Ri(Ir):window,Or=Fr.nodeName&&Fr.nodeName.toLowerCase(),Or==="select"||Or==="input"&&Fr.type==="file")var xa=rs;else if(_s(Fr))if(Fo)xa=ll;else{xa=Uo;var Ya=Fu}else Or=Fr.nodeName,!Or||Or.toLowerCase()!=="input"||Fr.type!=="checkbox"&&Fr.type!=="radio"?Ir&&ku(Ir.elementType)&&(xa=rs):xa=Bo;if(xa&&(xa=xa(Ve,Ir))){Lo(ta,xa,He,Yr);break e}Ya&&Ya(Ve,Fr,Ir),Ve==="focusout"&&Ir&&Fr.type==="number"&&Ir.memoizedProps.value!=null&&ws(Fr,"number",Fr.value)}switch(Ya=Ir?Ri(Ir):window,Ve){case"focusin":(_s(Ya)||Ya.contentEditable==="true")&&(ti=Ya,ci=Ir,gi=null);break;case"focusout":gi=ci=ti=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,is(ta,He,Yr);break;case"selectionchange":if(qo)break;case"keydown":case"keyup":is(ta,He,Yr)}var Ea;if(al)e:{switch(Ve){case"compositionstart":var Ma="onCompositionStart";break e;case"compositionend":Ma="onCompositionEnd";break e;case"compositionupdate":Ma="onCompositionUpdate";break e}Ma=void 0}else il?yu(Ve,He)&&(Ma="onCompositionEnd"):Ve==="keydown"&&He.keyCode===229&&(Ma="onCompositionStart");Ma&&(Bs&&He.locale!=="ko"&&(il||Ma!=="onCompositionStart"?Ma==="onCompositionEnd"&&il&&(Ea=tl()):(Eo=Yr,_l="value"in Eo?Eo.value:Eo.textContent,il=!0)),Ya=Ch(Ir,Ma),0<Ya.length&&(Ma=new ea(Ma,Ve,null,He,Yr),ta.push({event:Ma,listeners:Ya}),Ea?Ma.data=Ea:(Ea=Hi(He),Ea!==null&&(Ma.data=Ea)))),(Ea=zi?vu(Ve,He):Lu(Ve,He))&&(Ma=Ch(Ir,"onBeforeInput"),0<Ma.length&&(Ya=new ea("onBeforeInput","beforeinput",null,He,Yr),ta.push({event:Ya,listeners:Ma}),Ya.data=Ea)),lg(ta,Ve,Ir,He,Yr)}fm(ta,Oe)})}function $f(Ve,Oe,He){return{instance:Ve,listener:Oe,currentTarget:He}}function Ch(Ve,Oe){for(var He=Oe+"Capture",Ke=[];Ve!==null;){var fn=Ve,Bn=fn.stateNode;if(fn=fn.tag,fn!==5&&fn!==26&&fn!==27||Bn===null||(fn=Ds(Ve,He),fn!=null&&Ke.unshift($f(Ve,fn,Bn)),fn=Ds(Ve,Oe),fn!=null&&Ke.push($f(Ve,fn,Bn))),Ve.tag===3)return Ke;Ve=Ve.return}return[]}function df(Ve){if(Ve===null)return null;do Ve=Ve.return;while(Ve&&Ve.tag!==5&&Ve.tag!==27);return Ve||null}function dm(Ve,Oe,He,Ke,fn){for(var Bn=Oe._reactName,Kn=[];He!==null&&He!==Ke;){var ar=He,mr=ar.alternate,Ir=ar.stateNode;if(ar=ar.tag,mr!==null&&mr===Ke)break;ar!==5&&ar!==26&&ar!==27||Ir===null||(mr=Ir,fn?(Ir=Ds(He,Bn),Ir!=null&&Kn.unshift($f(He,Ir,mr))):fn||(Ir=Ds(He,Bn),Ir!=null&&Kn.push($f(He,Ir,mr)))),He=He.return}Kn.length!==0&&Ve.push({event:Oe,listeners:Kn})}var hg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function pm(Ve){return(typeof Ve=="string"?Ve:""+Ve).replace(hg,`
`).replace(dg,"")}function mm(Ve,Oe){return Oe=pm(Oe),pm(Ve)===Oe}function Bh(){}function Pi(Ve,Oe,He,Ke,fn,Bn){switch(He){case"children":typeof Ke=="string"?Oe==="body"||Oe==="textarea"&&Ke===""||fo(Ve,Ke):(typeof Ke=="number"||typeof Ke=="bigint")&&Oe!=="body"&&fo(Ve,""+Ke);break;case"className":vs(Ve,"class",Ke);break;case"tabIndex":vs(Ve,"tabindex",Ke);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(Ve,He,Ke);break;case"style":tc(Ve,Ke,Bn);break;case"data":if(Oe!=="object"){vs(Ve,"data",Ke);break}case"src":case"href":if(Ke===""&&(Oe!=="a"||He!=="href")){Ve.removeAttribute(He);break}if(Ke==null||typeof Ke=="function"||typeof Ke=="symbol"||typeof Ke=="boolean"){Ve.removeAttribute(He);break}Ke=Io(""+Ke),Ve.setAttribute(He,Ke);break;case"action":case"formAction":if(typeof Ke=="function"){Ve.setAttribute(He,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Bn=="function"&&(He==="formAction"?(Oe!=="input"&&Pi(Ve,Oe,"name",fn.name,fn,null),Pi(Ve,Oe,"formEncType",fn.formEncType,fn,null),Pi(Ve,Oe,"formMethod",fn.formMethod,fn,null),Pi(Ve,Oe,"formTarget",fn.formTarget,fn,null)):(Pi(Ve,Oe,"encType",fn.encType,fn,null),Pi(Ve,Oe,"method",fn.method,fn,null),Pi(Ve,Oe,"target",fn.target,fn,null)));if(Ke==null||typeof Ke=="symbol"||typeof Ke=="boolean"){Ve.removeAttribute(He);break}Ke=Io(""+Ke),Ve.setAttribute(He,Ke);break;case"onClick":Ke!=null&&(Ve.onclick=Bh);break;case"onScroll":Ke!=null&&Ja("scroll",Ve);break;case"onScrollEnd":Ke!=null&&Ja("scrollend",Ve);break;case"dangerouslySetInnerHTML":if(Ke!=null){if(typeof Ke!="object"||!("__html"in Ke))throw Error(Be(61));if(He=Ke.__html,He!=null){if(fn.children!=null)throw Error(Be(60));Ve.innerHTML=He}}break;case"multiple":Ve.multiple=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;case"muted":Ve.muted=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Ke==null||typeof Ke=="function"||typeof Ke=="boolean"||typeof Ke=="symbol"){Ve.removeAttribute("xlink:href");break}He=Io(""+Ke),Ve.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",He);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Ke!=null&&typeof Ke!="function"&&typeof Ke!="symbol"?Ve.setAttribute(He,""+Ke):Ve.removeAttribute(He);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Ke&&typeof Ke!="function"&&typeof Ke!="symbol"?Ve.setAttribute(He,""):Ve.removeAttribute(He);break;case"capture":case"download":Ke===!0?Ve.setAttribute(He,""):Ke!==!1&&Ke!=null&&typeof Ke!="function"&&typeof Ke!="symbol"?Ve.setAttribute(He,Ke):Ve.removeAttribute(He);break;case"cols":case"rows":case"size":case"span":Ke!=null&&typeof Ke!="function"&&typeof Ke!="symbol"&&!isNaN(Ke)&&1<=Ke?Ve.setAttribute(He,Ke):Ve.removeAttribute(He);break;case"rowSpan":case"start":Ke==null||typeof Ke=="function"||typeof Ke=="symbol"||isNaN(Ke)?Ve.removeAttribute(He):Ve.setAttribute(He,Ke);break;case"popover":Ja("beforetoggle",Ve),Ja("toggle",Ve),Jo(Ve,"popover",Ke);break;case"xlinkActuate":bs(Ve,"http://www.w3.org/1999/xlink","xlink:actuate",Ke);break;case"xlinkArcrole":bs(Ve,"http://www.w3.org/1999/xlink","xlink:arcrole",Ke);break;case"xlinkRole":bs(Ve,"http://www.w3.org/1999/xlink","xlink:role",Ke);break;case"xlinkShow":bs(Ve,"http://www.w3.org/1999/xlink","xlink:show",Ke);break;case"xlinkTitle":bs(Ve,"http://www.w3.org/1999/xlink","xlink:title",Ke);break;case"xlinkType":bs(Ve,"http://www.w3.org/1999/xlink","xlink:type",Ke);break;case"xmlBase":bs(Ve,"http://www.w3.org/XML/1998/namespace","xml:base",Ke);break;case"xmlLang":bs(Ve,"http://www.w3.org/XML/1998/namespace","xml:lang",Ke);break;case"xmlSpace":bs(Ve,"http://www.w3.org/XML/1998/namespace","xml:space",Ke);break;case"is":Jo(Ve,"is",Ke);break;case"innerText":case"textContent":break;default:(!(2<He.length)||He[0]!=="o"&&He[0]!=="O"||He[1]!=="n"&&He[1]!=="N")&&(He=Mu.get(He)||He,Jo(Ve,He,Ke))}}function Bd(Ve,Oe,He,Ke,fn,Bn){switch(He){case"style":tc(Ve,Ke,Bn);break;case"dangerouslySetInnerHTML":if(Ke!=null){if(typeof Ke!="object"||!("__html"in Ke))throw Error(Be(61));if(He=Ke.__html,He!=null){if(fn.children!=null)throw Error(Be(60));Ve.innerHTML=He}}break;case"children":typeof Ke=="string"?fo(Ve,Ke):(typeof Ke=="number"||typeof Ke=="bigint")&&fo(Ve,""+Ke);break;case"onScroll":Ke!=null&&Ja("scroll",Ve);break;case"onScrollEnd":Ke!=null&&Ja("scrollend",Ve);break;case"onClick":Ke!=null&&(Ve.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(He))e:{if(He[0]==="o"&&He[1]==="n"&&(fn=He.endsWith("Capture"),Oe=He.slice(2,fn?He.length-7:void 0),Bn=Ve[fa]||null,Bn=Bn!=null?Bn[He]:null,typeof Bn=="function"&&Ve.removeEventListener(Oe,Bn,fn),typeof Ke=="function")){typeof Bn!="function"&&Bn!==null&&(He in Ve?Ve[He]=null:Ve.hasAttribute(He)&&Ve.removeAttribute(He)),Ve.addEventListener(Oe,Ke,fn);break e}He in Ve?Ve[He]=Ke:Ke===!0?Ve.setAttribute(He,""):Jo(Ve,He,Ke)}}}function oo(Ve,Oe,He){switch(Oe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ja("error",Ve),Ja("load",Ve);var Ke=!1,fn=!1,Bn;for(Bn in He)if(He.hasOwnProperty(Bn)){var Kn=He[Bn];if(Kn!=null)switch(Bn){case"src":Ke=!0;break;case"srcSet":fn=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Oe));default:Pi(Ve,Oe,Bn,Kn,He,null)}}fn&&Pi(Ve,Oe,"srcSet",He.srcSet,He,null),Ke&&Pi(Ve,Oe,"src",He.src,He,null);return;case"input":Ja("invalid",Ve);var ar=Bn=Kn=fn=null,mr=null,Ir=null;for(Ke in He)if(He.hasOwnProperty(Ke)){var Yr=He[Ke];if(Yr!=null)switch(Ke){case"name":fn=Yr;break;case"type":Kn=Yr;break;case"checked":mr=Yr;break;case"defaultChecked":Ir=Yr;break;case"value":Bn=Yr;break;case"defaultValue":ar=Yr;break;case"children":case"dangerouslySetInnerHTML":if(Yr!=null)throw Error(Be(137,Oe));break;default:Pi(Ve,Oe,Ke,Yr,He,null)}}Wl(Ve,Bn,ar,mr,Ir,Kn,fn,!1),co(Ve);return;case"select":Ja("invalid",Ve),Ke=Kn=Bn=null;for(fn in He)if(He.hasOwnProperty(fn)&&(ar=He[fn],ar!=null))switch(fn){case"value":Bn=ar;break;case"defaultValue":Kn=ar;break;case"multiple":Ke=ar;default:Pi(Ve,Oe,fn,ar,He,null)}Oe=Bn,He=Kn,Ve.multiple=!!Ke,Oe!=null?Qo(Ve,!!Ke,Oe,!1):He!=null&&Qo(Ve,!!Ke,He,!0);return;case"textarea":Ja("invalid",Ve),Bn=fn=Ke=null;for(Kn in He)if(He.hasOwnProperty(Kn)&&(ar=He[Kn],ar!=null))switch(Kn){case"value":Ke=ar;break;case"defaultValue":fn=ar;break;case"children":Bn=ar;break;case"dangerouslySetInnerHTML":if(ar!=null)throw Error(Be(91));break;default:Pi(Ve,Oe,Kn,ar,He,null)}pu(Ve,Ke,fn,Bn),co(Ve);return;case"option":for(mr in He)if(He.hasOwnProperty(mr)&&(Ke=He[mr],Ke!=null))switch(mr){case"selected":Ve.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:Pi(Ve,Oe,mr,Ke,He,null)}return;case"dialog":Ja("beforetoggle",Ve),Ja("toggle",Ve),Ja("cancel",Ve),Ja("close",Ve);break;case"iframe":case"object":Ja("load",Ve);break;case"video":case"audio":for(Ke=0;Ke<qf.length;Ke++)Ja(qf[Ke],Ve);break;case"image":Ja("error",Ve),Ja("load",Ve);break;case"details":Ja("toggle",Ve);break;case"embed":case"source":case"link":Ja("error",Ve),Ja("load",Ve);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ir in He)if(He.hasOwnProperty(Ir)&&(Ke=He[Ir],Ke!=null))switch(Ir){case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Oe));default:Pi(Ve,Oe,Ir,Ke,He,null)}return;default:if(ku(Oe)){for(Yr in He)He.hasOwnProperty(Yr)&&(Ke=He[Yr],Ke!==void 0&&Bd(Ve,Oe,Yr,Ke,He,void 0));return}}for(ar in He)He.hasOwnProperty(ar)&&(Ke=He[ar],Ke!=null&&Pi(Ve,Oe,ar,Ke,He,null))}function pg(Ve,Oe,He,Ke){switch(Oe){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var fn=null,Bn=null,Kn=null,ar=null,mr=null,Ir=null,Yr=null;for(Or in He){var ta=He[Or];if(He.hasOwnProperty(Or)&&ta!=null)switch(Or){case"checked":break;case"value":break;case"defaultValue":mr=ta;default:Ke.hasOwnProperty(Or)||Pi(Ve,Oe,Or,null,Ke,ta)}}for(var Fr in Ke){var Or=Ke[Fr];if(ta=He[Fr],Ke.hasOwnProperty(Fr)&&(Or!=null||ta!=null))switch(Fr){case"type":Bn=Or;break;case"name":fn=Or;break;case"checked":Ir=Or;break;case"defaultChecked":Yr=Or;break;case"value":Kn=Or;break;case"defaultValue":ar=Or;break;case"children":case"dangerouslySetInnerHTML":if(Or!=null)throw Error(Be(137,Oe));break;default:Or!==ta&&Pi(Ve,Oe,Fr,Or,Ke,ta)}}So(Ve,Kn,ar,mr,Ir,Yr,Bn,fn);return;case"select":Or=Kn=ar=Fr=null;for(Bn in He)if(mr=He[Bn],He.hasOwnProperty(Bn)&&mr!=null)switch(Bn){case"value":break;case"multiple":Or=mr;default:Ke.hasOwnProperty(Bn)||Pi(Ve,Oe,Bn,null,Ke,mr)}for(fn in Ke)if(Bn=Ke[fn],mr=He[fn],Ke.hasOwnProperty(fn)&&(Bn!=null||mr!=null))switch(fn){case"value":Fr=Bn;break;case"defaultValue":ar=Bn;break;case"multiple":Kn=Bn;default:Bn!==mr&&Pi(Ve,Oe,fn,Bn,Ke,mr)}Oe=ar,He=Kn,Ke=Or,Fr!=null?Qo(Ve,!!He,Fr,!1):!!Ke!=!!He&&(Oe!=null?Qo(Ve,!!He,Oe,!0):Qo(Ve,!!He,He?[]:"",!1));return;case"textarea":Or=Fr=null;for(ar in He)if(fn=He[ar],He.hasOwnProperty(ar)&&fn!=null&&!Ke.hasOwnProperty(ar))switch(ar){case"value":break;case"children":break;default:Pi(Ve,Oe,ar,null,Ke,fn)}for(Kn in Ke)if(fn=Ke[Kn],Bn=He[Kn],Ke.hasOwnProperty(Kn)&&(fn!=null||Bn!=null))switch(Kn){case"value":Fr=fn;break;case"defaultValue":Or=fn;break;case"children":break;case"dangerouslySetInnerHTML":if(fn!=null)throw Error(Be(91));break;default:fn!==Bn&&Pi(Ve,Oe,Kn,fn,Ke,Bn)}Hs(Ve,Fr,Or);return;case"option":for(var La in He)if(Fr=He[La],He.hasOwnProperty(La)&&Fr!=null&&!Ke.hasOwnProperty(La))switch(La){case"selected":Ve.selected=!1;break;default:Pi(Ve,Oe,La,null,Ke,Fr)}for(mr in Ke)if(Fr=Ke[mr],Or=He[mr],Ke.hasOwnProperty(mr)&&Fr!==Or&&(Fr!=null||Or!=null))switch(mr){case"selected":Ve.selected=Fr&&typeof Fr!="function"&&typeof Fr!="symbol";break;default:Pi(Ve,Oe,mr,Fr,Ke,Or)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Va in He)Fr=He[Va],He.hasOwnProperty(Va)&&Fr!=null&&!Ke.hasOwnProperty(Va)&&Pi(Ve,Oe,Va,null,Ke,Fr);for(Ir in Ke)if(Fr=Ke[Ir],Or=He[Ir],Ke.hasOwnProperty(Ir)&&Fr!==Or&&(Fr!=null||Or!=null))switch(Ir){case"children":case"dangerouslySetInnerHTML":if(Fr!=null)throw Error(Be(137,Oe));break;default:Pi(Ve,Oe,Ir,Fr,Ke,Or)}return;default:if(ku(Oe)){for(var Ai in He)Fr=He[Ai],He.hasOwnProperty(Ai)&&Fr!==void 0&&!Ke.hasOwnProperty(Ai)&&Bd(Ve,Oe,Ai,void 0,Ke,Fr);for(Yr in Ke)Fr=Ke[Yr],Or=He[Yr],!Ke.hasOwnProperty(Yr)||Fr===Or||Fr===void 0&&Or===void 0||Bd(Ve,Oe,Yr,Fr,Ke,Or);return}}for(var Vr in He)Fr=He[Vr],He.hasOwnProperty(Vr)&&Fr!=null&&!Ke.hasOwnProperty(Vr)&&Pi(Ve,Oe,Vr,null,Ke,Fr);for(ta in Ke)Fr=Ke[ta],Or=He[ta],!Ke.hasOwnProperty(ta)||Fr===Or||Fr==null&&Or==null||Pi(Ve,Oe,ta,Fr,Ke,Or)}var Rd=null,Vd=null;function Rh(Ve){return Ve.nodeType===9?Ve:Ve.ownerDocument}function gm(Ve){switch(Ve){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(Ve,Oe){if(Ve===0)switch(Oe){case"svg":return 1;case"math":return 2;default:return 0}return Ve===1&&Oe==="foreignObject"?0:Ve}function kd(Ve,Oe){return Ve==="textarea"||Ve==="noscript"||typeof Oe.children=="string"||typeof Oe.children=="number"||typeof Oe.children=="bigint"||typeof Oe.dangerouslySetInnerHTML=="object"&&Oe.dangerouslySetInnerHTML!==null&&Oe.dangerouslySetInnerHTML.__html!=null}var Md=null;function mg(){var Ve=window.event;return Ve&&Ve.type==="popstate"?Ve===Md?!1:(Md=Ve,!0):(Md=null,!1)}var vm=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,yg=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(Ve){return bm.resolve(null).then(Ve).catch(vg)}:vm;function vg(Ve){setTimeout(function(){throw Ve})}function Ac(Ve){return Ve==="head"}function wm(Ve,Oe){var He=Oe,Ke=0,fn=0;do{var Bn=He.nextSibling;if(Ve.removeChild(He),Bn&&Bn.nodeType===8)if(He=Bn.data,He==="/$"){if(0<Ke&&8>Ke){He=Ke;var Kn=Ve.ownerDocument;if(He&1&&jf(Kn.documentElement),He&2&&jf(Kn.body),He&4)for(He=Kn.head,jf(He),Kn=He.firstChild;Kn;){var ar=Kn.nextSibling,mr=Kn.nodeName;Kn[Ha]||mr==="SCRIPT"||mr==="STYLE"||mr==="LINK"&&Kn.rel.toLowerCase()==="stylesheet"||He.removeChild(Kn),Kn=ar}}if(fn===0){Ve.removeChild(Bn),Jf(Oe);return}fn--}else He==="$"||He==="$?"||He==="$!"?fn++:Ke=He.charCodeAt(0)-48;else Ke=0;He=Bn}while(He);Jf(Oe)}function Nd(Ve){var Oe=Ve.firstChild;for(Oe&&Oe.nodeType===10&&(Oe=Oe.nextSibling);Oe;){var He=Oe;switch(Oe=Oe.nextSibling,He.nodeName){case"HTML":case"HEAD":case"BODY":Nd(He),ri(He);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(He.rel.toLowerCase()==="stylesheet")continue}Ve.removeChild(He)}}function bg(Ve,Oe,He,Ke){for(;Ve.nodeType===1;){var fn=He;if(Ve.nodeName.toLowerCase()!==Oe.toLowerCase()){if(!Ke&&(Ve.nodeName!=="INPUT"||Ve.type!=="hidden"))break}else if(Ke){if(!Ve[Ha])switch(Oe){case"meta":if(!Ve.hasAttribute("itemprop"))break;return Ve;case"link":if(Bn=Ve.getAttribute("rel"),Bn==="stylesheet"&&Ve.hasAttribute("data-precedence"))break;if(Bn!==fn.rel||Ve.getAttribute("href")!==(fn.href==null||fn.href===""?null:fn.href)||Ve.getAttribute("crossorigin")!==(fn.crossOrigin==null?null:fn.crossOrigin)||Ve.getAttribute("title")!==(fn.title==null?null:fn.title))break;return Ve;case"style":if(Ve.hasAttribute("data-precedence"))break;return Ve;case"script":if(Bn=Ve.getAttribute("src"),(Bn!==(fn.src==null?null:fn.src)||Ve.getAttribute("type")!==(fn.type==null?null:fn.type)||Ve.getAttribute("crossorigin")!==(fn.crossOrigin==null?null:fn.crossOrigin))&&Bn&&Ve.hasAttribute("async")&&!Ve.hasAttribute("itemprop"))break;return Ve;default:return Ve}}else if(Oe==="input"&&Ve.type==="hidden"){var Bn=fn.name==null?null:""+fn.name;if(fn.type==="hidden"&&Ve.getAttribute("name")===Bn)return Ve}else return Ve;if(Ve=fu(Ve.nextSibling),Ve===null)break}return null}function wg(Ve,Oe,He){if(Oe==="")return null;for(;Ve.nodeType!==3;)if((Ve.nodeType!==1||Ve.nodeName!=="INPUT"||Ve.type!=="hidden")&&!He||(Ve=fu(Ve.nextSibling),Ve===null))return null;return Ve}function Id(Ve){return Ve.data==="$!"||Ve.data==="$?"&&Ve.ownerDocument.readyState==="complete"}function xg(Ve,Oe){var He=Ve.ownerDocument;if(Ve.data!=="$?"||He.readyState==="complete")Oe();else{var Ke=function(){Oe(),He.removeEventListener("DOMContentLoaded",Ke)};He.addEventListener("DOMContentLoaded",Ke),Ve._reactRetry=Ke}}function fu(Ve){for(;Ve!=null;Ve=Ve.nextSibling){var Oe=Ve.nodeType;if(Oe===1||Oe===3)break;if(Oe===8){if(Oe=Ve.data,Oe==="$"||Oe==="$!"||Oe==="$?"||Oe==="F!"||Oe==="F")break;if(Oe==="/$")return null}}return Ve}var Dd=null;function xm(Ve){Ve=Ve.previousSibling;for(var Oe=0;Ve;){if(Ve.nodeType===8){var He=Ve.data;if(He==="$"||He==="$!"||He==="$?"){if(Oe===0)return Ve;Oe--}else He==="/$"&&Oe++}Ve=Ve.previousSibling}return null}function _m(Ve,Oe,He){switch(Oe=Rh(He),Ve){case"html":if(Ve=Oe.documentElement,!Ve)throw Error(Be(452));return Ve;case"head":if(Ve=Oe.head,!Ve)throw Error(Be(453));return Ve;case"body":if(Ve=Oe.body,!Ve)throw Error(Be(454));return Ve;default:throw Error(Be(451))}}function jf(Ve){for(var Oe=Ve.attributes;Oe.length;)Ve.removeAttributeNode(Oe[0]);ri(Ve)}var ql=new Map,Sm=new Set;function Vh(Ve){return typeof Ve.getRootNode=="function"?Ve.getRootNode():Ve.nodeType===9?Ve:Ve.ownerDocument}var Qu=Vn.d;Vn.d={f:_g,r:Sg,D:Pg,C:Ag,L:Eg,m:Tg,X:Bg,S:Cg,M:Rg};function _g(){var Ve=Qu.f(),Oe=_h();return Ve||Oe}function Sg(Ve){var Oe=pi(Ve);Oe!==null&&Oe.tag===5&&Oe.type==="form"?jc(Oe):Qu.r(Ve)}var pf=typeof document>"u"?null:document;function Pm(Ve,Oe,He){var Ke=pf;if(Ke&&typeof Oe=="string"&&Oe){var fn=Ga(Oe);fn='link[rel="'+Ve+'"][href="'+fn+'"]',typeof He=="string"&&(fn+='[crossorigin="'+He+'"]'),Sm.has(fn)||(Sm.add(fn),Ve={rel:Ve,crossOrigin:He,href:Oe},Ke.querySelector(fn)===null&&(Oe=Ke.createElement("link"),oo(Oe,"link",Ve),ii(Oe),Ke.head.appendChild(Oe)))}}function Pg(Ve){Qu.D(Ve),Pm("dns-prefetch",Ve,null)}function Ag(Ve,Oe){Qu.C(Ve,Oe),Pm("preconnect",Ve,Oe)}function Eg(Ve,Oe,He){Qu.L(Ve,Oe,He);var Ke=pf;if(Ke&&Ve&&Oe){var fn='link[rel="preload"][as="'+Ga(Oe)+'"]';Oe==="image"&&He&&He.imageSrcSet?(fn+='[imagesrcset="'+Ga(He.imageSrcSet)+'"]',typeof He.imageSizes=="string"&&(fn+='[imagesizes="'+Ga(He.imageSizes)+'"]')):fn+='[href="'+Ga(Ve)+'"]';var Bn=fn;switch(Oe){case"style":Bn=mf(Ve);break;case"script":Bn=gf(Ve)}ql.has(Bn)||(Ve=ze({rel:"preload",href:Oe==="image"&&He&&He.imageSrcSet?void 0:Ve,as:Oe},He),ql.set(Bn,Ve),Ke.querySelector(fn)!==null||Oe==="style"&&Ke.querySelector(zf(Bn))||Oe==="script"&&Ke.querySelector(Hf(Bn))||(Oe=Ke.createElement("link"),oo(Oe,"link",Ve),ii(Oe),Ke.head.appendChild(Oe)))}}function Tg(Ve,Oe){Qu.m(Ve,Oe);var He=pf;if(He&&Ve){var Ke=Oe&&typeof Oe.as=="string"?Oe.as:"script",fn='link[rel="modulepreload"][as="'+Ga(Ke)+'"][href="'+Ga(Ve)+'"]',Bn=fn;switch(Ke){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Bn=gf(Ve)}if(!ql.has(Bn)&&(Ve=ze({rel:"modulepreload",href:Ve},Oe),ql.set(Bn,Ve),He.querySelector(fn)===null)){switch(Ke){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(He.querySelector(Hf(Bn)))return}Ke=He.createElement("link"),oo(Ke,"link",Ve),ii(Ke),He.head.appendChild(Ke)}}}function Cg(Ve,Oe,He){Qu.S(Ve,Oe,He);var Ke=pf;if(Ke&&Ve){var fn=li(Ke).hoistableStyles,Bn=mf(Ve);Oe=Oe||"default";var Kn=fn.get(Bn);if(!Kn){var ar={loading:0,preload:null};if(Kn=Ke.querySelector(zf(Bn)))ar.loading=5;else{Ve=ze({rel:"stylesheet",href:Ve,"data-precedence":Oe},He),(He=ql.get(Bn))&&Ld(Ve,He);var mr=Kn=Ke.createElement("link");ii(mr),oo(mr,"link",Ve),mr._p=new Promise(function(Ir,Yr){mr.onload=Ir,mr.onerror=Yr}),mr.addEventListener("load",function(){ar.loading|=1}),mr.addEventListener("error",function(){ar.loading|=2}),ar.loading|=4,kh(Kn,Oe,Ke)}Kn={type:"stylesheet",instance:Kn,count:1,state:ar},fn.set(Bn,Kn)}}}function Bg(Ve,Oe){Qu.X(Ve,Oe);var He=pf;if(He&&Ve){var Ke=li(He).hoistableScripts,fn=gf(Ve),Bn=Ke.get(fn);Bn||(Bn=He.querySelector(Hf(fn)),Bn||(Ve=ze({src:Ve,async:!0},Oe),(Oe=ql.get(fn))&&Fd(Ve,Oe),Bn=He.createElement("script"),ii(Bn),oo(Bn,"link",Ve),He.head.appendChild(Bn)),Bn={type:"script",instance:Bn,count:1,state:null},Ke.set(fn,Bn))}}function Rg(Ve,Oe){Qu.M(Ve,Oe);var He=pf;if(He&&Ve){var Ke=li(He).hoistableScripts,fn=gf(Ve),Bn=Ke.get(fn);Bn||(Bn=He.querySelector(Hf(fn)),Bn||(Ve=ze({src:Ve,async:!0,type:"module"},Oe),(Oe=ql.get(fn))&&Fd(Ve,Oe),Bn=He.createElement("script"),ii(Bn),oo(Bn,"link",Ve),He.head.appendChild(Bn)),Bn={type:"script",instance:Bn,count:1,state:null},Ke.set(fn,Bn))}}function Am(Ve,Oe,He,Ke){var fn=(fn=Sn.current)?Vh(fn):null;if(!fn)throw Error(Be(446));switch(Ve){case"meta":case"title":return null;case"style":return typeof He.precedence=="string"&&typeof He.href=="string"?(Oe=mf(He.href),He=li(fn).hoistableStyles,Ke=He.get(Oe),Ke||(Ke={type:"style",instance:null,count:0,state:null},He.set(Oe,Ke)),Ke):{type:"void",instance:null,count:0,state:null};case"link":if(He.rel==="stylesheet"&&typeof He.href=="string"&&typeof He.precedence=="string"){Ve=mf(He.href);var Bn=li(fn).hoistableStyles,Kn=Bn.get(Ve);if(Kn||(fn=fn.ownerDocument||fn,Kn={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Bn.set(Ve,Kn),(Bn=fn.querySelector(zf(Ve)))&&!Bn._p&&(Kn.instance=Bn,Kn.state.loading=5),ql.has(Ve)||(He={rel:"preload",as:"style",href:He.href,crossOrigin:He.crossOrigin,integrity:He.integrity,media:He.media,hrefLang:He.hrefLang,referrerPolicy:He.referrerPolicy},ql.set(Ve,He),Bn||Vg(fn,Ve,He,Kn.state))),Oe&&Ke===null)throw Error(Be(528,""));return Kn}if(Oe&&Ke!==null)throw Error(Be(529,""));return null;case"script":return Oe=He.async,He=He.src,typeof He=="string"&&Oe&&typeof Oe!="function"&&typeof Oe!="symbol"?(Oe=gf(He),He=li(fn).hoistableScripts,Ke=He.get(Oe),Ke||(Ke={type:"script",instance:null,count:0,state:null},He.set(Oe,Ke)),Ke):{type:"void",instance:null,count:0,state:null};default:throw Error(Be(444,Ve))}}function mf(Ve){return'href="'+Ga(Ve)+'"'}function zf(Ve){return'link[rel="stylesheet"]['+Ve+"]"}function Em(Ve){return ze({},Ve,{"data-precedence":Ve.precedence,precedence:null})}function Vg(Ve,Oe,He,Ke){Ve.querySelector('link[rel="preload"][as="style"]['+Oe+"]")?Ke.loading=1:(Oe=Ve.createElement("link"),Ke.preload=Oe,Oe.addEventListener("load",function(){return Ke.loading|=1}),Oe.addEventListener("error",function(){return Ke.loading|=2}),oo(Oe,"link",He),ii(Oe),Ve.head.appendChild(Oe))}function gf(Ve){return'[src="'+Ga(Ve)+'"]'}function Hf(Ve){return"script[async]"+Ve}function Tm(Ve,Oe,He){if(Oe.count++,Oe.instance===null)switch(Oe.type){case"style":var Ke=Ve.querySelector('style[data-href~="'+Ga(He.href)+'"]');if(Ke)return Oe.instance=Ke,ii(Ke),Ke;var fn=ze({},He,{"data-href":He.href,"data-precedence":He.precedence,href:null,precedence:null});return Ke=(Ve.ownerDocument||Ve).createElement("style"),ii(Ke),oo(Ke,"style",fn),kh(Ke,He.precedence,Ve),Oe.instance=Ke;case"stylesheet":fn=mf(He.href);var Bn=Ve.querySelector(zf(fn));if(Bn)return Oe.state.loading|=4,Oe.instance=Bn,ii(Bn),Bn;Ke=Em(He),(fn=ql.get(fn))&&Ld(Ke,fn),Bn=(Ve.ownerDocument||Ve).createElement("link"),ii(Bn);var Kn=Bn;return Kn._p=new Promise(function(ar,mr){Kn.onload=ar,Kn.onerror=mr}),oo(Bn,"link",Ke),Oe.state.loading|=4,kh(Bn,He.precedence,Ve),Oe.instance=Bn;case"script":return Bn=gf(He.src),(fn=Ve.querySelector(Hf(Bn)))?(Oe.instance=fn,ii(fn),fn):(Ke=He,(fn=ql.get(Bn))&&(Ke=ze({},He),Fd(Ke,fn)),Ve=Ve.ownerDocument||Ve,fn=Ve.createElement("script"),ii(fn),oo(fn,"link",Ke),Ve.head.appendChild(fn),Oe.instance=fn);case"void":return null;default:throw Error(Be(443,Oe.type))}else Oe.type==="stylesheet"&&(Oe.state.loading&4)===0&&(Ke=Oe.instance,Oe.state.loading|=4,kh(Ke,He.precedence,Ve));return Oe.instance}function kh(Ve,Oe,He){for(var Ke=He.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),fn=Ke.length?Ke[Ke.length-1]:null,Bn=fn,Kn=0;Kn<Ke.length;Kn++){var ar=Ke[Kn];if(ar.dataset.precedence===Oe)Bn=ar;else if(Bn!==fn)break}Bn?Bn.parentNode.insertBefore(Ve,Bn.nextSibling):(Oe=He.nodeType===9?He.head:He,Oe.insertBefore(Ve,Oe.firstChild))}function Ld(Ve,Oe){Ve.crossOrigin==null&&(Ve.crossOrigin=Oe.crossOrigin),Ve.referrerPolicy==null&&(Ve.referrerPolicy=Oe.referrerPolicy),Ve.title==null&&(Ve.title=Oe.title)}function Fd(Ve,Oe){Ve.crossOrigin==null&&(Ve.crossOrigin=Oe.crossOrigin),Ve.referrerPolicy==null&&(Ve.referrerPolicy=Oe.referrerPolicy),Ve.integrity==null&&(Ve.integrity=Oe.integrity)}var Mh=null;function Cm(Ve,Oe,He){if(Mh===null){var Ke=new Map,fn=Mh=new Map;fn.set(He,Ke)}else fn=Mh,Ke=fn.get(He),Ke||(Ke=new Map,fn.set(He,Ke));if(Ke.has(Ve))return Ke;for(Ke.set(Ve,null),He=He.getElementsByTagName(Ve),fn=0;fn<He.length;fn++){var Bn=He[fn];if(!(Bn[Ha]||Bn[da]||Ve==="link"&&Bn.getAttribute("rel")==="stylesheet")&&Bn.namespaceURI!=="http://www.w3.org/2000/svg"){var Kn=Bn.getAttribute(Oe)||"";Kn=Ve+Kn;var ar=Ke.get(Kn);ar?ar.push(Bn):Ke.set(Kn,[Bn])}}return Ke}function Bm(Ve,Oe,He){Ve=Ve.ownerDocument||Ve,Ve.head.insertBefore(He,Oe==="title"?Ve.querySelector("head > title"):null)}function kg(Ve,Oe,He){if(He===1||Oe.itemProp!=null)return!1;switch(Ve){case"meta":case"title":return!0;case"style":if(typeof Oe.precedence!="string"||typeof Oe.href!="string"||Oe.href==="")break;return!0;case"link":if(typeof Oe.rel!="string"||typeof Oe.href!="string"||Oe.href===""||Oe.onLoad||Oe.onError)break;switch(Oe.rel){case"stylesheet":return Ve=Oe.disabled,typeof Oe.precedence=="string"&&Ve==null;default:return!0}case"script":if(Oe.async&&typeof Oe.async!="function"&&typeof Oe.async!="symbol"&&!Oe.onLoad&&!Oe.onError&&Oe.src&&typeof Oe.src=="string")return!0}return!1}function Rm(Ve){return!(Ve.type==="stylesheet"&&(Ve.state.loading&3)===0)}var Gf=null;function Mg(){}function Ng(Ve,Oe,He){if(Gf===null)throw Error(Be(475));var Ke=Gf;if(Oe.type==="stylesheet"&&(typeof He.media!="string"||matchMedia(He.media).matches!==!1)&&(Oe.state.loading&4)===0){if(Oe.instance===null){var fn=mf(He.href),Bn=Ve.querySelector(zf(fn));if(Bn){Ve=Bn._p,Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"&&(Ke.count++,Ke=Nh.bind(Ke),Ve.then(Ke,Ke)),Oe.state.loading|=4,Oe.instance=Bn,ii(Bn);return}Bn=Ve.ownerDocument||Ve,He=Em(He),(fn=ql.get(fn))&&Ld(He,fn),Bn=Bn.createElement("link"),ii(Bn);var Kn=Bn;Kn._p=new Promise(function(ar,mr){Kn.onload=ar,Kn.onerror=mr}),oo(Bn,"link",He),Oe.instance=Bn}Ke.stylesheets===null&&(Ke.stylesheets=new Map),Ke.stylesheets.set(Oe,Ve),(Ve=Oe.state.preload)&&(Oe.state.loading&3)===0&&(Ke.count++,Oe=Nh.bind(Ke),Ve.addEventListener("load",Oe),Ve.addEventListener("error",Oe))}}function Ig(){if(Gf===null)throw Error(Be(475));var Ve=Gf;return Ve.stylesheets&&Ve.count===0&&Od(Ve,Ve.stylesheets),0<Ve.count?function(Oe){var He=setTimeout(function(){if(Ve.stylesheets&&Od(Ve,Ve.stylesheets),Ve.unsuspend){var Ke=Ve.unsuspend;Ve.unsuspend=null,Ke()}},6e4);return Ve.unsuspend=Oe,function(){Ve.unsuspend=null,clearTimeout(He)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var Ve=this.unsuspend;this.unsuspend=null,Ve()}}}var Ih=null;function Od(Ve,Oe){Ve.stylesheets=null,Ve.unsuspend!==null&&(Ve.count++,Ih=new Map,Oe.forEach(Dg,Ve),Ih=null,Nh.call(Ve))}function Dg(Ve,Oe){if(!(Oe.state.loading&4)){var He=Ih.get(Ve);if(He)var Ke=He.get(null);else{He=new Map,Ih.set(Ve,He);for(var fn=Ve.querySelectorAll("link[data-precedence],style[data-precedence]"),Bn=0;Bn<fn.length;Bn++){var Kn=fn[Bn];(Kn.nodeName==="LINK"||Kn.getAttribute("media")!=="not all")&&(He.set(Kn.dataset.precedence,Kn),Ke=Kn)}Ke&&He.set(null,Ke)}fn=Oe.instance,Kn=fn.getAttribute("data-precedence"),Bn=He.get(Kn)||Ke,Bn===Ke&&He.set(null,fn),He.set(Kn,fn),this.count++,Ke=Nh.bind(this),fn.addEventListener("load",Ke),fn.addEventListener("error",Ke),Bn?Bn.parentNode.insertBefore(fn,Bn.nextSibling):(Ve=Ve.nodeType===9?Ve.head:Ve,Ve.insertBefore(fn,Ve.firstChild)),Oe.state.loading|=4}}var Wf={$$typeof:St,Provider:null,Consumer:null,_currentValue:On,_currentValue2:On,_threadCount:0};function Lg(Ve,Oe,He,Ke,fn,Bn,Kn,ar){this.tag=1,this.containerInfo=Ve,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=Ke,this.onUncaughtError=fn,this.onCaughtError=Bn,this.onRecoverableError=Kn,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ar,this.incompleteTransitions=new Map}function Vm(Ve,Oe,He,Ke,fn,Bn,Kn,ar,mr,Ir,Yr,ta){return Ve=new Lg(Ve,Oe,He,Kn,ar,mr,Ir,ta),Oe=1,Bn===!0&&(Oe|=24),Bn=Ss(3,null,null,Oe),Ve.current=Bn,Bn.stateNode=Ve,Oe=Tn(),Oe.refCount++,Ve.pooledCache=Oe,Oe.refCount++,Bn.memoizedState={element:Ke,isDehydrated:He,cache:Oe},kr(Bn),Ve}function km(Ve){return Ve?(Ve=Yi,Ve):Yi}function Mm(Ve,Oe,He,Ke,fn,Bn){fn=km(fn),Ke.context===null?Ke.context=fn:Ke.pendingContext=fn,Ke=Hr(Oe),Ke.payload={element:He},Bn=Bn===void 0?null:Bn,Bn!==null&&(Ke.callback=Bn),He=ra(Ve,Ke,Oe),He!==null&&(wl(He,Ve,Oe),Zr(He,Ve,Oe))}function Nm(Ve,Oe){if(Ve=Ve.memoizedState,Ve!==null&&Ve.dehydrated!==null){var He=Ve.retryLane;Ve.retryLane=He!==0&&He<Oe?He:Oe}}function Ud(Ve,Oe){Nm(Ve,Oe),(Ve=Ve.alternate)&&Nm(Ve,Oe)}function Im(Ve){if(Ve.tag===13){var Oe=nu(Ve,67108864);Oe!==null&&wl(Oe,Ve,67108864),Ud(Ve,67108864)}}var Dh=!0;function Fg(Ve,Oe,He,Ke){var fn=Ln.T;Ln.T=null;var Bn=Vn.p;try{Vn.p=2,qd(Ve,Oe,He,Ke)}finally{Vn.p=Bn,Ln.T=fn}}function Og(Ve,Oe,He,Ke){var fn=Ln.T;Ln.T=null;var Bn=Vn.p;try{Vn.p=8,qd(Ve,Oe,He,Ke)}finally{Vn.p=Bn,Ln.T=fn}}function qd(Ve,Oe,He,Ke){if(Dh){var fn=$d(Ke);if(fn===null)Cd(Ve,Oe,Ke,Lh,He),Lm(Ve,Ke);else if(qg(fn,Ve,Oe,He,Ke))Ke.stopPropagation();else if(Lm(Ve,Ke),Oe&4&&-1<Ug.indexOf(Ve)){for(;fn!==null;){var Bn=pi(fn);if(Bn!==null)switch(Bn.tag){case 3:if(Bn=Bn.stateNode,Bn.current.memoizedState.isDehydrated){var Kn=Er(Bn.pendingLanes);if(Kn!==0){var ar=Bn;for(ar.pendingLanes|=2,ar.entangledLanes|=2;Kn;){var mr=1<<31-$r(Kn);ar.entanglements[1]|=mr,Kn&=~mr}Bu(Bn),(vi&6)===0&&(wh=cn()+500,Uf(0))}}break;case 13:ar=nu(Bn,2),ar!==null&&wl(ar,Bn,2),_h(),Ud(Bn,2)}if(Bn=$d(Ke),Bn===null&&Cd(Ve,Oe,Ke,Lh,He),Bn===fn)break;fn=Bn}fn!==null&&Ke.stopPropagation()}else Cd(Ve,Oe,Ke,null,He)}}function $d(Ve){return Ve=Nu(Ve),jd(Ve)}var Lh=null;function jd(Ve){if(Lh=null,Ve=ja(Ve),Ve!==null){var Oe=Me(Ve);if(Oe===null)Ve=null;else{var He=Oe.tag;if(He===13){if(Ve=Ue(Oe),Ve!==null)return Ve;Ve=null}else if(He===3){if(Oe.stateNode.current.memoizedState.isDehydrated)return Oe.tag===3?Oe.stateNode.containerInfo:null;Ve=null}else Oe!==Ve&&(Ve=null)}}return Lh=Ve,null}function Dm(Ve){switch(Ve){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bn()){case Cn:return 2;case Yn:return 8;case Jn:case er:return 32;case ur:return 268435456;default:return 32}default:return 32}}var zd=!1,Ec=null,Tc=null,Cc=null,Xf=new Map,Yf=new Map,Bc=[],Ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(Ve,Oe){switch(Ve){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":Xf.delete(Oe.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(Oe.pointerId)}}function Kf(Ve,Oe,He,Ke,fn,Bn){return Ve===null||Ve.nativeEvent!==Bn?(Ve={blockedOn:Oe,domEventName:He,eventSystemFlags:Ke,nativeEvent:Bn,targetContainers:[fn]},Oe!==null&&(Oe=pi(Oe),Oe!==null&&Im(Oe)),Ve):(Ve.eventSystemFlags|=Ke,Oe=Ve.targetContainers,fn!==null&&Oe.indexOf(fn)===-1&&Oe.push(fn),Ve)}function qg(Ve,Oe,He,Ke,fn){switch(Oe){case"focusin":return Ec=Kf(Ec,Ve,Oe,He,Ke,fn),!0;case"dragenter":return Tc=Kf(Tc,Ve,Oe,He,Ke,fn),!0;case"mouseover":return Cc=Kf(Cc,Ve,Oe,He,Ke,fn),!0;case"pointerover":var Bn=fn.pointerId;return Xf.set(Bn,Kf(Xf.get(Bn)||null,Ve,Oe,He,Ke,fn)),!0;case"gotpointercapture":return Bn=fn.pointerId,Yf.set(Bn,Kf(Yf.get(Bn)||null,Ve,Oe,He,Ke,fn)),!0}return!1}function Fm(Ve){var Oe=ja(Ve.target);if(Oe!==null){var He=Me(Oe);if(He!==null){if(Oe=He.tag,Oe===13){if(Oe=Ue(He),Oe!==null){Ve.blockedOn=Oe,oa(Ve.priority,function(){if(He.tag===13){var Ke=bl();Ke=Xr(Ke);var fn=nu(He,Ke);fn!==null&&wl(fn,He,Ke),Ud(He,Ke)}});return}}else if(Oe===3&&He.stateNode.current.memoizedState.isDehydrated){Ve.blockedOn=He.tag===3?He.stateNode.containerInfo:null;return}}}Ve.blockedOn=null}function Fh(Ve){if(Ve.blockedOn!==null)return!1;for(var Oe=Ve.targetContainers;0<Oe.length;){var He=$d(Ve.nativeEvent);if(He===null){He=Ve.nativeEvent;var Ke=new He.constructor(He.type,He);Do=Ke,He.target.dispatchEvent(Ke),Do=null}else return Oe=pi(He),Oe!==null&&Im(Oe),Ve.blockedOn=He,!1;Oe.shift()}return!0}function Om(Ve,Oe,He){Fh(Ve)&&He.delete(Oe)}function $g(){zd=!1,Ec!==null&&Fh(Ec)&&(Ec=null),Tc!==null&&Fh(Tc)&&(Tc=null),Cc!==null&&Fh(Cc)&&(Cc=null),Xf.forEach(Om),Yf.forEach(Om)}function Oh(Ve,Oe){Ve.blockedOn===Oe&&(Ve.blockedOn=null,zd||(zd=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,$g)))}var Uh=null;function Um(Ve){Uh!==Ve&&(Uh=Ve,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,function(){Uh===Ve&&(Uh=null);for(var Oe=0;Oe<Ve.length;Oe+=3){var He=Ve[Oe],Ke=Ve[Oe+1],fn=Ve[Oe+2];if(typeof Ke!="function"){if(jd(Ke||He)===null)continue;break}var Bn=pi(He);Bn!==null&&(Ve.splice(Oe,3),Oe-=3,Fl(Bn,{pending:!0,data:fn,method:He.method,action:Ke},Ke,fn))}}))}function Jf(Ve){function Oe(mr){return Oh(mr,Ve)}Ec!==null&&Oh(Ec,Ve),Tc!==null&&Oh(Tc,Ve),Cc!==null&&Oh(Cc,Ve),Xf.forEach(Oe),Yf.forEach(Oe);for(var He=0;He<Bc.length;He++){var Ke=Bc[He];Ke.blockedOn===Ve&&(Ke.blockedOn=null)}for(;0<Bc.length&&(He=Bc[0],He.blockedOn===null);)Fm(He),He.blockedOn===null&&Bc.shift();if(He=(Ve.ownerDocument||Ve).$$reactFormReplay,He!=null)for(Ke=0;Ke<He.length;Ke+=3){var fn=He[Ke],Bn=He[Ke+1],Kn=fn[fa]||null;if(typeof Bn=="function")Kn||Um(He);else if(Kn){var ar=null;if(Bn&&Bn.hasAttribute("formAction")){if(fn=Bn,Kn=Bn[fa]||null)ar=Kn.formAction;else if(jd(fn)!==null)continue}else ar=Kn.action;typeof ar=="function"?He[Ke+1]=ar:(He.splice(Ke,3),Ke-=3),Um(He)}}}function Hd(Ve){this._internalRoot=Ve}qh.prototype.render=Hd.prototype.render=function(Ve){var Oe=this._internalRoot;if(Oe===null)throw Error(Be(409));var He=Oe.current,Ke=bl();Mm(He,Ke,Ve,Oe,null,null)},qh.prototype.unmount=Hd.prototype.unmount=function(){var Ve=this._internalRoot;if(Ve!==null){this._internalRoot=null;var Oe=Ve.containerInfo;Mm(Ve.current,2,null,Ve,null,null),_h(),Oe[Ca]=null}};function qh(Ve){this._internalRoot=Ve}qh.prototype.unstable_scheduleHydration=function(Ve){if(Ve){var Oe=Sa();Ve={blockedOn:null,target:Ve,priority:Oe};for(var He=0;He<Bc.length&&Oe!==0&&Oe<Bc[He].priority;He++);Bc.splice(He,0,Ve),He===0&&Fm(Ve)}};var qm=Ee.version;if(qm!=="19.1.1")throw Error(Be(527,qm,"19.1.1"));Vn.findDOMNode=function(Ve){var Oe=Ve._reactInternals;if(Oe===void 0)throw typeof Ve.render=="function"?Error(Be(188)):(Ve=Object.keys(Ve).join(","),Error(Be(268,Ve)));return Ve=qe(Oe),Ve=Ve!==null?$e(Ve):null,Ve=Ve===null?null:Ve.stateNode,Ve};var jg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ln,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{yr=$h.inject(jg),jr=$h}catch{}}return reactDomClient_production.createRoot=function(Ve,Oe){if(!Re(Ve))throw Error(Be(299));var He=!1,Ke="",fn=rp,Bn=ap,Kn=ip,ar=null;return Oe!=null&&(Oe.unstable_strictMode===!0&&(He=!0),Oe.identifierPrefix!==void 0&&(Ke=Oe.identifierPrefix),Oe.onUncaughtError!==void 0&&(fn=Oe.onUncaughtError),Oe.onCaughtError!==void 0&&(Bn=Oe.onCaughtError),Oe.onRecoverableError!==void 0&&(Kn=Oe.onRecoverableError),Oe.unstable_transitionCallbacks!==void 0&&(ar=Oe.unstable_transitionCallbacks)),Oe=Vm(Ve,1,!1,null,null,He,Ke,fn,Bn,Kn,ar,null),Ve[Ca]=Oe.current,Td(Ve),new Hd(Oe)},reactDomClient_production.hydrateRoot=function(Ve,Oe,He){if(!Re(Ve))throw Error(Be(299));var Ke=!1,fn="",Bn=rp,Kn=ap,ar=ip,mr=null,Ir=null;return He!=null&&(He.unstable_strictMode===!0&&(Ke=!0),He.identifierPrefix!==void 0&&(fn=He.identifierPrefix),He.onUncaughtError!==void 0&&(Bn=He.onUncaughtError),He.onCaughtError!==void 0&&(Kn=He.onCaughtError),He.onRecoverableError!==void 0&&(ar=He.onRecoverableError),He.unstable_transitionCallbacks!==void 0&&(mr=He.unstable_transitionCallbacks),He.formState!==void 0&&(Ir=He.formState)),Oe=Vm(Ve,1,!0,Oe,He??null,Ke,fn,Bn,Kn,ar,mr,Ir),Oe.context=km(null),He=Oe.current,Ke=bl(),Ke=Xr(Ke),fn=Hr(Ke),fn.callback=null,ra(He,fn,Ke),He=Ke,Oe.current.lanes=He,sa(Oe,He),Bu(Oe),Ve[Ca]=Oe.current,Td(Ve),new qh(Oe)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Ce(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ce)}catch(Ee){console.error(Ee)}}return Ce(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs$2(clientExports),governorates$1=["القاهرة","الإسكندرية","الجيزة","القليبوبية","بورسعيد","السويس","الإسماعيلية","كفر الشيخ","الغربية","المنوفية","البحيرة","الشرقية","الدقهلية","دمياط","أسيوط","سوهاج","قنا","أسوان","الأقصر","المنيا","بني سويف","الفيوم","البحر الأحمر","الوادي الجديد","مطروح","شمال سيناء","جنوب سيناء"],stages$1=["المرحلة الإبتدائية","المرحلة الإعدادية","المرحلة الثانوية"],getSchoolsByStage$1=Ce=>{const Ee=["مدرسة أ","مدرسة ب","مدرسة ج","مدرسة د","مدرسة هـ","مدرسة و","مدرسة ز","مدرسة ح","مدرسة ط","مدرسة ي"];switch(Ce){case"المرحلة الإبتدائية":return[...Ee,"مدرسة السلام الإبتدائية","مدرسة المستقبل الإبتدائية"];case"المرحلة الإعدادية":return[...Ee,"مدرسة المستقبل الإعدادية بنين","مدرسة المستقبل الإعدادية بنات"];case"المرحلة الثانوية":return[...Ee,"مدرسة السلام الثانوية","مدرسة العاشر من رمضان"];default:return[]}},getClassesByStage$1=Ce=>{switch(Ce){case"المرحلة الإبتدائية":return["الصف الأول","الصف الثاني","الصف الثالث","الصف الرابع","الصف الخامس","الصف السادس"];case"المرحلة الإعدادية":return["الصف الأول","الصف الثاني","الصف الثالث"];case"المرحلة الثانوية":return["الصف الأول","الصف الثاني","الصف الثالث"];default:return[]}},learningDifficulties$1=["لا يوجد","كفيف","توحد","تأخر الكلام","سرعة التشتت وقلة التركيز","متلازمة داون"],RegistrationForm=({onRegister:Ce,onStepChange:Ee})=>{const[Te,Be]=reactExports.useState(1),[Re,Me]=reactExports.useState({name:"",birthDate:"",governorate:"",gender:"",stage:"",schoolName:"",class:"",semester:"الفصل الدراسي الأول",hobbies:"",learningDifficulty:["لا يوجد"]}),[Ue,De]=reactExports.useState(null),[qe,$e]=reactExports.useState({});reactExports.useEffect(()=>{if(Re.birthDate){const Ye=new Date,Ze=new Date(Re.birthDate);let St=Ye.getFullYear()-Ze.getFullYear();const Qe=Ye.getMonth()-Ze.getMonth();(Qe<0||Qe===0&&Ye.getDate()<Ze.getDate())&&St--,De(St)}else De(null)},[Re.birthDate]),reactExports.useEffect(()=>{if(Ue!==null&&Ue>=5&&Ue<=20){let Ye="";Ue<=12?Ye="المرحلة الإبتدائية":Ue<=15?Ye="المرحلة الإعدادية":Ye="المرحلة الثانوية",Me(Ze=>Ze.stage!==Ye?{...Ze,stage:Ye,class:"",schoolName:""}:Ze)}},[Ue]);const ze=reactExports.useCallback((Ye,Ze)=>{Me(St=>{const Qe={...St,[Ye]:Ze};return Ye==="stage"&&(Qe.class="",Qe.schoolName=""),Qe}),qe[Ye]&&$e(St=>{const Qe={...St};return delete Qe[Ye],Qe})},[qe]),Xe=Ye=>{Me(Ze=>{const St=Ze.learningDifficulty.filter(Je=>Je!=="لا يوجد");let Qe;return Ye==="لا يوجد"?Qe=["لا يوجد"]:(St.includes(Ye)?Qe=St.filter(Je=>Je!==Ye):Qe=[...St,Ye],Qe.length===0&&(Qe=["لا يوجد"])),{...Ze,learningDifficulty:Qe}}),qe.learningDifficulty&&$e(Ze=>{const St={...Ze};return delete St.learningDifficulty,St})},We=()=>{const Ye={};return Te===1&&(Re.name.trim()||(Ye.name="الاسم الكامل مطلوب."),Re.birthDate?Ue!==null&&(Ue<5||Ue>20)&&(Ye.birthDate="يجب أن يتراوح عمر الطالب بين 5 و 20 سنة."):Ye.birthDate="تاريخ الميلاد مطلوب.",Re.governorate||(Ye.governorate="المحافظة مطلوبة."),Re.gender||(Ye.gender="الجنس مطلوب.")),Te===2&&(Re.stage||(Ye.stage="المرحلة التعليمية مطلوبة."),Re.schoolName||(Ye.schoolName="اسم المدرسة مطلوب."),Re.class||(Ye.class="الصف مطلوب."),Re.semester||(Ye.semester="الفصل الدراسي مطلوب.")),Te===3&&(Re.hobbies.trim()||(Ye.hobbies="الهوايات والاهتمامات مطلوبة."),(!Re.learningDifficulty||Re.learningDifficulty.length===0)&&(Ye.learningDifficulty="يرجى تحديد صعوبات التعلم.")),$e(Ye),Object.keys(Ye).length===0},Ge=()=>{We()&&(Be(Ye=>Ye+1),Ee())},tn=()=>{Be(Ye=>Ye-1),Ee()},en=reactExports.useCallback(Ye=>{if(Ye.preventDefault(),!!We()){if(Ue===null||Ue<5||Ue>20){$e(Ze=>({...Ze,birthDate:"يجب أن يتراوح عمر الطالب بين 5 و 20 سنة."}));return}Ce({...Re,age:Ue,gender:Re.gender})}},[Re,Ue,Ce]),an=[{id:1,title:"المعلومات الشخصية"},{id:2,title:"التعليم"},{id:3,title:"الاهتمامات"}];return jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"إنشاء حساب جديد"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"انضم إلى مجتمعنا التعليمي وابدأ رحلتك."}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:an.map((Ye,Ze)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold transition-colors ${Te>=Ye.id?"bg-teal-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-300"}`,children:Te>Ye.id?"✓":Ye.id}),jsxRuntimeExports.jsx("p",{className:`mt-1 text-xs transition-colors ${Te>=Ye.id?"text-gray-800 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:Ye.title})]}),Ze<an.length-1&&jsxRuntimeExports.jsx("div",{className:`flex-1 h-1 mx-2 transition-colors ${Te>Ze+1?"bg-teal-500":"bg-gray-200 dark:bg-gray-700"}`})]},Ye.id))})}),jsxRuntimeExports.jsxs("form",{className:"mt-8 space-y-4 text-right",onSubmit:en,children:[Te===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:"الاسم الكامل:"}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",value:Re.name,onChange:Ye=>ze("name",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"}),qe.name&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium",children:"الجنس:"}),jsxRuntimeExports.jsxs("select",{id:"gender",value:Re.gender,onChange:Ye=>ze("gender",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"اختر الجنس:"}),jsxRuntimeExports.jsx("option",{value:"Male",children:"ذكر"}),jsxRuntimeExports.jsx("option",{value:"Female",children:"أنثى"})]}),qe.gender&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.gender})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"birthdate",className:"block text-sm font-medium",children:"تاريخ الميلاد:"}),jsxRuntimeExports.jsx("input",{id:"birthdate",type:"date",value:Re.birthDate,onChange:Ye=>ze("birthDate",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500"}),qe.birthDate&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.birthDate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"العمر:"}),jsxRuntimeExports.jsx("p",{className:"w-full mt-1 px-4 py-2 bg-gray-200 dark:bg-gray-700/50 rounded-md h-10 flex items-center",children:Ue!==null?Ue:"يُحسب تلقائياً"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"governorate",className:"block text-sm font-medium",children:"المحافظة:"}),jsxRuntimeExports.jsxs("select",{id:"governorate",value:Re.governorate,onChange:Ye=>ze("governorate",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"اختر المحافظة:"}),governorates$1.map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye,children:Ye},Ye))]}),qe.governorate&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.governorate})]})]}),Te===2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"stage",className:"block text-sm font-medium",children:"المرحلة التعليمية:"}),jsxRuntimeExports.jsxs("select",{id:"stage",value:Re.stage,onChange:Ye=>ze("stage",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"اختر المرحلة:"}),stages$1.map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye,children:Ye},Ye))]}),qe.stage&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.stage})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"schoolName",className:"block text-sm font-medium",children:"اسم المدرسة:"}),jsxRuntimeExports.jsxs("select",{id:"schoolName",value:Re.schoolName,onChange:Ye=>ze("schoolName",Ye.target.value),required:!0,disabled:!Re.stage,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 disabled:bg-gray-200 dark:disabled:bg-gray-600/50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx("option",{value:"",children:Re.stage?"اختر المدرسة:":"اختر المرحلة أولاً"}),getSchoolsByStage$1(Re.stage).map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye,children:Ye},Ye))]}),qe.schoolName&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.schoolName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"class",className:"block text-sm font-medium",children:"الصف:"}),jsxRuntimeExports.jsxs("select",{id:"class",value:Re.class,onChange:Ye=>ze("class",Ye.target.value),required:!0,disabled:!Re.stage,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 disabled:bg-gray-200 dark:disabled:bg-gray-600/50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx("option",{value:"",children:Re.stage?"اختر الصف:":"اختر المرحلة أولاً"}),getClassesByStage$1(Re.stage).map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye,children:Ye},Ye))]}),qe.class&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.class})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"semester",className:"block text-sm font-medium",children:"الفصل الدراسي:"}),jsxRuntimeExports.jsxs("select",{id:"semester",value:Re.semester,onChange:Ye=>ze("semester",Ye.target.value),required:!0,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",children:[jsxRuntimeExports.jsx("option",{value:"الفصل الدراسي الأول",children:"الفصل الدراسي الأول"}),jsxRuntimeExports.jsx("option",{value:"الفصل الدراسي الثاني",children:"الفصل الدراسي الثاني"})]}),qe.semester&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.semester})]})]}),Te===3&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"hobbies",className:"block text-sm font-medium",children:"الهوايات والاهتمامات:"}),jsxRuntimeExports.jsx("textarea",{id:"hobbies",value:Re.hobbies,onChange:Ye=>ze("hobbies",Ye.target.value),required:!0,rows:5,className:"w-full mt-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"أخبرنا عن هواياتك، اهتماماتك، أو ما تود أن تتعلمه."}),qe.hobbies&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.hobbies})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"صعوبات التعلم (يمكنك اختيار أكثر من واحد):"}),jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-900/50 rounded-lg space-y-2",children:learningDifficulties$1.map(Ye=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-3 rtl:space-x-reverse cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Re.learningDifficulty.includes(Ye),onChange:()=>Xe(Ye),className:"form-checkbox h-4 w-4 text-teal-500 bg-gray-200 dark:bg-gray-700 border-gray-400 dark:border-gray-500 rounded focus:ring-teal-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:Ye})]},Ye))}),qe.learningDifficulty&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:qe.learningDifficulty})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:tn,disabled:Te===1,className:"px-6 py-2 font-semibold text-gray-800 dark:text-gray-200 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"السابق"}),Te<3?jsxRuntimeExports.jsx("button",{type:"button",onClick:Ge,className:"px-6 py-2 font-semibold text-white bg-sky-600 rounded-md hover:bg-sky-700 transition-colors",children:"التالي"}):jsxRuntimeExports.jsx("button",{type:"submit",className:"px-6 py-2 font-semibold text-white bg-teal-600 rounded-md hover:bg-teal-700 transition-colors",children:"إكمال التسجيل"})]})]})]})},analyzePersonalityHuggingFace=async Ce=>{var De;const Te=`أنت محلل نفسي خبير. مهمتك هي تحليل الإجابات العشرين التالية من تقييم الشخصية المصغر (Mini-IPIP) وتحديد سمات الشخصية الخمس الكبرى للمستخدم: الانفتاح، والضمير، والانبساط، والقبول، والعصابية.

إليك الأسئلة وإجابات المستخدم:
${Ce.map((qe,$e)=>`${$e+1}. السؤال: "${qe.question}"
   الإجابة: ${qe.answer}`).join(`
`)}

بعض الأسئلة يتم تسجيلها بشكل عكسي. يجب أن تأخذ هذا في الاعتبار في تحليلك. الأسئلة ذات التسجيل العكسي هي: 6، 7، 8، 9، 10، 15، 16، 17، 18، 19، 20. بالنسبة لهذه الأسئلة، تشير إجابة "أعارض بشدة" إلى مستوى أعلى من السمة، وتشير إجابة "أوافق بشدة" إلى مستوى أدنى.

بناءً على جميع الإجابات العشرين، قدم درجة مئوية (من 0 إلى 100) لكل من السمات الخمس. يجب أن يكون ردك بتنسيق JSON ويلتزم بشكل صارم بالمخطط المقدم.`,Be=await fetch("https://api-inference.huggingface.co/models/Nasserelsaman/microsoft-finetuned-personality",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json"},body:JSON.stringify({inputs:Te})});if(!Be.ok)throw new Error("فشل الاتصال بـ Hugging Face API");const Re=await Be.json(),Me=((De=Re[0])==null?void 0:De.generated_text)||Re.generated_text||Re,Ue=typeof Me=="string"?JSON.parse(Me):Me;if(typeof Ue.openness!="number")throw new Error("الاستجابة غير صالحة من نموذج Hugging Face");return Ue},RadarChart=({data:Ce})=>{const Be=["الانفتاح","الضمير","الانبساط","القبول","العصابية"],Re=Be.length,Me=Math.PI*2/Re,Ue=(Xe,We)=>{const Ge=Me*We-Math.PI/2,tn=Xe/100*(150*.8);return{x:150+tn*Math.cos(Ge),y:150+tn*Math.sin(Ge)}},De=Object.values(Ce).map((Xe,We)=>{const Ge=Ue(Xe,We);return`${Ge.x},${Ge.y}`}).join(" "),qe=Be.map((Xe,We)=>{const Ge=Ue(100,We);return{x:Ge.x,y:Ge.y}}),$e=Xe=>Be.map((We,Ge)=>{const tn=Ue(Xe,Ge);return`${tn.x},${tn.y}`}).join(" "),ze=Be.map((Xe,We)=>{const Ge=Ue(115,We);return{x:Ge.x,y:Ge.y,text:Be[We]}});return jsxRuntimeExports.jsxs("svg",{width:300,height:300,viewBox:"0 0 300 300",children:[[25,50,75,100].map(Xe=>jsxRuntimeExports.jsx("polygon",{points:$e(Xe),fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1"},Xe)),qe.map((Xe,We)=>jsxRuntimeExports.jsx("line",{x1:150,y1:150,x2:Xe.x,y2:Xe.y,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1"},`axis-${We}`)),jsxRuntimeExports.jsx("polygon",{points:De,fill:"rgba(52, 211, 153, 0.4)",stroke:"#34D399",strokeWidth:"2"}),Object.values(Ce).map((Xe,We)=>{const{x:Ge,y:tn}=Ue(Xe,We);return jsxRuntimeExports.jsx("circle",{cx:Ge,cy:tn,r:"4",fill:"#34D399"},`point-${We}`)}),ze.map((Xe,We)=>jsxRuntimeExports.jsx("text",{x:Xe.x,y:Xe.y,fill:"white",fontSize:"12",fontWeight:"bold",textAnchor:Xe.x<140?"end":Xe.x>160?"start":"middle",dominantBaseline:"middle",children:Xe.text},`label-${We}`))]})},questions=[{text:"أحب المشاركة في الحفلات والأنشطة الطلابية.",id:1},{text:"أتعاطف مع مشاعر الآخرين.",id:2},{text:"أقوم بإنجاز الأعمال المطلوبة مني على الفور.",id:3},{text:"لدي تقلبات مزاجية متكررة.",id:4},{text:"لدي خيالاً قوياً.",id:5},{text:"لا أتحدث كثيرا.",id:6},{text:"لست مهتمًا بمشاكل الآخرين ولا معاناتهم.",id:7},{text:"كثيراً ما أنسى إعادة الأشياء إلى مكانها الصحيح.",id:8},{text:"أميل إلى الراحة والإسترخاء في معظم الأوقات.",id:9},{text:"لست مهتمًا بالأفكار النظرية أو غير الملموسة.",id:10},{text:"في الحفلات أحب التحدث مع عدد كبير ومتنوع من الأشخاص.",id:11},{text:"أشعر بمشاعر الآخرين.",id:12},{text:"أحب النظام والترتيب.",id:13},{text:"أغضب وأحزن بسهولة.",id:14},{text:"أجد صعوبة في فهم الأفكار النظرية / غير الملموسة.",id:15},{text:" أحب البقاء بعيداً عن الأنظار خلال المواقف الاجتماعية.",id:16},{text:"لست مهتمًا بالآخرين.",id:17},{text:"أميل إلى بعثرة الأشياء وجعلها فوضوية.",id:18},{text:"نادراً ما أشعر بالكآبة والحزن.",id:19},{text:"ليس لدي خيالاً قوياً.",id:20}],options=["أعارض بشدة","أعارض","محايد","أوافق","أوافق بشدة"],PersonalityAssessment=({userName:Ce,onComplete:Ee})=>{const[Te,Be]=reactExports.useState({}),[Re,Me]=reactExports.useState(!1),[Ue,De]=reactExports.useState(null),[qe,$e]=reactExports.useState(null),[ze,Xe]=reactExports.useState(new Set),[We,Ge]=reactExports.useState(""),tn=(an,Ye)=>{Be(Ze=>({...Ze,[an]:Ye})),ze.has(an)&&Xe(Ze=>{const St=new Set(Ze);return St.delete(an),St})},en=reactExports.useCallback(async()=>{const an=questions.map(Ye=>Ye.id).filter(Ye=>!Te[Ye]);if(an.length>0){De("الرجاء الإجابة على جميع الأسئلة العشرين قبل الإرسال."),Xe(new Set(an));return}if(De(null),Xe(new Set),Me(!0),!We){De("يرجى إدخال رمز API الخاص بـ Hugging Face."),Me(!1);return}try{const Ye=questions.map(St=>({question:St.text,answer:Te[St.id]})),Ze=await analyzePersonalityHuggingFace(Ye,We);$e(Ze)}catch(Ye){De(Ye instanceof Error?Ye.message:"حدث خطأ غير معروف.")}finally{Me(!1)}},[Te,We]);return qe?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"ملف شخصيتك"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-200",children:"بناءً على إجاباتك، إليك لمحة عن سمات شخصيتك."}),jsxRuntimeExports.jsx("div",{className:"my-8 flex justify-center",children:jsxRuntimeExports.jsx(RadarChart,{data:qe})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"يساعدنا هذا التقييم على تخصيص تجربتك التعليمية. يمكنك الآن المتابعة إلى التطبيق الرئيسي."}),jsxRuntimeExports.jsx("button",{onClick:()=>Ee(qe),className:"w-full max-w-xs mx-auto px-4 py-3 font-semibold text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors",children:"المتابعة إلى الدردشة"})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-white font-semibold mb-2",children:"رمز API الخاص بـ Hugging Face:"}),jsxRuntimeExports.jsx("input",{type:"text",value:We,onChange:an=>Ge(an.target.value),className:"w-full px-3 py-2 rounded bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"أدخل رمز API هنا"})]}),jsxRuntimeExports.jsxs("h2",{className:"text-3xl font-bold tracking-tight text-center",children:["الخطوة الأخيرة، ",Ce,"!"]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-200 text-center",children:"أكمل هذا التقييم الشخصي القصير لتخصيص تجربتك."}),jsxRuntimeExports.jsx("div",{className:"mt-8 space-y-6 max-h-[60vh] overflow-y-auto pe-4",children:questions.map((an,Ye)=>jsxRuntimeExports.jsxs("div",{className:`p-4 bg-white/10 rounded-lg transition-all ${ze.has(an.id)?"border-2 border-red-400":"border-2 border-transparent"}`,children:[jsxRuntimeExports.jsxs("p",{className:"font-medium text-white",children:[Ye+1,". ",an.text]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mt-3",children:options.map(Ze=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-sm",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:`question_${an.id}`,value:Ze,checked:Te[an.id]===Ze,onChange:()=>tn(an.id,Ze),className:"form-radio h-4 w-4 text-teal-500 bg-gray-800 border-gray-600 focus:ring-teal-500"}),jsxRuntimeExports.jsx("span",{children:Ze})]},Ze))}),ze.has(an.id)&&jsxRuntimeExports.jsx("p",{className:"text-red-300 text-xs mt-2 text-center",children:"الإجابة على هذا السؤال مطلوبة."})]},an.id))}),Ue&&!ze.size&&jsxRuntimeExports.jsx("p",{className:"text-red-300 text-center mt-4",children:Ue}),ze.size>0&&jsxRuntimeExports.jsx("p",{className:"text-red-300 text-center mt-4",children:"الرجاء الإجابة على الأسئلة المحددة أعلاه."}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx("button",{onClick:en,disabled:Re,className:"w-full px-4 py-3 font-semibold text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-teal-400/50 disabled:cursor-not-allowed",children:Re?"جاري التحليل...":"إرسال ورؤية ملفي الشخصي"})})]})},inspirationalQuotes=[{quote:"الاستثمار في المعرفة يحقق أفضل الفوائد.",author:"بنجامين فرانكلين"},{quote:"التعليم هو أقوى سلاح يمكنك استخدامه لتغيير العالم.",author:"نيلسون مانديلا"},{quote:"الشيء الجميل في التعلم هو أن لا أحد يستطيع أن يأخذه منك.",author:"بي. بي. كينج"},{quote:"التعليم ليس استعداداً للحياة؛ التعليم هو الحياة ذاتها.",author:"جون ديوي"}],AuthPage=({onLogin:Ce,initialMode:Ee,onBackToHome:Te})=>{const[Be,Re]=reactExports.useState(Ee==="register"),[Me,Ue]=reactExports.useState("form"),[De,qe]=reactExports.useState(null),[$e,ze]=reactExports.useState(inspirationalQuotes[0]);reactExports.useEffect(()=>{Re(Ee==="register"),Ue("form")},[Ee]);const Xe=reactExports.useCallback(()=>{ze(en=>{const Ye=(inspirationalQuotes.findIndex(Ze=>Ze.quote===en.quote)+1)%inspirationalQuotes.length;return inspirationalQuotes[Ye]})},[]),We=en=>{qe(en),Ue("assessment")},Ge=en=>{if(De){const an={...De,personalityTraits:en};Ce(an)}},tn=Be&&Me==="assessment";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex bg-gray-100 dark:bg-gray-900",children:[jsxRuntimeExports.jsxs("div",{className:`hidden w-1/2 flex-col justify-between p-12 bg-cover bg-center text-white relative transition-all duration-500 ${tn?"lg:hidden":"lg:flex"}`,style:{backgroundImage:"url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=2070&auto=format&fit=crop')"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"relative z-10",children:jsxRuntimeExports.jsxs("h1",{onClick:Te,className:"text-3xl font-bold cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-teal-400",children:"ذاكر"}),jsxRuntimeExports.jsx("span",{className:"text-sky-400",children:"بوت"})]})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsxs("p",{className:"text-2xl font-semibold leading-relaxed",children:['"',$e.quote,'"']}),jsxRuntimeExports.jsxs("p",{className:"mt-4 text-lg text-gray-300",children:["- ",$e.author]})]})]}),jsxRuntimeExports.jsx("div",{className:`w-full flex items-center justify-center p-6 sm:p-12 transition-all duration-500 ${tn?"lg:w-full bg-cover bg-center":"lg:w-1/2 bg-white dark:bg-gray-800"}`,style:tn?{backgroundImage:"url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=2070&auto=format&fit=crop')"}:{},children:jsxRuntimeExports.jsxs("div",{className:`w-full ${tn?"max-w-2xl bg-slate-900/70 backdrop-blur-sm p-8 rounded-2xl":"max-w-md"} relative transition-all duration-500`,children:[jsxRuntimeExports.jsxs("button",{onClick:Te,className:`lg:hidden absolute top-0 -mt-6 right-0 px-3 py-2 text-gray-600 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors z-10 flex items-center gap-2 ${tn?"hidden":""}`,children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"الرئيسية"})]}),Be?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Me==="form"?jsxRuntimeExports.jsxs("div",{className:"text-gray-900 dark:text-white",children:[jsxRuntimeExports.jsx(RegistrationForm,{onRegister:We,onStepChange:Xe}),jsxRuntimeExports.jsx("div",{className:"text-center mt-6",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["لديك حساب بالفعل؟"," ",jsxRuntimeExports.jsx("button",{onClick:()=>Re(!1),className:"font-semibold text-teal-600 dark:text-teal-400 hover:underline",children:"تسجيل الدخول"})]})})]}):De&&jsxRuntimeExports.jsx("div",{className:"text-white",children:jsxRuntimeExports.jsx(PersonalityAssessment,{userName:De.name,onComplete:Ge})})}):jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md mx-auto text-gray-900 dark:text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"مرحباً بعودتك!"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"سجل الدخول للمتابعة إلى مساعدك التعليمي."}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-6 text-right",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium",children:"البريد الإلكتروني"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",className:"w-full mt-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",children:"كلمة المرور"}),jsxRuntimeExports.jsx("input",{id:"password",type:"password",placeholder:"••••••••",className:"w-full mt-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce({name:"مستخدم تجريبي",age:17,birthDate:"2007-01-01",governorate:"القاهرة",stage:"المرحلة الثانوية",schoolName:"مدرسة السلام الثانوية",class:"الصف الثالث",hobbies:"القراءة والذكاء الاصطناعي",gender:"Male",semester:"الفصل الدراسي الأول",learningDifficulty:["لا يوجد"]}),className:"w-full px-4 py-3 font-semibold text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors",children:"تسجيل الدخول (تجريبي)"})]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-6",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ليس لديك حساب؟"," ",jsxRuntimeExports.jsx("button",{onClick:()=>Re(!0),className:"font-semibold text-sky-600 dark:text-sky-400 hover:underline",children:"إنشاء حساب جديد"})]})})]})]})})]})};var MessageSender=(Ce=>(Ce.USER="user",Ce.BOT="bot",Ce))(MessageSender||{}),KnowledgeItemType=(Ce=>(Ce.FILE="file",Ce.URL="url",Ce.IMAGE="image",Ce))(KnowledgeItemType||{});function commonjsRequire$1(Ce){throw new Error('Could not dynamically require "'+Ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},dommatrix$1={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022 © thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var dommatrix=dommatrix$1.exports,hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,(function(Ce,Ee){(function(Te,Be){Ce.exports=Be()})(dommatrix,(function(){function Te(Ze){var St=new tn,Qe=Array.from(Ze);if(!Qe.every(function(pn){return!Number.isNaN(pn)}))throw TypeError('CSSMatrix: "'+Ze+'" must only have numbers.');if(Qe.length===16){var Je=Qe[0],on=Qe[1],hn=Qe[2],dn=Qe[3],sn=Qe[4],kn=Qe[5],Pn=Qe[6],_n=Qe[7],Mn=Qe[8],yn=Qe[9],zn=Qe[10],Ln=Qe[11],Vn=Qe[12],On=Qe[13],Un=Qe[14],jn=Qe[15];St.m11=Je,St.a=Je,St.m21=sn,St.c=sn,St.m31=Mn,St.m41=Vn,St.e=Vn,St.m12=on,St.b=on,St.m22=kn,St.d=kn,St.m32=yn,St.m42=On,St.f=On,St.m13=hn,St.m23=Pn,St.m33=zn,St.m43=Un,St.m14=dn,St.m24=_n,St.m34=Ln,St.m44=jn}else if(Qe.length===6){var Gn=Qe[0],An=Qe[1],$n=Qe[2],Nn=Qe[3],En=Qe[4],Sn=Qe[5];St.m11=Gn,St.a=Gn,St.m12=An,St.b=An,St.m21=$n,St.c=$n,St.m22=Nn,St.d=Nn,St.m41=En,St.e=En,St.m42=Sn,St.f=Sn}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return St}function Be(Ze){var St=Object.keys(new tn);if(typeof Ze=="object"&&St.every(function(Qe){return Qe in Ze}))return Te([Ze.m11,Ze.m12,Ze.m13,Ze.m14,Ze.m21,Ze.m22,Ze.m23,Ze.m24,Ze.m31,Ze.m32,Ze.m33,Ze.m34,Ze.m41,Ze.m42,Ze.m43,Ze.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(Ze)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function Re(Ze){if(typeof Ze!="string")throw TypeError('CSSMatrix: "'+Ze+'" is not a string.');var St=String(Ze).replace(/\s/g,""),Qe=new tn,Je='CSSMatrix: invalid transform string "'+Ze+'"';return St.split(")").filter(function(on){return on}).forEach(function(on){var hn=on.split("("),dn=hn[0],sn=hn[1];if(!sn)throw TypeError(Je);var kn=sn.split(",").map(function(En){return En.includes("rad")?parseFloat(En)*(180/Math.PI):parseFloat(En)}),Pn=kn[0],_n=kn[1],Mn=kn[2],yn=kn[3],zn=[Pn,_n,Mn],Ln=[Pn,_n,Mn,yn];if(dn==="perspective"&&Pn&&[_n,Mn].every(function(En){return En===void 0}))Qe.m34=-1/Pn;else if(dn.includes("matrix")&&[6,16].includes(kn.length)&&kn.every(function(En){return!Number.isNaN(+En)})){var Vn=kn.map(function(En){return Math.abs(En)<1e-6?0:En});Qe=Qe.multiply(Te(Vn))}else if(dn==="translate3d"&&zn.every(function(En){return!Number.isNaN(+En)}))Qe=Qe.translate(Pn,_n,Mn);else if(dn==="translate"&&Pn&&Mn===void 0)Qe=Qe.translate(Pn,_n||0,0);else if(dn==="rotate3d"&&Ln.every(function(En){return!Number.isNaN(+En)})&&yn)Qe=Qe.rotateAxisAngle(Pn,_n,Mn,yn);else if(dn==="rotate"&&Pn&&[_n,Mn].every(function(En){return En===void 0}))Qe=Qe.rotate(0,0,Pn);else if(dn==="scale3d"&&zn.every(function(En){return!Number.isNaN(+En)})&&zn.some(function(En){return En!==1}))Qe=Qe.scale(Pn,_n,Mn);else if(dn==="scale"&&!Number.isNaN(Pn)&&Pn!==1&&Mn===void 0){var On=Number.isNaN(+_n),Un=On?Pn:_n;Qe=Qe.scale(Pn,Un,1)}else if(dn==="skew"&&(Pn||!Number.isNaN(Pn)&&_n)&&Mn===void 0)Qe=Qe.skew(Pn,_n||0);else if(/[XYZ]/.test(dn)&&Pn&&[_n,Mn].every(function(En){return En===void 0})&&["translate","rotate","scale","skew"].some(function(En){return dn.includes(En)}))if(["skewX","skewY"].includes(dn))Qe=Qe[dn](Pn);else{var jn=dn.replace(/[XYZ]/,""),Gn=dn.replace(jn,""),An=["X","Y","Z"].indexOf(Gn),$n=jn==="scale"?1:0,Nn=[An===0?Pn:$n,An===1?Pn:$n,An===2?Pn:$n];Qe=Qe[jn].apply(Qe,Nn)}else throw TypeError(Je)}),Qe}function Me(Ze,St){return St?[Ze.a,Ze.b,Ze.c,Ze.d,Ze.e,Ze.f]:[Ze.m11,Ze.m12,Ze.m13,Ze.m14,Ze.m21,Ze.m22,Ze.m23,Ze.m24,Ze.m31,Ze.m32,Ze.m33,Ze.m34,Ze.m41,Ze.m42,Ze.m43,Ze.m44]}function Ue(Ze,St,Qe){var Je=new tn;return Je.m41=Ze,Je.e=Ze,Je.m42=St,Je.f=St,Je.m43=Qe,Je}function De(Ze,St,Qe){var Je=new tn,on=Math.PI/180,hn=Ze*on,dn=St*on,sn=Qe*on,kn=Math.cos(hn),Pn=-Math.sin(hn),_n=Math.cos(dn),Mn=-Math.sin(dn),yn=Math.cos(sn),zn=-Math.sin(sn),Ln=_n*yn,Vn=-_n*zn;Je.m11=Ln,Je.a=Ln,Je.m12=Vn,Je.b=Vn,Je.m13=Mn;var On=Pn*Mn*yn+kn*zn;Je.m21=On,Je.c=On;var Un=kn*yn-Pn*Mn*zn;return Je.m22=Un,Je.d=Un,Je.m23=-Pn*_n,Je.m31=Pn*zn-kn*Mn*yn,Je.m32=Pn*yn+kn*Mn*zn,Je.m33=kn*_n,Je}function qe(Ze,St,Qe,Je){var on=new tn,hn=Math.sqrt(Ze*Ze+St*St+Qe*Qe);if(hn===0)return on;var dn=Ze/hn,sn=St/hn,kn=Qe/hn,Pn=Je*(Math.PI/360),_n=Math.sin(Pn),Mn=Math.cos(Pn),yn=_n*_n,zn=dn*dn,Ln=sn*sn,Vn=kn*kn,On=1-2*(Ln+Vn)*yn;on.m11=On,on.a=On;var Un=2*(dn*sn*yn+kn*_n*Mn);on.m12=Un,on.b=Un,on.m13=2*(dn*kn*yn-sn*_n*Mn);var jn=2*(sn*dn*yn-kn*_n*Mn);on.m21=jn,on.c=jn;var Gn=1-2*(Vn+zn)*yn;return on.m22=Gn,on.d=Gn,on.m23=2*(sn*kn*yn+dn*_n*Mn),on.m31=2*(kn*dn*yn+sn*_n*Mn),on.m32=2*(kn*sn*yn-dn*_n*Mn),on.m33=1-2*(zn+Ln)*yn,on}function $e(Ze,St,Qe){var Je=new tn;return Je.m11=Ze,Je.a=Ze,Je.m22=St,Je.d=St,Je.m33=Qe,Je}function ze(Ze,St){var Qe=new tn;if(Ze){var Je=Ze*Math.PI/180,on=Math.tan(Je);Qe.m21=on,Qe.c=on}if(St){var hn=St*Math.PI/180,dn=Math.tan(hn);Qe.m12=dn,Qe.b=dn}return Qe}function Xe(Ze){return ze(Ze,0)}function We(Ze){return ze(0,Ze)}function Ge(Ze,St){var Qe=St.m11*Ze.m11+St.m12*Ze.m21+St.m13*Ze.m31+St.m14*Ze.m41,Je=St.m11*Ze.m12+St.m12*Ze.m22+St.m13*Ze.m32+St.m14*Ze.m42,on=St.m11*Ze.m13+St.m12*Ze.m23+St.m13*Ze.m33+St.m14*Ze.m43,hn=St.m11*Ze.m14+St.m12*Ze.m24+St.m13*Ze.m34+St.m14*Ze.m44,dn=St.m21*Ze.m11+St.m22*Ze.m21+St.m23*Ze.m31+St.m24*Ze.m41,sn=St.m21*Ze.m12+St.m22*Ze.m22+St.m23*Ze.m32+St.m24*Ze.m42,kn=St.m21*Ze.m13+St.m22*Ze.m23+St.m23*Ze.m33+St.m24*Ze.m43,Pn=St.m21*Ze.m14+St.m22*Ze.m24+St.m23*Ze.m34+St.m24*Ze.m44,_n=St.m31*Ze.m11+St.m32*Ze.m21+St.m33*Ze.m31+St.m34*Ze.m41,Mn=St.m31*Ze.m12+St.m32*Ze.m22+St.m33*Ze.m32+St.m34*Ze.m42,yn=St.m31*Ze.m13+St.m32*Ze.m23+St.m33*Ze.m33+St.m34*Ze.m43,zn=St.m31*Ze.m14+St.m32*Ze.m24+St.m33*Ze.m34+St.m34*Ze.m44,Ln=St.m41*Ze.m11+St.m42*Ze.m21+St.m43*Ze.m31+St.m44*Ze.m41,Vn=St.m41*Ze.m12+St.m42*Ze.m22+St.m43*Ze.m32+St.m44*Ze.m42,On=St.m41*Ze.m13+St.m42*Ze.m23+St.m43*Ze.m33+St.m44*Ze.m43,Un=St.m41*Ze.m14+St.m42*Ze.m24+St.m43*Ze.m34+St.m44*Ze.m44;return Te([Qe,Je,on,hn,dn,sn,kn,Pn,_n,Mn,yn,zn,Ln,Vn,On,Un])}var tn=function(){for(var St=[],Qe=arguments.length;Qe--;)St[Qe]=arguments[Qe];var Je=this;if(Je.a=1,Je.b=0,Je.c=0,Je.d=1,Je.e=0,Je.f=0,Je.m11=1,Je.m12=0,Je.m13=0,Je.m14=0,Je.m21=0,Je.m22=1,Je.m23=0,Je.m24=0,Je.m31=0,Je.m32=0,Je.m33=1,Je.m34=0,Je.m41=0,Je.m42=0,Je.m43=0,Je.m44=1,St.length){var on=[16,6].some(function(hn){return hn===St.length})?St:St[0];return Je.setMatrixValue(on)}return Je},en={isIdentity:{configurable:!0},is2D:{configurable:!0}};en.isIdentity.get=function(){var Ze=this;return Ze.m11===1&&Ze.m12===0&&Ze.m13===0&&Ze.m14===0&&Ze.m21===0&&Ze.m22===1&&Ze.m23===0&&Ze.m24===0&&Ze.m31===0&&Ze.m32===0&&Ze.m33===1&&Ze.m34===0&&Ze.m41===0&&Ze.m42===0&&Ze.m43===0&&Ze.m44===1},en.is2D.get=function(){var Ze=this;return Ze.m31===0&&Ze.m32===0&&Ze.m33===1&&Ze.m34===0&&Ze.m43===0&&Ze.m44===1},tn.prototype.setMatrixValue=function(St){var Qe=this;return typeof St=="string"&&St.length&&St!=="none"?Re(St):[Array,Float64Array,Float32Array].some(function(Je){return St instanceof Je})?Te(St):[tn,DOMMatrix,Object].some(function(Je){return St instanceof Je})?Be(St):Qe},tn.prototype.toFloat32Array=function(St){return Float32Array.from(Me(this,St))},tn.prototype.toFloat64Array=function(St){return Float64Array.from(Me(this,St))},tn.prototype.toString=function(){var St=this,Qe=St.is2D,Je=St.toFloat64Array(Qe).join(", "),on=Qe?"matrix":"matrix3d";return on+"("+Je+")"},tn.prototype.toJSON=function(){var St=this,Qe=St.is2D,Je=St.isIdentity;return Object.assign({},St,{is2D:Qe,isIdentity:Je})},tn.prototype.multiply=function(St){return Ge(this,St)},tn.prototype.translate=function(St,Qe,Je){var on=St,hn=Qe,dn=Je;return hn===void 0&&(hn=0),dn===void 0&&(dn=0),Ge(this,Ue(on,hn,dn))},tn.prototype.scale=function(St,Qe,Je){var on=St,hn=Qe,dn=Je;return hn===void 0&&(hn=St),dn===void 0&&(dn=1),Ge(this,$e(on,hn,dn))},tn.prototype.rotate=function(St,Qe,Je){var on=St,hn=Qe||0,dn=Je||0;return typeof St=="number"&&Qe===void 0&&Je===void 0&&(dn=on,on=0,hn=0),Ge(this,De(on,hn,dn))},tn.prototype.rotateAxisAngle=function(St,Qe,Je,on){if([St,Qe,Je,on].some(function(hn){return Number.isNaN(+hn)}))throw new TypeError("CSSMatrix: expecting 4 values");return Ge(this,qe(St,Qe,Je,on))},tn.prototype.skewX=function(St){return Ge(this,Xe(St))},tn.prototype.skewY=function(St){return Ge(this,We(St))},tn.prototype.skew=function(St,Qe){return Ge(this,ze(St,Qe))},tn.prototype.transformPoint=function(St){var Qe=this,Je=Qe.m11*St.x+Qe.m21*St.y+Qe.m31*St.z+Qe.m41*St.w,on=Qe.m12*St.x+Qe.m22*St.y+Qe.m32*St.z+Qe.m42*St.w,hn=Qe.m13*St.x+Qe.m23*St.y+Qe.m33*St.z+Qe.m43*St.w,dn=Qe.m14*St.x+Qe.m24*St.y+Qe.m34*St.z+Qe.m44*St.w;return St instanceof DOMPoint?new DOMPoint(Je,on,hn,dn):{x:Je,y:on,z:hn,w:dn}},Object.defineProperties(tn.prototype,en),Object.assign(tn,{Translate:Ue,Rotate:De,RotateAxisAngle:qe,Scale:$e,SkewX:Xe,SkewY:We,Skew:ze,Multiply:Ge,fromArray:Te,fromMatrix:Be,fromString:Re,toArray:Me});var an="1.0.3",Ye=an;return Object.assign(tn,{Version:Ye}),tn}))})(dommatrix$1)),dommatrix$1.exports}var ponyfill$1={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var ponyfill=ponyfill$1.exports,hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,(function(Ce,Ee){(function(Te,Be){Be(Ee)})(ponyfill,(function(Te){var Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(nn){return"Symbol(".concat(nn,")")};function Re(nn,Tn){var Xn={label:0,sent:function(){if(xr[0]&1)throw xr[1];return xr[1]},trys:[],ops:[]},or,pr,xr,Lr;return Lr={next:ua(0),throw:ua(1),return:ua(2)},typeof Symbol=="function"&&(Lr[Symbol.iterator]=function(){return this}),Lr;function ua(la){return function(rn){return ba([la,rn])}}function ba(la){if(or)throw new TypeError("Generator is already executing.");for(;Lr&&(Lr=0,la[0]&&(Xn=0)),Xn;)try{if(or=1,pr&&(xr=la[0]&2?pr.return:la[0]?pr.throw||((xr=pr.return)&&xr.call(pr),0):pr.next)&&!(xr=xr.call(pr,la[1])).done)return xr;switch(pr=0,xr&&(la=[la[0]&2,xr.value]),la[0]){case 0:case 1:xr=la;break;case 4:return Xn.label++,{value:la[1],done:!1};case 5:Xn.label++,pr=la[1],la=[0];continue;case 7:la=Xn.ops.pop(),Xn.trys.pop();continue;default:if(xr=Xn.trys,!(xr=xr.length>0&&xr[xr.length-1])&&(la[0]===6||la[0]===2)){Xn=0;continue}if(la[0]===3&&(!xr||la[1]>xr[0]&&la[1]<xr[3])){Xn.label=la[1];break}if(la[0]===6&&Xn.label<xr[1]){Xn.label=xr[1],xr=la;break}if(xr&&Xn.label<xr[2]){Xn.label=xr[2],Xn.ops.push(la);break}xr[2]&&Xn.ops.pop(),Xn.trys.pop();continue}la=Tn.call(nn,Xn)}catch(rn){la=[6,rn],pr=0}finally{or=xr=0}if(la[0]&5)throw la[1];return{value:la[0]?la[1]:void 0,done:!0}}}function Me(nn){var Tn=typeof Symbol=="function"&&Symbol.iterator,Xn=Tn&&nn[Tn],or=0;if(Xn)return Xn.call(nn);if(nn&&typeof nn.length=="number")return{next:function(){return nn&&or>=nn.length&&(nn=void 0),{value:nn&&nn[or++],done:!nn}}};throw new TypeError(Tn?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(nn){return this instanceof Ue?(this.v=nn,this):new Ue(nn)}function De(nn,Tn,Xn){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var or=Xn.apply(nn,Tn||[]),pr,xr=[];return pr={},Lr("next"),Lr("throw"),Lr("return"),pr[Symbol.asyncIterator]=function(){return this},pr;function Lr(Fn){or[Fn]&&(pr[Fn]=function(Wn){return new Promise(function(Zn,tr){xr.push([Fn,Wn,Zn,tr])>1||ua(Fn,Wn)})})}function ua(Fn,Wn){try{ba(or[Fn](Wn))}catch(Zn){gn(xr[0][3],Zn)}}function ba(Fn){Fn.value instanceof Ue?Promise.resolve(Fn.value.v).then(la,rn):gn(xr[0][2],Fn)}function la(Fn){ua("next",Fn)}function rn(Fn){ua("throw",Fn)}function gn(Fn,Wn){Fn(Wn),xr.shift(),xr.length&&ua(xr[0][0],xr[0][1])}}function qe(nn){var Tn,Xn;return Tn={},or("next"),or("throw",function(pr){throw pr}),or("return"),Tn[Symbol.iterator]=function(){return this},Tn;function or(pr,xr){Tn[pr]=nn[pr]?function(Lr){return(Xn=!Xn)?{value:Ue(nn[pr](Lr)),done:!1}:xr?xr(Lr):Lr}:xr}}function $e(nn){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tn=nn[Symbol.asyncIterator],Xn;return Tn?Tn.call(nn):(nn=typeof Me=="function"?Me(nn):nn[Symbol.iterator](),Xn={},or("next"),or("throw"),or("return"),Xn[Symbol.asyncIterator]=function(){return this},Xn);function or(xr){Xn[xr]=nn[xr]&&function(Lr){return new Promise(function(ua,ba){Lr=nn[xr](Lr),pr(ua,ba,Lr.done,Lr.value)})}}function pr(xr,Lr,ua,ba){Promise.resolve(ba).then(function(la){xr({value:la,done:ua})},Lr)}}typeof SuppressedError=="function"&&SuppressedError;function ze(){}function Xe(nn){return typeof nn=="object"&&nn!==null||typeof nn=="function"}var We=ze;function Ge(nn,Tn){try{Object.defineProperty(nn,"name",{value:Tn,configurable:!0})}catch{}}var tn=Promise,en=Promise.prototype.then,an=Promise.reject.bind(tn);function Ye(nn){return new tn(nn)}function Ze(nn){return Ye(function(Tn){return Tn(nn)})}function St(nn){return an(nn)}function Qe(nn,Tn,Xn){return en.call(nn,Tn,Xn)}function Je(nn,Tn,Xn){Qe(Qe(nn,Tn,Xn),void 0,We)}function on(nn,Tn){Je(nn,Tn)}function hn(nn,Tn){Je(nn,void 0,Tn)}function dn(nn,Tn,Xn){return Qe(nn,Tn,Xn)}function sn(nn){Qe(nn,void 0,We)}var kn=function(nn){if(typeof queueMicrotask=="function")kn=queueMicrotask;else{var Tn=Ze(void 0);kn=function(Xn){return Qe(Tn,Xn)}}return kn(nn)};function Pn(nn,Tn,Xn){if(typeof nn!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(nn,Tn,Xn)}function _n(nn,Tn,Xn){try{return Ze(Pn(nn,Tn,Xn))}catch(or){return St(or)}}var Mn=16384,yn=(function(){function nn(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(nn.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),nn.prototype.push=function(Tn){var Xn=this._back,or=Xn;Xn._elements.length===Mn-1&&(or={_elements:[],_next:void 0}),Xn._elements.push(Tn),or!==Xn&&(this._back=or,Xn._next=or),++this._size},nn.prototype.shift=function(){var Tn=this._front,Xn=Tn,or=this._cursor,pr=or+1,xr=Tn._elements,Lr=xr[or];return pr===Mn&&(Xn=Tn._next,pr=0),--this._size,this._cursor=pr,Tn!==Xn&&(this._front=Xn),xr[or]=void 0,Lr},nn.prototype.forEach=function(Tn){for(var Xn=this._cursor,or=this._front,pr=or._elements;(Xn!==pr.length||or._next!==void 0)&&!(Xn===pr.length&&(or=or._next,pr=or._elements,Xn=0,pr.length===0));)Tn(pr[Xn]),++Xn},nn.prototype.peek=function(){var Tn=this._front,Xn=this._cursor;return Tn._elements[Xn]},nn})(),zn=Be("[[AbortSteps]]"),Ln=Be("[[ErrorSteps]]"),Vn=Be("[[CancelSteps]]"),On=Be("[[PullSteps]]"),Un=Be("[[ReleaseSteps]]");function jn(nn,Tn){nn._ownerReadableStream=Tn,Tn._reader=nn,Tn._state==="readable"?Nn(nn):Tn._state==="closed"?Sn(nn):En(nn,Tn._storedError)}function Gn(nn,Tn){var Xn=nn._ownerReadableStream;return Vs(Xn,Tn)}function An(nn){var Tn=nn._ownerReadableStream;Tn._state==="readable"?pn(nn,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):mn(nn,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Tn._readableStreamController[Un](),Tn._reader=void 0,nn._ownerReadableStream=void 0}function $n(nn){return new TypeError("Cannot "+nn+" a stream using a released reader")}function Nn(nn){nn._closedPromise=Ye(function(Tn,Xn){nn._closedPromise_resolve=Tn,nn._closedPromise_reject=Xn})}function En(nn,Tn){Nn(nn),pn(nn,Tn)}function Sn(nn){Nn(nn),un(nn)}function pn(nn,Tn){nn._closedPromise_reject!==void 0&&(sn(nn._closedPromise),nn._closedPromise_reject(Tn),nn._closedPromise_resolve=void 0,nn._closedPromise_reject=void 0)}function mn(nn,Tn){En(nn,Tn)}function un(nn){nn._closedPromise_resolve!==void 0&&(nn._closedPromise_resolve(void 0),nn._closedPromise_resolve=void 0,nn._closedPromise_reject=void 0)}var wn=Number.isFinite||function(nn){return typeof nn=="number"&&isFinite(nn)},xn=Math.trunc||function(nn){return nn<0?Math.ceil(nn):Math.floor(nn)};function Rn(nn){return typeof nn=="object"||typeof nn=="function"}function Hn(nn,Tn){if(nn!==void 0&&!Rn(nn))throw new TypeError("".concat(Tn," is not an object."))}function vn(nn,Tn){if(typeof nn!="function")throw new TypeError("".concat(Tn," is not a function."))}function qn(nn){return typeof nn=="object"&&nn!==null||typeof nn=="function"}function In(nn,Tn){if(!qn(nn))throw new TypeError("".concat(Tn," is not an object."))}function cn(nn,Tn,Xn){if(nn===void 0)throw new TypeError("Parameter ".concat(Tn," is required in '").concat(Xn,"'."))}function bn(nn,Tn,Xn){if(nn===void 0)throw new TypeError("".concat(Tn," is required in '").concat(Xn,"'."))}function Cn(nn){return Number(nn)}function Yn(nn){return nn===0?0:nn}function Jn(nn){return Yn(xn(nn))}function er(nn,Tn){var Xn=0,or=Number.MAX_SAFE_INTEGER,pr=Number(nn);if(pr=Yn(pr),!wn(pr))throw new TypeError("".concat(Tn," is not a finite number"));if(pr=Jn(pr),pr<Xn||pr>or)throw new TypeError("".concat(Tn," is outside the accepted range of ").concat(Xn," to ").concat(or,", inclusive"));return!wn(pr)||pr===0?0:pr}function ur(nn,Tn){if(!Ps(nn))throw new TypeError("".concat(Tn," is not a ReadableStream."))}function dr(nn){return new $r(nn)}function br(nn,Tn){nn._reader._readRequests.push(Tn)}function yr(nn,Tn,Xn){var or=nn._reader,pr=or._readRequests.shift();Xn?pr._closeSteps():pr._chunkSteps(Tn)}function jr(nn){return nn._reader._readRequests.length}function Gr(nn){var Tn=nn._reader;return!(Tn===void 0||!Dr(Tn))}var $r=(function(){function nn(Tn){if(cn(Tn,1,"ReadableStreamDefaultReader"),ur(Tn,"First parameter"),Vo(Tn))throw new TypeError("This stream has already been locked for exclusive reading by another reader");jn(this,Tn),this._readRequests=new yn}return Object.defineProperty(nn.prototype,"closed",{get:function(){return Dr(this)?this._closedPromise:St(ia("closed"))},enumerable:!1,configurable:!0}),nn.prototype.cancel=function(Tn){return Tn===void 0&&(Tn=void 0),Dr(this)?this._ownerReadableStream===void 0?St($n("cancel")):Gn(this,Tn):St(ia("cancel"))},nn.prototype.read=function(){if(!Dr(this))return St(ia("read"));if(this._ownerReadableStream===void 0)return St($n("read from"));var Tn,Xn,or=Ye(function(xr,Lr){Tn=xr,Xn=Lr}),pr={_chunkSteps:function(xr){return Tn({value:xr,done:!1})},_closeSteps:function(){return Tn({value:void 0,done:!0})},_errorSteps:function(xr){return Xn(xr)}};return hr(this,pr),or},nn.prototype.releaseLock=function(){if(!Dr(this))throw ia("releaseLock");this._ownerReadableStream!==void 0&&Ur(this)},nn})();Object.defineProperties($r.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Ge($r.prototype.cancel,"cancel"),Ge($r.prototype.read,"read"),Ge($r.prototype.releaseLock,"releaseLock"),typeof Be.toStringTag=="symbol"&&Object.defineProperty($r.prototype,Be.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Dr(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_readRequests")?!1:nn instanceof $r}function hr(nn,Tn){var Xn=nn._ownerReadableStream;Xn._disturbed=!0,Xn._state==="closed"?Tn._closeSteps():Xn._state==="errored"?Tn._errorSteps(Xn._storedError):Xn._readableStreamController[On](Tn)}function Ur(nn){An(nn);var Tn=new TypeError("Reader was released");Qr(nn,Tn)}function Qr(nn,Tn){var Xn=nn._readRequests;nn._readRequests=new yn,Xn.forEach(function(or){or._errorSteps(Tn)})}function ia(nn){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(nn," can only be used on a ReadableStreamDefaultReader"))}var Er,Kr,na;function Pr(nn){return nn.slice()}function fr(nn,Tn,Xn,or,pr){new Uint8Array(nn).set(new Uint8Array(Xn,or,pr),Tn)}var gr=function(nn){return typeof nn.transfer=="function"?gr=function(Tn){return Tn.transfer()}:typeof structuredClone=="function"?gr=function(Tn){return structuredClone(Tn,{transfer:[Tn]})}:gr=function(Tn){return Tn},gr(nn)},Mr=function(nn){return typeof nn.detached=="boolean"?Mr=function(Tn){return Tn.detached}:Mr=function(Tn){return Tn.byteLength===0},Mr(nn)};function sa(nn,Tn,Xn){if(nn.slice)return nn.slice(Tn,Xn);var or=Xn-Tn,pr=new ArrayBuffer(or);return fr(pr,0,nn,Tn,or),pr}function aa(nn,Tn){var Xn=nn[Tn];if(Xn!=null){if(typeof Xn!="function")throw new TypeError("".concat(String(Tn)," is not a function"));return Xn}}function Rr(nn){var Tn,Xn=(Tn={},Tn[Be.iterator]=function(){return nn.iterator},Tn),or=(function(){return De(this,arguments,function(){return Re(this,function(xr){switch(xr.label){case 0:return[5,Me(qe($e(Xn)))];case 1:return[4,Ue.apply(void 0,[xr.sent()])];case 2:return[4,Ue.apply(void 0,[xr.sent()])];case 3:return[2,xr.sent()]}})})})(),pr=or.next;return{iterator:or,nextMethod:pr,done:!1}}var Tr=(na=(Er=Be.asyncIterator)!==null&&Er!==void 0?Er:(Kr=Be.for)===null||Kr===void 0?void 0:Kr.call(Be,"Symbol.asyncIterator"))!==null&&na!==void 0?na:"@@asyncIterator";function Xr(nn,Tn,Xn){if(Tn===void 0&&(Tn="sync"),Xn===void 0)if(Tn==="async"){if(Xn=aa(nn,Tr),Xn===void 0){var or=aa(nn,Be.iterator),pr=Xr(nn,"sync",or);return Rr(pr)}}else Xn=aa(nn,Be.iterator);if(Xn===void 0)throw new TypeError("The object is not iterable");var xr=Pn(Xn,nn,[]);if(!Xe(xr))throw new TypeError("The iterator method must return an object");var Lr=xr.next;return{iterator:xr,nextMethod:Lr,done:!1}}function ca(nn){var Tn=Pn(nn.nextMethod,nn.iterator,[]);if(!Xe(Tn))throw new TypeError("The iterator.next() method must return an object");return Tn}function Sa(nn){return!!nn.done}function oa(nn){return nn.value}var ma,da=(ma={},ma[Tr]=function(){return this},ma);Object.defineProperty(da,Tr,{enumerable:!1});var fa=(function(){function nn(Tn,Xn){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=Tn,this._preventCancel=Xn}return nn.prototype.next=function(){var Tn=this,Xn=function(){return Tn._nextSteps()};return this._ongoingPromise=this._ongoingPromise?dn(this._ongoingPromise,Xn,Xn):Xn(),this._ongoingPromise},nn.prototype.return=function(Tn){var Xn=this,or=function(){return Xn._returnSteps(Tn)};return this._ongoingPromise?dn(this._ongoingPromise,or,or):or()},nn.prototype._nextSteps=function(){var Tn=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Xn=this._reader,or,pr,xr=Ye(function(ua,ba){or=ua,pr=ba}),Lr={_chunkSteps:function(ua){Tn._ongoingPromise=void 0,kn(function(){return or({value:ua,done:!1})})},_closeSteps:function(){Tn._ongoingPromise=void 0,Tn._isFinished=!0,An(Xn),or({value:void 0,done:!0})},_errorSteps:function(ua){Tn._ongoingPromise=void 0,Tn._isFinished=!0,An(Xn),pr(ua)}};return hr(Xn,Lr),xr},nn.prototype._returnSteps=function(Tn){if(this._isFinished)return Promise.resolve({value:Tn,done:!0});this._isFinished=!0;var Xn=this._reader;if(!this._preventCancel){var or=Gn(Xn,Tn);return An(Xn),dn(or,function(){return{value:Tn,done:!0}})}return An(Xn),Ze({value:Tn,done:!0})},nn})(),Ca={next:function(){return Ta(this)?this._asyncIteratorImpl.next():St(Ia("next"))},return:function(nn){return Ta(this)?this._asyncIteratorImpl.return(nn):St(Ia("return"))}};Object.setPrototypeOf(Ca,da);function Na(nn,Tn){var Xn=dr(nn),or=new fa(Xn,Tn),pr=Object.create(Ca);return pr._asyncIteratorImpl=or,pr}function Ta(nn){if(!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_asyncIteratorImpl"))return!1;try{return nn._asyncIteratorImpl instanceof fa}catch{return!1}}function Ia(nn){return new TypeError("ReadableStreamAsyncIterator.".concat(nn," can only be used on a ReadableSteamAsyncIterator"))}var hi=Number.isNaN||function(nn){return nn!==nn};function Ha(nn){return!(typeof nn!="number"||hi(nn)||nn<0)}function ri(nn){var Tn=sa(nn.buffer,nn.byteOffset,nn.byteOffset+nn.byteLength);return new Uint8Array(Tn)}function ja(nn){var Tn=nn._queue.shift();return nn._queueTotalSize-=Tn.size,nn._queueTotalSize<0&&(nn._queueTotalSize=0),Tn.value}function pi(nn,Tn,Xn){if(!Ha(Xn)||Xn===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");nn._queue.push({value:Tn,size:Xn}),nn._queueTotalSize+=Xn}function Ri(nn){var Tn=nn._queue.peek();return Tn.value}function li(nn){nn._queue=new yn,nn._queueTotalSize=0}function ii(nn){return nn===DataView}function ys(nn){return ii(nn.constructor)}function Is(nn){return ii(nn)?1:nn.BYTES_PER_ELEMENT}var xi=(function(){function nn(){throw new TypeError("Illegal constructor")}return Object.defineProperty(nn.prototype,"view",{get:function(){if(!hu(this))throw Mu("view");return this._view},enumerable:!1,configurable:!0}),nn.prototype.respond=function(Tn){if(!hu(this))throw Mu("respond");if(cn(Tn,1,"respond"),Tn=er(Tn,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Mr(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");fo(this._associatedReadableByteStreamController,Tn)},nn.prototype.respondWithNewView=function(Tn){if(!hu(this))throw Mu("respondWithNewView");if(cn(Tn,1,"respondWithNewView"),!ArrayBuffer.isView(Tn))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Mr(Tn.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Po(this._associatedReadableByteStreamController,Tn)},nn})();Object.defineProperties(xi.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),Ge(xi.prototype.respond,"respond"),Ge(xi.prototype.respondWithNewView,"respondWithNewView"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(xi.prototype,Be.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var $i=(function(){function nn(){throw new TypeError("Illegal constructor")}return Object.defineProperty(nn.prototype,"byobRequest",{get:function(){if(!lo(this))throw el("byobRequest");return Hs(this)},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"desiredSize",{get:function(){if(!lo(this))throw el("desiredSize");return pu(this)},enumerable:!1,configurable:!0}),nn.prototype.close=function(){if(!lo(this))throw el("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var Tn=this._controlledReadableByteStream._state;if(Tn!=="readable")throw new TypeError("The stream (in ".concat(Tn," state) is not in the readable state and cannot be closed"));So(this)},nn.prototype.enqueue=function(Tn){if(!lo(this))throw el("enqueue");if(cn(Tn,1,"enqueue"),!ArrayBuffer.isView(Tn))throw new TypeError("chunk must be an array buffer view");if(Tn.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Tn.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Xn=this._controlledReadableByteStream._state;if(Xn!=="readable")throw new TypeError("The stream (in ".concat(Xn," state) is not in the readable state and cannot be enqueued to"));Wl(this,Tn)},nn.prototype.error=function(Tn){if(Tn===void 0&&(Tn=void 0),!lo(this))throw el("error");ws(this,Tn)},nn.prototype[Vn]=function(Tn){Ru(this),li(this);var Xn=this._cancelAlgorithm(Tn);return Ga(this),Xn},nn.prototype[On]=function(Tn){var Xn=this._controlledReadableByteStream;if(this._queueTotalSize>0){Qo(this,Tn);return}var or=this._autoAllocateChunkSize;if(or!==void 0){var pr=void 0;try{pr=new ArrayBuffer(or)}catch(Lr){Tn._errorSteps(Lr);return}var xr={buffer:pr,bufferByteLength:or,byteOffset:0,byteLength:or,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(xr)}br(Xn,Tn),uo(this)},nn.prototype[Un]=function(){if(this._pendingPullIntos.length>0){var Tn=this._pendingPullIntos.peek();Tn.readerType="none",this._pendingPullIntos=new yn,this._pendingPullIntos.push(Tn)}},nn})();Object.defineProperties($i.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),Ge($i.prototype.close,"close"),Ge($i.prototype.enqueue,"enqueue"),Ge($i.prototype.error,"error"),typeof Be.toStringTag=="symbol"&&Object.defineProperty($i.prototype,Be.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function lo(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_controlledReadableByteStream")?!1:nn instanceof $i}function hu(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_associatedReadableByteStreamController")?!1:nn instanceof xi}function uo(nn){var Tn=Gl(nn);if(Tn){if(nn._pulling){nn._pullAgain=!0;return}nn._pulling=!0;var Xn=nn._pullAlgorithm();Je(Xn,function(){return nn._pulling=!1,nn._pullAgain&&(nn._pullAgain=!1,uo(nn)),null},function(or){return ws(nn,or),null})}}function Ru(nn){xl(nn),nn._pendingPullIntos=new yn}function Jo(nn,Tn){var Xn=!1;nn._state==="closed"&&(Xn=!0);var or=vs(Tn);Tn.readerType==="default"?yr(nn,or,Xn):ka(nn,or,Xn)}function vs(nn){var Tn=nn.bytesFilled,Xn=nn.elementSize;return new nn.viewConstructor(nn.buffer,nn.byteOffset,Tn/Xn)}function bs(nn,Tn,Xn,or){nn._queue.push({buffer:Tn,byteOffset:Xn,byteLength:or}),nn._queueTotalSize+=or}function $l(nn,Tn,Xn,or){var pr;try{pr=sa(Tn,Xn,Xn+or)}catch(xr){throw ws(nn,xr),xr}bs(nn,pr,0,or)}function jl(nn,Tn){Tn.bytesFilled>0&&$l(nn,Tn.buffer,Tn.byteOffset,Tn.bytesFilled),ji(nn)}function No(nn,Tn){var Xn=Math.min(nn._queueTotalSize,Tn.byteLength-Tn.bytesFilled),or=Tn.bytesFilled+Xn,pr=Xn,xr=!1,Lr=or%Tn.elementSize,ua=or-Lr;ua>=Tn.minimumFill&&(pr=ua-Tn.bytesFilled,xr=!0);for(var ba=nn._queue;pr>0;){var la=ba.peek(),rn=Math.min(pr,la.byteLength),gn=Tn.byteOffset+Tn.bytesFilled;fr(Tn.buffer,gn,la.buffer,la.byteOffset,rn),la.byteLength===rn?ba.shift():(la.byteOffset+=rn,la.byteLength-=rn),nn._queueTotalSize-=rn,zl(nn,rn,Tn),pr-=rn}return xr}function zl(nn,Tn,Xn){Xn.bytesFilled+=Tn}function Hl(nn){nn._queueTotalSize===0&&nn._closeRequested?(Ga(nn),wo(nn._controlledReadableByteStream)):uo(nn)}function xl(nn){nn._byobRequest!==null&&(nn._byobRequest._associatedReadableByteStreamController=void 0,nn._byobRequest._view=null,nn._byobRequest=null)}function du(nn){for(;nn._pendingPullIntos.length>0;){if(nn._queueTotalSize===0)return;var Tn=nn._pendingPullIntos.peek();No(nn,Tn)&&(ji(nn),Jo(nn._controlledReadableByteStream,Tn))}}function ei(nn){for(var Tn=nn._controlledReadableByteStream._reader;Tn._readRequests.length>0;){if(nn._queueTotalSize===0)return;var Xn=Tn._readRequests.shift();Qo(nn,Xn)}}function Vu(nn,Tn,Xn,or){var pr=nn._controlledReadableByteStream,xr=Tn.constructor,Lr=Is(xr),ua=Tn.byteOffset,ba=Tn.byteLength,la=Xn*Lr,rn;try{rn=gr(Tn.buffer)}catch(tr){or._errorSteps(tr);return}var gn={buffer:rn,bufferByteLength:rn.byteLength,byteOffset:ua,byteLength:ba,bytesFilled:0,minimumFill:la,elementSize:Lr,viewConstructor:xr,readerType:"byob"};if(nn._pendingPullIntos.length>0){nn._pendingPullIntos.push(gn),Ao(pr,or);return}if(pr._state==="closed"){var Fn=new xr(gn.buffer,gn.byteOffset,0);or._closeSteps(Fn);return}if(nn._queueTotalSize>0){if(No(nn,gn)){var Wn=vs(gn);Hl(nn),or._chunkSteps(Wn);return}if(nn._closeRequested){var Zn=new TypeError("Insufficient bytes to fill elements in the given buffer");ws(nn,Zn),or._errorSteps(Zn);return}}nn._pendingPullIntos.push(gn),Ao(pr,or),uo(nn)}function ec(nn,Tn){Tn.readerType==="none"&&ji(nn);var Xn=nn._controlledReadableByteStream;if(gu(Xn))for(;mu(Xn)>0;){var or=ji(nn);Jo(Xn,or)}}function co(nn,Tn,Xn){if(zl(nn,Tn,Xn),Xn.readerType==="none"){jl(nn,Xn),du(nn);return}if(!(Xn.bytesFilled<Xn.minimumFill)){ji(nn);var or=Xn.bytesFilled%Xn.elementSize;if(or>0){var pr=Xn.byteOffset+Xn.bytesFilled;$l(nn,Xn.buffer,pr-or,or)}Xn.bytesFilled-=or,Jo(nn._controlledReadableByteStream,Xn),du(nn)}}function Zo(nn,Tn){var Xn=nn._pendingPullIntos.peek();xl(nn);var or=nn._controlledReadableByteStream._state;or==="closed"?ec(nn,Xn):co(nn,Tn,Xn),uo(nn)}function ji(nn){var Tn=nn._pendingPullIntos.shift();return Tn}function Gl(nn){var Tn=nn._controlledReadableByteStream;if(Tn._state!=="readable"||nn._closeRequested||!nn._started)return!1;if(Gr(Tn)&&jr(Tn)>0||gu(Tn)&&mu(Tn)>0)return!0;var Xn=pu(nn);return Xn>0}function Ga(nn){nn._pullAlgorithm=void 0,nn._cancelAlgorithm=void 0}function So(nn){var Tn=nn._controlledReadableByteStream;if(!(nn._closeRequested||Tn._state!=="readable")){if(nn._queueTotalSize>0){nn._closeRequested=!0;return}if(nn._pendingPullIntos.length>0){var Xn=nn._pendingPullIntos.peek();if(Xn.bytesFilled%Xn.elementSize!==0){var or=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ws(nn,or),or}}Ga(nn),wo(Tn)}}function Wl(nn,Tn){var Xn=nn._controlledReadableByteStream;if(!(nn._closeRequested||Xn._state!=="readable")){var or=Tn.buffer,pr=Tn.byteOffset,xr=Tn.byteLength;if(Mr(or))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var Lr=gr(or);if(nn._pendingPullIntos.length>0){var ua=nn._pendingPullIntos.peek();if(Mr(ua.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");xl(nn),ua.buffer=gr(ua.buffer),ua.readerType==="none"&&jl(nn,ua)}if(Gr(Xn))if(ei(nn),jr(Xn)===0)bs(nn,Lr,pr,xr);else{nn._pendingPullIntos.length>0&&ji(nn);var ba=new Uint8Array(Lr,pr,xr);yr(Xn,ba,!1)}else gu(Xn)?(bs(nn,Lr,pr,xr),du(nn)):bs(nn,Lr,pr,xr);uo(nn)}}function ws(nn,Tn){var Xn=nn._controlledReadableByteStream;Xn._state==="readable"&&(Ru(nn),li(nn),Ga(nn),$o(Xn,Tn))}function Qo(nn,Tn){var Xn=nn._queue.shift();nn._queueTotalSize-=Xn.byteLength,Hl(nn);var or=new Uint8Array(Xn.buffer,Xn.byteOffset,Xn.byteLength);Tn._chunkSteps(or)}function Hs(nn){if(nn._byobRequest===null&&nn._pendingPullIntos.length>0){var Tn=nn._pendingPullIntos.peek(),Xn=new Uint8Array(Tn.buffer,Tn.byteOffset+Tn.bytesFilled,Tn.byteLength-Tn.bytesFilled),or=Object.create(xi.prototype);ku(or,nn,Xn),nn._byobRequest=or}return nn._byobRequest}function pu(nn){var Tn=nn._controlledReadableByteStream._state;return Tn==="errored"?null:Tn==="closed"?0:nn._strategyHWM-nn._queueTotalSize}function fo(nn,Tn){var Xn=nn._pendingPullIntos.peek(),or=nn._controlledReadableByteStream._state;if(or==="closed"){if(Tn!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(Tn===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Xn.bytesFilled+Tn>Xn.byteLength)throw new RangeError("bytesWritten out of range")}Xn.buffer=gr(Xn.buffer),Zo(nn,Tn)}function Po(nn,Tn){var Xn=nn._pendingPullIntos.peek(),or=nn._controlledReadableByteStream._state;if(or==="closed"){if(Tn.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(Tn.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Xn.byteOffset+Xn.bytesFilled!==Tn.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Xn.bufferByteLength!==Tn.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Xn.bytesFilled+Tn.byteLength>Xn.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var pr=Tn.byteLength;Xn.buffer=gr(Tn.buffer),Zo(nn,pr)}function Xl(nn,Tn,Xn,or,pr,xr,Lr){Tn._controlledReadableByteStream=nn,Tn._pullAgain=!1,Tn._pulling=!1,Tn._byobRequest=null,Tn._queue=Tn._queueTotalSize=void 0,li(Tn),Tn._closeRequested=!1,Tn._started=!1,Tn._strategyHWM=xr,Tn._pullAlgorithm=or,Tn._cancelAlgorithm=pr,Tn._autoAllocateChunkSize=Lr,Tn._pendingPullIntos=new yn,nn._readableStreamController=Tn;var ua=Xn();Je(Ze(ua),function(){return Tn._started=!0,uo(Tn),null},function(ba){return ws(Tn,ba),null})}function tc(nn,Tn,Xn){var or=Object.create($i.prototype),pr,xr,Lr;Tn.start!==void 0?pr=function(){return Tn.start(or)}:pr=function(){},Tn.pull!==void 0?xr=function(){return Tn.pull(or)}:xr=function(){return Ze(void 0)},Tn.cancel!==void 0?Lr=function(ba){return Tn.cancel(ba)}:Lr=function(){return Ze(void 0)};var ua=Tn.autoAllocateChunkSize;if(ua===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Xl(nn,or,pr,xr,Lr,Xn,ua)}function ku(nn,Tn,Xn){nn._associatedReadableByteStreamController=Tn,nn._view=Xn}function Mu(nn){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(nn," can only be used on a ReadableStreamBYOBRequest"))}function el(nn){return new TypeError("ReadableByteStreamController.prototype.".concat(nn," can only be used on a ReadableByteStreamController"))}function Io(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.mode;return{mode:Xn===void 0?void 0:Do(Xn,"".concat(Tn," has member 'mode' that"))}}function Do(nn,Tn){if(nn="".concat(nn),nn!=="byob")throw new TypeError("".concat(Tn," '").concat(nn,"' is not a valid enumeration value for ReadableStreamReaderMode"));return nn}function Nu(nn,Tn){var Xn;Hn(nn,Tn);var or=(Xn=nn==null?void 0:nn.min)!==null&&Xn!==void 0?Xn:1;return{min:er(or,"".concat(Tn," has member 'min' that"))}}function Gs(nn){return new Ds(nn)}function Ao(nn,Tn){nn._reader._readIntoRequests.push(Tn)}function ka(nn,Tn,Xn){var or=nn._reader,pr=or._readIntoRequests.shift();Xn?pr._closeSteps(Tn):pr._chunkSteps(Tn)}function mu(nn){return nn._reader._readIntoRequests.length}function gu(nn){var Tn=nn._reader;return!(Tn===void 0||!us(Tn))}var Ds=(function(){function nn(Tn){if(cn(Tn,1,"ReadableStreamBYOBReader"),ur(Tn,"First parameter"),Vo(Tn))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!lo(Tn._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");jn(this,Tn),this._readIntoRequests=new yn}return Object.defineProperty(nn.prototype,"closed",{get:function(){return us(this)?this._closedPromise:St(_l("closed"))},enumerable:!1,configurable:!0}),nn.prototype.cancel=function(Tn){return Tn===void 0&&(Tn=void 0),us(this)?this._ownerReadableStream===void 0?St($n("cancel")):Gn(this,Tn):St(_l("cancel"))},nn.prototype.read=function(Tn,Xn){if(Xn===void 0&&(Xn={}),!us(this))return St(_l("read"));if(!ArrayBuffer.isView(Tn))return St(new TypeError("view must be an array buffer view"));if(Tn.byteLength===0)return St(new TypeError("view must have non-zero byteLength"));if(Tn.buffer.byteLength===0)return St(new TypeError("view's buffer must have non-zero byteLength"));if(Mr(Tn.buffer))return St(new TypeError("view's buffer has been detached"));var or;try{or=Nu(Xn,"options")}catch(la){return St(la)}var pr=or.min;if(pr===0)return St(new TypeError("options.min must be greater than 0"));if(ys(Tn)){if(pr>Tn.byteLength)return St(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(pr>Tn.length)return St(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return St($n("read from"));var xr,Lr,ua=Ye(function(la,rn){xr=la,Lr=rn}),ba={_chunkSteps:function(la){return xr({value:la,done:!1})},_closeSteps:function(la){return xr({value:la,done:!0})},_errorSteps:function(la){return Lr(la)}};return ho(this,Tn,pr,ba),ua},nn.prototype.releaseLock=function(){if(!us(this))throw _l("releaseLock");this._ownerReadableStream!==void 0&&Ws(this)},nn})();Object.defineProperties(Ds.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Ge(Ds.prototype.cancel,"cancel"),Ge(Ds.prototype.read,"read"),Ge(Ds.prototype.releaseLock,"releaseLock"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(Ds.prototype,Be.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function us(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_readIntoRequests")?!1:nn instanceof Ds}function ho(nn,Tn,Xn,or){var pr=nn._ownerReadableStream;pr._disturbed=!0,pr._state==="errored"?or._errorSteps(pr._storedError):Vu(pr._readableStreamController,Tn,Xn,or)}function Ws(nn){An(nn);var Tn=new TypeError("Reader was released");Eo(nn,Tn)}function Eo(nn,Tn){var Xn=nn._readIntoRequests;nn._readIntoRequests=new yn,Xn.forEach(function(or){or._errorSteps(Tn)})}function _l(nn){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(nn," can only be used on a ReadableStreamBYOBReader"))}function Xs(nn,Tn){var Xn=nn.highWaterMark;if(Xn===void 0)return Tn;if(hi(Xn)||Xn<0)throw new RangeError("Invalid highWaterMark");return Xn}function tl(nn){var Tn=nn.size;return Tn||function(){return 1}}function Ys(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.highWaterMark,or=nn==null?void 0:nn.size;return{highWaterMark:Xn===void 0?void 0:Cn(Xn),size:or===void 0?void 0:nl(or,"".concat(Tn," has member 'size' that"))}}function nl(nn,Tn){return vn(nn,Tn),function(Xn){return Cn(nn(Xn))}}function Yl(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.abort,or=nn==null?void 0:nn.close,pr=nn==null?void 0:nn.start,xr=nn==null?void 0:nn.type,Lr=nn==null?void 0:nn.write;return{abort:Xn===void 0?void 0:xs(Xn,nn,"".concat(Tn," has member 'abort' that")),close:or===void 0?void 0:To(or,nn,"".concat(Tn," has member 'close' that")),start:pr===void 0?void 0:Sl(pr,nn,"".concat(Tn," has member 'start' that")),write:Lr===void 0?void 0:Co(Lr,nn,"".concat(Tn," has member 'write' that")),type:xr}}function xs(nn,Tn,Xn){return vn(nn,Xn),function(or){return _n(nn,Tn,[or])}}function To(nn,Tn,Xn){return vn(nn,Xn),function(){return _n(nn,Tn,[])}}function Sl(nn,Tn,Xn){return vn(nn,Xn),function(or){return Pn(nn,Tn,[or])}}function Co(nn,Tn,Xn){return vn(nn,Xn),function(or,pr){return _n(nn,Tn,[or,pr])}}function Pl(nn,Tn){if(!Ts(nn))throw new TypeError("".concat(Tn," is not a WritableStream."))}function Kl(nn){if(typeof nn!="object"||nn===null)return!1;try{return typeof nn.aborted=="boolean"}catch{return!1}}var Al=typeof AbortController=="function";function rl(){if(Al)return new AbortController}var cs=(function(){function nn(Tn,Xn){Tn===void 0&&(Tn={}),Xn===void 0&&(Xn={}),Tn===void 0?Tn=null:In(Tn,"First parameter");var or=Ys(Xn,"Second parameter"),pr=Yl(Tn,"First parameter");Ls(this);var xr=pr.type;if(xr!==void 0)throw new RangeError("Invalid type is specified");var Lr=tl(or),ua=Xs(or,1);yu(this,pr,ua,Lr)}return Object.defineProperty(nn.prototype,"locked",{get:function(){if(!Ts(this))throw rs("locked");return Dn(this)},enumerable:!1,configurable:!0}),nn.prototype.abort=function(Tn){return Tn===void 0&&(Tn=void 0),Ts(this)?Dn(this)?St(new TypeError("Cannot abort a stream that already has a writer")):Qn(this,Tn):St(rs("abort"))},nn.prototype.close=function(){return Ts(this)?Dn(this)?St(new TypeError("Cannot close a stream that already has a writer")):qa(this)?St(new TypeError("Cannot close an already-closing stream")):cr(this):St(rs("close"))},nn.prototype.getWriter=function(){if(!Ts(this))throw rs("getWriter");return Jl(this)},nn})();Object.defineProperties(cs.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),Ge(cs.prototype.abort,"abort"),Ge(cs.prototype.close,"close"),Ge(cs.prototype.getWriter,"getWriter"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(cs.prototype,Be.toStringTag,{value:"WritableStream",configurable:!0});function Jl(nn){return new mi(nn)}function Iu(nn,Tn,Xn,or,pr,xr){pr===void 0&&(pr=1),xr===void 0&&(xr=function(){return 1});var Lr=Object.create(cs.prototype);Ls(Lr);var ua=Object.create(Bs.prototype);return Tl(Lr,ua,nn,Tn,Xn,or,pr,xr),Lr}function Ls(nn){nn._state="writable",nn._storedError=void 0,nn._writer=void 0,nn._writableStreamController=void 0,nn._writeRequests=new yn,nn._inFlightWriteRequest=void 0,nn._closeRequest=void 0,nn._inFlightCloseRequest=void 0,nn._pendingAbortRequest=void 0,nn._backpressure=!1}function Ts(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_writableStreamController")?!1:nn instanceof cs}function Dn(nn){return nn._writer!==void 0}function Qn(nn,Tn){var Xn;if(nn._state==="closed"||nn._state==="errored")return Ze(void 0);nn._writableStreamController._abortReason=Tn,(Xn=nn._writableStreamController._abortController)===null||Xn===void 0||Xn.abort(Tn);var or=nn._state;if(or==="closed"||or==="errored")return Ze(void 0);if(nn._pendingAbortRequest!==void 0)return nn._pendingAbortRequest._promise;var pr=!1;or==="erroring"&&(pr=!0,Tn=void 0);var xr=Ye(function(Lr,ua){nn._pendingAbortRequest={_promise:void 0,_resolve:Lr,_reject:ua,_reason:Tn,_wasAlreadyErroring:pr}});return nn._pendingAbortRequest._promise=xr,pr||Wr(nn,Tn),xr}function cr(nn){var Tn=nn._state;if(Tn==="closed"||Tn==="errored")return St(new TypeError("The stream (in ".concat(Tn," state) is not in the writable state and cannot be closed")));var Xn=Ye(function(pr,xr){var Lr={_resolve:pr,_reject:xr};nn._closeRequest=Lr}),or=nn._writer;return or!==void 0&&nn._backpressure&&Tn==="writable"&&yo(or),il(nn._writableStreamController),Xn}function wr(nn){var Tn=Ye(function(Xn,or){var pr={_resolve:Xn,_reject:or};nn._writeRequests.push(pr)});return Tn}function Br(nn,Tn){var Xn=nn._state;if(Xn==="writable"){Wr(nn,Tn);return}ea(nn)}function Wr(nn,Tn){var Xn=nn._writableStreamController;nn._state="erroring",nn._storedError=Tn;var or=nn._writer;or!==void 0&&po(or,Tn),!Ei(nn)&&Xn._started&&ea(nn)}function ea(nn){nn._state="errored",nn._writableStreamController[Ln]();var Tn=nn._storedError;if(nn._writeRequests.forEach(function(pr){pr._reject(Tn)}),nn._writeRequests=new yn,nn._pendingAbortRequest===void 0){Ti(nn);return}var Xn=nn._pendingAbortRequest;if(nn._pendingAbortRequest=void 0,Xn._wasAlreadyErroring){Xn._reject(Tn),Ti(nn);return}var or=nn._writableStreamController[zn](Xn._reason);Je(or,function(){return Xn._resolve(),Ti(nn),null},function(pr){return Xn._reject(pr),Ti(nn),null})}function ga(nn){nn._inFlightWriteRequest._resolve(void 0),nn._inFlightWriteRequest=void 0}function Pa(nn,Tn){nn._inFlightWriteRequest._reject(Tn),nn._inFlightWriteRequest=void 0,Br(nn,Tn)}function Ba(nn){nn._inFlightCloseRequest._resolve(void 0),nn._inFlightCloseRequest=void 0;var Tn=nn._state;Tn==="erroring"&&(nn._storedError=void 0,nn._pendingAbortRequest!==void 0&&(nn._pendingAbortRequest._resolve(),nn._pendingAbortRequest=void 0)),nn._state="closed";var Xn=nn._writer;Xn!==void 0&&Bo(Xn)}function Ua(nn,Tn){nn._inFlightCloseRequest._reject(Tn),nn._inFlightCloseRequest=void 0,nn._pendingAbortRequest!==void 0&&(nn._pendingAbortRequest._reject(Tn),nn._pendingAbortRequest=void 0),Br(nn,Tn)}function qa(nn){return!(nn._closeRequest===void 0&&nn._inFlightCloseRequest===void 0)}function Ei(nn){return!(nn._inFlightWriteRequest===void 0&&nn._inFlightCloseRequest===void 0)}function Li(nn){nn._inFlightCloseRequest=nn._closeRequest,nn._closeRequest=void 0}function ui(nn){nn._inFlightWriteRequest=nn._writeRequests.shift()}function Ti(nn){nn._closeRequest!==void 0&&(nn._closeRequest._reject(nn._storedError),nn._closeRequest=void 0);var Tn=nn._writer;Tn!==void 0&&Fu(Tn,nn._storedError)}function Vi(nn,Tn){var Xn=nn._writer;Xn!==void 0&&Tn!==nn._backpressure&&(Tn?Bl(Xn):yo(Xn)),nn._backpressure=Tn}var mi=(function(){function nn(Tn){if(cn(Tn,1,"WritableStreamDefaultWriter"),Pl(Tn,"First parameter"),Dn(Tn))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Tn,Tn._writer=this;var Xn=Tn._state;if(Xn==="writable")!qa(Tn)&&Tn._backpressure?ll(this):Wi(this),ol(this);else if(Xn==="erroring")Ql(this,Tn._storedError),ol(this);else if(Xn==="closed")Wi(this),ki(this);else{var or=Tn._storedError;Ql(this,or),Oo(this,or)}}return Object.defineProperty(nn.prototype,"closed",{get:function(){return Cs(this)?this._closedPromise:St(as("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"desiredSize",{get:function(){if(!Cs(this))throw as("desiredSize");if(this._ownerWritableStream===void 0)throw Fs("desiredSize");return Du(this)},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"ready",{get:function(){return Cs(this)?this._readyPromise:St(as("ready"))},enumerable:!1,configurable:!0}),nn.prototype.abort=function(Tn){return Tn===void 0&&(Tn=void 0),Cs(this)?this._ownerWritableStream===void 0?St(Fs("abort")):El(this,Tn):St(as("abort"))},nn.prototype.close=function(){if(!Cs(this))return St(as("close"));var Tn=this._ownerWritableStream;return Tn===void 0?St(Fs("close")):qa(Tn)?St(new TypeError("Cannot close an already-closing stream")):nc(this)},nn.prototype.releaseLock=function(){if(!Cs(this))throw as("releaseLock");var Tn=this._ownerWritableStream;Tn!==void 0&&al(this)},nn.prototype.write=function(Tn){return Tn===void 0&&(Tn=void 0),Cs(this)?this._ownerWritableStream===void 0?St(Fs("write to")):Ks(this,Tn):St(as("write"))},nn})();Object.defineProperties(mi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),Ge(mi.prototype.abort,"abort"),Ge(mi.prototype.close,"close"),Ge(mi.prototype.releaseLock,"releaseLock"),Ge(mi.prototype.write,"write"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(mi.prototype,Be.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Cs(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_ownerWritableStream")?!1:nn instanceof mi}function El(nn,Tn){var Xn=nn._ownerWritableStream;return Qn(Xn,Tn)}function nc(nn){var Tn=nn._ownerWritableStream;return cr(Tn)}function rc(nn){var Tn=nn._ownerWritableStream,Xn=Tn._state;return qa(Tn)||Xn==="closed"?Ze(void 0):Xn==="errored"?St(Tn._storedError):nc(nn)}function Zl(nn,Tn){nn._closedPromiseState==="pending"?Fu(nn,Tn):Uo(nn,Tn)}function po(nn,Tn){nn._readyPromiseState==="pending"?Ro(nn,Tn):Rl(nn,Tn)}function Du(nn){var Tn=nn._ownerWritableStream,Xn=Tn._state;return Xn==="errored"||Xn==="erroring"?null:Xn==="closed"?0:Lu(Tn._writableStreamController)}function al(nn){var Tn=nn._ownerWritableStream,Xn=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");po(nn,Xn),Zl(nn,Xn),Tn._writer=void 0,nn._ownerWritableStream=void 0}function Ks(nn,Tn){var Xn=nn._ownerWritableStream,or=Xn._writableStreamController,pr=vu(or,Tn);if(Xn!==nn._ownerWritableStream)return St(Fs("write to"));var xr=Xn._state;if(xr==="errored")return St(Xn._storedError);if(qa(Xn)||xr==="closed")return St(new TypeError("The stream is closing or closed and cannot be written to"));if(xr==="erroring")return St(Xn._storedError);var Lr=wr(Xn);return Gi(or,Tn,pr),Lr}var zi={},Bs=(function(){function nn(){throw new TypeError("Illegal constructor")}return Object.defineProperty(nn.prototype,"abortReason",{get:function(){if(!mo(this))throw Fo("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"signal",{get:function(){if(!mo(this))throw Fo("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),nn.prototype.error=function(Tn){if(Tn===void 0&&(Tn=void 0),!mo(this))throw Fo("error");var Xn=this._controlledWritableStream._state;Xn==="writable"&&ns(this,Tn)},nn.prototype[zn]=function(Tn){var Xn=this._abortAlgorithm(Tn);return Hi(this),Xn},nn.prototype[Ln]=function(){li(this)},nn})();Object.defineProperties(Bs.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Be.toStringTag=="symbol"&&Object.defineProperty(Bs.prototype,Be.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function mo(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_controlledWritableStream")?!1:nn instanceof Bs}function Tl(nn,Tn,Xn,or,pr,xr,Lr,ua){Tn._controlledWritableStream=nn,nn._writableStreamController=Tn,Tn._queue=void 0,Tn._queueTotalSize=void 0,li(Tn),Tn._abortReason=void 0,Tn._abortController=rl(),Tn._started=!1,Tn._strategySizeAlgorithm=ua,Tn._strategyHWM=Lr,Tn._writeAlgorithm=or,Tn._closeAlgorithm=pr,Tn._abortAlgorithm=xr;var ba=Cl(Tn);Vi(nn,ba);var la=Xn(),rn=Ze(la);Je(rn,function(){return Tn._started=!0,_s(Tn),null},function(gn){return Tn._started=!0,Br(nn,gn),null})}function yu(nn,Tn,Xn,or){var pr=Object.create(Bs.prototype),xr,Lr,ua,ba;Tn.start!==void 0?xr=function(){return Tn.start(pr)}:xr=function(){},Tn.write!==void 0?Lr=function(la){return Tn.write(la,pr)}:Lr=function(){return Ze(void 0)},Tn.close!==void 0?ua=function(){return Tn.close()}:ua=function(){return Ze(void 0)},Tn.abort!==void 0?ba=function(la){return Tn.abort(la)}:ba=function(){return Ze(void 0)},Tl(nn,pr,xr,Lr,ua,ba,Xn,or)}function Hi(nn){nn._writeAlgorithm=void 0,nn._closeAlgorithm=void 0,nn._abortAlgorithm=void 0,nn._strategySizeAlgorithm=void 0}function il(nn){pi(nn,zi,0),_s(nn)}function vu(nn,Tn){try{return nn._strategySizeAlgorithm(Tn)}catch(Xn){return Lo(nn,Xn),1}}function Lu(nn){return nn._strategyHWM-nn._queueTotalSize}function Gi(nn,Tn,Xn){try{pi(nn,Tn,Xn)}catch(xr){Lo(nn,xr);return}var or=nn._controlledWritableStream;if(!qa(or)&&or._state==="writable"){var pr=Cl(nn);Vi(or,pr)}_s(nn)}function _s(nn){var Tn=nn._controlledWritableStream;if(nn._started&&Tn._inFlightWriteRequest===void 0){var Xn=Tn._state;if(Xn==="erroring"){ea(Tn);return}if(nn._queue.length!==0){var or=Ri(nn);or===zi?sl(nn):go(nn,or)}}}function Lo(nn,Tn){nn._controlledWritableStream._state==="writable"&&ns(nn,Tn)}function sl(nn){var Tn=nn._controlledWritableStream;Li(Tn),ja(nn);var Xn=nn._closeAlgorithm();Hi(nn),Je(Xn,function(){return Ba(Tn),null},function(or){return Ua(Tn,or),null})}function go(nn,Tn){var Xn=nn._controlledWritableStream;ui(Xn);var or=nn._writeAlgorithm(Tn);Je(or,function(){ga(Xn);var pr=Xn._state;if(ja(nn),!qa(Xn)&&pr==="writable"){var xr=Cl(nn);Vi(Xn,xr)}return _s(nn),null},function(pr){return Xn._state==="writable"&&Hi(nn),Pa(Xn,pr),null})}function Cl(nn){var Tn=Lu(nn);return Tn<=0}function ns(nn,Tn){var Xn=nn._controlledWritableStream;Hi(nn),Wr(Xn,Tn)}function rs(nn){return new TypeError("WritableStream.prototype.".concat(nn," can only be used on a WritableStream"))}function Fo(nn){return new TypeError("WritableStreamDefaultController.prototype.".concat(nn," can only be used on a WritableStreamDefaultController"))}function as(nn){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(nn," can only be used on a WritableStreamDefaultWriter"))}function Fs(nn){return new TypeError("Cannot "+nn+" a stream using a released writer")}function ol(nn){nn._closedPromise=Ye(function(Tn,Xn){nn._closedPromise_resolve=Tn,nn._closedPromise_reject=Xn,nn._closedPromiseState="pending"})}function Oo(nn,Tn){ol(nn),Fu(nn,Tn)}function ki(nn){ol(nn),Bo(nn)}function Fu(nn,Tn){nn._closedPromise_reject!==void 0&&(sn(nn._closedPromise),nn._closedPromise_reject(Tn),nn._closedPromise_resolve=void 0,nn._closedPromise_reject=void 0,nn._closedPromiseState="rejected")}function Uo(nn,Tn){Oo(nn,Tn)}function Bo(nn){nn._closedPromise_resolve!==void 0&&(nn._closedPromise_resolve(void 0),nn._closedPromise_resolve=void 0,nn._closedPromise_reject=void 0,nn._closedPromiseState="resolved")}function ll(nn){nn._readyPromise=Ye(function(Tn,Xn){nn._readyPromise_resolve=Tn,nn._readyPromise_reject=Xn}),nn._readyPromiseState="pending"}function Ql(nn,Tn){ll(nn),Ro(nn,Tn)}function Wi(nn){ll(nn),yo(nn)}function Ro(nn,Tn){nn._readyPromise_reject!==void 0&&(sn(nn._readyPromise),nn._readyPromise_reject(Tn),nn._readyPromise_resolve=void 0,nn._readyPromise_reject=void 0,nn._readyPromiseState="rejected")}function Bl(nn){ll(nn)}function Rl(nn,Tn){Ql(nn,Tn)}function yo(nn){nn._readyPromise_resolve!==void 0&&(nn._readyPromise_resolve(void 0),nn._readyPromise_resolve=void 0,nn._readyPromise_reject=void 0,nn._readyPromiseState="fulfilled")}function bu(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal$1<"u")return commonjsGlobal$1}var fs=bu();function qo(nn){if(!(typeof nn=="function"||typeof nn=="object")||nn.name!=="DOMException")return!1;try{return new nn,!0}catch{return!1}}function ti(){var nn=fs==null?void 0:fs.DOMException;return qo(nn)?nn:void 0}function ci(){var nn=function(Xn,or){this.message=Xn||"",this.name=or||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Ge(nn,"DOMException"),nn.prototype=Object.create(Error.prototype),Object.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn}var gi=ti()||ci();function _i(nn,Tn,Xn,or,pr,xr){var Lr=dr(nn),ua=Jl(Tn);nn._disturbed=!0;var ba=!1,la=Ze(void 0);return Ye(function(rn,gn){var Fn;if(xr!==void 0){if(Fn=function(){var ir=xr.reason!==void 0?xr.reason:new gi("Aborted","AbortError"),vr=[];or||vr.push(function(){return Tn._state==="writable"?Qn(Tn,ir):Ze(void 0)}),pr||vr.push(function(){return nn._state==="readable"?Vs(nn,ir):Ze(void 0)}),lr(function(){return Promise.all(vr.map(function(Ar){return Ar()}))},!0,ir)},xr.aborted){Fn();return}xr.addEventListener("abort",Fn)}function Wn(){return Ye(function(ir,vr){function Ar(qr){qr?ir():Qe(Zn(),Ar,vr)}Ar(!1)})}function Zn(){return ba?Ze(!0):Qe(ua._readyPromise,function(){return Ye(function(ir,vr){hr(Lr,{_chunkSteps:function(Ar){la=Qe(Ks(ua,Ar),void 0,ze),ir(!1)},_closeSteps:function(){return ir(!0)},_errorSteps:vr})})})}if(rr(nn,Lr._closedPromise,function(ir){return or?_r(!0,ir):lr(function(){return Qn(Tn,ir)},!0,ir),null}),rr(Tn,ua._closedPromise,function(ir){return pr?_r(!0,ir):lr(function(){return Vs(nn,ir)},!0,ir),null}),sr(nn,Lr._closedPromise,function(){return Xn?_r():lr(function(){return rc(ua)}),null}),qa(Tn)||Tn._state==="closed"){var tr=new TypeError("the destination writable stream closed before all data could be piped to it");pr?_r(!0,tr):lr(function(){return Vs(nn,tr)},!0,tr)}sn(Wn());function nr(){var ir=la;return Qe(la,function(){return ir!==la?nr():void 0})}function rr(ir,vr,Ar){ir._state==="errored"?Ar(ir._storedError):hn(vr,Ar)}function sr(ir,vr,Ar){ir._state==="closed"?Ar():on(vr,Ar)}function lr(ir,vr,Ar){if(ba)return;ba=!0,Tn._state==="writable"&&!qa(Tn)?on(nr(),qr):qr();function qr(){return Je(ir(),function(){return Cr(vr,Ar)},function(kr){return Cr(!0,kr)}),null}}function _r(ir,vr){ba||(ba=!0,Tn._state==="writable"&&!qa(Tn)?on(nr(),function(){return Cr(ir,vr)}):Cr(ir,vr))}function Cr(ir,vr){return al(ua),An(Lr),xr!==void 0&&xr.removeEventListener("abort",Fn),ir?gn(vr):rn(void 0),null}})}var is=(function(){function nn(){throw new TypeError("Illegal constructor")}return Object.defineProperty(nn.prototype,"desiredSize",{get:function(){if(!Rs(this))throw xu("desiredSize");return Ou(this)},enumerable:!1,configurable:!0}),nn.prototype.close=function(){if(!Rs(this))throw xu("close");if(!eu(this))throw new TypeError("The stream is not in a state that permits close");Os(this)},nn.prototype.enqueue=function(Tn){if(Tn===void 0&&(Tn=void 0),!Rs(this))throw xu("enqueue");if(!eu(this))throw new TypeError("The stream is not in a state that permits enqueue");return kl(this,Tn)},nn.prototype.error=function(Tn){if(Tn===void 0&&(Tn=void 0),!Rs(this))throw xu("error");Js(this,Tn)},nn.prototype[Vn]=function(Tn){li(this);var Xn=this._cancelAlgorithm(Tn);return wu(this),Xn},nn.prototype[On]=function(Tn){var Xn=this._controlledReadableStream;if(this._queue.length>0){var or=ja(this);this._closeRequested&&this._queue.length===0?(wu(this),wo(Xn)):Xi(this),Tn._chunkSteps(or)}else br(Xn,Tn),Xi(this)},nn.prototype[Un]=function(){},nn})();Object.defineProperties(is.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),Ge(is.prototype.close,"close"),Ge(is.prototype.enqueue,"enqueue"),Ge(is.prototype.error,"error"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(is.prototype,Be.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Rs(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_controlledReadableStream")?!1:nn instanceof is}function Xi(nn){var Tn=Vl(nn);if(Tn){if(nn._pulling){nn._pullAgain=!0;return}nn._pulling=!0;var Xn=nn._pullAlgorithm();Je(Xn,function(){return nn._pulling=!1,nn._pullAgain&&(nn._pullAgain=!1,Xi(nn)),null},function(or){return Js(nn,or),null})}}function Vl(nn){var Tn=nn._controlledReadableStream;if(!eu(nn)||!nn._started)return!1;if(Vo(Tn)&&jr(Tn)>0)return!0;var Xn=Ou(nn);return Xn>0}function wu(nn){nn._pullAlgorithm=void 0,nn._cancelAlgorithm=void 0,nn._strategySizeAlgorithm=void 0}function Os(nn){if(eu(nn)){var Tn=nn._controlledReadableStream;nn._closeRequested=!0,nn._queue.length===0&&(wu(nn),wo(Tn))}}function kl(nn,Tn){if(eu(nn)){var Xn=nn._controlledReadableStream;if(Vo(Xn)&&jr(Xn)>0)yr(Xn,Tn,!1);else{var or=void 0;try{or=nn._strategySizeAlgorithm(Tn)}catch(pr){throw Js(nn,pr),pr}try{pi(nn,Tn,or)}catch(pr){throw Js(nn,pr),pr}}Xi(nn)}}function Js(nn,Tn){var Xn=nn._controlledReadableStream;Xn._state==="readable"&&(li(nn),wu(nn),$o(Xn,Tn))}function Ou(nn){var Tn=nn._controlledReadableStream._state;return Tn==="errored"?null:Tn==="closed"?0:nn._strategyHWM-nn._queueTotalSize}function Yc(nn){return!Vl(nn)}function eu(nn){var Tn=nn._controlledReadableStream._state;return!nn._closeRequested&&Tn==="readable"}function Vc(nn,Tn,Xn,or,pr,xr,Lr){Tn._controlledReadableStream=nn,Tn._queue=void 0,Tn._queueTotalSize=void 0,li(Tn),Tn._started=!1,Tn._closeRequested=!1,Tn._pullAgain=!1,Tn._pulling=!1,Tn._strategySizeAlgorithm=Lr,Tn._strategyHWM=xr,Tn._pullAlgorithm=or,Tn._cancelAlgorithm=pr,nn._readableStreamController=Tn;var ua=Xn();Je(Ze(ua),function(){return Tn._started=!0,Xi(Tn),null},function(ba){return Js(Tn,ba),null})}function kc(nn,Tn,Xn,or){var pr=Object.create(is.prototype),xr,Lr,ua;Tn.start!==void 0?xr=function(){return Tn.start(pr)}:xr=function(){},Tn.pull!==void 0?Lr=function(){return Tn.pull(pr)}:Lr=function(){return Ze(void 0)},Tn.cancel!==void 0?ua=function(ba){return Tn.cancel(ba)}:ua=function(){return Ze(void 0)},Vc(nn,pr,xr,Lr,ua,Xn,or)}function xu(nn){return new TypeError("ReadableStreamDefaultController.prototype.".concat(nn," can only be used on a ReadableStreamDefaultController"))}function ac(nn,Tn){return lo(nn._readableStreamController)?_u(nn):vo(nn)}function vo(nn,Tn){var Xn=dr(nn),or=!1,pr=!1,xr=!1,Lr=!1,ua,ba,la,rn,gn,Fn=Ye(function(rr){gn=rr});function Wn(){if(or)return pr=!0,Ze(void 0);or=!0;var rr={_chunkSteps:function(sr){kn(function(){pr=!1;var lr=sr,_r=sr;xr||kl(la._readableStreamController,lr),Lr||kl(rn._readableStreamController,_r),or=!1,pr&&Wn()})},_closeSteps:function(){or=!1,xr||Os(la._readableStreamController),Lr||Os(rn._readableStreamController),(!xr||!Lr)&&gn(void 0)},_errorSteps:function(){or=!1}};return hr(Xn,rr),Ze(void 0)}function Zn(rr){if(xr=!0,ua=rr,Lr){var sr=Pr([ua,ba]),lr=Vs(nn,sr);gn(lr)}return Fn}function tr(rr){if(Lr=!0,ba=rr,xr){var sr=Pr([ua,ba]),lr=Vs(nn,sr);gn(lr)}return Fn}function nr(){}return la=Us(nr,Wn,Zn),rn=Us(nr,Wn,tr),hn(Xn._closedPromise,function(rr){return Js(la._readableStreamController,rr),Js(rn._readableStreamController,rr),(!xr||!Lr)&&gn(void 0),null}),[la,rn]}function _u(nn){var Tn=dr(nn),Xn=!1,or=!1,pr=!1,xr=!1,Lr=!1,ua,ba,la,rn,gn,Fn=Ye(function(Cr){gn=Cr});function Wn(Cr){hn(Cr._closedPromise,function(ir){return Cr!==Tn||(ws(la._readableStreamController,ir),ws(rn._readableStreamController,ir),(!xr||!Lr)&&gn(void 0)),null})}function Zn(){us(Tn)&&(An(Tn),Tn=dr(nn),Wn(Tn));var Cr={_chunkSteps:function(ir){kn(function(){or=!1,pr=!1;var vr=ir,Ar=ir;if(!xr&&!Lr)try{Ar=ri(ir)}catch(qr){ws(la._readableStreamController,qr),ws(rn._readableStreamController,qr),gn(Vs(nn,qr));return}xr||Wl(la._readableStreamController,vr),Lr||Wl(rn._readableStreamController,Ar),Xn=!1,or?nr():pr&&rr()})},_closeSteps:function(){Xn=!1,xr||So(la._readableStreamController),Lr||So(rn._readableStreamController),la._readableStreamController._pendingPullIntos.length>0&&fo(la._readableStreamController,0),rn._readableStreamController._pendingPullIntos.length>0&&fo(rn._readableStreamController,0),(!xr||!Lr)&&gn(void 0)},_errorSteps:function(){Xn=!1}};hr(Tn,Cr)}function tr(Cr,ir){Dr(Tn)&&(An(Tn),Tn=Gs(nn),Wn(Tn));var vr=ir?rn:la,Ar=ir?la:rn,qr={_chunkSteps:function(kr){kn(function(){or=!1,pr=!1;var zr=ir?Lr:xr,Hr=ir?xr:Lr;if(Hr)zr||Po(vr._readableStreamController,kr);else{var ra=void 0;try{ra=ri(kr)}catch(Zr){ws(vr._readableStreamController,Zr),ws(Ar._readableStreamController,Zr),gn(Vs(nn,Zr));return}zr||Po(vr._readableStreamController,kr),Wl(Ar._readableStreamController,ra)}Xn=!1,or?nr():pr&&rr()})},_closeSteps:function(kr){Xn=!1;var zr=ir?Lr:xr,Hr=ir?xr:Lr;zr||So(vr._readableStreamController),Hr||So(Ar._readableStreamController),kr!==void 0&&(zr||Po(vr._readableStreamController,kr),!Hr&&Ar._readableStreamController._pendingPullIntos.length>0&&fo(Ar._readableStreamController,0)),(!zr||!Hr)&&gn(void 0)},_errorSteps:function(){Xn=!1}};ho(Tn,Cr,1,qr)}function nr(){if(Xn)return or=!0,Ze(void 0);Xn=!0;var Cr=Hs(la._readableStreamController);return Cr===null?Zn():tr(Cr._view,!1),Ze(void 0)}function rr(){if(Xn)return pr=!0,Ze(void 0);Xn=!0;var Cr=Hs(rn._readableStreamController);return Cr===null?Zn():tr(Cr._view,!0),Ze(void 0)}function sr(Cr){if(xr=!0,ua=Cr,Lr){var ir=Pr([ua,ba]),vr=Vs(nn,ir);gn(vr)}return Fn}function lr(Cr){if(Lr=!0,ba=Cr,xr){var ir=Pr([ua,ba]),vr=Vs(nn,ir);gn(vr)}return Fn}function _r(){}return la=Su(_r,nr,sr),rn=Su(_r,rr,lr),Wn(Tn),[la,rn]}function Zs(nn){return Xe(nn)&&typeof nn.getReader<"u"}function Qs(nn){return Zs(nn)?ic(nn.getReader()):tu(nn)}function tu(nn){var Tn,Xn=Xr(nn,"async"),or=ze;function pr(){var Lr;try{Lr=ca(Xn)}catch(ba){return St(ba)}var ua=Ze(Lr);return dn(ua,function(ba){if(!Xe(ba))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var la=Sa(ba);if(la)Os(Tn._readableStreamController);else{var rn=oa(ba);kl(Tn._readableStreamController,rn)}})}function xr(Lr){var ua=Xn.iterator,ba;try{ba=aa(ua,"return")}catch(gn){return St(gn)}if(ba===void 0)return Ze(void 0);var la;try{la=Pn(ba,ua,[Lr])}catch(gn){return St(gn)}var rn=Ze(la);return dn(rn,function(gn){if(!Xe(gn))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return Tn=Us(or,pr,xr,0),Tn}function ic(nn){var Tn,Xn=ze;function or(){var xr;try{xr=nn.read()}catch(Lr){return St(Lr)}return dn(xr,function(Lr){if(!Xe(Lr))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Lr.done)Os(Tn._readableStreamController);else{var ua=Lr.value;kl(Tn._readableStreamController,ua)}})}function pr(xr){try{return Ze(nn.cancel(xr))}catch(Lr){return St(Lr)}}return Tn=Us(Xn,or,pr,0),Tn}function Uu(nn,Tn){Hn(nn,Tn);var Xn=nn,or=Xn==null?void 0:Xn.autoAllocateChunkSize,pr=Xn==null?void 0:Xn.cancel,xr=Xn==null?void 0:Xn.pull,Lr=Xn==null?void 0:Xn.start,ua=Xn==null?void 0:Xn.type;return{autoAllocateChunkSize:or===void 0?void 0:er(or,"".concat(Tn," has member 'autoAllocateChunkSize' that")),cancel:pr===void 0?void 0:qu(pr,Xn,"".concat(Tn," has member 'cancel' that")),pull:xr===void 0?void 0:sc(xr,Xn,"".concat(Tn," has member 'pull' that")),start:Lr===void 0?void 0:nu(Lr,Xn,"".concat(Tn," has member 'start' that")),type:ua===void 0?void 0:oc(ua,"".concat(Tn," has member 'type' that"))}}function qu(nn,Tn,Xn){return vn(nn,Xn),function(or){return _n(nn,Tn,[or])}}function sc(nn,Tn,Xn){return vn(nn,Xn),function(or){return _n(nn,Tn,[or])}}function nu(nn,Tn,Xn){return vn(nn,Xn),function(or){return Pn(nn,Tn,[or])}}function oc(nn,Tn){if(nn="".concat(nn),nn!=="bytes")throw new TypeError("".concat(Tn," '").concat(nn,"' is not a valid enumeration value for ReadableStreamType"));return nn}function ru(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.preventCancel;return{preventCancel:!!Xn}}function Yi(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.preventAbort,or=nn==null?void 0:nn.preventCancel,pr=nn==null?void 0:nn.preventClose,xr=nn==null?void 0:nn.signal;return xr!==void 0&&bo(xr,"".concat(Tn," has member 'signal' that")),{preventAbort:!!Xn,preventCancel:!!or,preventClose:!!pr,signal:xr}}function bo(nn,Tn){if(!Kl(nn))throw new TypeError("".concat(Tn," is not an AbortSignal."))}function Ss(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.readable;bn(Xn,"readable","ReadableWritablePair"),ur(Xn,"".concat(Tn," has member 'readable' that"));var or=nn==null?void 0:nn.writable;return bn(or,"writable","ReadableWritablePair"),Pl(or,"".concat(Tn," has member 'writable' that")),{readable:Xn,writable:or}}var Ii=(function(){function nn(Tn,Xn){Tn===void 0&&(Tn={}),Xn===void 0&&(Xn={}),Tn===void 0?Tn=null:In(Tn,"First parameter");var or=Ys(Xn,"Second parameter"),pr=Uu(Tn,"First parameter");if(ul(this),pr.type==="bytes"){if(or.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var xr=Xs(or,0);tc(this,pr,xr)}else{var Lr=tl(or),xr=Xs(or,1);kc(this,pr,xr,Lr)}}return Object.defineProperty(nn.prototype,"locked",{get:function(){if(!Ps(this))throw xo("locked");return Vo(this)},enumerable:!1,configurable:!0}),nn.prototype.cancel=function(Tn){return Tn===void 0&&(Tn=void 0),Ps(this)?Vo(this)?St(new TypeError("Cannot cancel a stream that already has a reader")):Vs(this,Tn):St(xo("cancel"))},nn.prototype.getReader=function(Tn){if(Tn===void 0&&(Tn=void 0),!Ps(this))throw xo("getReader");var Xn=Io(Tn,"First parameter");return Xn.mode===void 0?dr(this):Gs(this)},nn.prototype.pipeThrough=function(Tn,Xn){if(Xn===void 0&&(Xn={}),!Ps(this))throw xo("pipeThrough");cn(Tn,1,"pipeThrough");var or=Ss(Tn,"First parameter"),pr=Yi(Xn,"Second parameter");if(Vo(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Dn(or.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var xr=_i(this,or.writable,pr.preventClose,pr.preventAbort,pr.preventCancel,pr.signal);return sn(xr),or.readable},nn.prototype.pipeTo=function(Tn,Xn){if(Xn===void 0&&(Xn={}),!Ps(this))return St(xo("pipeTo"));if(Tn===void 0)return St("Parameter 1 is required in 'pipeTo'.");if(!Ts(Tn))return St(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var or;try{or=Yi(Xn,"Second parameter")}catch(pr){return St(pr)}return Vo(this)?St(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Dn(Tn)?St(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_i(this,Tn,or.preventClose,or.preventAbort,or.preventCancel,or.signal)},nn.prototype.tee=function(){if(!Ps(this))throw xo("tee");var Tn=ac(this);return Pr(Tn)},nn.prototype.values=function(Tn){if(Tn===void 0&&(Tn=void 0),!Ps(this))throw xo("values");var Xn=ru(Tn,"First parameter");return Na(this,Xn.preventCancel)},nn.prototype[Tr]=function(Tn){return this.values(Tn)},nn.from=function(Tn){return Qs(Tn)},nn})();Object.defineProperties(Ii,{from:{enumerable:!0}}),Object.defineProperties(Ii.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),Ge(Ii.from,"from"),Ge(Ii.prototype.cancel,"cancel"),Ge(Ii.prototype.getReader,"getReader"),Ge(Ii.prototype.pipeThrough,"pipeThrough"),Ge(Ii.prototype.pipeTo,"pipeTo"),Ge(Ii.prototype.tee,"tee"),Ge(Ii.prototype.values,"values"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(Ii.prototype,Be.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Ii.prototype,Tr,{value:Ii.prototype.values,writable:!0,configurable:!0});function Us(nn,Tn,Xn,or,pr){or===void 0&&(or=1),pr===void 0&&(pr=function(){return 1});var xr=Object.create(Ii.prototype);ul(xr);var Lr=Object.create(is.prototype);return Vc(xr,Lr,nn,Tn,Xn,or,pr),xr}function Su(nn,Tn,Xn){var or=Object.create(Ii.prototype);ul(or);var pr=Object.create($i.prototype);return Xl(or,pr,nn,Tn,Xn,0,void 0),or}function ul(nn){nn._state="readable",nn._reader=void 0,nn._storedError=void 0,nn._disturbed=!1}function Ps(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_readableStreamController")?!1:nn instanceof Ii}function Vo(nn){return nn._reader!==void 0}function Vs(nn,Tn){if(nn._disturbed=!0,nn._state==="closed")return Ze(void 0);if(nn._state==="errored")return St(nn._storedError);wo(nn);var Xn=nn._reader;if(Xn!==void 0&&us(Xn)){var or=Xn._readIntoRequests;Xn._readIntoRequests=new yn,or.forEach(function(xr){xr._closeSteps(void 0)})}var pr=nn._readableStreamController[Vn](Tn);return dn(pr,ze)}function wo(nn){nn._state="closed";var Tn=nn._reader;if(Tn!==void 0&&(un(Tn),Dr(Tn))){var Xn=Tn._readRequests;Tn._readRequests=new yn,Xn.forEach(function(or){or._closeSteps()})}}function $o(nn,Tn){nn._state="errored",nn._storedError=Tn;var Xn=nn._reader;Xn!==void 0&&(pn(Xn,Tn),Dr(Xn)?Qr(Xn,Tn):Eo(Xn,Tn))}function xo(nn){return new TypeError("ReadableStream.prototype.".concat(nn," can only be used on a ReadableStream"))}function $u(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.highWaterMark;return bn(Xn,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Cn(Xn)}}var eo=function(nn){return nn.byteLength};Ge(eo,"size");var As=(function(){function nn(Tn){cn(Tn,1,"ByteLengthQueuingStrategy"),Tn=$u(Tn,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=Tn.highWaterMark}return Object.defineProperty(nn.prototype,"highWaterMark",{get:function(){if(!jo(this))throw Ml("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"size",{get:function(){if(!jo(this))throw Ml("size");return eo},enumerable:!1,configurable:!0}),nn})();Object.defineProperties(As.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Be.toStringTag=="symbol"&&Object.defineProperty(As.prototype,Be.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ml(nn){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(nn," can only be used on a ByteLengthQueuingStrategy"))}function jo(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_byteLengthQueuingStrategyHighWaterMark")?!1:nn instanceof As}var zo=function(){return 1};Ge(zo,"size");var Ho=(function(){function nn(Tn){cn(Tn,1,"CountQueuingStrategy"),Tn=$u(Tn,"First parameter"),this._countQueuingStrategyHighWaterMark=Tn.highWaterMark}return Object.defineProperty(nn.prototype,"highWaterMark",{get:function(){if(!Pu(this))throw Mc("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"size",{get:function(){if(!Pu(this))throw Mc("size");return zo},enumerable:!1,configurable:!0}),nn})();Object.defineProperties(Ho.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Be.toStringTag=="symbol"&&Object.defineProperty(Ho.prototype,Be.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Mc(nn){return new TypeError("CountQueuingStrategy.prototype.".concat(nn," can only be used on a CountQueuingStrategy"))}function Pu(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_countQueuingStrategyHighWaterMark")?!1:nn instanceof Ho}function ju(nn,Tn){Hn(nn,Tn);var Xn=nn==null?void 0:nn.cancel,or=nn==null?void 0:nn.flush,pr=nn==null?void 0:nn.readableType,xr=nn==null?void 0:nn.start,Lr=nn==null?void 0:nn.transform,ua=nn==null?void 0:nn.writableType;return{cancel:Xn===void 0?void 0:Nl(Xn,nn,"".concat(Tn," has member 'cancel' that")),flush:or===void 0?void 0:Ki(or,nn,"".concat(Tn," has member 'flush' that")),readableType:pr,start:xr===void 0?void 0:Mi(xr,nn,"".concat(Tn," has member 'start' that")),transform:Lr===void 0?void 0:ni(Lr,nn,"".concat(Tn," has member 'transform' that")),writableType:ua}}function Ki(nn,Tn,Xn){return vn(nn,Xn),function(or){return _n(nn,Tn,[or])}}function Mi(nn,Tn,Xn){return vn(nn,Xn),function(or){return Pn(nn,Tn,[or])}}function ni(nn,Tn,Xn){return vn(nn,Xn),function(or,pr){return _n(nn,Tn,[or,pr])}}function Nl(nn,Tn,Xn){return vn(nn,Xn),function(or){return _n(nn,Tn,[or])}}var to=(function(){function nn(Tn,Xn,or){Tn===void 0&&(Tn={}),Xn===void 0&&(Xn={}),or===void 0&&(or={}),Tn===void 0&&(Tn=null);var pr=Ys(Xn,"Second parameter"),xr=Ys(or,"Third parameter"),Lr=ju(Tn,"First parameter");if(Lr.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Lr.writableType!==void 0)throw new RangeError("Invalid writableType specified");var ua=Xs(xr,0),ba=tl(xr),la=Xs(pr,1),rn=tl(pr),gn,Fn=Ye(function(Wn){gn=Wn});Nc(this,Fn,la,rn,ua,ba),ss(this,Lr),Lr.start!==void 0?gn(Lr.start(this._transformStreamController)):gn(void 0)}return Object.defineProperty(nn.prototype,"readable",{get:function(){if(!Il(this))throw Kc("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(nn.prototype,"writable",{get:function(){if(!Il(this))throw Kc("writable");return this._writable},enumerable:!1,configurable:!0}),nn})();Object.defineProperties(to.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Be.toStringTag=="symbol"&&Object.defineProperty(to.prototype,Be.toStringTag,{value:"TransformStream",configurable:!0});function Nc(nn,Tn,Xn,or,pr,xr){function Lr(){return Tn}function ua(Fn){return Au(nn,Fn)}function ba(Fn){return cc(nn,Fn)}function la(){return Xo(nn)}nn._writable=Iu(Lr,ua,la,ba,Xn,or);function rn(){return Ji(nn)}function gn(Fn){return Dl(nn,Fn)}nn._readable=Us(Lr,rn,gn,pr,xr),nn._backpressure=void 0,nn._backpressureChangePromise=void 0,nn._backpressureChangePromise_resolve=void 0,Es(nn,!0),nn._transformStreamController=void 0}function Il(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_transformStreamController")?!1:nn instanceof to}function Ic(nn,Tn){Js(nn._readable._readableStreamController,Tn),ko(nn,Tn)}function ko(nn,Tn){_o(nn._transformStreamController),Lo(nn._writable._writableStreamController,Tn),hs(nn)}function hs(nn){nn._backpressure&&Es(nn,!1)}function Es(nn,Tn){nn._backpressureChangePromise!==void 0&&nn._backpressureChangePromise_resolve(),nn._backpressureChangePromise=Ye(function(Xn){nn._backpressureChangePromise_resolve=Xn}),nn._backpressure=Tn}var cl=(function(){function nn(){throw new TypeError("Illegal constructor")}return Object.defineProperty(nn.prototype,"desiredSize",{get:function(){if(!hl(this))throw au("desiredSize");var Tn=this._controlledTransformStream._readable._readableStreamController;return Ou(Tn)},enumerable:!1,configurable:!0}),nn.prototype.enqueue=function(Tn){if(Tn===void 0&&(Tn=void 0),!hl(this))throw au("enqueue");dl(this,Tn)},nn.prototype.error=function(Tn){if(Tn===void 0&&(Tn=void 0),!hl(this))throw au("error");Wo(this,Tn)},nn.prototype.terminate=function(){if(!hl(this))throw au("terminate");uc(this)},nn})();Object.defineProperties(cl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),Ge(cl.prototype.enqueue,"enqueue"),Ge(cl.prototype.error,"error"),Ge(cl.prototype.terminate,"terminate"),typeof Be.toStringTag=="symbol"&&Object.defineProperty(cl.prototype,Be.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function hl(nn){return!Xe(nn)||!Object.prototype.hasOwnProperty.call(nn,"_controlledTransformStream")?!1:nn instanceof cl}function Go(nn,Tn,Xn,or,pr){Tn._controlledTransformStream=nn,nn._transformStreamController=Tn,Tn._transformAlgorithm=Xn,Tn._flushAlgorithm=or,Tn._cancelAlgorithm=pr,Tn._finishPromise=void 0,Tn._finishPromise_resolve=void 0,Tn._finishPromise_reject=void 0}function ss(nn,Tn){var Xn=Object.create(cl.prototype),or,pr,xr;Tn.transform!==void 0?or=function(Lr){return Tn.transform(Lr,Xn)}:or=function(Lr){try{return dl(Xn,Lr),Ze(void 0)}catch(ua){return St(ua)}},Tn.flush!==void 0?pr=function(){return Tn.flush(Xn)}:pr=function(){return Ze(void 0)},Tn.cancel!==void 0?xr=function(Lr){return Tn.cancel(Lr)}:xr=function(){return Ze(void 0)},Go(nn,Xn,or,pr,xr)}function _o(nn){nn._transformAlgorithm=void 0,nn._flushAlgorithm=void 0,nn._cancelAlgorithm=void 0}function dl(nn,Tn){var Xn=nn._controlledTransformStream,or=Xn._readable._readableStreamController;if(!eu(or))throw new TypeError("Readable side is not in a state that permits enqueue");try{kl(or,Tn)}catch(xr){throw ko(Xn,xr),Xn._readable._storedError}var pr=Yc(or);pr!==Xn._backpressure&&Es(Xn,!0)}function Wo(nn,Tn){Ic(nn._controlledTransformStream,Tn)}function zu(nn,Tn){var Xn=nn._transformAlgorithm(Tn);return dn(Xn,void 0,function(or){throw Ic(nn._controlledTransformStream,or),or})}function uc(nn){var Tn=nn._controlledTransformStream,Xn=Tn._readable._readableStreamController;Os(Xn);var or=new TypeError("TransformStream terminated");ko(Tn,or)}function Au(nn,Tn){var Xn=nn._transformStreamController;if(nn._backpressure){var or=nn._backpressureChangePromise;return dn(or,function(){var pr=nn._writable,xr=pr._state;if(xr==="erroring")throw pr._storedError;return zu(Xn,Tn)})}return zu(Xn,Tn)}function cc(nn,Tn){var Xn=nn._transformStreamController;if(Xn._finishPromise!==void 0)return Xn._finishPromise;var or=nn._readable;Xn._finishPromise=Ye(function(xr,Lr){Xn._finishPromise_resolve=xr,Xn._finishPromise_reject=Lr});var pr=Xn._cancelAlgorithm(Tn);return _o(Xn),Je(pr,function(){return or._state==="errored"?iu(Xn,or._storedError):(Js(or._readableStreamController,Tn),Dc(Xn)),null},function(xr){return Js(or._readableStreamController,xr),iu(Xn,xr),null}),Xn._finishPromise}function Xo(nn){var Tn=nn._transformStreamController;if(Tn._finishPromise!==void 0)return Tn._finishPromise;var Xn=nn._readable;Tn._finishPromise=Ye(function(pr,xr){Tn._finishPromise_resolve=pr,Tn._finishPromise_reject=xr});var or=Tn._flushAlgorithm();return _o(Tn),Je(or,function(){return Xn._state==="errored"?iu(Tn,Xn._storedError):(Os(Xn._readableStreamController),Dc(Tn)),null},function(pr){return Js(Xn._readableStreamController,pr),iu(Tn,pr),null}),Tn._finishPromise}function Ji(nn){return Es(nn,!1),nn._backpressureChangePromise}function Dl(nn,Tn){var Xn=nn._transformStreamController;if(Xn._finishPromise!==void 0)return Xn._finishPromise;var or=nn._writable;Xn._finishPromise=Ye(function(xr,Lr){Xn._finishPromise_resolve=xr,Xn._finishPromise_reject=Lr});var pr=Xn._cancelAlgorithm(Tn);return _o(Xn),Je(pr,function(){return or._state==="errored"?iu(Xn,or._storedError):(Lo(or._writableStreamController,Tn),hs(nn),Dc(Xn)),null},function(xr){return Lo(or._writableStreamController,xr),hs(nn),iu(Xn,xr),null}),Xn._finishPromise}function au(nn){return new TypeError("TransformStreamDefaultController.prototype.".concat(nn," can only be used on a TransformStreamDefaultController"))}function Dc(nn){nn._finishPromise_resolve!==void 0&&(nn._finishPromise_resolve(),nn._finishPromise_resolve=void 0,nn._finishPromise_reject=void 0)}function iu(nn,Tn){nn._finishPromise_reject!==void 0&&(sn(nn._finishPromise),nn._finishPromise_reject(Tn),nn._finishPromise_resolve=void 0,nn._finishPromise_reject=void 0)}function Kc(nn){return new TypeError("TransformStream.prototype.".concat(nn," can only be used on a TransformStream"))}Te.ByteLengthQueuingStrategy=As,Te.CountQueuingStrategy=Ho,Te.ReadableByteStreamController=$i,Te.ReadableStream=Ii,Te.ReadableStreamBYOBReader=Ds,Te.ReadableStreamBYOBRequest=xi,Te.ReadableStreamDefaultController=is,Te.ReadableStreamDefaultReader=$r,Te.TransformStream=to,Te.TransformStreamDefaultController=cl,Te.WritableStream=cs,Te.WritableStreamDefaultController=Bs,Te.WritableStreamDefaultWriter=mi}))})(ponyfill$1,ponyfill$1.exports)),ponyfill$1.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports){(function(Ee,Te){module.exports=Te()})(globalThis,()=>(()=>{var __webpack_modules__=[,((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.VerbosityLevel=Ee.Util=Ee.UnknownErrorException=Ee.UnexpectedResponseException=Ee.UNSUPPORTED_FEATURES=Ee.TextRenderingMode=Ee.StreamType=Ee.RenderingIntentFlag=Ee.PermissionFlag=Ee.PasswordResponses=Ee.PasswordException=Ee.PageActionEventType=Ee.OPS=Ee.MissingPDFException=Ee.LINE_FACTOR=Ee.LINE_DESCENT_FACTOR=Ee.InvalidPDFException=Ee.ImageKind=Ee.IDENTITY_MATRIX=Ee.FormatError=Ee.FontType=Ee.FeatureTest=Ee.FONT_IDENTITY_MATRIX=Ee.DocumentActionEventType=Ee.CMapCompressionType=Ee.BaseException=Ee.AnnotationType=Ee.AnnotationStateModelType=Ee.AnnotationReviewState=Ee.AnnotationReplyType=Ee.AnnotationMode=Ee.AnnotationMarkedState=Ee.AnnotationFlag=Ee.AnnotationFieldFlag=Ee.AnnotationEditorType=Ee.AnnotationEditorPrefix=Ee.AnnotationEditorParamsType=Ee.AnnotationBorderStyleType=Ee.AnnotationActionEventType=Ee.AbortException=void 0,Ee.arrayByteLength=cn,Ee.arraysToBytes=bn,Ee.assert=$n,Ee.bytesToString=qn,Ee.createPromiseCapability=na,Ee.createValidAbsoluteUrl=En,Ee.escapeString=$r,Ee.getModificationDate=Kr,Ee.getVerbosityLevel=Un,Ee.info=jn,Ee.isArrayBuffer=ia,Ee.isArrayEqual=Er,Ee.isAscii=Dr,Ee.objectFromMap=Jn,Ee.objectSize=Yn,Ee.setVerbosityLevel=On,Ee.shadow=Sn,Ee.string32=Cn,Ee.stringToBytes=In,Ee.stringToPDFString=Gr,Ee.stringToUTF16BEString=hr,Ee.stringToUTF8String=Ur,Ee.unreachable=An,Ee.utf8StringToString=Qr,Ee.warn=Gn,Te(2);const Be=[1,0,0,1,0,0];Ee.IDENTITY_MATRIX=Be;const Re=[.001,0,0,.001,0,0];Ee.FONT_IDENTITY_MATRIX=Re;const Me=1.35;Ee.LINE_FACTOR=Me;const Ue=.35;Ee.LINE_DESCENT_FACTOR=Ue;const De={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};Ee.RenderingIntentFlag=De;const qe={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};Ee.AnnotationMode=qe;const $e="pdfjs_internal_editor_";Ee.AnnotationEditorPrefix=$e;const ze={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};Ee.AnnotationEditorType=ze;const Xe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};Ee.AnnotationEditorParamsType=Xe;const We={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};Ee.PermissionFlag=We;const Ge={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};Ee.TextRenderingMode=Ge;const tn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};Ee.ImageKind=tn;const en={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};Ee.AnnotationType=en;const an={MARKED:"Marked",REVIEW:"Review"};Ee.AnnotationStateModelType=an;const Ye={MARKED:"Marked",UNMARKED:"Unmarked"};Ee.AnnotationMarkedState=Ye;const Ze={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};Ee.AnnotationReviewState=Ze;const St={GROUP:"Group",REPLY:"R"};Ee.AnnotationReplyType=St;const Qe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};Ee.AnnotationFlag=Qe;const Je={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};Ee.AnnotationFieldFlag=Je;const on={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};Ee.AnnotationBorderStyleType=on;const hn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};Ee.AnnotationActionEventType=hn;const dn={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};Ee.DocumentActionEventType=dn;const sn={O:"PageOpen",C:"PageClose"};Ee.PageActionEventType=sn;const kn={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};Ee.StreamType=kn;const Pn={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};Ee.FontType=Pn;const _n={ERRORS:0,WARNINGS:1,INFOS:5};Ee.VerbosityLevel=_n;const Mn={NONE:0,BINARY:1,STREAM:2};Ee.CMapCompressionType=Mn;const yn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};Ee.OPS=yn;const zn={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};Ee.UNSUPPORTED_FEATURES=zn;const Ln={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};Ee.PasswordResponses=Ln;let Vn=_n.WARNINGS;function On(Pr){Number.isInteger(Pr)&&(Vn=Pr)}function Un(){return Vn}function jn(Pr){Vn>=_n.INFOS&&console.log(`Info: ${Pr}`)}function Gn(Pr){Vn>=_n.WARNINGS&&console.log(`Warning: ${Pr}`)}function An(Pr){throw new Error(Pr)}function $n(Pr,fr){Pr||An(fr)}function Nn(Pr){if(!Pr)return!1;switch(Pr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function En(Pr){let fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Pr)return null;try{if(gr&&typeof Pr=="string"){if(gr.addDefaultProtocol&&Pr.startsWith("www.")){const sa=Pr.match(/\./g);sa&&sa.length>=2&&(Pr=`http://${Pr}`)}if(gr.tryConvertEncoding)try{Pr=Ur(Pr)}catch{}}const Mr=fr?new URL(Pr,fr):new URL(Pr);if(Nn(Mr))return Mr}catch{}return null}function Sn(Pr,fr,gr){return Object.defineProperty(Pr,fr,{value:gr,enumerable:!0,configurable:!0,writable:!1}),gr}const pn=(function(){function fr(gr,Mr){this.constructor===fr&&An("Cannot initialize BaseException."),this.message=gr,this.name=Mr}return fr.prototype=new Error,fr.constructor=fr,fr})();Ee.BaseException=pn;class mn extends pn{constructor(fr,gr){super(fr,"PasswordException"),this.code=gr}}Ee.PasswordException=mn;class un extends pn{constructor(fr,gr){super(fr,"UnknownErrorException"),this.details=gr}}Ee.UnknownErrorException=un;class wn extends pn{constructor(fr){super(fr,"InvalidPDFException")}}Ee.InvalidPDFException=wn;class xn extends pn{constructor(fr){super(fr,"MissingPDFException")}}Ee.MissingPDFException=xn;class Rn extends pn{constructor(fr,gr){super(fr,"UnexpectedResponseException"),this.status=gr}}Ee.UnexpectedResponseException=Rn;class Hn extends pn{constructor(fr){super(fr,"FormatError")}}Ee.FormatError=Hn;class vn extends pn{constructor(fr){super(fr,"AbortException")}}Ee.AbortException=vn;function qn(Pr){(typeof Pr!="object"||Pr===null||Pr.length===void 0)&&An("Invalid argument for bytesToString");const fr=Pr.length,gr=8192;if(fr<gr)return String.fromCharCode.apply(null,Pr);const Mr=[];for(let sa=0;sa<fr;sa+=gr){const aa=Math.min(sa+gr,fr),Rr=Pr.subarray(sa,aa);Mr.push(String.fromCharCode.apply(null,Rr))}return Mr.join("")}function In(Pr){typeof Pr!="string"&&An("Invalid argument for stringToBytes");const fr=Pr.length,gr=new Uint8Array(fr);for(let Mr=0;Mr<fr;++Mr)gr[Mr]=Pr.charCodeAt(Mr)&255;return gr}function cn(Pr){if(Pr.length!==void 0)return Pr.length;if(Pr.byteLength!==void 0)return Pr.byteLength;An("Invalid argument for arrayByteLength")}function bn(Pr){const fr=Pr.length;if(fr===1&&Pr[0]instanceof Uint8Array)return Pr[0];let gr=0;for(let aa=0;aa<fr;aa++)gr+=cn(Pr[aa]);let Mr=0;const sa=new Uint8Array(gr);for(let aa=0;aa<fr;aa++){let Rr=Pr[aa];Rr instanceof Uint8Array||(typeof Rr=="string"?Rr=In(Rr):Rr=new Uint8Array(Rr));const Tr=Rr.byteLength;sa.set(Rr,Mr),Mr+=Tr}return sa}function Cn(Pr){return String.fromCharCode(Pr>>24&255,Pr>>16&255,Pr>>8&255,Pr&255)}function Yn(Pr){return Object.keys(Pr).length}function Jn(Pr){const fr=Object.create(null);for(const[gr,Mr]of Pr)fr[gr]=Mr;return fr}function er(){const Pr=new Uint8Array(4);return Pr[0]=1,new Uint32Array(Pr.buffer,0,1)[0]===1}function ur(){try{return new Function(""),!0}catch{return!1}}class dr{static get isLittleEndian(){return Sn(this,"isLittleEndian",er())}static get isEvalSupported(){return Sn(this,"isEvalSupported",ur())}static get isOffscreenCanvasSupported(){return Sn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}Ee.FeatureTest=dr;const br=[...Array(256).keys()].map(Pr=>Pr.toString(16).padStart(2,"0"));class yr{static makeHexColor(fr,gr,Mr){return`#${br[fr]}${br[gr]}${br[Mr]}`}static scaleMinMax(fr,gr){let Mr;fr[0]?(fr[0]<0&&(Mr=gr[0],gr[0]=gr[1],gr[1]=Mr),gr[0]*=fr[0],gr[1]*=fr[0],fr[3]<0&&(Mr=gr[2],gr[2]=gr[3],gr[3]=Mr),gr[2]*=fr[3],gr[3]*=fr[3]):(Mr=gr[0],gr[0]=gr[2],gr[2]=Mr,Mr=gr[1],gr[1]=gr[3],gr[3]=Mr,fr[1]<0&&(Mr=gr[2],gr[2]=gr[3],gr[3]=Mr),gr[2]*=fr[1],gr[3]*=fr[1],fr[2]<0&&(Mr=gr[0],gr[0]=gr[1],gr[1]=Mr),gr[0]*=fr[2],gr[1]*=fr[2]),gr[0]+=fr[4],gr[1]+=fr[4],gr[2]+=fr[5],gr[3]+=fr[5]}static transform(fr,gr){return[fr[0]*gr[0]+fr[2]*gr[1],fr[1]*gr[0]+fr[3]*gr[1],fr[0]*gr[2]+fr[2]*gr[3],fr[1]*gr[2]+fr[3]*gr[3],fr[0]*gr[4]+fr[2]*gr[5]+fr[4],fr[1]*gr[4]+fr[3]*gr[5]+fr[5]]}static applyTransform(fr,gr){const Mr=fr[0]*gr[0]+fr[1]*gr[2]+gr[4],sa=fr[0]*gr[1]+fr[1]*gr[3]+gr[5];return[Mr,sa]}static applyInverseTransform(fr,gr){const Mr=gr[0]*gr[3]-gr[1]*gr[2],sa=(fr[0]*gr[3]-fr[1]*gr[2]+gr[2]*gr[5]-gr[4]*gr[3])/Mr,aa=(-fr[0]*gr[1]+fr[1]*gr[0]+gr[4]*gr[1]-gr[5]*gr[0])/Mr;return[sa,aa]}static getAxialAlignedBoundingBox(fr,gr){const Mr=yr.applyTransform(fr,gr),sa=yr.applyTransform(fr.slice(2,4),gr),aa=yr.applyTransform([fr[0],fr[3]],gr),Rr=yr.applyTransform([fr[2],fr[1]],gr);return[Math.min(Mr[0],sa[0],aa[0],Rr[0]),Math.min(Mr[1],sa[1],aa[1],Rr[1]),Math.max(Mr[0],sa[0],aa[0],Rr[0]),Math.max(Mr[1],sa[1],aa[1],Rr[1])]}static inverseTransform(fr){const gr=fr[0]*fr[3]-fr[1]*fr[2];return[fr[3]/gr,-fr[1]/gr,-fr[2]/gr,fr[0]/gr,(fr[2]*fr[5]-fr[4]*fr[3])/gr,(fr[4]*fr[1]-fr[5]*fr[0])/gr]}static apply3dTransform(fr,gr){return[fr[0]*gr[0]+fr[1]*gr[1]+fr[2]*gr[2],fr[3]*gr[0]+fr[4]*gr[1]+fr[5]*gr[2],fr[6]*gr[0]+fr[7]*gr[1]+fr[8]*gr[2]]}static singularValueDecompose2dScale(fr){const gr=[fr[0],fr[2],fr[1],fr[3]],Mr=fr[0]*gr[0]+fr[1]*gr[2],sa=fr[0]*gr[1]+fr[1]*gr[3],aa=fr[2]*gr[0]+fr[3]*gr[2],Rr=fr[2]*gr[1]+fr[3]*gr[3],Tr=(Mr+Rr)/2,Xr=Math.sqrt((Mr+Rr)**2-4*(Mr*Rr-aa*sa))/2,ca=Tr+Xr||1,Sa=Tr-Xr||1;return[Math.sqrt(ca),Math.sqrt(Sa)]}static normalizeRect(fr){const gr=fr.slice(0);return fr[0]>fr[2]&&(gr[0]=fr[2],gr[2]=fr[0]),fr[1]>fr[3]&&(gr[1]=fr[3],gr[3]=fr[1]),gr}static intersect(fr,gr){const Mr=Math.max(Math.min(fr[0],fr[2]),Math.min(gr[0],gr[2])),sa=Math.min(Math.max(fr[0],fr[2]),Math.max(gr[0],gr[2]));if(Mr>sa)return null;const aa=Math.max(Math.min(fr[1],fr[3]),Math.min(gr[1],gr[3])),Rr=Math.min(Math.max(fr[1],fr[3]),Math.max(gr[1],gr[3]));return aa>Rr?null:[Mr,aa,sa,Rr]}static bezierBoundingBox(fr,gr,Mr,sa,aa,Rr,Tr,Xr){const ca=[],Sa=[[],[]];let oa,ma,da,fa,Ca,Na,Ta,Ia;for(let ja=0;ja<2;++ja){if(ja===0?(ma=6*fr-12*Mr+6*aa,oa=-3*fr+9*Mr-9*aa+3*Tr,da=3*Mr-3*fr):(ma=6*gr-12*sa+6*Rr,oa=-3*gr+9*sa-9*Rr+3*Xr,da=3*sa-3*gr),Math.abs(oa)<1e-12){if(Math.abs(ma)<1e-12)continue;fa=-da/ma,0<fa&&fa<1&&ca.push(fa);continue}Ta=ma*ma-4*da*oa,Ia=Math.sqrt(Ta),!(Ta<0)&&(Ca=(-ma+Ia)/(2*oa),0<Ca&&Ca<1&&ca.push(Ca),Na=(-ma-Ia)/(2*oa),0<Na&&Na<1&&ca.push(Na))}let hi=ca.length,Ha;const ri=hi;for(;hi--;)fa=ca[hi],Ha=1-fa,Sa[0][hi]=Ha*Ha*Ha*fr+3*Ha*Ha*fa*Mr+3*Ha*fa*fa*aa+fa*fa*fa*Tr,Sa[1][hi]=Ha*Ha*Ha*gr+3*Ha*Ha*fa*sa+3*Ha*fa*fa*Rr+fa*fa*fa*Xr;return Sa[0][ri]=fr,Sa[1][ri]=gr,Sa[0][ri+1]=Tr,Sa[1][ri+1]=Xr,Sa[0].length=Sa[1].length=ri+2,[Math.min(...Sa[0]),Math.min(...Sa[1]),Math.max(...Sa[0]),Math.max(...Sa[1])]}}Ee.Util=yr;const jr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Gr(Pr){if(Pr[0]>="ï"){let gr;if(Pr[0]==="þ"&&Pr[1]==="ÿ"?gr="utf-16be":Pr[0]==="ÿ"&&Pr[1]==="þ"?gr="utf-16le":Pr[0]==="ï"&&Pr[1]==="»"&&Pr[2]==="¿"&&(gr="utf-8"),gr)try{const Mr=new TextDecoder(gr,{fatal:!0}),sa=In(Pr);return Mr.decode(sa)}catch(Mr){Gn(`stringToPDFString: "${Mr}".`)}}const fr=[];for(let gr=0,Mr=Pr.length;gr<Mr;gr++){const sa=jr[Pr.charCodeAt(gr)];fr.push(sa?String.fromCharCode(sa):Pr.charAt(gr))}return fr.join("")}function $r(Pr){return Pr.replace(/([()\\\n\r])/g,fr=>fr===`
`?"\\n":fr==="\r"?"\\r":`\\${fr}`)}function Dr(Pr){return/^[\x00-\x7F]*$/.test(Pr)}function hr(Pr){const fr=["þÿ"];for(let gr=0,Mr=Pr.length;gr<Mr;gr++){const sa=Pr.charCodeAt(gr);fr.push(String.fromCharCode(sa>>8&255),String.fromCharCode(sa&255))}return fr.join("")}function Ur(Pr){return decodeURIComponent(escape(Pr))}function Qr(Pr){return unescape(encodeURIComponent(Pr))}function ia(Pr){return typeof Pr=="object"&&Pr!==null&&Pr.byteLength!==void 0}function Er(Pr,fr){if(Pr.length!==fr.length)return!1;for(let gr=0,Mr=Pr.length;gr<Mr;gr++)if(Pr[gr]!==fr[gr])return!1;return!0}function Kr(){let Pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Pr.getUTCFullYear().toString(),(Pr.getUTCMonth()+1).toString().padStart(2,"0"),Pr.getUTCDate().toString().padStart(2,"0"),Pr.getUTCHours().toString().padStart(2,"0"),Pr.getUTCMinutes().toString().padStart(2,"0"),Pr.getUTCSeconds().toString().padStart(2,"0")].join("")}function na(){const Pr=Object.create(null);let fr=!1;return Object.defineProperty(Pr,"settled",{get(){return fr}}),Pr.promise=new Promise(function(gr,Mr){Pr.resolve=function(sa){fr=!0,gr(sa)},Pr.reject=function(sa){fr=!0,Mr(sa)}}),Pr}}),((Ce,Ee,Te)=>{var Be=Te(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,(function(){globalThis.btoa||!Be.isNodeJS||(globalThis.btoa=function(Me){return Buffer.from(Me,"binary").toString("base64")})})(),(function(){globalThis.atob||!Be.isNodeJS||(globalThis.atob=function(Me){return Buffer.from(Me,"base64").toString("binary")})})(),(function(){globalThis.DOMMatrix||!Be.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())})(),(function(){globalThis.ReadableStream||!Be.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)})(),(function(){Array.prototype.at||Te(4)})(),(function(){Uint8Array.prototype.at||Te(76)})(),(function(){globalThis.structuredClone||Te(86)})())}),((Ce,Ee)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.isNodeJS=void 0;const Te=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");Ee.isNodeJS=Te}),((Ce,Ee,Te)=>{Te(5);var Be=Te(75);Ce.exports=Be("Array","at")}),((Ce,Ee,Te)=>{var Be=Te(6),Re=Te(41),Me=Te(65),Ue=Te(63),De=Te(70);Be({target:"Array",proto:!0},{at:function($e){var ze=Re(this),Xe=Me(ze),We=Ue($e),Ge=We>=0?We:Xe+We;return Ge<0||Ge>=Xe?void 0:ze[Ge]}}),De("at")}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(8).f,Me=Te(45),Ue=Te(49),De=Te(39),qe=Te(57),$e=Te(69);Ce.exports=function(ze,Xe){var We=ze.target,Ge=ze.global,tn=ze.stat,en,an,Ye,Ze,St,Qe;if(Ge?an=Be:tn?an=Be[We]||De(We,{}):an=(Be[We]||{}).prototype,an)for(Ye in Xe){if(St=Xe[Ye],ze.dontCallGetSet?(Qe=Re(an,Ye),Ze=Qe&&Qe.value):Ze=an[Ye],en=$e(Ge?Ye:We+(tn?".":"#")+Ye,ze.forced),!en&&Ze!==void 0){if(typeof St==typeof Ze)continue;qe(St,Ze)}(ze.sham||Ze&&Ze.sham)&&Me(St,"sham",!0),Ue(an,Ye,St,ze)}}}),(Ce=>{var Ee=function(Te){return Te&&Te.Math==Math&&Te};Ce.exports=Ee(typeof globalThis=="object"&&globalThis)||Ee(typeof window=="object"&&window)||Ee(typeof self=="object"&&self)||Ee(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||(function(){return this})()||Function("return this")()}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(11),Me=Te(13),Ue=Te(14),De=Te(15),qe=Te(20),$e=Te(40),ze=Te(43),Xe=Object.getOwnPropertyDescriptor;Ee.f=Be?Xe:function(Ge,tn){if(Ge=De(Ge),tn=qe(tn),ze)try{return Xe(Ge,tn)}catch{}if($e(Ge,tn))return Ue(!Re(Me.f,Ge,tn),Ge[tn])}}),((Ce,Ee,Te)=>{var Be=Te(10);Ce.exports=!Be(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),(Ce=>{Ce.exports=function(Ee){try{return!!Ee()}catch{return!0}}}),((Ce,Ee,Te)=>{var Be=Te(12),Re=Function.prototype.call;Ce.exports=Be?Re.bind(Re):function(){return Re.apply(Re,arguments)}}),((Ce,Ee,Te)=>{var Be=Te(10);Ce.exports=!Be(function(){var Re=(function(){}).bind();return typeof Re!="function"||Re.hasOwnProperty("prototype")})}),((Ce,Ee)=>{var Te={}.propertyIsEnumerable,Be=Object.getOwnPropertyDescriptor,Re=Be&&!Te.call({1:2},1);Ee.f=Re?function(Ue){var De=Be(this,Ue);return!!De&&De.enumerable}:Te}),(Ce=>{Ce.exports=function(Ee,Te){return{enumerable:!(Ee&1),configurable:!(Ee&2),writable:!(Ee&4),value:Te}}}),((Ce,Ee,Te)=>{var Be=Te(16),Re=Te(19);Ce.exports=function(Me){return Be(Re(Me))}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(10),Me=Te(18),Ue=Object,De=Be("".split);Ce.exports=Re(function(){return!Ue("z").propertyIsEnumerable(0)})?function(qe){return Me(qe)=="String"?De(qe,""):Ue(qe)}:Ue}),((Ce,Ee,Te)=>{var Be=Te(12),Re=Function.prototype,Me=Re.bind,Ue=Re.call,De=Be&&Me.bind(Ue,Ue);Ce.exports=Be?function(qe){return qe&&De(qe)}:function(qe){return qe&&function(){return Ue.apply(qe,arguments)}}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Be({}.toString),Me=Be("".slice);Ce.exports=function(Ue){return Me(Re(Ue),8,-1)}}),(Ce=>{var Ee=TypeError;Ce.exports=function(Te){if(Te==null)throw Ee("Can't call method on "+Te);return Te}}),((Ce,Ee,Te)=>{var Be=Te(21),Re=Te(24);Ce.exports=function(Me){var Ue=Be(Me,"string");return Re(Ue)?Ue:Ue+""}}),((Ce,Ee,Te)=>{var Be=Te(11),Re=Te(22),Me=Te(24),Ue=Te(31),De=Te(34),qe=Te(35),$e=TypeError,ze=qe("toPrimitive");Ce.exports=function(Xe,We){if(!Re(Xe)||Me(Xe))return Xe;var Ge=Ue(Xe,ze),tn;if(Ge){if(We===void 0&&(We="default"),tn=Be(Ge,Xe,We),!Re(tn)||Me(tn))return tn;throw $e("Can't convert object to primitive value")}return We===void 0&&(We="number"),De(Xe,We)}}),((Ce,Ee,Te)=>{var Be=Te(23);Ce.exports=function(Re){return typeof Re=="object"?Re!==null:Be(Re)}}),(Ce=>{Ce.exports=function(Ee){return typeof Ee=="function"}}),((Ce,Ee,Te)=>{var Be=Te(25),Re=Te(23),Me=Te(26),Ue=Te(27),De=Object;Ce.exports=Ue?function(qe){return typeof qe=="symbol"}:function(qe){var $e=Be("Symbol");return Re($e)&&Me($e.prototype,De(qe))}}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(23),Me=function(Ue){return Re(Ue)?Ue:void 0};Ce.exports=function(Ue,De){return arguments.length<2?Me(Be[Ue]):Be[Ue]&&Be[Ue][De]}}),((Ce,Ee,Te)=>{var Be=Te(17);Ce.exports=Be({}.isPrototypeOf)}),((Ce,Ee,Te)=>{var Be=Te(28);Ce.exports=Be&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),((Ce,Ee,Te)=>{var Be=Te(29),Re=Te(10);Ce.exports=!!Object.getOwnPropertySymbols&&!Re(function(){var Me=Symbol();return!String(Me)||!(Object(Me)instanceof Symbol)||!Symbol.sham&&Be&&Be<41})}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(30),Me=Be.process,Ue=Be.Deno,De=Me&&Me.versions||Ue&&Ue.version,qe=De&&De.v8,$e,ze;qe&&($e=qe.split("."),ze=$e[0]>0&&$e[0]<4?1:+($e[0]+$e[1])),!ze&&Re&&($e=Re.match(/Edge\/(\d+)/),(!$e||$e[1]>=74)&&($e=Re.match(/Chrome\/(\d+)/),$e&&(ze=+$e[1]))),Ce.exports=ze}),((Ce,Ee,Te)=>{var Be=Te(25);Ce.exports=Be("navigator","userAgent")||""}),((Ce,Ee,Te)=>{var Be=Te(32);Ce.exports=function(Re,Me){var Ue=Re[Me];return Ue==null?void 0:Be(Ue)}}),((Ce,Ee,Te)=>{var Be=Te(23),Re=Te(33),Me=TypeError;Ce.exports=function(Ue){if(Be(Ue))return Ue;throw Me(Re(Ue)+" is not a function")}}),(Ce=>{var Ee=String;Ce.exports=function(Te){try{return Ee(Te)}catch{return"Object"}}}),((Ce,Ee,Te)=>{var Be=Te(11),Re=Te(23),Me=Te(22),Ue=TypeError;Ce.exports=function(De,qe){var $e,ze;if(qe==="string"&&Re($e=De.toString)&&!Me(ze=Be($e,De))||Re($e=De.valueOf)&&!Me(ze=Be($e,De))||qe!=="string"&&Re($e=De.toString)&&!Me(ze=Be($e,De)))return ze;throw Ue("Can't convert object to primitive value")}}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(36),Me=Te(40),Ue=Te(42),De=Te(28),qe=Te(27),$e=Re("wks"),ze=Be.Symbol,Xe=ze&&ze.for,We=qe?ze:ze&&ze.withoutSetter||Ue;Ce.exports=function(Ge){if(!Me($e,Ge)||!(De||typeof $e[Ge]=="string")){var tn="Symbol."+Ge;De&&Me(ze,Ge)?$e[Ge]=ze[Ge]:qe&&Xe?$e[Ge]=Xe(tn):$e[Ge]=We(tn)}return $e[Ge]}}),((Ce,Ee,Te)=>{var Be=Te(37),Re=Te(38);(Ce.exports=function(Me,Ue){return Re[Me]||(Re[Me]=Ue!==void 0?Ue:{})})("versions",[]).push({version:"3.24.1",mode:Be?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),(Ce=>{Ce.exports=!1}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(39),Me="__core-js_shared__",Ue=Be[Me]||Re(Me,{});Ce.exports=Ue}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Object.defineProperty;Ce.exports=function(Me,Ue){try{Re(Be,Me,{value:Ue,configurable:!0,writable:!0})}catch{Be[Me]=Ue}return Ue}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(41),Me=Be({}.hasOwnProperty);Ce.exports=Object.hasOwn||function(De,qe){return Me(Re(De),qe)}}),((Ce,Ee,Te)=>{var Be=Te(19),Re=Object;Ce.exports=function(Me){return Re(Be(Me))}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=0,Me=Math.random(),Ue=Be(1 .toString);Ce.exports=function(De){return"Symbol("+(De===void 0?"":De)+")_"+Ue(++Re+Me,36)}}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(10),Me=Te(44);Ce.exports=!Be&&!Re(function(){return Object.defineProperty(Me("div"),"a",{get:function(){return 7}}).a!=7})}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(22),Me=Be.document,Ue=Re(Me)&&Re(Me.createElement);Ce.exports=function(De){return Ue?Me.createElement(De):{}}}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(46),Me=Te(14);Ce.exports=Be?function(Ue,De,qe){return Re.f(Ue,De,Me(1,qe))}:function(Ue,De,qe){return Ue[De]=qe,Ue}}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(43),Me=Te(47),Ue=Te(48),De=Te(20),qe=TypeError,$e=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,Xe="enumerable",We="configurable",Ge="writable";Ee.f=Be?Me?function(en,an,Ye){if(Ue(en),an=De(an),Ue(Ye),typeof en=="function"&&an==="prototype"&&"value"in Ye&&Ge in Ye&&!Ye[Ge]){var Ze=ze(en,an);Ze&&Ze[Ge]&&(en[an]=Ye.value,Ye={configurable:We in Ye?Ye[We]:Ze[We],enumerable:Xe in Ye?Ye[Xe]:Ze[Xe],writable:!1})}return $e(en,an,Ye)}:$e:function(en,an,Ye){if(Ue(en),an=De(an),Ue(Ye),Re)try{return $e(en,an,Ye)}catch{}if("get"in Ye||"set"in Ye)throw qe("Accessors not supported");return"value"in Ye&&(en[an]=Ye.value),en}}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(10);Ce.exports=Be&&Re(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})}),((Ce,Ee,Te)=>{var Be=Te(22),Re=String,Me=TypeError;Ce.exports=function(Ue){if(Be(Ue))return Ue;throw Me(Re(Ue)+" is not an object")}}),((Ce,Ee,Te)=>{var Be=Te(23),Re=Te(46),Me=Te(50),Ue=Te(39);Ce.exports=function(De,qe,$e,ze){ze||(ze={});var Xe=ze.enumerable,We=ze.name!==void 0?ze.name:qe;if(Be($e)&&Me($e,We,ze),ze.global)Xe?De[qe]=$e:Ue(qe,$e);else{try{ze.unsafe?De[qe]&&(Xe=!0):delete De[qe]}catch{}Xe?De[qe]=$e:Re.f(De,qe,{value:$e,enumerable:!1,configurable:!ze.nonConfigurable,writable:!ze.nonWritable})}return De}}),((Ce,Ee,Te)=>{var Be=Te(10),Re=Te(23),Me=Te(40),Ue=Te(9),De=Te(51).CONFIGURABLE,qe=Te(52),$e=Te(53),ze=$e.enforce,Xe=$e.get,We=Object.defineProperty,Ge=Ue&&!Be(function(){return We(function(){},"length",{value:8}).length!==8}),tn=String(String).split("String"),en=Ce.exports=function(an,Ye,Ze){String(Ye).slice(0,7)==="Symbol("&&(Ye="["+String(Ye).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),Ze&&Ze.getter&&(Ye="get "+Ye),Ze&&Ze.setter&&(Ye="set "+Ye),(!Me(an,"name")||De&&an.name!==Ye)&&(Ue?We(an,"name",{value:Ye,configurable:!0}):an.name=Ye),Ge&&Ze&&Me(Ze,"arity")&&an.length!==Ze.arity&&We(an,"length",{value:Ze.arity});try{Ze&&Me(Ze,"constructor")&&Ze.constructor?Ue&&We(an,"prototype",{writable:!1}):an.prototype&&(an.prototype=void 0)}catch{}var St=ze(an);return Me(St,"source")||(St.source=tn.join(typeof Ye=="string"?Ye:"")),an};Function.prototype.toString=en(function(){return Re(this)&&Xe(this).source||qe(this)},"toString")}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(40),Me=Function.prototype,Ue=Be&&Object.getOwnPropertyDescriptor,De=Re(Me,"name"),qe=De&&(function(){}).name==="something",$e=De&&(!Be||Be&&Ue(Me,"name").configurable);Ce.exports={EXISTS:De,PROPER:qe,CONFIGURABLE:$e}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(23),Me=Te(38),Ue=Be(Function.toString);Re(Me.inspectSource)||(Me.inspectSource=function(De){return Ue(De)}),Ce.exports=Me.inspectSource}),((Ce,Ee,Te)=>{var Be=Te(54),Re=Te(7),Me=Te(17),Ue=Te(22),De=Te(45),qe=Te(40),$e=Te(38),ze=Te(55),Xe=Te(56),We="Object already initialized",Ge=Re.TypeError,tn=Re.WeakMap,en,an,Ye,Ze=function(sn){return Ye(sn)?an(sn):en(sn,{})},St=function(sn){return function(kn){var Pn;if(!Ue(kn)||(Pn=an(kn)).type!==sn)throw Ge("Incompatible receiver, "+sn+" required");return Pn}};if(Be||$e.state){var Qe=$e.state||($e.state=new tn),Je=Me(Qe.get),on=Me(Qe.has),hn=Me(Qe.set);en=function(sn,kn){if(on(Qe,sn))throw new Ge(We);return kn.facade=sn,hn(Qe,sn,kn),kn},an=function(sn){return Je(Qe,sn)||{}},Ye=function(sn){return on(Qe,sn)}}else{var dn=ze("state");Xe[dn]=!0,en=function(sn,kn){if(qe(sn,dn))throw new Ge(We);return kn.facade=sn,De(sn,dn,kn),kn},an=function(sn){return qe(sn,dn)?sn[dn]:{}},Ye=function(sn){return qe(sn,dn)}}Ce.exports={set:en,get:an,has:Ye,enforce:Ze,getterFor:St}}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(23),Me=Te(52),Ue=Be.WeakMap;Ce.exports=Re(Ue)&&/native code/.test(Me(Ue))}),((Ce,Ee,Te)=>{var Be=Te(36),Re=Te(42),Me=Be("keys");Ce.exports=function(Ue){return Me[Ue]||(Me[Ue]=Re(Ue))}}),(Ce=>{Ce.exports={}}),((Ce,Ee,Te)=>{var Be=Te(40),Re=Te(58),Me=Te(8),Ue=Te(46);Ce.exports=function(De,qe,$e){for(var ze=Re(qe),Xe=Ue.f,We=Me.f,Ge=0;Ge<ze.length;Ge++){var tn=ze[Ge];!Be(De,tn)&&!($e&&Be($e,tn))&&Xe(De,tn,We(qe,tn))}}}),((Ce,Ee,Te)=>{var Be=Te(25),Re=Te(17),Me=Te(59),Ue=Te(68),De=Te(48),qe=Re([].concat);Ce.exports=Be("Reflect","ownKeys")||function(ze){var Xe=Me.f(De(ze)),We=Ue.f;return We?qe(Xe,We(ze)):Xe}}),((Ce,Ee,Te)=>{var Be=Te(60),Re=Te(67),Me=Re.concat("length","prototype");Ee.f=Object.getOwnPropertyNames||function(De){return Be(De,Me)}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(40),Me=Te(15),Ue=Te(61).indexOf,De=Te(56),qe=Be([].push);Ce.exports=function($e,ze){var Xe=Me($e),We=0,Ge=[],tn;for(tn in Xe)!Re(De,tn)&&Re(Xe,tn)&&qe(Ge,tn);for(;ze.length>We;)Re(Xe,tn=ze[We++])&&(~Ue(Ge,tn)||qe(Ge,tn));return Ge}}),((Ce,Ee,Te)=>{var Be=Te(15),Re=Te(62),Me=Te(65),Ue=function(De){return function(qe,$e,ze){var Xe=Be(qe),We=Me(Xe),Ge=Re(ze,We),tn;if(De&&$e!=$e){for(;We>Ge;)if(tn=Xe[Ge++],tn!=tn)return!0}else for(;We>Ge;Ge++)if((De||Ge in Xe)&&Xe[Ge]===$e)return De||Ge||0;return!De&&-1}};Ce.exports={includes:Ue(!0),indexOf:Ue(!1)}}),((Ce,Ee,Te)=>{var Be=Te(63),Re=Math.max,Me=Math.min;Ce.exports=function(Ue,De){var qe=Be(Ue);return qe<0?Re(qe+De,0):Me(qe,De)}}),((Ce,Ee,Te)=>{var Be=Te(64);Ce.exports=function(Re){var Me=+Re;return Me!==Me||Me===0?0:Be(Me)}}),(Ce=>{var Ee=Math.ceil,Te=Math.floor;Ce.exports=Math.trunc||function(Re){var Me=+Re;return(Me>0?Te:Ee)(Me)}}),((Ce,Ee,Te)=>{var Be=Te(66);Ce.exports=function(Re){return Be(Re.length)}}),((Ce,Ee,Te)=>{var Be=Te(63),Re=Math.min;Ce.exports=function(Me){return Me>0?Re(Be(Me),9007199254740991):0}}),(Ce=>{Ce.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),((Ce,Ee)=>{Ee.f=Object.getOwnPropertySymbols}),((Ce,Ee,Te)=>{var Be=Te(10),Re=Te(23),Me=/#|\.prototype\./,Ue=function(Xe,We){var Ge=qe[De(Xe)];return Ge==ze?!0:Ge==$e?!1:Re(We)?Be(We):!!We},De=Ue.normalize=function(Xe){return String(Xe).replace(Me,".").toLowerCase()},qe=Ue.data={},$e=Ue.NATIVE="N",ze=Ue.POLYFILL="P";Ce.exports=Ue}),((Ce,Ee,Te)=>{var Be=Te(35),Re=Te(71),Me=Te(46).f,Ue=Be("unscopables"),De=Array.prototype;De[Ue]==null&&Me(De,Ue,{configurable:!0,value:Re(null)}),Ce.exports=function(qe){De[Ue][qe]=!0}}),((Ce,Ee,Te)=>{var Be=Te(48),Re=Te(72),Me=Te(67),Ue=Te(56),De=Te(74),qe=Te(44),$e=Te(55),ze=">",Xe="<",We="prototype",Ge="script",tn=$e("IE_PROTO"),en=function(){},an=function(Je){return Xe+Ge+ze+Je+Xe+"/"+Ge+ze},Ye=function(Je){Je.write(an("")),Je.close();var on=Je.parentWindow.Object;return Je=null,on},Ze=function(){var Je=qe("iframe"),on="java"+Ge+":",hn;return Je.style.display="none",De.appendChild(Je),Je.src=String(on),hn=Je.contentWindow.document,hn.open(),hn.write(an("document.F=Object")),hn.close(),hn.F},St,Qe=function(){try{St=new ActiveXObject("htmlfile")}catch{}Qe=typeof document<"u"?document.domain&&St?Ye(St):Ze():Ye(St);for(var Je=Me.length;Je--;)delete Qe[We][Me[Je]];return Qe()};Ue[tn]=!0,Ce.exports=Object.create||function(on,hn){var dn;return on!==null?(en[We]=Be(on),dn=new en,en[We]=null,dn[tn]=on):dn=Qe(),hn===void 0?dn:Re.f(dn,hn)}}),((Ce,Ee,Te)=>{var Be=Te(9),Re=Te(47),Me=Te(46),Ue=Te(48),De=Te(15),qe=Te(73);Ee.f=Be&&!Re?Object.defineProperties:function(ze,Xe){Ue(ze);for(var We=De(Xe),Ge=qe(Xe),tn=Ge.length,en=0,an;tn>en;)Me.f(ze,an=Ge[en++],We[an]);return ze}}),((Ce,Ee,Te)=>{var Be=Te(60),Re=Te(67);Ce.exports=Object.keys||function(Ue){return Be(Ue,Re)}}),((Ce,Ee,Te)=>{var Be=Te(25);Ce.exports=Be("document","documentElement")}),((Ce,Ee,Te)=>{var Be=Te(7),Re=Te(17);Ce.exports=function(Me,Ue){return Re(Be[Me].prototype[Ue])}}),((Ce,Ee,Te)=>{Te(77)}),((Ce,Ee,Te)=>{var Be=Te(78),Re=Te(65),Me=Te(63),Ue=Be.aTypedArray,De=Be.exportTypedArrayMethod;De("at",function($e){var ze=Ue(this),Xe=Re(ze),We=Me($e),Ge=We>=0?We:Xe+We;return Ge<0||Ge>=Xe?void 0:ze[Ge]})}),((Ce,Ee,Te)=>{var Be=Te(79),Re=Te(9),Me=Te(7),Ue=Te(23),De=Te(22),qe=Te(40),$e=Te(80),ze=Te(33),Xe=Te(45),We=Te(49),Ge=Te(46).f,tn=Te(26),en=Te(82),an=Te(84),Ye=Te(35),Ze=Te(42),St=Te(53),Qe=St.enforce,Je=St.get,on=Me.Int8Array,hn=on&&on.prototype,dn=Me.Uint8ClampedArray,sn=dn&&dn.prototype,kn=on&&en(on),Pn=hn&&en(hn),_n=Object.prototype,Mn=Me.TypeError,yn=Ye("toStringTag"),zn=Ze("TYPED_ARRAY_TAG"),Ln="TypedArrayConstructor",Vn=Be&&!!an&&$e(Me.opera)!=="Opera",On=!1,Un,jn,Gn,An={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$n={BigInt64Array:8,BigUint64Array:8},Nn=function(Rn){if(!De(Rn))return!1;var Hn=$e(Rn);return Hn==="DataView"||qe(An,Hn)||qe($n,Hn)},En=function(xn){var Rn=en(xn);if(De(Rn)){var Hn=Je(Rn);return Hn&&qe(Hn,Ln)?Hn[Ln]:En(Rn)}},Sn=function(xn){if(!De(xn))return!1;var Rn=$e(xn);return qe(An,Rn)||qe($n,Rn)},pn=function(xn){if(Sn(xn))return xn;throw Mn("Target is not a typed array")},mn=function(xn){if(Ue(xn)&&(!an||tn(kn,xn)))return xn;throw Mn(ze(xn)+" is not a typed array constructor")},un=function(xn,Rn,Hn,vn){if(Re){if(Hn)for(var qn in An){var In=Me[qn];if(In&&qe(In.prototype,xn))try{delete In.prototype[xn]}catch{try{In.prototype[xn]=Rn}catch{}}}(!Pn[xn]||Hn)&&We(Pn,xn,Hn?Rn:Vn&&hn[xn]||Rn,vn)}},wn=function(xn,Rn,Hn){var vn,qn;if(Re){if(an){if(Hn){for(vn in An)if(qn=Me[vn],qn&&qe(qn,xn))try{delete qn[xn]}catch{}}if(!kn[xn]||Hn)try{return We(kn,xn,Hn?Rn:Vn&&kn[xn]||Rn)}catch{}else return}for(vn in An)qn=Me[vn],qn&&(!qn[xn]||Hn)&&We(qn,xn,Rn)}};for(Un in An)jn=Me[Un],Gn=jn&&jn.prototype,Gn?Qe(Gn)[Ln]=jn:Vn=!1;for(Un in $n)jn=Me[Un],Gn=jn&&jn.prototype,Gn&&(Qe(Gn)[Ln]=jn);if((!Vn||!Ue(kn)||kn===Function.prototype)&&(kn=function(){throw Mn("Incorrect invocation")},Vn))for(Un in An)Me[Un]&&an(Me[Un],kn);if((!Vn||!Pn||Pn===_n)&&(Pn=kn.prototype,Vn))for(Un in An)Me[Un]&&an(Me[Un].prototype,Pn);if(Vn&&en(sn)!==Pn&&an(sn,Pn),Re&&!qe(Pn,yn)){On=!0,Ge(Pn,yn,{get:function(){return De(this)?this[zn]:void 0}});for(Un in An)Me[Un]&&Xe(Me[Un],zn,Un)}Ce.exports={NATIVE_ARRAY_BUFFER_VIEWS:Vn,TYPED_ARRAY_TAG:On&&zn,aTypedArray:pn,aTypedArrayConstructor:mn,exportTypedArrayMethod:un,exportTypedArrayStaticMethod:wn,getTypedArrayConstructor:En,isView:Nn,isTypedArray:Sn,TypedArray:kn,TypedArrayPrototype:Pn}}),(Ce=>{Ce.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),((Ce,Ee,Te)=>{var Be=Te(81),Re=Te(23),Me=Te(18),Ue=Te(35),De=Ue("toStringTag"),qe=Object,$e=Me((function(){return arguments})())=="Arguments",ze=function(Xe,We){try{return Xe[We]}catch{}};Ce.exports=Be?Me:function(Xe){var We,Ge,tn;return Xe===void 0?"Undefined":Xe===null?"Null":typeof(Ge=ze(We=qe(Xe),De))=="string"?Ge:$e?Me(We):(tn=Me(We))=="Object"&&Re(We.callee)?"Arguments":tn}}),((Ce,Ee,Te)=>{var Be=Te(35),Re=Be("toStringTag"),Me={};Me[Re]="z",Ce.exports=String(Me)==="[object z]"}),((Ce,Ee,Te)=>{var Be=Te(40),Re=Te(23),Me=Te(41),Ue=Te(55),De=Te(83),qe=Ue("IE_PROTO"),$e=Object,ze=$e.prototype;Ce.exports=De?$e.getPrototypeOf:function(Xe){var We=Me(Xe);if(Be(We,qe))return We[qe];var Ge=We.constructor;return Re(Ge)&&We instanceof Ge?Ge.prototype:We instanceof $e?ze:null}}),((Ce,Ee,Te)=>{var Be=Te(10);Ce.exports=!Be(function(){function Re(){}return Re.prototype.constructor=null,Object.getPrototypeOf(new Re)!==Re.prototype})}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(48),Me=Te(85);Ce.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var Ue=!1,De={},qe;try{qe=Be(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),qe(De,[]),Ue=De instanceof Array}catch{}return function(ze,Xe){return Re(ze),Me(Xe),Ue?qe(ze,Xe):ze.__proto__=Xe,ze}})():void 0)}),((Ce,Ee,Te)=>{var Be=Te(23),Re=String,Me=TypeError;Ce.exports=function(Ue){if(typeof Ue=="object"||Be(Ue))return Ue;throw Me("Can't set "+Re(Ue)+" as a prototype")}}),((Ce,Ee,Te)=>{Te(87),Te(93),Te(95),Te(117),Te(119);var Be=Te(128);Ce.exports=Be.structuredClone}),((Ce,Ee,Te)=>{var Be=Te(15),Re=Te(70),Me=Te(88),Ue=Te(53),De=Te(46).f,qe=Te(89),$e=Te(37),ze=Te(9),Xe="Array Iterator",We=Ue.set,Ge=Ue.getterFor(Xe);Ce.exports=qe(Array,"Array",function(en,an){We(this,{type:Xe,target:Be(en),index:0,kind:an})},function(){var en=Ge(this),an=en.target,Ye=en.kind,Ze=en.index++;return!an||Ze>=an.length?(en.target=void 0,{value:void 0,done:!0}):Ye=="keys"?{value:Ze,done:!1}:Ye=="values"?{value:an[Ze],done:!1}:{value:[Ze,an[Ze]],done:!1}},"values");var tn=Me.Arguments=Me.Array;if(Re("keys"),Re("values"),Re("entries"),!$e&&ze&&tn.name!=="values")try{De(tn,"name",{value:"values"})}catch{}}),(Ce=>{Ce.exports={}}),((Ce,Ee,Te)=>{var Be=Te(6),Re=Te(11),Me=Te(37),Ue=Te(51),De=Te(23),qe=Te(90),$e=Te(82),ze=Te(84),Xe=Te(92),We=Te(45),Ge=Te(49),tn=Te(35),en=Te(88),an=Te(91),Ye=Ue.PROPER,Ze=Ue.CONFIGURABLE,St=an.IteratorPrototype,Qe=an.BUGGY_SAFARI_ITERATORS,Je=tn("iterator"),on="keys",hn="values",dn="entries",sn=function(){return this};Ce.exports=function(kn,Pn,_n,Mn,yn,zn,Ln){qe(_n,Pn,Mn);var Vn=function(pn){if(pn===yn&&An)return An;if(!Qe&&pn in jn)return jn[pn];switch(pn){case on:return function(){return new _n(this,pn)};case hn:return function(){return new _n(this,pn)};case dn:return function(){return new _n(this,pn)}}return function(){return new _n(this)}},On=Pn+" Iterator",Un=!1,jn=kn.prototype,Gn=jn[Je]||jn["@@iterator"]||yn&&jn[yn],An=!Qe&&Gn||Vn(yn),$n=Pn=="Array"&&jn.entries||Gn,Nn,En,Sn;if($n&&(Nn=$e($n.call(new kn)),Nn!==Object.prototype&&Nn.next&&(!Me&&$e(Nn)!==St&&(ze?ze(Nn,St):De(Nn[Je])||Ge(Nn,Je,sn)),Xe(Nn,On,!0,!0),Me&&(en[On]=sn))),Ye&&yn==hn&&Gn&&Gn.name!==hn&&(!Me&&Ze?We(jn,"name",hn):(Un=!0,An=function(){return Re(Gn,this)})),yn)if(En={values:Vn(hn),keys:zn?An:Vn(on),entries:Vn(dn)},Ln)for(Sn in En)(Qe||Un||!(Sn in jn))&&Ge(jn,Sn,En[Sn]);else Be({target:Pn,proto:!0,forced:Qe||Un},En);return(!Me||Ln)&&jn[Je]!==An&&Ge(jn,Je,An,{name:yn}),en[Pn]=An,En}}),((Ce,Ee,Te)=>{var Be=Te(91).IteratorPrototype,Re=Te(71),Me=Te(14),Ue=Te(92),De=Te(88),qe=function(){return this};Ce.exports=function($e,ze,Xe,We){var Ge=ze+" Iterator";return $e.prototype=Re(Be,{next:Me(+!We,Xe)}),Ue($e,Ge,!1,!0),De[Ge]=qe,$e}}),((Ce,Ee,Te)=>{var Be=Te(10),Re=Te(23),Me=Te(71),Ue=Te(82),De=Te(49),qe=Te(35),$e=Te(37),ze=qe("iterator"),Xe=!1,We,Ge,tn;[].keys&&(tn=[].keys(),"next"in tn?(Ge=Ue(Ue(tn)),Ge!==Object.prototype&&(We=Ge)):Xe=!0);var en=We==null||Be(function(){var an={};return We[ze].call(an)!==an});en?We={}:$e&&(We=Me(We)),Re(We[ze])||De(We,ze,function(){return this}),Ce.exports={IteratorPrototype:We,BUGGY_SAFARI_ITERATORS:Xe}}),((Ce,Ee,Te)=>{var Be=Te(46).f,Re=Te(40),Me=Te(35),Ue=Me("toStringTag");Ce.exports=function(De,qe,$e){De&&!$e&&(De=De.prototype),De&&!Re(De,Ue)&&Be(De,Ue,{configurable:!0,value:qe})}}),((Ce,Ee,Te)=>{var Be=Te(81),Re=Te(49),Me=Te(94);Be||Re(Object.prototype,"toString",Me,{unsafe:!0})}),((Ce,Ee,Te)=>{var Be=Te(81),Re=Te(80);Ce.exports=Be?{}.toString:function(){return"[object "+Re(this)+"]"}}),((Ce,Ee,Te)=>{Te(96)}),((Ce,Ee,Te)=>{var Be=Te(97),Re=Te(114);Be("Map",function(Me){return function(){return Me(this,arguments.length?arguments[0]:void 0)}},Re)}),((Ce,Ee,Te)=>{var Be=Te(6),Re=Te(7),Me=Te(17),Ue=Te(69),De=Te(49),qe=Te(98),$e=Te(105),ze=Te(111),Xe=Te(23),We=Te(22),Ge=Te(10),tn=Te(112),en=Te(92),an=Te(113);Ce.exports=function(Ye,Ze,St){var Qe=Ye.indexOf("Map")!==-1,Je=Ye.indexOf("Weak")!==-1,on=Qe?"set":"add",hn=Re[Ye],dn=hn&&hn.prototype,sn=hn,kn={},Pn=function(On){var Un=Me(dn[On]);De(dn,On,On=="add"?function(Gn){return Un(this,Gn===0?0:Gn),this}:On=="delete"?function(jn){return Je&&!We(jn)?!1:Un(this,jn===0?0:jn)}:On=="get"?function(Gn){return Je&&!We(Gn)?void 0:Un(this,Gn===0?0:Gn)}:On=="has"?function(Gn){return Je&&!We(Gn)?!1:Un(this,Gn===0?0:Gn)}:function(Gn,An){return Un(this,Gn===0?0:Gn,An),this})},_n=Ue(Ye,!Xe(hn)||!(Je||dn.forEach&&!Ge(function(){new hn().entries().next()})));if(_n)sn=St.getConstructor(Ze,Ye,Qe,on),qe.enable();else if(Ue(Ye,!0)){var Mn=new sn,yn=Mn[on](Je?{}:-0,1)!=Mn,zn=Ge(function(){Mn.has(1)}),Ln=tn(function(On){new hn(On)}),Vn=!Je&&Ge(function(){for(var On=new hn,Un=5;Un--;)On[on](Un,Un);return!On.has(-0)});Ln||(sn=Ze(function(On,Un){ze(On,dn);var jn=an(new hn,On,sn);return Un!=null&&$e(Un,jn[on],{that:jn,AS_ENTRIES:Qe}),jn}),sn.prototype=dn,dn.constructor=sn),(zn||Vn)&&(Pn("delete"),Pn("has"),Qe&&Pn("get")),(Vn||yn)&&Pn(on),Je&&dn.clear&&delete dn.clear}return kn[Ye]=sn,Be({global:!0,constructor:!0,forced:sn!=hn},kn),en(sn,Ye),Je||St.setStrong(sn,Ye,Qe),sn}}),((Ce,Ee,Te)=>{var Be=Te(6),Re=Te(17),Me=Te(56),Ue=Te(22),De=Te(40),qe=Te(46).f,$e=Te(59),ze=Te(99),Xe=Te(102),We=Te(42),Ge=Te(104),tn=!1,en=We("meta"),an=0,Ye=function(hn){qe(hn,en,{value:{objectID:"O"+an++,weakData:{}}})},Ze=function(hn,dn){if(!Ue(hn))return typeof hn=="symbol"?hn:(typeof hn=="string"?"S":"P")+hn;if(!De(hn,en)){if(!Xe(hn))return"F";if(!dn)return"E";Ye(hn)}return hn[en].objectID},St=function(hn,dn){if(!De(hn,en)){if(!Xe(hn))return!0;if(!dn)return!1;Ye(hn)}return hn[en].weakData},Qe=function(hn){return Ge&&tn&&Xe(hn)&&!De(hn,en)&&Ye(hn),hn},Je=function(){on.enable=function(){},tn=!0;var hn=$e.f,dn=Re([].splice),sn={};sn[en]=1,hn(sn).length&&($e.f=function(kn){for(var Pn=hn(kn),_n=0,Mn=Pn.length;_n<Mn;_n++)if(Pn[_n]===en){dn(Pn,_n,1);break}return Pn},Be({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ze.f}))},on=Ce.exports={enable:Je,fastKey:Ze,getWeakData:St,onFreeze:Qe};Me[en]=!0}),((Ce,Ee,Te)=>{var Be=Te(18),Re=Te(15),Me=Te(59).f,Ue=Te(100),De=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qe=function($e){try{return Me($e)}catch{return Ue(De)}};Ce.exports.f=function(ze){return De&&Be(ze)=="Window"?qe(ze):Me(Re(ze))}}),((Ce,Ee,Te)=>{var Be=Te(62),Re=Te(65),Me=Te(101),Ue=Array,De=Math.max;Ce.exports=function(qe,$e,ze){for(var Xe=Re(qe),We=Be($e,Xe),Ge=Be(ze===void 0?Xe:ze,Xe),tn=Ue(De(Ge-We,0)),en=0;We<Ge;We++,en++)Me(tn,en,qe[We]);return tn.length=en,tn}}),((Ce,Ee,Te)=>{var Be=Te(20),Re=Te(46),Me=Te(14);Ce.exports=function(Ue,De,qe){var $e=Be(De);$e in Ue?Re.f(Ue,$e,Me(0,qe)):Ue[$e]=qe}}),((Ce,Ee,Te)=>{var Be=Te(10),Re=Te(22),Me=Te(18),Ue=Te(103),De=Object.isExtensible,qe=Be(function(){});Ce.exports=qe||Ue?function(ze){return!Re(ze)||Ue&&Me(ze)=="ArrayBuffer"?!1:De?De(ze):!0}:De}),((Ce,Ee,Te)=>{var Be=Te(10);Ce.exports=Be(function(){if(typeof ArrayBuffer=="function"){var Re=new ArrayBuffer(8);Object.isExtensible(Re)&&Object.defineProperty(Re,"a",{value:8})}})}),((Ce,Ee,Te)=>{var Be=Te(10);Ce.exports=!Be(function(){return Object.isExtensible(Object.preventExtensions({}))})}),((Ce,Ee,Te)=>{var Be=Te(106),Re=Te(11),Me=Te(48),Ue=Te(33),De=Te(107),qe=Te(65),$e=Te(26),ze=Te(108),Xe=Te(109),We=Te(110),Ge=TypeError,tn=function(an,Ye){this.stopped=an,this.result=Ye},en=tn.prototype;Ce.exports=function(an,Ye,Ze){var St=Ze&&Ze.that,Qe=!!(Ze&&Ze.AS_ENTRIES),Je=!!(Ze&&Ze.IS_RECORD),on=!!(Ze&&Ze.IS_ITERATOR),hn=!!(Ze&&Ze.INTERRUPTED),dn=Be(Ye,St),sn,kn,Pn,_n,Mn,yn,zn,Ln=function(On){return sn&&We(sn,"normal",On),new tn(!0,On)},Vn=function(On){return Qe?(Me(On),hn?dn(On[0],On[1],Ln):dn(On[0],On[1])):hn?dn(On,Ln):dn(On)};if(Je)sn=an.iterator;else if(on)sn=an;else{if(kn=Xe(an),!kn)throw Ge(Ue(an)+" is not iterable");if(De(kn)){for(Pn=0,_n=qe(an);_n>Pn;Pn++)if(Mn=Vn(an[Pn]),Mn&&$e(en,Mn))return Mn;return new tn(!1)}sn=ze(an,kn)}for(yn=Je?an.next:sn.next;!(zn=Re(yn,sn)).done;){try{Mn=Vn(zn.value)}catch(On){We(sn,"throw",On)}if(typeof Mn=="object"&&Mn&&$e(en,Mn))return Mn}return new tn(!1)}}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(32),Me=Te(12),Ue=Be(Be.bind);Ce.exports=function(De,qe){return Re(De),qe===void 0?De:Me?Ue(De,qe):function(){return De.apply(qe,arguments)}}}),((Ce,Ee,Te)=>{var Be=Te(35),Re=Te(88),Me=Be("iterator"),Ue=Array.prototype;Ce.exports=function(De){return De!==void 0&&(Re.Array===De||Ue[Me]===De)}}),((Ce,Ee,Te)=>{var Be=Te(11),Re=Te(32),Me=Te(48),Ue=Te(33),De=Te(109),qe=TypeError;Ce.exports=function($e,ze){var Xe=arguments.length<2?De($e):ze;if(Re(Xe))return Me(Be(Xe,$e));throw qe(Ue($e)+" is not iterable")}}),((Ce,Ee,Te)=>{var Be=Te(80),Re=Te(31),Me=Te(88),Ue=Te(35),De=Ue("iterator");Ce.exports=function(qe){if(qe!=null)return Re(qe,De)||Re(qe,"@@iterator")||Me[Be(qe)]}}),((Ce,Ee,Te)=>{var Be=Te(11),Re=Te(48),Me=Te(31);Ce.exports=function(Ue,De,qe){var $e,ze;Re(Ue);try{if($e=Me(Ue,"return"),!$e){if(De==="throw")throw qe;return qe}$e=Be($e,Ue)}catch(Xe){ze=!0,$e=Xe}if(De==="throw")throw qe;if(ze)throw $e;return Re($e),qe}}),((Ce,Ee,Te)=>{var Be=Te(26),Re=TypeError;Ce.exports=function(Me,Ue){if(Be(Ue,Me))return Me;throw Re("Incorrect invocation")}}),((Ce,Ee,Te)=>{var Be=Te(35),Re=Be("iterator"),Me=!1;try{var Ue=0,De={next:function(){return{done:!!Ue++}},return:function(){Me=!0}};De[Re]=function(){return this},Array.from(De,function(){throw 2})}catch{}Ce.exports=function(qe,$e){if(!$e&&!Me)return!1;var ze=!1;try{var Xe={};Xe[Re]=function(){return{next:function(){return{done:ze=!0}}}},qe(Xe)}catch{}return ze}}),((Ce,Ee,Te)=>{var Be=Te(23),Re=Te(22),Me=Te(84);Ce.exports=function(Ue,De,qe){var $e,ze;return Me&&Be($e=De.constructor)&&$e!==qe&&Re(ze=$e.prototype)&&ze!==qe.prototype&&Me(Ue,ze),Ue}}),((Ce,Ee,Te)=>{var Be=Te(46).f,Re=Te(71),Me=Te(115),Ue=Te(106),De=Te(111),qe=Te(105),$e=Te(89),ze=Te(116),Xe=Te(9),We=Te(98).fastKey,Ge=Te(53),tn=Ge.set,en=Ge.getterFor;Ce.exports={getConstructor:function(an,Ye,Ze,St){var Qe=an(function(sn,kn){De(sn,Je),tn(sn,{type:Ye,index:Re(null),first:void 0,last:void 0,size:0}),Xe||(sn.size=0),kn!=null&&qe(kn,sn[St],{that:sn,AS_ENTRIES:Ze})}),Je=Qe.prototype,on=en(Ye),hn=function(sn,kn,Pn){var _n=on(sn),Mn=dn(sn,kn),yn,zn;return Mn?Mn.value=Pn:(_n.last=Mn={index:zn=We(kn,!0),key:kn,value:Pn,previous:yn=_n.last,next:void 0,removed:!1},_n.first||(_n.first=Mn),yn&&(yn.next=Mn),Xe?_n.size++:sn.size++,zn!=="F"&&(_n.index[zn]=Mn)),sn},dn=function(sn,kn){var Pn=on(sn),_n=We(kn),Mn;if(_n!=="F")return Pn.index[_n];for(Mn=Pn.first;Mn;Mn=Mn.next)if(Mn.key==kn)return Mn};return Me(Je,{clear:function(){for(var kn=this,Pn=on(kn),_n=Pn.index,Mn=Pn.first;Mn;)Mn.removed=!0,Mn.previous&&(Mn.previous=Mn.previous.next=void 0),delete _n[Mn.index],Mn=Mn.next;Pn.first=Pn.last=void 0,Xe?Pn.size=0:kn.size=0},delete:function(sn){var kn=this,Pn=on(kn),_n=dn(kn,sn);if(_n){var Mn=_n.next,yn=_n.previous;delete Pn.index[_n.index],_n.removed=!0,yn&&(yn.next=Mn),Mn&&(Mn.previous=yn),Pn.first==_n&&(Pn.first=Mn),Pn.last==_n&&(Pn.last=yn),Xe?Pn.size--:kn.size--}return!!_n},forEach:function(kn){for(var Pn=on(this),_n=Ue(kn,arguments.length>1?arguments[1]:void 0),Mn;Mn=Mn?Mn.next:Pn.first;)for(_n(Mn.value,Mn.key,this);Mn&&Mn.removed;)Mn=Mn.previous},has:function(kn){return!!dn(this,kn)}}),Me(Je,Ze?{get:function(kn){var Pn=dn(this,kn);return Pn&&Pn.value},set:function(kn,Pn){return hn(this,kn===0?0:kn,Pn)}}:{add:function(kn){return hn(this,kn=kn===0?0:kn,kn)}}),Xe&&Be(Je,"size",{get:function(){return on(this).size}}),Qe},setStrong:function(an,Ye,Ze){var St=Ye+" Iterator",Qe=en(Ye),Je=en(St);$e(an,Ye,function(on,hn){tn(this,{type:St,target:on,state:Qe(on),kind:hn,last:void 0})},function(){for(var on=Je(this),hn=on.kind,dn=on.last;dn&&dn.removed;)dn=dn.previous;return!on.target||!(on.last=dn=dn?dn.next:on.state.first)?(on.target=void 0,{value:void 0,done:!0}):hn=="keys"?{value:dn.key,done:!1}:hn=="values"?{value:dn.value,done:!1}:{value:[dn.key,dn.value],done:!1}},Ze?"entries":"values",!Ze,!0),ze(Ye)}}}),((Ce,Ee,Te)=>{var Be=Te(49);Ce.exports=function(Re,Me,Ue){for(var De in Me)Be(Re,De,Me[De],Ue);return Re}}),((Ce,Ee,Te)=>{var Be=Te(25),Re=Te(46),Me=Te(35),Ue=Te(9),De=Me("species");Ce.exports=function(qe){var $e=Be(qe),ze=Re.f;Ue&&$e&&!$e[De]&&ze($e,De,{configurable:!0,get:function(){return this}})}}),((Ce,Ee,Te)=>{Te(118)}),((Ce,Ee,Te)=>{var Be=Te(97),Re=Te(114);Be("Set",function(Me){return function(){return Me(this,arguments.length?arguments[0]:void 0)}},Re)}),((Ce,Ee,Te)=>{var Be=Te(37),Re=Te(6),Me=Te(7),Ue=Te(25),De=Te(17),qe=Te(10),$e=Te(42),ze=Te(23),Xe=Te(120),We=Te(22),Ge=Te(24),tn=Te(105),en=Te(48),an=Te(80),Ye=Te(40),Ze=Te(101),St=Te(45),Qe=Te(65),Je=Te(121),on=Te(122),hn=Te(124),dn=Te(29),sn=Te(125),kn=Te(126),Pn=Te(127),_n=Me.Object,Mn=Me.Date,yn=Me.Error,zn=Me.EvalError,Ln=Me.RangeError,Vn=Me.ReferenceError,On=Me.SyntaxError,Un=Me.TypeError,jn=Me.URIError,Gn=Me.PerformanceMark,An=Me.WebAssembly,$n=An&&An.CompileError||yn,Nn=An&&An.LinkError||yn,En=An&&An.RuntimeError||yn,Sn=Ue("DOMException"),pn=Ue("Set"),mn=Ue("Map"),un=mn.prototype,wn=De(un.has),xn=De(un.get),Rn=De(un.set),Hn=De(pn.prototype.add),vn=Ue("Object","keys"),qn=De([].push),In=De((!0).valueOf),cn=De(1 .valueOf),bn=De("".valueOf),Cn=De(Mn.prototype.getTime),Yn=$e("structuredClone"),Jn="DataCloneError",er="Transferring",ur=function(Er){return!qe(function(){var Kr=new Me.Set([7]),na=Er(Kr),Pr=Er(_n(7));return na==Kr||!na.has(7)||typeof Pr!="object"||Pr!=7})&&Er},dr=function(Er,Kr){return!qe(function(){var na=new Kr,Pr=Er({a:na,b:na});return!(Pr&&Pr.a===Pr.b&&Pr.a instanceof Kr&&Pr.a.stack===na.stack)})},br=function(Er){return!qe(function(){var Kr=Er(new Me.AggregateError([1],Yn,{cause:3}));return Kr.name!="AggregateError"||Kr.errors[0]!=1||Kr.message!=Yn||Kr.cause!=3})},yr=Me.structuredClone,jr=Be||!dr(yr,yn)||!dr(yr,Sn)||!br(yr),Gr=!yr&&ur(function(Er){return new Gn(Yn,{detail:Er}).detail}),$r=ur(yr)||Gr,Dr=function(Er){throw new Sn("Uncloneable type: "+Er,Jn)},hr=function(Er,Kr){throw new Sn((Kr||"Cloning")+" of "+Er+" cannot be properly polyfilled in this engine",Jn)},Ur=function(Er,Kr){if(Ge(Er)&&Dr("Symbol"),!We(Er))return Er;if(Kr){if(wn(Kr,Er))return xn(Kr,Er)}else Kr=new mn;var na=an(Er),Pr=!1,fr,gr,Mr,sa,aa,Rr,Tr,Xr,ca,Sa;switch(na){case"Array":Mr=[],Pr=!0;break;case"Object":Mr={},Pr=!0;break;case"Map":Mr=new mn,Pr=!0;break;case"Set":Mr=new pn,Pr=!0;break;case"RegExp":Mr=new RegExp(Er.source,on(Er));break;case"Error":switch(gr=Er.name,gr){case"AggregateError":Mr=Ue("AggregateError")([]);break;case"EvalError":Mr=zn();break;case"RangeError":Mr=Ln();break;case"ReferenceError":Mr=Vn();break;case"SyntaxError":Mr=On();break;case"TypeError":Mr=Un();break;case"URIError":Mr=jn();break;case"CompileError":Mr=$n();break;case"LinkError":Mr=Nn();break;case"RuntimeError":Mr=En();break;default:Mr=yn()}Pr=!0;break;case"DOMException":Mr=new Sn(Er.message,Er.name),Pr=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":fr=Me[na],We(fr)||hr(na),Mr=new fr(Ur(Er.buffer,Kr),Er.byteOffset,na==="DataView"?Er.byteLength:Er.length);break;case"DOMQuad":try{Mr=new DOMQuad(Ur(Er.p1,Kr),Ur(Er.p2,Kr),Ur(Er.p3,Kr),Ur(Er.p4,Kr))}catch{$r?Mr=$r(Er):hr(na)}break;case"FileList":if(fr=Me.DataTransfer,Xe(fr)){for(sa=new fr,aa=0,Rr=Qe(Er);aa<Rr;aa++)sa.items.add(Ur(Er[aa],Kr));Mr=sa.files}else $r?Mr=$r(Er):hr(na);break;case"ImageData":try{Mr=new ImageData(Ur(Er.data,Kr),Er.width,Er.height,{colorSpace:Er.colorSpace})}catch{$r?Mr=$r(Er):hr(na)}break;default:if($r)Mr=$r(Er);else switch(na){case"BigInt":Mr=_n(Er.valueOf());break;case"Boolean":Mr=_n(In(Er));break;case"Number":Mr=_n(cn(Er));break;case"String":Mr=_n(bn(Er));break;case"Date":Mr=new Mn(Cn(Er));break;case"ArrayBuffer":fr=Me.DataView,!fr&&typeof Er.slice!="function"&&hr(na);try{if(typeof Er.slice=="function")Mr=Er.slice(0);else for(Rr=Er.byteLength,Mr=new ArrayBuffer(Rr),ca=new fr(Er),Sa=new fr(Mr),aa=0;aa<Rr;aa++)Sa.setUint8(aa,ca.getUint8(aa))}catch{throw new Sn("ArrayBuffer is detached",Jn)}break;case"SharedArrayBuffer":Mr=Er;break;case"Blob":try{Mr=Er.slice(0,Er.size,Er.type)}catch{hr(na)}break;case"DOMPoint":case"DOMPointReadOnly":fr=Me[na];try{Mr=fr.fromPoint?fr.fromPoint(Er):new fr(Er.x,Er.y,Er.z,Er.w)}catch{hr(na)}break;case"DOMRect":case"DOMRectReadOnly":fr=Me[na];try{Mr=fr.fromRect?fr.fromRect(Er):new fr(Er.x,Er.y,Er.width,Er.height)}catch{hr(na)}break;case"DOMMatrix":case"DOMMatrixReadOnly":fr=Me[na];try{Mr=fr.fromMatrix?fr.fromMatrix(Er):new fr(Er)}catch{hr(na)}break;case"AudioData":case"VideoFrame":ze(Er.clone)||hr(na);try{Mr=Er.clone()}catch{Dr(na)}break;case"File":try{Mr=new File([Er],Er.name,Er)}catch{hr(na)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":hr(na);default:Dr(na)}}if(Rn(Kr,Er,Mr),Pr)switch(na){case"Array":case"Object":for(Tr=vn(Er),aa=0,Rr=Qe(Tr);aa<Rr;aa++)Xr=Tr[aa],Ze(Mr,Xr,Ur(Er[Xr],Kr));break;case"Map":Er.forEach(function(oa,ma){Rn(Mr,Ur(ma,Kr),Ur(oa,Kr))});break;case"Set":Er.forEach(function(oa){Hn(Mr,Ur(oa,Kr))});break;case"Error":St(Mr,"message",Ur(Er.message,Kr)),Ye(Er,"cause")&&St(Mr,"cause",Ur(Er.cause,Kr)),gr=="AggregateError"&&(Mr.errors=Ur(Er.errors,Kr));case"DOMException":hn&&St(Mr,"stack",Ur(Er.stack,Kr))}return Mr},Qr=yr&&!qe(function(){if(kn&&dn>92||Pn&&dn>94||sn&&dn>97)return!1;var Er=new ArrayBuffer(8),Kr=yr(Er,{transfer:[Er]});return Er.byteLength!=0||Kr.byteLength!=8}),ia=function(Er,Kr){if(!We(Er))throw Un("Transfer option cannot be converted to a sequence");var na=[];tn(Er,function(ca){qn(na,en(ca))});var Pr=0,fr=Qe(na),gr,Mr,sa,aa,Rr,Tr,Xr;if(Qr)for(aa=yr(na,{transfer:na});Pr<fr;)Rn(Kr,na[Pr],aa[Pr++]);else for(;Pr<fr;){if(gr=na[Pr++],wn(Kr,gr))throw new Sn("Duplicate transferable",Jn);switch(Mr=an(gr),Mr){case"ImageBitmap":sa=Me.OffscreenCanvas,Xe(sa)||hr(Mr,er);try{Tr=new sa(gr.width,gr.height),Xr=Tr.getContext("bitmaprenderer"),Xr.transferFromImageBitmap(gr),Rr=Tr.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!ze(gr.clone)||!ze(gr.close))&&hr(Mr,er);try{Rr=gr.clone(),gr.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":hr(Mr,er)}if(Rr===void 0)throw new Sn("This object cannot be transferred: "+Mr,Jn);Rn(Kr,gr,Rr)}};Re({global:!0,enumerable:!0,sham:!Qr,forced:jr},{structuredClone:function(Kr){var na=Je(arguments.length,1)>1&&arguments[1]!=null?en(arguments[1]):void 0,Pr=na?na.transfer:void 0,fr;return Pr!==void 0&&(fr=new mn,ia(Pr,fr)),Ur(Kr,fr)}})}),((Ce,Ee,Te)=>{var Be=Te(17),Re=Te(10),Me=Te(23),Ue=Te(80),De=Te(25),qe=Te(52),$e=function(){},ze=[],Xe=De("Reflect","construct"),We=/^\s*(?:class|function)\b/,Ge=Be(We.exec),tn=!We.exec($e),en=function(Ze){if(!Me(Ze))return!1;try{return Xe($e,ze,Ze),!0}catch{return!1}},an=function(Ze){if(!Me(Ze))return!1;switch(Ue(Ze)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tn||!!Ge(We,qe(Ze))}catch{return!0}};an.sham=!0,Ce.exports=!Xe||Re(function(){var Ye;return en(en.call)||!en(Object)||!en(function(){Ye=!0})||Ye})?an:en}),(Ce=>{var Ee=TypeError;Ce.exports=function(Te,Be){if(Te<Be)throw Ee("Not enough arguments");return Te}}),((Ce,Ee,Te)=>{var Be=Te(11),Re=Te(40),Me=Te(26),Ue=Te(123),De=RegExp.prototype;Ce.exports=function(qe){var $e=qe.flags;return $e===void 0&&!("flags"in De)&&!Re(qe,"flags")&&Me(De,qe)?Be(Ue,qe):$e}}),((Ce,Ee,Te)=>{var Be=Te(48);Ce.exports=function(){var Re=Be(this),Me="";return Re.hasIndices&&(Me+="d"),Re.global&&(Me+="g"),Re.ignoreCase&&(Me+="i"),Re.multiline&&(Me+="m"),Re.dotAll&&(Me+="s"),Re.unicode&&(Me+="u"),Re.unicodeSets&&(Me+="v"),Re.sticky&&(Me+="y"),Me}}),((Ce,Ee,Te)=>{var Be=Te(10),Re=Te(14);Ce.exports=!Be(function(){var Me=Error("a");return"stack"in Me?(Object.defineProperty(Me,"stack",Re(1,7)),Me.stack!==7):!0})}),((Ce,Ee,Te)=>{var Be=Te(126),Re=Te(127);Ce.exports=!Be&&!Re&&typeof window=="object"&&typeof document=="object"}),(Ce=>{Ce.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"}),((Ce,Ee,Te)=>{var Be=Te(18),Re=Te(7);Ce.exports=Be(Re.process)=="process"}),((Ce,Ee,Te)=>{var Be=Te(7);Ce.exports=Be}),((__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(Ce,Ee){_checkPrivateRedeclaration(Ce,Ee),Ee.add(Ce)}function _classPrivateMethodGet(Ce,Ee,Te){if(!Ee.has(Ce))throw new TypeError("attempted to get private field on non-instance");return Te}function _classPrivateFieldInitSpec(Ce,Ee,Te){_checkPrivateRedeclaration(Ce,Ee),Ee.set(Ce,Te)}function _checkPrivateRedeclaration(Ce,Ee){if(Ee.has(Ce))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(Ce,Ee,Te){var Be=_classExtractFieldDescriptor(Ce,Ee,"set");return _classApplyDescriptorSet(Ce,Be,Te),Te}function _classPrivateFieldGet(Ce,Ee){var Te=_classExtractFieldDescriptor(Ce,Ee,"get");return _classApplyDescriptorGet(Ce,Te)}function _classExtractFieldDescriptor(Ce,Ee,Te){if(!Ee.has(Ce))throw new TypeError("attempted to "+Te+" private field on non-instance");return Ee.get(Ce)}function _classStaticPrivateFieldSpecSet(Ce,Ee,Te,Be){return _classCheckPrivateStaticAccess(Ce,Ee),_classCheckPrivateStaticFieldDescriptor(Te,"set"),_classApplyDescriptorSet(Ce,Te,Be),Be}function _classApplyDescriptorSet(Ce,Ee,Te){if(Ee.set)Ee.set.call(Ce,Te);else{if(!Ee.writable)throw new TypeError("attempted to set read only private field");Ee.value=Te}}function _classStaticPrivateFieldSpecGet(Ce,Ee,Te){return _classCheckPrivateStaticAccess(Ce,Ee),_classCheckPrivateStaticFieldDescriptor(Te,"get"),_classApplyDescriptorGet(Ce,Te)}function _classCheckPrivateStaticFieldDescriptor(Ce,Ee){if(Ce===void 0)throw new TypeError("attempted to "+Ee+" private static field before its declaration")}function _classCheckPrivateStaticAccess(Ce,Ee){if(Ce!==Ee)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(Ce,Ee){return Ee.get?Ee.get.call(Ce):Ee.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ce,NodeCMapReaderFactory:Ee,NodeStandardFontDataFactory:Te}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ce,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=Ee,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=Te}let createPDFNetworkStream;function setPDFNetworkStreamFactory(Ce){createPDFNetworkStream=Ce}function getDocument(Ce){const Ee=new PDFDocumentLoadingTask;let Te;if(typeof Ce=="string"||Ce instanceof URL)Te={url:Ce};else if((0,_util.isArrayBuffer)(Ce))Te={data:Ce};else if(Ce instanceof PDFDataRangeTransport)Te={range:Ce};else{if(typeof Ce!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Ce.url&&!Ce.data&&!Ce.range)throw new Error("Invalid parameter object: need either .data, .range or .url");Te=Ce}const Be=Object.create(null);let Re=null,Me=null;for(const De in Te){const qe=Te[De];switch(De){case"url":if(typeof window<"u")try{Be[De]=new URL(qe,window.location).href;continue}catch($e){(0,_util.warn)(`Cannot create valid URL: "${$e}".`)}else if(typeof qe=="string"||qe instanceof URL){Be[De]=qe.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Re=qe;continue;case"worker":Me=qe;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&qe instanceof Buffer)Be[De]=new Uint8Array(qe);else{if(qe instanceof Uint8Array)break;if(typeof qe=="string")Be[De]=(0,_util.stringToBytes)(qe);else if(typeof qe=="object"&&qe!==null&&!isNaN(qe.length))Be[De]=new Uint8Array(qe);else if((0,_util.isArrayBuffer)(qe))Be[De]=new Uint8Array(qe);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}Be[De]=qe}if(Be.CMapReaderFactory=Be.CMapReaderFactory||DefaultCMapReaderFactory,Be.StandardFontDataFactory=Be.StandardFontDataFactory||DefaultStandardFontDataFactory,Be.ignoreErrors=Be.stopAtErrors!==!0,Be.fontExtraProperties=Be.fontExtraProperties===!0,Be.pdfBug=Be.pdfBug===!0,Be.enableXfa=Be.enableXfa===!0,(!Number.isInteger(Be.rangeChunkSize)||Be.rangeChunkSize<1)&&(Be.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof Be.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(Be.docBaseUrl))&&(Be.docBaseUrl=null),(!Number.isInteger(Be.maxImageSize)||Be.maxImageSize<-1)&&(Be.maxImageSize=-1),typeof Be.cMapUrl!="string"&&(Be.cMapUrl=null),typeof Be.standardFontDataUrl!="string"&&(Be.standardFontDataUrl=null),typeof Be.useWorkerFetch!="boolean"&&(Be.useWorkerFetch=Be.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&Be.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof Be.isEvalSupported!="boolean"&&(Be.isEvalSupported=!0),typeof Be.disableFontFace!="boolean"&&(Be.disableFontFace=_is_node.isNodeJS),typeof Be.useSystemFonts!="boolean"&&(Be.useSystemFonts=!_is_node.isNodeJS&&!Be.disableFontFace),(typeof Be.ownerDocument!="object"||Be.ownerDocument===null)&&(Be.ownerDocument=globalThis.document),typeof Be.disableRange!="boolean"&&(Be.disableRange=!1),typeof Be.disableStream!="boolean"&&(Be.disableStream=!1),typeof Be.disableAutoFetch!="boolean"&&(Be.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(Be.verbosity),!Me){const De={verbosity:Be.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Me=De.port?PDFWorker.fromPort(De):new PDFWorker(De),Ee._worker=Me}const Ue=Ee.docId;return Me.promise.then(function(){if(Ee.destroyed)throw new Error("Loading aborted");const De=_fetchDocument(Me,Be,Re,Ue),qe=new Promise(function($e){let ze;Re?ze=new _transport_stream.PDFDataTransportStream({length:Be.length,initialData:Be.initialData,progressiveDone:Be.progressiveDone,contentDispositionFilename:Be.contentDispositionFilename,disableRange:Be.disableRange,disableStream:Be.disableStream},Re):Be.data||(ze=createPDFNetworkStream({url:Be.url,length:Be.length,httpHeaders:Be.httpHeaders,withCredentials:Be.withCredentials,rangeChunkSize:Be.rangeChunkSize,disableRange:Be.disableRange,disableStream:Be.disableStream})),$e(ze)});return Promise.all([De,qe]).then(function($e){let[ze,Xe]=$e;if(Ee.destroyed)throw new Error("Loading aborted");const We=new _message_handler.MessageHandler(Ue,ze,Me.port),Ge=new WorkerTransport(We,Ee,Xe,Be);Ee._transport=Ge,We.send("Ready",null)})}).catch(Ee._capability.reject),Ee}async function _fetchDocument(Ce,Ee,Te,Be){if(Ce.destroyed)throw new Error("Worker was destroyed");Te&&(Ee.length=Te.length,Ee.initialData=Te.initialData,Ee.progressiveDone=Te.progressiveDone,Ee.contentDispositionFilename=Te.contentDispositionFilename);const Re=await Ce.messageHandler.sendWithPromise("GetDocRequest",{docId:Be,apiVersion:"2.16.105",source:{data:Ee.data,url:Ee.url,password:Ee.password,disableAutoFetch:Ee.disableAutoFetch,rangeChunkSize:Ee.rangeChunkSize,length:Ee.length},maxImageSize:Ee.maxImageSize,disableFontFace:Ee.disableFontFace,docBaseUrl:Ee.docBaseUrl,ignoreErrors:Ee.ignoreErrors,isEvalSupported:Ee.isEvalSupported,fontExtraProperties:Ee.fontExtraProperties,enableXfa:Ee.enableXfa,useSystemFonts:Ee.useSystemFonts,cMapUrl:Ee.useWorkerFetch?Ee.cMapUrl:null,standardFontDataUrl:Ee.useWorkerFetch?Ee.standardFontDataUrl:null});if(Ee.data&&(Ee.data=null),Ce.destroyed)throw new Error("Worker was destroyed");return Re}class PDFDocumentLoadingTask{constructor(){var Ee,Te;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(Ee=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),Te=Ee++,Ee)),Te}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var Ee;this.destroyed=!0,await((Ee=this._transport)===null||Ee===void 0?void 0:Ee.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(Ee,Te){let Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=Ee,this.initialData=Te,this.progressiveDone=Be,this.contentDispositionFilename=Re,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(Ee){this._rangeListeners.push(Ee)}addProgressListener(Ee){this._progressListeners.push(Ee)}addProgressiveReadListener(Ee){this._progressiveReadListeners.push(Ee)}addProgressiveDoneListener(Ee){this._progressiveDoneListeners.push(Ee)}onDataRange(Ee,Te){for(const Be of this._rangeListeners)Be(Ee,Te)}onDataProgress(Ee,Te){this._readyCapability.promise.then(()=>{for(const Be of this._progressListeners)Be(Ee,Te)})}onDataProgressiveRead(Ee){this._readyCapability.promise.then(()=>{for(const Te of this._progressiveReadListeners)Te(Ee)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Ee of this._progressiveDoneListeners)Ee()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Ee,Te){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Ee,Te){this._pdfInfo=Ee,this._transport=Te,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Ee){return this._transport.getPage(Ee)}getPageIndex(Ee){return this._transport.getPageIndex(Ee)}getDestinations(){return this._transport.getDestinations()}getDestination(Ee){return this._transport.getDestination(Ee)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(Ee||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Ee,Te,Be,Re){let Me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=Ee,this._pageInfo=Te,this._ownerDocument=Re,this._transport=Be,this._stats=Me?new _display_utils.StatTimer:null,this._pdfBug=Me,this.commonObjs=Be.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:Ee,rotation:Te=this.rotate,offsetX:Be=0,offsetY:Re=0,dontFlip:Me=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:Ee,rotation:Te,offsetX:Be,offsetY:Re,dontFlip:Me})}getAnnotations(){let{intent:Ee="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Te=this._transport.getRenderingIntent(Ee);let Be=this._annotationPromises.get(Te.cacheKey);return Be||(Be=this._transport.getAnnotations(this._pageIndex,Te.renderingIntent),this._annotationPromises.set(Te.cacheKey,Be),Be=Be.then(Re=>{for(const Me of Re)Me.titleObj!==void 0&&Object.defineProperty(Me,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),Me.titleObj.str}}),Me.contentsObj!==void 0&&Object.defineProperty(Me,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),Me.contentsObj.str}});return Re})),Be}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var Ee;return((Ee=this._transport._htmlForXfa)===null||Ee===void 0?void 0:Ee.children[this._pageIndex])||null}render(Ee){var Te,Be,Re;let{canvasContext:Me,viewport:Ue,intent:De="display",annotationMode:qe=_util.AnnotationMode.ENABLE,transform:$e=null,imageLayer:ze=null,canvasFactory:Xe=null,background:We=null,optionalContentConfigPromise:Ge=null,annotationCanvasMap:tn=null,pageColors:en=null,printAnnotationStorage:an=null}=Ee;((Te=arguments[0])===null||Te===void 0?void 0:Te.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&qe===_util.AnnotationMode.ENABLE&&(qe=_util.AnnotationMode.ENABLE_FORMS)),((Be=arguments[0])===null||Be===void 0?void 0:Be.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&qe===_util.AnnotationMode.ENABLE&&(qe=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Ye=this._transport.getRenderingIntent(De,qe,an);this.pendingCleanup=!1,Ge||(Ge=this._transport.getOptionalContentConfig());let Ze=this._intentStates.get(Ye.cacheKey);Ze||(Ze=Object.create(null),this._intentStates.set(Ye.cacheKey,Ze)),Ze.streamReaderCancelTimeout&&(clearTimeout(Ze.streamReaderCancelTimeout),Ze.streamReaderCancelTimeout=null);const St=Xe||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Qe=!!(Ye.renderingIntent&_util.RenderingIntentFlag.PRINT);Ze.displayReadyCapability||(Ze.displayReadyCapability=(0,_util.createPromiseCapability)(),Ze.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Ye));const Je=dn=>{Ze.renderTasks.delete(on),(this.cleanupAfterRender||Qe)&&(this.pendingCleanup=!0),this._tryCleanup(),dn?(on.capability.reject(dn),this._abortOperatorList({intentState:Ze,reason:dn instanceof Error?dn:new Error(dn)})):on.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},on=new InternalRenderTask({callback:Je,params:{canvasContext:Me,viewport:Ue,transform:$e,imageLayer:ze,background:We},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:tn,operatorList:Ze.operatorList,pageIndex:this._pageIndex,canvasFactory:St,useRequestAnimationFrame:!Qe,pdfBug:this._pdfBug,pageColors:en});((Re=Ze).renderTasks||(Re.renderTasks=new Set)).add(on);const hn=on.task;return Promise.all([Ze.displayReadyCapability.promise,Ge]).then(dn=>{let[sn,kn]=dn;if(this.pendingCleanup){Je();return}this._stats&&this._stats.time("Rendering"),on.initializeGraphics({transparency:sn,optionalContentConfig:kn}),on.operatorListChanged()}).catch(Je),hn}getOperatorList(){let{intent:Ee="display",annotationMode:Te=_util.AnnotationMode.ENABLE,printAnnotationStorage:Be=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Re(){Ue.operatorList.lastChunk&&(Ue.opListReadCapability.resolve(Ue.operatorList),Ue.renderTasks.delete(De))}const Me=this._transport.getRenderingIntent(Ee,Te,Be,!0);let Ue=this._intentStates.get(Me.cacheKey);Ue||(Ue=Object.create(null),this._intentStates.set(Me.cacheKey,Ue));let De;if(!Ue.opListReadCapability){var qe;De=Object.create(null),De.operatorListChanged=Re,Ue.opListReadCapability=(0,_util.createPromiseCapability)(),((qe=Ue).renderTasks||(qe.renderTasks=new Set)).add(De),Ue.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Me)}return Ue.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:Ee=!1,includeMarkedContent:Te=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:Ee!==!0,includeMarkedContent:Te===!0},{highWaterMark:100,size(Re){return Re.items.length}})}getTextContent(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(Be=>_xfa_text.XfaText.textContent(Be));const Te=this.streamTextContent(Ee);return new Promise(function(Be,Re){function Me(){Ue.read().then(function(qe){let{value:$e,done:ze}=qe;if(ze){Be(De);return}Object.assign(De.styles,$e.styles),De.items.push(...$e.items),Me()},Re)}const Ue=Te.getReader(),De={items:[],styles:Object.create(null)};Me()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const Ee=[];for(const Te of this._intentStates.values())if(this._abortOperatorList({intentState:Te,reason:new Error("Page was destroyed."),force:!0}),!Te.opListReadCapability)for(const Be of Te.renderTasks)Ee.push(Be.completed),Be.cancel();this.objs.clear();for(const Te of this._bitmaps)Te.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(Ee)}cleanup(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(Ee)}_tryCleanup(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:Te,operatorList:Be}of this._intentStates.values())if(Te.size>0||!Be.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,Ee&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const Te of this._bitmaps)Te.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(Ee,Te){const Be=this._intentStates.get(Te);Be&&(this._stats&&this._stats.timeEnd("Page Request"),Be.displayReadyCapability&&Be.displayReadyCapability.resolve(Ee))}_renderPageChunk(Ee,Te){for(let Be=0,Re=Ee.length;Be<Re;Be++)Te.operatorList.fnArray.push(Ee.fnArray[Be]),Te.operatorList.argsArray.push(Ee.argsArray[Be]);Te.operatorList.lastChunk=Ee.lastChunk,Te.operatorList.separateAnnots=Ee.separateAnnots;for(const Be of Te.renderTasks)Be.operatorListChanged();Ee.lastChunk&&this._tryCleanup()}_pumpOperatorList(Ee){let{renderingIntent:Te,cacheKey:Be,annotationStorageMap:Re}=Ee;const Ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Te,cacheKey:Be,annotationStorage:Re}).getReader(),De=this._intentStates.get(Be);De.streamReader=Ue;const qe=()=>{Ue.read().then($e=>{let{value:ze,done:Xe}=$e;if(Xe){De.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ze,De),qe())},$e=>{if(De.streamReader=null,!this._transport.destroyed){if(De.operatorList){De.operatorList.lastChunk=!0;for(const ze of De.renderTasks)ze.operatorListChanged();this._tryCleanup()}if(De.displayReadyCapability)De.displayReadyCapability.reject($e);else if(De.opListReadCapability)De.opListReadCapability.reject($e);else throw $e}})};qe()}_abortOperatorList(Ee){let{intentState:Te,reason:Be,force:Re=!1}=Ee;if(Te.streamReader){if(!Re){if(Te.renderTasks.size>0)return;if(Be instanceof _display_utils.RenderingCancelledException){Te.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:Te,reason:Be,force:!0}),Te.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(Te.streamReader.cancel(new _util.AbortException(Be.message)).catch(()=>{}),Te.streamReader=null,!this._transport.destroyed){for(const[Me,Ue]of this._intentStates)if(Ue===Te){this._intentStates.delete(Me);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(Ee,Te){const Be={data:structuredClone(Ee,Te)};this._deferred.then(()=>{for(const Re of this._listeners)Re.call(this,Be)})}addEventListener(Ee,Te){this._listeners.push(Te)}removeEventListener(Ee,Te){const Be=this._listeners.indexOf(Te);this._listeners.splice(Be,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const Ce=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;Ce&&(PDFWorkerUtil.fallbackWorkerSrc=Ce.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ce,Ee){let Te;try{if(Te=new URL(Ce),!Te.origin||Te.origin==="null")return!1}catch{return!1}const Be=new URL(Ee,Te);return Te.origin===Be.origin},PDFWorkerUtil.createCDNWrapper=function(Ce){const Ee=`importScripts("${Ce}");`;return URL.createObjectURL(new Blob([Ee]))}}class PDFWorker{constructor(){let{name:Ce=null,port:Ee=null,verbosity:Te=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ee&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(Ee))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ce,this.destroyed=!1,this.verbosity=Te,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,Ee){_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(Ee,this),this._initializeFromPort(Ee);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ce){this._port=Ce,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ce),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ce}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ce)||(Ce=PDFWorkerUtil.createCDNWrapper(new URL(Ce,window.location).href));const Ee=new Worker(Ce),Te=new _message_handler.MessageHandler("main","worker",Ee),Be=()=>{Ee.removeEventListener("error",Re),Te.destroy(),Ee.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Re=()=>{this._webWorker||Be()};Ee.addEventListener("error",Re),Te.on("test",Ue=>{if(Ee.removeEventListener("error",Re),this.destroyed){Be();return}Ue?(this._messageHandler=Te,this._port=Ee,this._webWorker=Ee,this._readyCapability.resolve(),Te.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Te.destroy(),Ee.terminate())}),Te.on("ready",Ue=>{if(Ee.removeEventListener("error",Re),this.destroyed){Be();return}try{Me()}catch{this._setupFakeWorker()}});const Me=()=>{const Ue=new Uint8Array;Te.send("test",Ue,[Ue.buffer])};Me();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(Ce=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Ee=new LoopbackPort;this._port=Ee;const Te=`fake${PDFWorkerUtil.fakeWorkerId++}`,Be=new _message_handler.MessageHandler(Te+"_worker",Te,Ee);Ce.setup(Be,Ee);const Re=new _message_handler.MessageHandler(Te,Te+"_worker",Ee);this._messageHandler=Re,this._readyCapability.resolve(),Re.send("configure",{verbosity:this.verbosity})}).catch(Ce=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ce.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ce){if(!(Ce!=null&&Ce.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(Ce.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(Ce.port):new PDFWorker(Ce)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var Ce;return((Ce=globalThis.pdfjsWorker)===null||Ce===void 0?void 0:Ce.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;var _workerPorts={value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(Ee,Te,Be,Re){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=Ee,this.loadingTask=Te,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:Te.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Re.ownerDocument,styleElement:Re.styleElement}),this._params=Re,Re.useWorkerFetch||(this.CMapReaderFactory=new Re.CMapReaderFactory({baseUrl:Re.cMapUrl,isCompressed:Re.cMapPacked}),this.StandardFontDataFactory=new Re.StandardFontDataFactory({baseUrl:Re.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=Be,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(Ee){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Re=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Me=_util.RenderingIntentFlag.DISPLAY,Ue=null;switch(Ee){case"any":Me=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Me=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Ee}`)}switch(Te){case _util.AnnotationMode.DISABLE:Me+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Me+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Me+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ue=(Me&_util.RenderingIntentFlag.PRINT&&Be instanceof _annotation_storage.PrintAnnotationStorage?Be:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Te}`)}return Re&&(Me+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Me,cacheKey:`${Me}_${_annotation_storage.AnnotationStorage.getHash(Ue)}`,annotationStorageMap:Ue}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const Ee=[];for(const Be of _classPrivateFieldGet(this,_pageCache).values())Ee.push(Be._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Te=this.messageHandler.sendWithPromise("Terminate",null);return Ee.push(Te),Promise.all(Ee).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Ee,loadingTask:Te}=this;Ee.on("GetReader",(Be,Re)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Me=>{this._lastProgress={loaded:Me.loaded,total:Me.total}},Re.onPull=()=>{this._fullReader.read().then(function(Me){let{value:Ue,done:De}=Me;if(De){Re.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Ue),"GetReader - expected an ArrayBuffer."),Re.enqueue(new Uint8Array(Ue),1,[Ue])}).catch(Me=>{Re.error(Me)})},Re.onCancel=Me=>{this._fullReader.cancel(Me),Re.ready.catch(Ue=>{if(!this.destroyed)throw Ue})}}),Ee.on("ReaderHeadersReady",Be=>{const Re=(0,_util.createPromiseCapability)(),Me=this._fullReader;return Me.headersReady.then(()=>{if(!Me.isStreamingSupported||!Me.isRangeSupported){if(this._lastProgress){var Ue;(Ue=Te.onProgress)===null||Ue===void 0||Ue.call(Te,this._lastProgress)}Me.onProgress=De=>{var qe;(qe=Te.onProgress)===null||qe===void 0||qe.call(Te,{loaded:De.loaded,total:De.total})}}Re.resolve({isStreamingSupported:Me.isStreamingSupported,isRangeSupported:Me.isRangeSupported,contentLength:Me.contentLength})},Re.reject),Re.promise}),Ee.on("GetRangeReader",(Be,Re)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Me=this._networkStream.getRangeReader(Be.begin,Be.end);if(!Me){Re.close();return}Re.onPull=()=>{Me.read().then(function(Ue){let{value:De,done:qe}=Ue;if(qe){Re.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(De),"GetRangeReader - expected an ArrayBuffer."),Re.enqueue(new Uint8Array(De),1,[De])}).catch(Ue=>{Re.error(Ue)})},Re.onCancel=Ue=>{Me.cancel(Ue),Re.ready.catch(De=>{if(!this.destroyed)throw De})}}),Ee.on("GetDoc",Be=>{let{pdfInfo:Re}=Be;this._numPages=Re.numPages,this._htmlForXfa=Re.htmlForXfa,delete Re.htmlForXfa,Te._capability.resolve(new PDFDocumentProxy(Re,this))}),Ee.on("DocException",function(Be){let Re;switch(Be.name){case"PasswordException":Re=new _util.PasswordException(Be.message,Be.code);break;case"InvalidPDFException":Re=new _util.InvalidPDFException(Be.message);break;case"MissingPDFException":Re=new _util.MissingPDFException(Be.message);break;case"UnexpectedResponseException":Re=new _util.UnexpectedResponseException(Be.message,Be.status);break;case"UnknownErrorException":Re=new _util.UnknownErrorException(Be.message,Be.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Te._capability.reject(Re)}),Ee.on("PasswordRequest",Be=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Te.onPassword){const Re=Me=>{Me instanceof Error?this._passwordCapability.reject(Me):this._passwordCapability.resolve({password:Me})};try{Te.onPassword(Re,Be.code)}catch(Me){this._passwordCapability.reject(Me)}}else this._passwordCapability.reject(new _util.PasswordException(Be.message,Be.code));return this._passwordCapability.promise}),Ee.on("DataLoaded",Be=>{var Re;(Re=Te.onProgress)===null||Re===void 0||Re.call(Te,{loaded:Be.length,total:Be.length}),this.downloadInfoCapability.resolve(Be)}),Ee.on("StartRenderPage",Be=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(Be.pageIndex)._startRenderPage(Be.transparency,Be.cacheKey)}),Ee.on("commonobj",Be=>{var Re;let[Me,Ue,De]=Be;if(!this.destroyed&&!this.commonObjs.has(Me))switch(Ue){case"Font":const qe=this._params;if("error"in De){const Xe=De.error;(0,_util.warn)(`Error during font loading: ${Xe}`),this.commonObjs.resolve(Me,Xe);break}let $e=null;qe.pdfBug&&(Re=globalThis.FontInspector)!==null&&Re!==void 0&&Re.enabled&&($e={registerFont(Xe,We){globalThis.FontInspector.fontAdded(Xe,We)}});const ze=new _font_loader.FontFaceObject(De,{isEvalSupported:qe.isEvalSupported,disableFontFace:qe.disableFontFace,ignoreErrors:qe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:$e});this.fontLoader.bind(ze).catch(Xe=>Ee.sendWithPromise("FontFallback",{id:Me})).finally(()=>{!qe.fontExtraProperties&&ze.data&&(ze.data=null),this.commonObjs.resolve(Me,ze)});break;case"FontPath":case"Image":this.commonObjs.resolve(Me,De);break;default:throw new Error(`Got unknown common object type ${Ue}`)}}),Ee.on("obj",Be=>{let[Re,Me,Ue,De]=Be;if(this.destroyed)return;const qe=_classPrivateFieldGet(this,_pageCache).get(Me);if(!qe.objs.has(Re))switch(Ue){case"Image":qe.objs.resolve(Re,De);const ze=8e6;if(De){let Xe;if(De.bitmap){const{bitmap:We,width:Ge,height:tn}=De;Xe=Ge*tn*4,qe._bitmaps.add(We)}else{var $e;Xe=(($e=De.data)===null||$e===void 0?void 0:$e.length)||0}Xe>ze&&(qe.cleanupAfterRender=!0)}break;case"Pattern":qe.objs.resolve(Re,De);break;default:throw new Error(`Got unknown object type ${Ue}`)}}),Ee.on("DocProgress",Be=>{var Re;this.destroyed||(Re=Te.onProgress)===null||Re===void 0||Re.call(Te,{loaded:Be.loaded,total:Be.total})}),Ee.on("DocStats",Be=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(Be.streamTypes),fontTypes:Object.freeze(Be.fontTypes)}))}),Ee.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),Ee.on("FetchBuiltInCMap",Be=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(Be):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Ee.on("FetchStandardFontData",Be=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(Be):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(Ee){var Te,Be;let{featureId:Re}=Ee;this.destroyed||(Te=(Be=this.loadingTask).onUnsupportedFeature)===null||Te===void 0||Te.call(Be,Re)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(Ee){if(!Number.isInteger(Ee)||Ee<=0||Ee>this._numPages)return Promise.reject(new Error("Invalid page request."));const Te=Ee-1,Be=_classPrivateFieldGet(this,_pagePromises).get(Te);if(Be)return Be;const Re=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Te}).then(Me=>{if(this.destroyed)throw new Error("Transport destroyed");const Ue=new PDFPageProxy(Te,Me,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(Te,Ue),Ue});return _classPrivateFieldGet(this,_pagePromises).set(Te,Re),Re}getPageIndex(Ee){return typeof Ee!="object"||Ee===null||!Number.isInteger(Ee.num)||Ee.num<0||!Number.isInteger(Ee.gen)||Ee.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Ee.num,gen:Ee.gen})}getAnnotations(Ee,Te){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Ee,intent:Te})}saveDocument(){var Ee,Te;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(Ee=(Te=this._fullReader)===null||Te===void 0?void 0:Te.filename)!==null&&Ee!==void 0?Ee:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Ee){return typeof Ee!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Ee})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(Ee){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Ee})}getStructTree(Ee){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Ee})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Ee=>new _optional_content_config.OptionalContentConfig(Ee))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(Ee=>{var Te,Be,Re,Me;return{info:Ee[0],metadata:Ee[1]?new _metadata.Metadata(Ee[1]):null,contentDispositionFilename:(Te=(Be=this._fullReader)===null||Be===void 0?void 0:Be.filename)!==null&&Te!==void 0?Te:null,contentLength:(Re=(Me=this._fullReader)===null||Me===void 0?void 0:Me.contentLength)!==null&&Re!==void 0?Re:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const Te of _classPrivateFieldGet(this,_pageCache).values())if(!Te.cleanup())throw new Error(`startCleanup: Page ${Te.pageNumber} is currently rendering.`);this.commonObjs.clear(),Ee||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const Ee=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Ee.disableAutoFetch,enableXfa:Ee.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(Ee){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Te){const Re=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,Ee);return Re.capability.promise.then(()=>Te(Re.data)),null}const Be=_classPrivateFieldGet(this,_objs)[Ee];if(!(Be!=null&&Be.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Ee}.`);return Be.data}has(Ee){const Te=_classPrivateFieldGet(this,_objs)[Ee];return(Te==null?void 0:Te.capability.settled)||!1}resolve(Ee){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Be=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,Ee);Be.data=Te,Be.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Ce){const Ee=_classPrivateFieldGet(this,_objs)[Ce];return Ee||(_classPrivateFieldGet(this,_objs)[Ce]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(Ee){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,Ee),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:Ee}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!Ee)return!1;const{annotationCanvasMap:Te}=_classPrivateFieldGet(this,_internalRenderTask);return Ee.form||Ee.canvas&&(Te==null?void 0:Te.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(Ee){let{callback:Te,params:Be,objs:Re,commonObjs:Me,annotationCanvasMap:Ue,operatorList:De,pageIndex:qe,canvasFactory:$e,useRequestAnimationFrame:ze=!1,pdfBug:Xe=!1,pageColors:We=null}=Ee;this.callback=Te,this.params=Be,this.objs=Re,this.commonObjs=Me,this.annotationCanvasMap=Ue,this.operatorListIdx=null,this.operatorList=De,this._pageIndex=qe,this.canvasFactory=$e,this._pdfBug=Xe,this.pageColors=We,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ze===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Be.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(Ee){var Te;let{transparency:Be=!1,optionalContentConfig:Re}=Ee;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(Te=globalThis.StepperManager)!==null&&Te!==void 0&&Te.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Me,viewport:Ue,transform:De,imageLayer:qe,background:$e}=this.params;this.gfx=new _canvas.CanvasGraphics(Me,this.commonObjs,this.objs,this.canvasFactory,qe,Re,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:De,viewport:Ue,transparency:Be,background:$e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(Ee||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PrintAnnotationStorage=Ee.AnnotationStorage=void 0;var Be=Te(1),Re=Te(131),Me=Te(135);function Ue(Qe,Je,on){Ge(Qe,Je),Je.set(Qe,on)}function De(Qe,Je){var on=ze(Qe,Je,"get");return qe(Qe,on)}function qe(Qe,Je){return Je.get?Je.get.call(Qe):Je.value}function $e(Qe,Je,on){var hn=ze(Qe,Je,"set");return Xe(Qe,hn,on),on}function ze(Qe,Je,on){if(!Je.has(Qe))throw new TypeError("attempted to "+on+" private field on non-instance");return Je.get(Qe)}function Xe(Qe,Je,on){if(Je.set)Je.set.call(Qe,on);else{if(!Je.writable)throw new TypeError("attempted to set read only private field");Je.value=on}}function We(Qe,Je){Ge(Qe,Je),Je.add(Qe)}function Ge(Qe,Je){if(Je.has(Qe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tn(Qe,Je,on){if(!Je.has(Qe))throw new TypeError("attempted to get private field on non-instance");return on}var en=new WeakSet;class an{constructor(){We(this,en),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Je,on){const hn=this._storage.get(Je);return hn===void 0?on:Object.assign(on,hn)}getRawValue(Je){return this._storage.get(Je)}remove(Je){if(this._storage.delete(Je),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const on of this._storage.values())if(on instanceof Re.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Je,on){const hn=this._storage.get(Je);let dn=!1;if(hn!==void 0)for(const[sn,kn]of Object.entries(on))hn[sn]!==kn&&(dn=!0,hn[sn]=kn);else dn=!0,this._storage.set(Je,on);dn&&tn(this,en,Ye).call(this),on instanceof Re.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(on.constructor._type)}has(Je){return this._storage.has(Je)}getAll(){return this._storage.size>0?(0,Be.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(this._storage.size===0)return null;const Je=new Map;for(const[on,hn]of this._storage){const dn=hn instanceof Re.AnnotationEditor?hn.serialize():hn;dn&&Je.set(on,dn)}return Je}static getHash(Je){if(!Je)return"";const on=new Me.MurmurHash3_64;for(const[hn,dn]of Je)on.update(`${hn}:${JSON.stringify(dn)}`);return on.hexdigest()}}Ee.AnnotationStorage=an;function Ye(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var Ze=new WeakMap;class St extends an{constructor(Je){super(),Ue(this,Ze,{writable:!0,value:null}),$e(this,Ze,structuredClone(Je.serializable))}get print(){(0,Be.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return De(this,Ze)}}Ee.PrintAnnotationStorage=St}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.AnnotationEditor=void 0;var Be=Te(132),Re=Te(1);function Me(Qe,Je,on){return Je in Qe?Object.defineProperty(Qe,Je,{value:on,enumerable:!0,configurable:!0,writable:!0}):Qe[Je]=on,Qe}function Ue(Qe,Je,on){De(Qe,Je),Je.set(Qe,on)}function De(Qe,Je){if(Je.has(Qe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qe(Qe,Je,on){var hn=Xe(Qe,Je,"set");return $e(Qe,hn,on),on}function $e(Qe,Je,on){if(Je.set)Je.set.call(Qe,on);else{if(!Je.writable)throw new TypeError("attempted to set read only private field");Je.value=on}}function ze(Qe,Je){var on=Xe(Qe,Je,"get");return We(Qe,on)}function Xe(Qe,Je,on){if(!Je.has(Qe))throw new TypeError("attempted to "+on+" private field on non-instance");return Je.get(Qe)}function We(Qe,Je){return Je.get?Je.get.call(Qe):Je.value}var Ge=new WeakMap,tn=new WeakMap,en=new WeakMap,an=new WeakMap,Ye=new WeakMap,Ze=new WeakMap;class St{constructor(Je){Ue(this,Ge,{writable:!0,value:this.focusin.bind(this)}),Ue(this,tn,{writable:!0,value:this.focusout.bind(this)}),Ue(this,en,{writable:!0,value:!1}),Ue(this,an,{writable:!0,value:!1}),Ue(this,Ye,{writable:!0,value:!1}),Ue(this,Ze,{writable:!0,value:St._zIndex++}),this.constructor===St&&(0,Re.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Je.parent,this.id=Je.id,this.width=this.height=null,this.pageIndex=Je.parent.pageIndex,this.name=Je.name,this.div=null;const[on,hn]=this.parent.viewportBaseDimensions;this.x=Je.x/on,this.y=Je.y/hn,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,Re.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ze(this,Ze)}focusin(Je){ze(this,en)?qe(this,en,!1):this.parent.setSelected(this)}focusout(Je){if(!this.isAttachedToDOM)return;const on=Je.relatedTarget;on!=null&&on.closest(`#${this.id}`)||(Je.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(Je){const on=this.parent.div.getBoundingClientRect();this.startX=Je.clientX-on.x,this.startY=Je.clientY-on.y,Je.dataTransfer.setData("text/plain",this.id),Je.dataTransfer.effectAllowed="move"}setAt(Je,on,hn,dn){const[sn,kn]=this.parent.viewportBaseDimensions;[hn,dn]=this.screenToPageTranslation(hn,dn),this.x=(Je+hn)/sn,this.y=(on+dn)/kn,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Je,on){const[hn,dn]=this.parent.viewportBaseDimensions;[Je,on]=this.screenToPageTranslation(Je,on),this.x+=Je/hn,this.y+=on/dn,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Je,on){const{rotation:hn}=this.parent.viewport;switch(hn){case 90:return[on,-Je];case 180:return[-Je,-on];case 270:return[-on,Je];default:return[Je,on]}}setDims(Je,on){const[hn,dn]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*Je/hn}%`,this.div.style.height=`${100*on/dn}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ze(this,Ge)),this.div.addEventListener("focusout",ze(this,tn));const[Je,on]=this.getInitialTranslation();return this.translate(Je,on),(0,Be.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Je){const on=Be.KeyboardManager.platform.isMac;if(Je.button!==0||Je.ctrlKey&&on){Je.preventDefault();return}Je.ctrlKey&&!on||Je.shiftKey||Je.metaKey&&on?this.parent.toggleSelected(this):this.parent.setSelected(this),qe(this,en,!0)}getRect(Je,on){const[hn,dn]=this.parent.viewportBaseDimensions,[sn,kn]=this.parent.pageDimensions,Pn=sn*Je/hn,_n=kn*on/dn,Mn=this.x*sn,yn=this.y*kn,zn=this.width*sn,Ln=this.height*kn;switch(this.rotation){case 0:return[Mn+Pn,kn-yn-_n-Ln,Mn+Pn+zn,kn-yn-_n];case 90:return[Mn+_n,kn-yn+Pn,Mn+_n+Ln,kn-yn+Pn+zn];case 180:return[Mn-Pn-zn,kn-yn+_n,Mn-Pn,kn-yn+_n+Ln];case 270:return[Mn-_n-Ln,kn-yn-Pn-zn,Mn-_n,kn-yn-Pn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Je,on){const[hn,dn,sn,kn]=Je,Pn=sn-hn,_n=kn-dn;switch(this.rotation){case 0:return[hn,on-kn,Pn,_n];case 90:return[hn,on-dn,_n,Pn];case 180:return[sn,on-dn,Pn,_n];case 270:return[sn,on-kn,_n,Pn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qe(this,Ye,!0)}disableEditMode(){qe(this,Ye,!1)}isInEditMode(){return ze(this,Ye)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Je;(Je=this.div)===null||Je===void 0||Je.addEventListener("focusin",ze(this,Ge))}serialize(){(0,Re.unreachable)("An editor must be serializable")}static deserialize(Je,on){const hn=new this.prototype.constructor({parent:on,id:on.getNextId()});hn.rotation=Je.rotation;const[dn,sn]=on.pageDimensions,[kn,Pn,_n,Mn]=hn.getRectInCurrentCoords(Je.rect,sn);return hn.x=kn/dn,hn.y=Pn/sn,hn.width=_n/dn,hn.height=Mn/sn,hn}remove(){this.div.removeEventListener("focusin",ze(this,Ge)),this.div.removeEventListener("focusout",ze(this,tn)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Je;(Je=this.div)===null||Je===void 0||Je.classList.add("selectedEditor")}unselect(){var Je;(Je=this.div)===null||Je===void 0||Je.classList.remove("selectedEditor")}updateParams(Je,on){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ze(this,an)}set isEditing(Je){qe(this,an,Je),Je?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}Ee.AnnotationEditor=St,Me(St,"_colorManager",new Be.ColorManager),Me(St,"_zIndex",1)}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.KeyboardManager=Ee.CommandManager=Ee.ColorManager=Ee.AnnotationEditorUIManager=void 0,Ee.bindEvents=en,Ee.opacityToHex=an;var Be=Te(1),Re=Te(133);function Me(Dr,hr,Ur){return hr in Dr?Object.defineProperty(Dr,hr,{value:Ur,enumerable:!0,configurable:!0,writable:!0}):Dr[hr]=Ur,Dr}function Ue(Dr,hr){$e(Dr,hr),hr.add(Dr)}function De(Dr,hr,Ur){if(!hr.has(Dr))throw new TypeError("attempted to get private field on non-instance");return Ur}function qe(Dr,hr,Ur){$e(Dr,hr),hr.set(Dr,Ur)}function $e(Dr,hr){if(hr.has(Dr))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ze(Dr,hr,Ur){var Qr=Ge(Dr,hr,"set");return Xe(Dr,Qr,Ur),Ur}function Xe(Dr,hr,Ur){if(hr.set)hr.set.call(Dr,Ur);else{if(!hr.writable)throw new TypeError("attempted to set read only private field");hr.value=Ur}}function We(Dr,hr){var Ur=Ge(Dr,hr,"get");return tn(Dr,Ur)}function Ge(Dr,hr,Ur){if(!hr.has(Dr))throw new TypeError("attempted to "+Ur+" private field on non-instance");return hr.get(Dr)}function tn(Dr,hr){return hr.get?hr.get.call(Dr):hr.value}function en(Dr,hr,Ur){for(const Qr of Ur)hr.addEventListener(Qr,Dr[Qr].bind(Dr))}function an(Dr){return Math.round(Math.min(255,Math.max(1,255*Dr))).toString(16).padStart(2,"0")}var Ye=new WeakMap;class Ze{constructor(){qe(this,Ye,{writable:!0,value:0})}getId(){var hr,Ur;return`${Be.AnnotationEditorPrefix}${ze(this,Ye,(hr=We(this,Ye),Ur=hr++,hr)),Ur}`}}var St=new WeakMap,Qe=new WeakMap,Je=new WeakMap,on=new WeakMap;class hn{constructor(){let hr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;qe(this,St,{writable:!0,value:[]}),qe(this,Qe,{writable:!0,value:!1}),qe(this,Je,{writable:!0,value:void 0}),qe(this,on,{writable:!0,value:-1}),ze(this,Je,hr)}add(hr){let{cmd:Ur,undo:Qr,mustExec:ia,type:Er=NaN,overwriteIfSameType:Kr=!1,keepUndo:na=!1}=hr;if(ia&&Ur(),We(this,Qe))return;const Pr={cmd:Ur,undo:Qr,type:Er};if(We(this,on)===-1){We(this,St).length>0&&(We(this,St).length=0),ze(this,on,0),We(this,St).push(Pr);return}if(Kr&&We(this,St)[We(this,on)].type===Er){na&&(Pr.undo=We(this,St)[We(this,on)].undo),We(this,St)[We(this,on)]=Pr;return}const fr=We(this,on)+1;fr===We(this,Je)?We(this,St).splice(0,1):(ze(this,on,fr),fr<We(this,St).length&&We(this,St).splice(fr)),We(this,St).push(Pr)}undo(){We(this,on)!==-1&&(ze(this,Qe,!0),We(this,St)[We(this,on)].undo(),ze(this,Qe,!1),ze(this,on,We(this,on)-1))}redo(){We(this,on)<We(this,St).length-1&&(ze(this,on,We(this,on)+1),ze(this,Qe,!0),We(this,St)[We(this,on)].cmd(),ze(this,Qe,!1))}hasSomethingToUndo(){return We(this,on)!==-1}hasSomethingToRedo(){return We(this,on)<We(this,St).length-1}destroy(){ze(this,St,null)}}Ee.CommandManager=hn;var dn=new WeakSet;class sn{constructor(hr){Ue(this,dn),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Ur=sn.platform.isMac;for(const[Qr,ia]of hr)for(const Er of Qr){const Kr=Er.startsWith("mac+");Ur&&Kr?(this.callbacks.set(Er.slice(4),ia),this.allKeys.add(Er.split("+").at(-1))):!Ur&&!Kr&&(this.callbacks.set(Er,ia),this.allKeys.add(Er.split("+").at(-1)))}}static get platform(){const hr=typeof navigator<"u"?navigator.platform:"";return(0,Be.shadow)(this,"platform",{isWin:hr.includes("Win"),isMac:hr.includes("Mac")})}exec(hr,Ur){if(!this.allKeys.has(Ur.key))return;const Qr=this.callbacks.get(De(this,dn,kn).call(this,Ur));Qr&&(Qr.bind(hr)(),Ur.stopPropagation(),Ur.preventDefault())}}Ee.KeyboardManager=sn;function kn(Dr){Dr.altKey&&this.buffer.push("alt"),Dr.ctrlKey&&this.buffer.push("ctrl"),Dr.metaKey&&this.buffer.push("meta"),Dr.shiftKey&&this.buffer.push("shift"),this.buffer.push(Dr.key);const hr=this.buffer.join("+");return this.buffer.length=0,hr}var Pn=new WeakMap;class _n{constructor(){qe(this,Pn,{writable:!0,value:null})}copy(hr){hr&&(Array.isArray(hr)?ze(this,Pn,hr.map(Ur=>Ur.serialize())):ze(this,Pn,[hr.serialize()]),ze(this,Pn,We(this,Pn).filter(Ur=>!!Ur)),We(this,Pn).length===0&&ze(this,Pn,null))}paste(){return We(this,Pn)}isEmpty(){return We(this,Pn)===null}destroy(){ze(this,Pn,null)}}class Mn{get _colors(){const hr=new Map([["CanvasText",null],["Canvas",null]]);return(0,Re.getColorValues)(hr),(0,Be.shadow)(this,"_colors",hr)}convert(hr){const Ur=(0,Re.getRGB)(hr);if(!window.matchMedia("(forced-colors: active)").matches)return Ur;for(const[Qr,ia]of this._colors)if(ia.every((Er,Kr)=>Er===Ur[Kr]))return Mn._colorsMapping.get(Qr);return Ur}getHexCode(hr){const Ur=this._colors.get(hr);return Ur?Be.Util.makeHexColor(...Ur):hr}}Ee.ColorManager=Mn,Me(Mn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var yn=new WeakMap,zn=new WeakMap,Ln=new WeakMap,Vn=new WeakMap,On=new WeakMap,Un=new WeakMap,jn=new WeakMap,Gn=new WeakMap,An=new WeakMap,$n=new WeakMap,Nn=new WeakMap,En=new WeakMap,Sn=new WeakMap,pn=new WeakMap,mn=new WeakMap,un=new WeakMap,wn=new WeakMap,xn=new WeakSet,Rn=new WeakSet,Hn=new WeakSet,vn=new WeakSet,qn=new WeakSet,In=new WeakSet,cn=new WeakSet,bn=new WeakSet,Cn=new WeakSet;class Yn{constructor(hr,Ur){Ue(this,Cn),Ue(this,bn),Ue(this,cn),Ue(this,In),Ue(this,qn),Ue(this,vn),Ue(this,Hn),Ue(this,Rn),Ue(this,xn),qe(this,yn,{writable:!0,value:null}),qe(this,zn,{writable:!0,value:new Map}),qe(this,Ln,{writable:!0,value:new Map}),qe(this,Vn,{writable:!0,value:new _n}),qe(this,On,{writable:!0,value:new hn}),qe(this,Un,{writable:!0,value:0}),qe(this,jn,{writable:!0,value:null}),qe(this,Gn,{writable:!0,value:null}),qe(this,An,{writable:!0,value:new Ze}),qe(this,$n,{writable:!0,value:!1}),qe(this,Nn,{writable:!0,value:Be.AnnotationEditorType.NONE}),qe(this,En,{writable:!0,value:new Set}),qe(this,Sn,{writable:!0,value:this.keydown.bind(this)}),qe(this,pn,{writable:!0,value:this.onEditingAction.bind(this)}),qe(this,mn,{writable:!0,value:this.onPageChanging.bind(this)}),qe(this,un,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),qe(this,wn,{writable:!0,value:null}),ze(this,wn,hr),ze(this,Gn,Ur),We(this,Gn)._on("editingaction",We(this,pn)),We(this,Gn)._on("pagechanging",We(this,mn))}destroy(){De(this,Rn,er).call(this),We(this,Gn)._off("editingaction",We(this,pn)),We(this,Gn)._off("pagechanging",We(this,mn));for(const hr of We(this,Ln).values())hr.destroy();We(this,Ln).clear(),We(this,zn).clear(),ze(this,yn,null),We(this,En).clear(),We(this,Vn).destroy(),We(this,On).destroy()}onPageChanging(hr){let{pageNumber:Ur}=hr;ze(this,Un,Ur-1)}focusMainContainer(){We(this,wn).focus()}keydown(hr){var Ur;(Ur=this.getActive())!==null&&Ur!==void 0&&Ur.shouldGetKeyboardEvents()||Yn._keyboardManager.exec(this,hr)}onEditingAction(hr){["undo","redo","cut","copy","paste","delete","selectAll"].includes(hr.name)&&this[hr.name]()}setEditingState(hr){hr?(De(this,xn,Jn).call(this),De(this,Hn,ur).call(this,{isEditing:We(this,Nn)!==Be.AnnotationEditorType.NONE,isEmpty:De(this,bn,Gr).call(this),hasSomethingToUndo:We(this,On).hasSomethingToUndo(),hasSomethingToRedo:We(this,On).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:We(this,Vn).isEmpty()})):(De(this,Rn,er).call(this),De(this,Hn,ur).call(this,{isEditing:!1}))}registerEditorTypes(hr){ze(this,jn,hr);for(const Ur of We(this,jn))De(this,vn,dr).call(this,Ur.defaultPropertiesToUpdate)}getId(){return We(this,An).getId()}addLayer(hr){We(this,Ln).set(hr.pageIndex,hr),We(this,$n)?hr.enable():hr.disable()}removeLayer(hr){We(this,Ln).delete(hr.pageIndex)}updateMode(hr){if(ze(this,Nn,hr),hr===Be.AnnotationEditorType.NONE)this.setEditingState(!1),De(this,In,yr).call(this);else{this.setEditingState(!0),De(this,qn,br).call(this);for(const Ur of We(this,Ln).values())Ur.updateMode(hr)}}updateToolbar(hr){hr!==We(this,Nn)&&We(this,Gn).dispatch("switchannotationeditormode",{source:this,mode:hr})}updateParams(hr,Ur){for(const Qr of We(this,En))Qr.updateParams(hr,Ur);for(const Qr of We(this,jn))Qr.updateDefaultParams(hr,Ur)}getEditors(hr){const Ur=[];for(const Qr of We(this,zn).values())Qr.pageIndex===hr&&Ur.push(Qr);return Ur}getEditor(hr){return We(this,zn).get(hr)}addEditor(hr){We(this,zn).set(hr.id,hr)}removeEditor(hr){We(this,zn).delete(hr.id),this.unselect(hr)}setActiveEditor(hr){We(this,yn)!==hr&&(ze(this,yn,hr),hr&&De(this,vn,dr).call(this,hr.propertiesToUpdate))}toggleSelected(hr){if(We(this,En).has(hr)){We(this,En).delete(hr),hr.unselect(),De(this,Hn,ur).call(this,{hasSelectedEditor:this.hasSelection});return}We(this,En).add(hr),hr.select(),De(this,vn,dr).call(this,hr.propertiesToUpdate),De(this,Hn,ur).call(this,{hasSelectedEditor:!0})}setSelected(hr){for(const Ur of We(this,En))Ur!==hr&&Ur.unselect();We(this,En).clear(),We(this,En).add(hr),hr.select(),De(this,vn,dr).call(this,hr.propertiesToUpdate),De(this,Hn,ur).call(this,{hasSelectedEditor:!0})}isSelected(hr){return We(this,En).has(hr)}unselect(hr){hr.unselect(),We(this,En).delete(hr),De(this,Hn,ur).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return We(this,En).size!==0}undo(){We(this,On).undo(),De(this,Hn,ur).call(this,{hasSomethingToUndo:We(this,On).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:De(this,bn,Gr).call(this)})}redo(){We(this,On).redo(),De(this,Hn,ur).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:We(this,On).hasSomethingToRedo(),isEmpty:De(this,bn,Gr).call(this)})}addCommands(hr){We(this,On).add(hr),De(this,Hn,ur).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:De(this,bn,Gr).call(this)})}delete(){if(We(this,yn)&&We(this,yn).commitOrRemove(),!this.hasSelection)return;const hr=[...We(this,En)],Ur=()=>{for(const ia of hr)ia.remove()},Qr=()=>{for(const ia of hr)De(this,cn,jr).call(this,ia)};this.addCommands({cmd:Ur,undo:Qr,mustExec:!0})}copy(){if(We(this,yn)&&We(this,yn).commitOrRemove(),this.hasSelection){const hr=[];for(const Ur of We(this,En))Ur.isEmpty()||hr.push(Ur);if(hr.length===0)return;We(this,Vn).copy(hr),De(this,Hn,ur).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(We(this,Vn).isEmpty())return;this.unselectAll();const hr=We(this,Ln).get(We(this,Un)),Ur=We(this,Vn).paste().map(Er=>hr.deserialize(Er)),Qr=()=>{for(const Er of Ur)De(this,cn,jr).call(this,Er);De(this,Cn,$r).call(this,Ur)},ia=()=>{for(const Er of Ur)Er.remove()};this.addCommands({cmd:Qr,undo:ia,mustExec:!0})}selectAll(){for(const hr of We(this,En))hr.commit();De(this,Cn,$r).call(this,We(this,zn).values())}unselectAll(){if(We(this,yn)){We(this,yn).commitOrRemove();return}if(De(this,Cn,$r).size!==0){for(const hr of We(this,En))hr.unselect();We(this,En).clear(),De(this,Hn,ur).call(this,{hasSelectedEditor:!1})}}isActive(hr){return We(this,yn)===hr}getActive(){return We(this,yn)}getMode(){return We(this,Nn)}}Ee.AnnotationEditorUIManager=Yn;function Jn(){We(this,wn).addEventListener("keydown",We(this,Sn))}function er(){We(this,wn).removeEventListener("keydown",We(this,Sn))}function ur(Dr){Object.entries(Dr).some(Ur=>{let[Qr,ia]=Ur;return We(this,un)[Qr]!==ia})&&We(this,Gn).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(We(this,un),Dr)})}function dr(Dr){We(this,Gn).dispatch("annotationeditorparamschanged",{source:this,details:Dr})}function br(){if(!We(this,$n)){ze(this,$n,!0);for(const Dr of We(this,Ln).values())Dr.enable()}}function yr(){if(this.unselectAll(),We(this,$n)){ze(this,$n,!1);for(const Dr of We(this,Ln).values())Dr.disable()}}function jr(Dr){const hr=We(this,Ln).get(Dr.pageIndex);hr?hr.addOrRebuild(Dr):this.addEditor(Dr)}function Gr(){if(We(this,zn).size===0)return!0;if(We(this,zn).size===1)for(const Dr of We(this,zn).values())return Dr.isEmpty();return!1}function $r(Dr){We(this,En).clear();for(const hr of Dr)hr.isEmpty()||(We(this,En).add(hr),hr.select());De(this,Hn,ur).call(this,{hasSelectedEditor:!0})}Me(Yn,"_keyboardManager",new sn([[["ctrl+a","mac+meta+a"],Yn.prototype.selectAll],[["ctrl+c","mac+meta+c"],Yn.prototype.copy],[["ctrl+v","mac+meta+v"],Yn.prototype.paste],[["ctrl+x","mac+meta+x"],Yn.prototype.cut],[["ctrl+z","mac+meta+z"],Yn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Yn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Yn.prototype.delete],[["Escape","mac+Escape"],Yn.prototype.unselectAll]]))}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.StatTimer=Ee.RenderingCancelledException=Ee.PixelsPerInch=Ee.PageViewport=Ee.PDFDateString=Ee.DOMStandardFontDataFactory=Ee.DOMSVGFactory=Ee.DOMCanvasFactory=Ee.DOMCMapReaderFactory=Ee.AnnotationPrefix=void 0,Ee.deprecated=hn,Ee.getColorValues=_n,Ee.getCurrentTransform=Mn,Ee.getCurrentTransformInverse=yn,Ee.getFilenameFromUrl=Ze,Ee.getPdfFilenameFromUrl=St,Ee.getRGB=Pn,Ee.getXfaPageViewport=kn,Ee.isDataScheme=an,Ee.isPdfFile=Ye,Ee.isValidFetchUrl=Je,Ee.loadScript=on;var Be=Te(134),Re=Te(1);function Me(zn,Ln,Vn){return Ln in zn?Object.defineProperty(zn,Ln,{value:Vn,enumerable:!0,configurable:!0,writable:!0}):zn[Ln]=Vn,zn}const Ue="http://www.w3.org/2000/svg",De="pdfjs_internal_id_";Ee.AnnotationPrefix=De;class qe{}Ee.PixelsPerInch=qe,Me(qe,"CSS",96),Me(qe,"PDF",72),Me(qe,"PDF_TO_CSS_UNITS",qe.CSS/qe.PDF);class $e extends Be.BaseCanvasFactory{constructor(){let{ownerDocument:Ln=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Ln}_createCanvas(Ln,Vn){const On=this._document.createElement("canvas");return On.width=Ln,On.height=Vn,On}}Ee.DOMCanvasFactory=$e;async function ze(zn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Je(zn,document.baseURI)){const Vn=await fetch(zn);if(!Vn.ok)throw new Error(Vn.statusText);return Ln?new Uint8Array(await Vn.arrayBuffer()):(0,Re.stringToBytes)(await Vn.text())}return new Promise((Vn,On)=>{const Un=new XMLHttpRequest;Un.open("GET",zn,!0),Ln&&(Un.responseType="arraybuffer"),Un.onreadystatechange=()=>{if(Un.readyState===XMLHttpRequest.DONE){if(Un.status===200||Un.status===0){let jn;if(Ln&&Un.response?jn=new Uint8Array(Un.response):!Ln&&Un.responseText&&(jn=(0,Re.stringToBytes)(Un.responseText)),jn){Vn(jn);return}}On(new Error(Un.statusText))}},Un.send(null)})}class Xe extends Be.BaseCMapReaderFactory{_fetchData(Ln,Vn){return ze(Ln,this.isCompressed).then(On=>({cMapData:On,compressionType:Vn}))}}Ee.DOMCMapReaderFactory=Xe;class We extends Be.BaseStandardFontDataFactory{_fetchData(Ln){return ze(Ln,!0)}}Ee.DOMStandardFontDataFactory=We;class Ge extends Be.BaseSVGFactory{_createSVG(Ln){return document.createElementNS(Ue,Ln)}}Ee.DOMSVGFactory=Ge;class tn{constructor(Ln){let{viewBox:Vn,scale:On,rotation:Un,offsetX:jn=0,offsetY:Gn=0,dontFlip:An=!1}=Ln;this.viewBox=Vn,this.scale=On,this.rotation=Un,this.offsetX=jn,this.offsetY=Gn;const $n=(Vn[2]+Vn[0])/2,Nn=(Vn[3]+Vn[1])/2;let En,Sn,pn,mn;switch(Un%=360,Un<0&&(Un+=360),Un){case 180:En=-1,Sn=0,pn=0,mn=1;break;case 90:En=0,Sn=1,pn=1,mn=0;break;case 270:En=0,Sn=-1,pn=-1,mn=0;break;case 0:En=1,Sn=0,pn=0,mn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}An&&(pn=-pn,mn=-mn);let un,wn,xn,Rn;En===0?(un=Math.abs(Nn-Vn[1])*On+jn,wn=Math.abs($n-Vn[0])*On+Gn,xn=Math.abs(Vn[3]-Vn[1])*On,Rn=Math.abs(Vn[2]-Vn[0])*On):(un=Math.abs($n-Vn[0])*On+jn,wn=Math.abs(Nn-Vn[1])*On+Gn,xn=Math.abs(Vn[2]-Vn[0])*On,Rn=Math.abs(Vn[3]-Vn[1])*On),this.transform=[En*On,Sn*On,pn*On,mn*On,un-En*On*$n-pn*On*Nn,wn-Sn*On*$n-mn*On*Nn],this.width=xn,this.height=Rn}clone(){let{scale:Ln=this.scale,rotation:Vn=this.rotation,offsetX:On=this.offsetX,offsetY:Un=this.offsetY,dontFlip:jn=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new tn({viewBox:this.viewBox.slice(),scale:Ln,rotation:Vn,offsetX:On,offsetY:Un,dontFlip:jn})}convertToViewportPoint(Ln,Vn){return Re.Util.applyTransform([Ln,Vn],this.transform)}convertToViewportRectangle(Ln){const Vn=Re.Util.applyTransform([Ln[0],Ln[1]],this.transform),On=Re.Util.applyTransform([Ln[2],Ln[3]],this.transform);return[Vn[0],Vn[1],On[0],On[1]]}convertToPdfPoint(Ln,Vn){return Re.Util.applyInverseTransform([Ln,Vn],this.transform)}}Ee.PageViewport=tn;class en extends Re.BaseException{constructor(Ln,Vn){super(Ln,"RenderingCancelledException"),this.type=Vn}}Ee.RenderingCancelledException=en;function an(zn){const Ln=zn.length;let Vn=0;for(;Vn<Ln&&zn[Vn].trim()==="";)Vn++;return zn.substring(Vn,Vn+5).toLowerCase()==="data:"}function Ye(zn){return typeof zn=="string"&&/\.pdf$/i.test(zn)}function Ze(zn){const Ln=zn.indexOf("#"),Vn=zn.indexOf("?"),On=Math.min(Ln>0?Ln:zn.length,Vn>0?Vn:zn.length);return zn.substring(zn.lastIndexOf("/",On)+1,On)}function St(zn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof zn!="string")return Ln;if(an(zn))return(0,Re.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ln;const Vn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,On=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Un=Vn.exec(zn);let jn=On.exec(Un[1])||On.exec(Un[2])||On.exec(Un[3]);if(jn&&(jn=jn[0],jn.includes("%")))try{jn=On.exec(decodeURIComponent(jn))[0]}catch{}return jn||Ln}class Qe{constructor(){this.started=Object.create(null),this.times=[]}time(Ln){Ln in this.started&&(0,Re.warn)(`Timer is already running for ${Ln}`),this.started[Ln]=Date.now()}timeEnd(Ln){Ln in this.started||(0,Re.warn)(`Timer has not been started for ${Ln}`),this.times.push({name:Ln,start:this.started[Ln],end:Date.now()}),delete this.started[Ln]}toString(){const Ln=[];let Vn=0;for(const On of this.times){const Un=On.name;Un.length>Vn&&(Vn=Un.length)}for(const On of this.times){const Un=On.end-On.start;Ln.push(`${On.name.padEnd(Vn)} ${Un}ms
`)}return Ln.join("")}}Ee.StatTimer=Qe;function Je(zn,Ln){try{const{protocol:Vn}=Ln?new URL(zn,Ln):new URL(zn);return Vn==="http:"||Vn==="https:"}catch{return!1}}function on(zn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((Vn,On)=>{const Un=document.createElement("script");Un.src=zn,Un.onload=function(jn){Ln&&Un.remove(),Vn(jn)},Un.onerror=function(){On(new Error(`Cannot load script at: ${Un.src}`))},(document.head||document.documentElement).append(Un)})}function hn(zn){console.log("Deprecated API usage: "+zn)}let dn;class sn{static toDateObject(Ln){if(!Ln||typeof Ln!="string")return null;dn||(dn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Vn=dn.exec(Ln);if(!Vn)return null;const On=parseInt(Vn[1],10);let Un=parseInt(Vn[2],10);Un=Un>=1&&Un<=12?Un-1:0;let jn=parseInt(Vn[3],10);jn=jn>=1&&jn<=31?jn:1;let Gn=parseInt(Vn[4],10);Gn=Gn>=0&&Gn<=23?Gn:0;let An=parseInt(Vn[5],10);An=An>=0&&An<=59?An:0;let $n=parseInt(Vn[6],10);$n=$n>=0&&$n<=59?$n:0;const Nn=Vn[7]||"Z";let En=parseInt(Vn[8],10);En=En>=0&&En<=23?En:0;let Sn=parseInt(Vn[9],10)||0;return Sn=Sn>=0&&Sn<=59?Sn:0,Nn==="-"?(Gn+=En,An+=Sn):Nn==="+"&&(Gn-=En,An-=Sn),new Date(Date.UTC(On,Un,jn,Gn,An,$n))}}Ee.PDFDateString=sn;function kn(zn,Ln){let{scale:Vn=1,rotation:On=0}=Ln;const{width:Un,height:jn}=zn.attributes.style,Gn=[0,0,parseInt(Un),parseInt(jn)];return new tn({viewBox:Gn,scale:Vn,rotation:On})}function Pn(zn){if(zn.startsWith("#")){const Ln=parseInt(zn.slice(1),16);return[(Ln&16711680)>>16,(Ln&65280)>>8,Ln&255]}return zn.startsWith("rgb(")?zn.slice(4,-1).split(",").map(Ln=>parseInt(Ln)):zn.startsWith("rgba(")?zn.slice(5,-1).split(",").map(Ln=>parseInt(Ln)).slice(0,3):((0,Re.warn)(`Not a valid color format: "${zn}"`),[0,0,0])}function _n(zn){const Ln=document.createElement("span");Ln.style.visibility="hidden",document.body.append(Ln);for(const Vn of zn.keys()){Ln.style.color=Vn;const On=window.getComputedStyle(Ln).color;zn.set(Vn,Pn(On))}Ln.remove()}function Mn(zn){const{a:Ln,b:Vn,c:On,d:Un,e:jn,f:Gn}=zn.getTransform();return[Ln,Vn,On,Un,jn,Gn]}function yn(zn){const{a:Ln,b:Vn,c:On,d:Un,e:jn,f:Gn}=zn.getTransform().invertSelf();return[Ln,Vn,On,Un,jn,Gn]}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.BaseStandardFontDataFactory=Ee.BaseSVGFactory=Ee.BaseCanvasFactory=Ee.BaseCMapReaderFactory=void 0;var Be=Te(1);class Re{constructor(){this.constructor===Re&&(0,Be.unreachable)("Cannot initialize BaseCanvasFactory.")}create($e,ze){if($e<=0||ze<=0)throw new Error("Invalid canvas size");const Xe=this._createCanvas($e,ze);return{canvas:Xe,context:Xe.getContext("2d")}}reset($e,ze,Xe){if(!$e.canvas)throw new Error("Canvas is not specified");if(ze<=0||Xe<=0)throw new Error("Invalid canvas size");$e.canvas.width=ze,$e.canvas.height=Xe}destroy($e){if(!$e.canvas)throw new Error("Canvas is not specified");$e.canvas.width=0,$e.canvas.height=0,$e.canvas=null,$e.context=null}_createCanvas($e,ze){(0,Be.unreachable)("Abstract method `_createCanvas` called.")}}Ee.BaseCanvasFactory=Re;class Me{constructor($e){let{baseUrl:ze=null,isCompressed:Xe=!1}=$e;this.constructor===Me&&(0,Be.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ze,this.isCompressed=Xe}async fetch($e){let{name:ze}=$e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ze)throw new Error("CMap name must be specified.");const Xe=this.baseUrl+ze+(this.isCompressed?".bcmap":""),We=this.isCompressed?Be.CMapCompressionType.BINARY:Be.CMapCompressionType.NONE;return this._fetchData(Xe,We).catch(Ge=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Xe}`)})}_fetchData($e,ze){(0,Be.unreachable)("Abstract method `_fetchData` called.")}}Ee.BaseCMapReaderFactory=Me;class Ue{constructor($e){let{baseUrl:ze=null}=$e;this.constructor===Ue&&(0,Be.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ze}async fetch($e){let{filename:ze}=$e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ze)throw new Error("Font filename must be specified.");const Xe=`${this.baseUrl}${ze}`;return this._fetchData(Xe).catch(We=>{throw new Error(`Unable to load font data at: ${Xe}`)})}_fetchData($e){(0,Be.unreachable)("Abstract method `_fetchData` called.")}}Ee.BaseStandardFontDataFactory=Ue;class De{constructor(){this.constructor===De&&(0,Be.unreachable)("Cannot initialize BaseSVGFactory.")}create($e,ze){let Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if($e<=0||ze<=0)throw new Error("Invalid SVG dimensions");const We=this._createSVG("svg:svg");return We.setAttribute("version","1.1"),Xe||(We.setAttribute("width",`${$e}px`),We.setAttribute("height",`${ze}px`)),We.setAttribute("preserveAspectRatio","none"),We.setAttribute("viewBox",`0 0 ${$e} ${ze}`),We}createElement($e){if(typeof $e!="string")throw new Error("Invalid SVG element type");return this._createSVG($e)}_createSVG($e){(0,Be.unreachable)("Abstract method `_createSVG` called.")}}Ee.BaseSVGFactory=De}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.MurmurHash3_64=void 0;var Be=Te(1);const Re=3285377520,Me=4294901760,Ue=65535;class De{constructor($e){this.h1=$e?$e&4294967295:Re,this.h2=$e?$e&4294967295:Re}update($e){let ze,Xe;if(typeof $e=="string"){ze=new Uint8Array($e.length*2),Xe=0;for(let hn=0,dn=$e.length;hn<dn;hn++){const sn=$e.charCodeAt(hn);sn<=255?ze[Xe++]=sn:(ze[Xe++]=sn>>>8,ze[Xe++]=sn&255)}}else if((0,Be.isArrayBuffer)($e))ze=$e.slice(),Xe=ze.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const We=Xe>>2,Ge=Xe-We*4,tn=new Uint32Array(ze.buffer,0,We);let en=0,an=0,Ye=this.h1,Ze=this.h2;const St=3432918353,Qe=461845907,Je=St&Ue,on=Qe&Ue;for(let hn=0;hn<We;hn++)hn&1?(en=tn[hn],en=en*St&Me|en*Je&Ue,en=en<<15|en>>>17,en=en*Qe&Me|en*on&Ue,Ye^=en,Ye=Ye<<13|Ye>>>19,Ye=Ye*5+3864292196):(an=tn[hn],an=an*St&Me|an*Je&Ue,an=an<<15|an>>>17,an=an*Qe&Me|an*on&Ue,Ze^=an,Ze=Ze<<13|Ze>>>19,Ze=Ze*5+3864292196);switch(en=0,Ge){case 3:en^=ze[We*4+2]<<16;case 2:en^=ze[We*4+1]<<8;case 1:en^=ze[We*4],en=en*St&Me|en*Je&Ue,en=en<<15|en>>>17,en=en*Qe&Me|en*on&Ue,We&1?Ye^=en:Ze^=en}this.h1=Ye,this.h2=Ze}hexdigest(){let $e=this.h1,ze=this.h2;$e^=ze>>>1,$e=$e*3981806797&Me|$e*36045&Ue,ze=ze*4283543511&Me|((ze<<16|$e>>>16)*2950163797&Me)>>>16,$e^=ze>>>1,$e=$e*444984403&Me|$e*60499&Ue,ze=ze*3301882366&Me|((ze<<16|$e>>>16)*3120437893&Me)>>>16,$e^=ze>>>1;const Xe=($e>>>0).toString(16),We=(ze>>>0).toString(16);return Xe.padStart(8,"0")+We.padStart(8,"0")}}Ee.MurmurHash3_64=De}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.FontLoader=Ee.FontFaceObject=void 0;var Be=Te(1);class Re{constructor(qe){let{docId:$e,onUnsupportedFeature:ze,ownerDocument:Xe=globalThis.document,styleElement:We=null}=qe;this.constructor===Re&&(0,Be.unreachable)("Cannot initialize BaseFontLoader."),this.docId=$e,this._onUnsupportedFeature=ze,this._document=Xe,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(qe){this.nativeFontFaces.push(qe),this._document.fonts.add(qe)}insertRule(qe){let $e=this.styleElement;$e||($e=this.styleElement=this._document.createElement("style"),$e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append($e));const ze=$e.sheet;ze.insertRule(qe,ze.cssRules.length)}clear(){for(const qe of this.nativeFontFaces)this._document.fonts.delete(qe);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(qe){if(qe.attached||qe.missingFile)return;if(qe.attached=!0,this.isFontLoadingAPISupported){const ze=qe.createNativeFontFace();if(ze){this.addNativeFontFace(ze);try{await ze.loaded}catch(Xe){throw this._onUnsupportedFeature({featureId:Be.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,Be.warn)(`Failed to load font '${ze.family}': '${Xe}'.`),qe.disableFontFace=!0,Xe}}return}const $e=qe.createFontFaceRule();if($e){if(this.insertRule($e),this.isSyncFontLoadingSupported)return;await new Promise(ze=>{const Xe=this._queueLoadingCallback(ze);this._prepareFontLoadEvent([$e],[qe],Xe)})}}_queueLoadingCallback(qe){(0,Be.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var qe;const $e=!!((qe=this._document)!==null&&qe!==void 0&&qe.fonts);return(0,Be.shadow)(this,"isFontLoadingAPISupported",$e)}get isSyncFontLoadingSupported(){(0,Be.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,Be.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(qe,$e,ze){(0,Be.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let Me;Ee.FontLoader=Me,Ee.FontLoader=Me=class extends Re{constructor(qe){super(qe),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let qe=!1;if(typeof navigator>"u")qe=!0;else{const $e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);($e==null?void 0:$e[1])>=14&&(qe=!0)}return(0,Be.shadow)(this,"isSyncFontLoadingSupported",qe)}_queueLoadingCallback(qe){function $e(){for((0,Be.assert)(!Xe.done,"completeRequest() cannot be called twice."),Xe.done=!0;ze.requests.length>0&&ze.requests[0].done;){const We=ze.requests.shift();setTimeout(We.callback,0)}}const ze=this.loadingContext,Xe={id:`pdfjs-font-loading-${ze.nextRequestId++}`,done:!1,complete:$e,callback:qe};return ze.requests.push(Xe),Xe}get _loadTestFont(){const qe=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,Be.shadow)(this,"_loadTestFont",qe())}_prepareFontLoadEvent(qe,$e,ze){function Xe(Mn,yn){return Mn.charCodeAt(yn)<<24|Mn.charCodeAt(yn+1)<<16|Mn.charCodeAt(yn+2)<<8|Mn.charCodeAt(yn+3)&255}function We(Mn,yn,zn,Ln){const Vn=Mn.substring(0,yn),On=Mn.substring(yn+zn);return Vn+Ln+On}let Ge,tn;const en=this._document.createElement("canvas");en.width=1,en.height=1;const an=en.getContext("2d");let Ye=0;function Ze(Mn,yn){if(Ye++,Ye>30){(0,Be.warn)("Load test font never loaded."),yn();return}if(an.font="30px "+Mn,an.fillText(".",0,20),an.getImageData(0,0,1,1).data[3]>0){yn();return}setTimeout(Ze.bind(null,Mn,yn))}const St=`lt${Date.now()}${this.loadTestFontId++}`;let Qe=this._loadTestFont;Qe=We(Qe,976,St.length,St);const on=16,hn=1482184792;let dn=Xe(Qe,on);for(Ge=0,tn=St.length-3;Ge<tn;Ge+=4)dn=dn-hn+Xe(St,Ge)|0;Ge<St.length&&(dn=dn-hn+Xe(St+"XXX",Ge)|0),Qe=We(Qe,on,4,(0,Be.string32)(dn));const sn=`url(data:font/opentype;base64,${btoa(Qe)});`,kn=`@font-face {font-family:"${St}";src:${sn}}`;this.insertRule(kn);const Pn=[];for(const Mn of $e)Pn.push(Mn.loadedName);Pn.push(St);const _n=this._document.createElement("div");_n.style.visibility="hidden",_n.style.width=_n.style.height="10px",_n.style.position="absolute",_n.style.top=_n.style.left="0px";for(const Mn of Pn){const yn=this._document.createElement("span");yn.textContent="Hi",yn.style.fontFamily=Mn,_n.append(yn)}this._document.body.append(_n),Ze(St,()=>{_n.remove(),ze.complete()})}};class Ue{constructor(qe,$e){let{isEvalSupported:ze=!0,disableFontFace:Xe=!1,ignoreErrors:We=!1,onUnsupportedFeature:Ge,fontRegistry:tn=null}=$e;this.compiledGlyphs=Object.create(null);for(const en in qe)this[en]=qe[en];this.isEvalSupported=ze!==!1,this.disableFontFace=Xe===!0,this.ignoreErrors=We===!0,this._onUnsupportedFeature=Ge,this.fontRegistry=tn}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let qe;if(!this.cssFontInfo)qe=new FontFace(this.loadedName,this.data,{});else{const $e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&($e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),qe=new FontFace(this.cssFontInfo.fontFamily,this.data,$e)}return this.fontRegistry&&this.fontRegistry.registerFont(this),qe}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const qe=(0,Be.bytesToString)(this.data),$e=`url(data:${this.mimetype};base64,${btoa(qe)});`;let ze;if(!this.cssFontInfo)ze=`@font-face {font-family:"${this.loadedName}";src:${$e}}`;else{let Xe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Xe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ze=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Xe}src:${$e}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,$e),ze}getPathGenerator(qe,$e){if(this.compiledGlyphs[$e]!==void 0)return this.compiledGlyphs[$e];let ze;try{ze=qe.get(this.loadedName+"_path_"+$e)}catch(Xe){if(!this.ignoreErrors)throw Xe;return this._onUnsupportedFeature({featureId:Be.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,Be.warn)(`getPathGenerator - ignoring character: "${Xe}".`),this.compiledGlyphs[$e]=function(We,Ge){}}if(this.isEvalSupported&&Be.FeatureTest.isEvalSupported){const Xe=[];for(const We of ze){const Ge=We.args!==void 0?We.args.join(","):"";Xe.push("c.",We.cmd,"(",Ge,`);
`)}return this.compiledGlyphs[$e]=new Function("c","size",Xe.join(""))}return this.compiledGlyphs[$e]=function(Xe,We){for(const Ge of ze)Ge.cmd==="scale"&&(Ge.args=[We,-We]),Xe[Ge.cmd].apply(Xe,Ge.args)}}}Ee.FontFaceObject=Ue}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.CanvasGraphics=void 0;var Be=Te(133),Re=Te(1),Me=Te(138),Ue=Te(139),De=Te(3);function qe(Nn,En){$e(Nn,En),En.add(Nn)}function $e(Nn,En){if(En.has(Nn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ze(Nn,En,Sn){if(!En.has(Nn))throw new TypeError("attempted to get private field on non-instance");return Sn}const Xe=16,We=100,Ge=4096,tn=15,en=10,an=De.isNodeJS&&typeof Path2D>"u"?-1:1e3,Ye=16;function Ze(Nn,En){if(Nn._removeMirroring)throw new Error("Context is already forwarding operations.");Nn.__originalSave=Nn.save,Nn.__originalRestore=Nn.restore,Nn.__originalRotate=Nn.rotate,Nn.__originalScale=Nn.scale,Nn.__originalTranslate=Nn.translate,Nn.__originalTransform=Nn.transform,Nn.__originalSetTransform=Nn.setTransform,Nn.__originalResetTransform=Nn.resetTransform,Nn.__originalClip=Nn.clip,Nn.__originalMoveTo=Nn.moveTo,Nn.__originalLineTo=Nn.lineTo,Nn.__originalBezierCurveTo=Nn.bezierCurveTo,Nn.__originalRect=Nn.rect,Nn.__originalClosePath=Nn.closePath,Nn.__originalBeginPath=Nn.beginPath,Nn._removeMirroring=()=>{Nn.save=Nn.__originalSave,Nn.restore=Nn.__originalRestore,Nn.rotate=Nn.__originalRotate,Nn.scale=Nn.__originalScale,Nn.translate=Nn.__originalTranslate,Nn.transform=Nn.__originalTransform,Nn.setTransform=Nn.__originalSetTransform,Nn.resetTransform=Nn.__originalResetTransform,Nn.clip=Nn.__originalClip,Nn.moveTo=Nn.__originalMoveTo,Nn.lineTo=Nn.__originalLineTo,Nn.bezierCurveTo=Nn.__originalBezierCurveTo,Nn.rect=Nn.__originalRect,Nn.closePath=Nn.__originalClosePath,Nn.beginPath=Nn.__originalBeginPath,delete Nn._removeMirroring},Nn.save=function(){En.save(),this.__originalSave()},Nn.restore=function(){En.restore(),this.__originalRestore()},Nn.translate=function(pn,mn){En.translate(pn,mn),this.__originalTranslate(pn,mn)},Nn.scale=function(pn,mn){En.scale(pn,mn),this.__originalScale(pn,mn)},Nn.transform=function(pn,mn,un,wn,xn,Rn){En.transform(pn,mn,un,wn,xn,Rn),this.__originalTransform(pn,mn,un,wn,xn,Rn)},Nn.setTransform=function(pn,mn,un,wn,xn,Rn){En.setTransform(pn,mn,un,wn,xn,Rn),this.__originalSetTransform(pn,mn,un,wn,xn,Rn)},Nn.resetTransform=function(){En.resetTransform(),this.__originalResetTransform()},Nn.rotate=function(pn){En.rotate(pn),this.__originalRotate(pn)},Nn.clip=function(pn){En.clip(pn),this.__originalClip(pn)},Nn.moveTo=function(Sn,pn){En.moveTo(Sn,pn),this.__originalMoveTo(Sn,pn)},Nn.lineTo=function(Sn,pn){En.lineTo(Sn,pn),this.__originalLineTo(Sn,pn)},Nn.bezierCurveTo=function(Sn,pn,mn,un,wn,xn){En.bezierCurveTo(Sn,pn,mn,un,wn,xn),this.__originalBezierCurveTo(Sn,pn,mn,un,wn,xn)},Nn.rect=function(Sn,pn,mn,un){En.rect(Sn,pn,mn,un),this.__originalRect(Sn,pn,mn,un)},Nn.closePath=function(){En.closePath(),this.__originalClosePath()},Nn.beginPath=function(){En.beginPath(),this.__originalBeginPath()}}class St{constructor(En){this.canvasFactory=En,this.cache=Object.create(null)}getCanvas(En,Sn,pn){let mn;return this.cache[En]!==void 0?(mn=this.cache[En],this.canvasFactory.reset(mn,Sn,pn)):(mn=this.canvasFactory.create(Sn,pn),this.cache[En]=mn),mn}delete(En){delete this.cache[En]}clear(){for(const En in this.cache){const Sn=this.cache[En];this.canvasFactory.destroy(Sn),delete this.cache[En]}}}function Qe(Nn,En,Sn,pn,mn,un,wn,xn,Rn,Hn){const[vn,qn,In,cn,bn,Cn]=(0,Be.getCurrentTransform)(Nn);if(qn===0&&In===0){const er=wn*vn+bn,ur=Math.round(er),dr=xn*cn+Cn,br=Math.round(dr),yr=(wn+Rn)*vn+bn,jr=Math.abs(Math.round(yr)-ur)||1,Gr=(xn+Hn)*cn+Cn,$r=Math.abs(Math.round(Gr)-br)||1;return Nn.setTransform(Math.sign(vn),0,0,Math.sign(cn),ur,br),Nn.drawImage(En,Sn,pn,mn,un,0,0,jr,$r),Nn.setTransform(vn,qn,In,cn,bn,Cn),[jr,$r]}if(vn===0&&cn===0){const er=xn*In+bn,ur=Math.round(er),dr=wn*qn+Cn,br=Math.round(dr),yr=(xn+Hn)*In+bn,jr=Math.abs(Math.round(yr)-ur)||1,Gr=(wn+Rn)*qn+Cn,$r=Math.abs(Math.round(Gr)-br)||1;return Nn.setTransform(0,Math.sign(qn),Math.sign(In),0,ur,br),Nn.drawImage(En,Sn,pn,mn,un,0,0,$r,jr),Nn.setTransform(vn,qn,In,cn,bn,Cn),[$r,jr]}Nn.drawImage(En,Sn,pn,mn,un,wn,xn,Rn,Hn);const Yn=Math.hypot(vn,qn),Jn=Math.hypot(In,cn);return[Yn*Rn,Jn*Hn]}function Je(Nn){const{width:En,height:Sn}=Nn;if(En>an||Sn>an)return null;const pn=1e3,mn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),un=En+1;let wn=new Uint8Array(un*(Sn+1)),xn,Rn,Hn;const vn=En+7&-8;let qn=new Uint8Array(vn*Sn),In=0;for(const Jn of Nn.data){let er=128;for(;er>0;)qn[In++]=Jn&er?0:255,er>>=1}let cn=0;for(In=0,qn[In]!==0&&(wn[0]=1,++cn),Rn=1;Rn<En;Rn++)qn[In]!==qn[In+1]&&(wn[Rn]=qn[In]?2:1,++cn),In++;for(qn[In]!==0&&(wn[Rn]=2,++cn),xn=1;xn<Sn;xn++){In=xn*vn,Hn=xn*un,qn[In-vn]!==qn[In]&&(wn[Hn]=qn[In]?1:8,++cn);let Jn=(qn[In]?4:0)+(qn[In-vn]?8:0);for(Rn=1;Rn<En;Rn++)Jn=(Jn>>2)+(qn[In+1]?4:0)+(qn[In-vn+1]?8:0),mn[Jn]&&(wn[Hn+Rn]=mn[Jn],++cn),In++;if(qn[In-vn]!==qn[In]&&(wn[Hn+Rn]=qn[In]?2:4,++cn),cn>pn)return null}for(In=vn*(Sn-1),Hn=xn*un,qn[In]!==0&&(wn[Hn]=8,++cn),Rn=1;Rn<En;Rn++)qn[In]!==qn[In+1]&&(wn[Hn+Rn]=qn[In]?4:8,++cn),In++;if(qn[In]!==0&&(wn[Hn+Rn]=4,++cn),cn>pn)return null;const bn=new Int32Array([0,un,-1,0,-un,0,0,0,1]),Cn=new Path2D;for(xn=0;cn&&xn<=Sn;xn++){let Jn=xn*un;const er=Jn+En;for(;Jn<er&&!wn[Jn];)Jn++;if(Jn===er)continue;Cn.moveTo(Jn%un,xn);const ur=Jn;let dr=wn[Jn];do{const br=bn[dr];do Jn+=br;while(!wn[Jn]);const yr=wn[Jn];yr!==5&&yr!==10?(dr=yr,wn[Jn]=0):(dr=yr&51*dr>>4,wn[Jn]&=dr>>2|dr<<2),Cn.lineTo(Jn%un,Jn/un|0),wn[Jn]||--cn}while(ur!==Jn);--xn}return qn=null,wn=null,function(Jn){Jn.save(),Jn.scale(1/En,-1/Sn),Jn.translate(0,-Sn),Jn.fill(Cn),Jn.beginPath(),Jn.restore()}}class on{constructor(En,Sn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Re.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Re.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Re.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,En,Sn])}clone(){const En=Object.create(this);return En.clipBox=this.clipBox.slice(),En}setCurrentPoint(En,Sn){this.x=En,this.y=Sn}updatePathMinMax(En,Sn,pn){[Sn,pn]=Re.Util.applyTransform([Sn,pn],En),this.minX=Math.min(this.minX,Sn),this.minY=Math.min(this.minY,pn),this.maxX=Math.max(this.maxX,Sn),this.maxY=Math.max(this.maxY,pn)}updateRectMinMax(En,Sn){const pn=Re.Util.applyTransform(Sn,En),mn=Re.Util.applyTransform(Sn.slice(2),En);this.minX=Math.min(this.minX,pn[0],mn[0]),this.minY=Math.min(this.minY,pn[1],mn[1]),this.maxX=Math.max(this.maxX,pn[0],mn[0]),this.maxY=Math.max(this.maxY,pn[1],mn[1])}updateScalingPathMinMax(En,Sn){Re.Util.scaleMinMax(En,Sn),this.minX=Math.min(this.minX,Sn[0]),this.maxX=Math.max(this.maxX,Sn[1]),this.minY=Math.min(this.minY,Sn[2]),this.maxY=Math.max(this.maxY,Sn[3])}updateCurvePathMinMax(En,Sn,pn,mn,un,wn,xn,Rn,Hn,vn){const qn=Re.Util.bezierBoundingBox(Sn,pn,mn,un,wn,xn,Rn,Hn);if(vn){vn[0]=Math.min(vn[0],qn[0],qn[2]),vn[1]=Math.max(vn[1],qn[0],qn[2]),vn[2]=Math.min(vn[2],qn[1],qn[3]),vn[3]=Math.max(vn[3],qn[1],qn[3]);return}this.updateRectMinMax(En,qn)}getPathBoundingBox(){let En=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Me.PathType.FILL,Sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const pn=[this.minX,this.minY,this.maxX,this.maxY];if(En===Me.PathType.STROKE){Sn||(0,Re.unreachable)("Stroke bounding box must include transform.");const mn=Re.Util.singularValueDecompose2dScale(Sn),un=mn[0]*this.lineWidth/2,wn=mn[1]*this.lineWidth/2;pn[0]-=un,pn[1]-=wn,pn[2]+=un,pn[3]+=wn}return pn}updateClipFromPath(){const En=Re.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(En||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(En){this.clipBox=En,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let En=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Me.PathType.FILL,Sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Re.Util.intersect(this.clipBox,this.getPathBoundingBox(En,Sn))}}function hn(Nn,En){let Sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&En instanceof ImageData){Nn.putImageData(En,0,0);return}const pn=En.height,mn=En.width,un=pn%Ye,wn=(pn-un)/Ye,xn=un===0?wn:wn+1,Rn=Nn.createImageData(mn,Ye);let Hn=0,vn;const qn=En.data,In=Rn.data;let cn,bn,Cn,Yn,Jn,er,ur,dr;if(Sn)switch(Sn.length){case 1:Jn=Sn[0],er=Sn[0],ur=Sn[0],dr=Sn[0];break;case 4:Jn=Sn[0],er=Sn[1],ur=Sn[2],dr=Sn[3];break}if(En.kind===Re.ImageKind.GRAYSCALE_1BPP){const br=qn.byteLength,yr=new Uint32Array(In.buffer,0,In.byteLength>>2),jr=yr.length,Gr=mn+7>>3;let $r=4294967295,Dr=Re.FeatureTest.isLittleEndian?4278190080:255;for(dr&&dr[0]===255&&dr[255]===0&&([$r,Dr]=[Dr,$r]),cn=0;cn<xn;cn++){for(Cn=cn<wn?Ye:un,vn=0,bn=0;bn<Cn;bn++){const hr=br-Hn;let Ur=0;const Qr=hr>Gr?mn:hr*8-7,ia=Qr&-8;let Er=0,Kr=0;for(;Ur<ia;Ur+=8)Kr=qn[Hn++],yr[vn++]=Kr&128?$r:Dr,yr[vn++]=Kr&64?$r:Dr,yr[vn++]=Kr&32?$r:Dr,yr[vn++]=Kr&16?$r:Dr,yr[vn++]=Kr&8?$r:Dr,yr[vn++]=Kr&4?$r:Dr,yr[vn++]=Kr&2?$r:Dr,yr[vn++]=Kr&1?$r:Dr;for(;Ur<Qr;Ur++)Er===0&&(Kr=qn[Hn++],Er=128),yr[vn++]=Kr&Er?$r:Dr,Er>>=1}for(;vn<jr;)yr[vn++]=0;Nn.putImageData(Rn,0,cn*Ye)}}else if(En.kind===Re.ImageKind.RGBA_32BPP){const br=!!(Jn||er||ur);for(bn=0,Yn=mn*Ye*4,cn=0;cn<wn;cn++){if(In.set(qn.subarray(Hn,Hn+Yn)),Hn+=Yn,br)for(let yr=0;yr<Yn;yr+=4)Jn&&(In[yr+0]=Jn[In[yr+0]]),er&&(In[yr+1]=er[In[yr+1]]),ur&&(In[yr+2]=ur[In[yr+2]]);Nn.putImageData(Rn,0,bn),bn+=Ye}if(cn<xn){if(Yn=mn*un*4,In.set(qn.subarray(Hn,Hn+Yn)),br)for(let yr=0;yr<Yn;yr+=4)Jn&&(In[yr+0]=Jn[In[yr+0]]),er&&(In[yr+1]=er[In[yr+1]]),ur&&(In[yr+2]=ur[In[yr+2]]);Nn.putImageData(Rn,0,bn)}}else if(En.kind===Re.ImageKind.RGB_24BPP){const br=!!(Jn||er||ur);for(Cn=Ye,Yn=mn*Cn,cn=0;cn<xn;cn++){for(cn>=wn&&(Cn=un,Yn=mn*Cn),vn=0,bn=Yn;bn--;)In[vn++]=qn[Hn++],In[vn++]=qn[Hn++],In[vn++]=qn[Hn++],In[vn++]=255;if(br)for(let yr=0;yr<vn;yr+=4)Jn&&(In[yr+0]=Jn[In[yr+0]]),er&&(In[yr+1]=er[In[yr+1]]),ur&&(In[yr+2]=ur[In[yr+2]]);Nn.putImageData(Rn,0,cn*Ye)}}else throw new Error(`bad image kind: ${En.kind}`)}function dn(Nn,En){if(En.bitmap){Nn.drawImage(En.bitmap,0,0);return}const Sn=En.height,pn=En.width,mn=Sn%Ye,un=(Sn-mn)/Ye,wn=mn===0?un:un+1,xn=Nn.createImageData(pn,Ye);let Rn=0;const Hn=En.data,vn=xn.data;for(let qn=0;qn<wn;qn++){const In=qn<un?Ye:mn;({srcPos:Rn}=(0,Ue.applyMaskImageData)({src:Hn,srcPos:Rn,dest:vn,width:pn,height:In})),Nn.putImageData(xn,0,qn*Ye)}}function sn(Nn,En){const Sn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let pn=0,mn=Sn.length;pn<mn;pn++){const un=Sn[pn];Nn[un]!==void 0&&(En[un]=Nn[un])}Nn.setLineDash!==void 0&&(En.setLineDash(Nn.getLineDash()),En.lineDashOffset=Nn.lineDashOffset)}function kn(Nn,En){Nn.strokeStyle=Nn.fillStyle=En||"#000000",Nn.fillRule="nonzero",Nn.globalAlpha=1,Nn.lineWidth=1,Nn.lineCap="butt",Nn.lineJoin="miter",Nn.miterLimit=10,Nn.globalCompositeOperation="source-over",Nn.font="10px sans-serif",Nn.setLineDash!==void 0&&(Nn.setLineDash([]),Nn.lineDashOffset=0)}function Pn(Nn,En,Sn,pn){const mn=Nn.length;for(let un=3;un<mn;un+=4){const wn=Nn[un];if(wn===0)Nn[un-3]=En,Nn[un-2]=Sn,Nn[un-1]=pn;else if(wn<255){const xn=255-wn;Nn[un-3]=Nn[un-3]*wn+En*xn>>8,Nn[un-2]=Nn[un-2]*wn+Sn*xn>>8,Nn[un-1]=Nn[un-1]*wn+pn*xn>>8}}}function _n(Nn,En,Sn){const pn=Nn.length,mn=1/255;for(let un=3;un<pn;un+=4){const wn=Sn?Sn[Nn[un]]:Nn[un];En[un]=En[un]*wn*mn|0}}function Mn(Nn,En,Sn){const pn=Nn.length;for(let mn=3;mn<pn;mn+=4){const un=Nn[mn-3]*77+Nn[mn-2]*152+Nn[mn-1]*28;En[mn]=Sn?En[mn]*Sn[un>>8]>>8:En[mn]*un>>16}}function yn(Nn,En,Sn,pn,mn,un,wn,xn,Rn,Hn,vn){const qn=!!un,In=qn?un[0]:0,cn=qn?un[1]:0,bn=qn?un[2]:0;let Cn;mn==="Luminosity"?Cn=Mn:Cn=_n;const Jn=Math.min(pn,Math.ceil(1048576/Sn));for(let er=0;er<pn;er+=Jn){const ur=Math.min(Jn,pn-er),dr=Nn.getImageData(xn-Hn,er+(Rn-vn),Sn,ur),br=En.getImageData(xn,er+Rn,Sn,ur);qn&&Pn(dr.data,In,cn,bn),Cn(dr.data,br.data,wn),En.putImageData(br,xn,er+Rn)}}function zn(Nn,En,Sn,pn){const mn=pn[0],un=pn[1],wn=pn[2]-mn,xn=pn[3]-un;wn===0||xn===0||(yn(En.context,Sn,wn,xn,En.subtype,En.backdrop,En.transferMap,mn,un,En.offsetX,En.offsetY),Nn.save(),Nn.globalAlpha=1,Nn.globalCompositeOperation="source-over",Nn.setTransform(1,0,0,1,0,0),Nn.drawImage(Sn.canvas,0,0),Nn.restore())}function Ln(Nn,En){const Sn=Re.Util.singularValueDecompose2dScale(Nn);Sn[0]=Math.fround(Sn[0]),Sn[1]=Math.fround(Sn[1]);const pn=Math.fround((globalThis.devicePixelRatio||1)*Be.PixelsPerInch.PDF_TO_CSS_UNITS);return En!==void 0?En:Sn[0]<=pn||Sn[1]<=pn}const Vn=["butt","round","square"],On=["miter","round","bevel"],Un={},jn={};var Gn=new WeakSet;class An{constructor(En,Sn,pn,mn,un,wn,xn,Rn){qe(this,Gn),this.ctx=En,this.current=new on(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Sn,this.objs=pn,this.canvasFactory=mn,this.imageLayer=un,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=wn,this.cachedCanvases=new St(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=xn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Rn==null?void 0:Rn.background)||null,this.foregroundColor=(Rn==null?void 0:Rn.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(En){let Sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof En=="string"?En.startsWith("g_")?this.commonObjs.get(En):this.objs.get(En):Sn}beginDrawing(En){let{transform:Sn,viewport:pn,transparency:mn=!1,background:un=null}=En;const wn=this.ctx.canvas.width,xn=this.ctx.canvas.height,Rn=un||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Hn=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const vn=this.backgroundColor=this.ctx.fillStyle;let qn=!0,In=Rn;if(this.ctx.fillStyle=Rn,In=this.ctx.fillStyle,qn=typeof In=="string"&&/^#[0-9A-Fa-f]{6}$/.test(In),Hn==="#000000"&&vn==="#ffffff"||Hn===vn||!qn)this.foregroundColor=this.backgroundColor=null;else{const[cn,bn,Cn]=(0,Be.getRGB)(In),Yn=er=>(er/=255,er<=.03928?er/12.92:((er+.055)/1.055)**2.4),Jn=Math.round(.2126*Yn(cn)+.7152*Yn(bn)+.0722*Yn(Cn));this.selectColor=(er,ur,dr)=>{const br=.2126*Yn(er)+.7152*Yn(ur)+.0722*Yn(dr);return Math.round(br)===Jn?vn:Hn}}}if(this.ctx.fillStyle=this.backgroundColor||Rn,this.ctx.fillRect(0,0,wn,xn),this.ctx.restore(),mn){const Hn=this.cachedCanvases.getCanvas("transparent",wn,xn);this.compositeCtx=this.ctx,this.transparentCanvas=Hn.canvas,this.ctx=Hn.context,this.ctx.save(),this.ctx.transform(...(0,Be.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),kn(this.ctx,this.foregroundColor),Sn&&(this.ctx.transform(...Sn),this.outputScaleX=Sn[0],this.outputScaleY=Sn[0]),this.ctx.transform(...pn.transform),this.viewportScale=pn.scale,this.baseTransform=(0,Be.getCurrentTransform)(this.ctx),this.imageLayer&&((0,Be.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(En,Sn,pn,mn){const un=En.argsArray,wn=En.fnArray;let xn=Sn||0;const Rn=un.length;if(Rn===xn)return xn;const Hn=Rn-xn>en&&typeof pn=="function",vn=Hn?Date.now()+tn:0;let qn=0;const In=this.commonObjs,cn=this.objs;let bn;for(;;){if(mn!==void 0&&xn===mn.nextBreakPoint)return mn.breakIt(xn,pn),xn;if(bn=wn[xn],bn!==Re.OPS.dependency)this[bn].apply(this,un[xn]);else for(const Cn of un[xn]){const Yn=Cn.startsWith("g_")?In:cn;if(!Yn.has(Cn))return Yn.get(Cn,pn),xn}if(xn++,xn===Rn)return xn;if(Hn&&++qn>en){if(Date.now()>vn)return pn(),xn;qn=0}}}endDrawing(){ze(this,Gn,$n).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const En of this._cachedBitmapsMap.values()){for(const Sn of En.values())typeof HTMLCanvasElement<"u"&&Sn instanceof HTMLCanvasElement&&(Sn.width=Sn.height=0);En.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(En,Sn){const pn=En.width,mn=En.height;let un=Math.max(Math.hypot(Sn[0],Sn[1]),1),wn=Math.max(Math.hypot(Sn[2],Sn[3]),1),xn=pn,Rn=mn,Hn="prescale1",vn,qn;for(;un>2&&xn>1||wn>2&&Rn>1;){let In=xn,cn=Rn;un>2&&xn>1&&(In=Math.ceil(xn/2),un/=xn/In),wn>2&&Rn>1&&(cn=Math.ceil(Rn/2),wn/=Rn/cn),vn=this.cachedCanvases.getCanvas(Hn,In,cn),qn=vn.context,qn.clearRect(0,0,In,cn),qn.drawImage(En,0,0,xn,Rn,0,0,In,cn),En=vn.canvas,xn=In,Rn=cn,Hn=Hn==="prescale1"?"prescale2":"prescale1"}return{img:En,paintWidth:xn,paintHeight:Rn}}_createMaskCanvas(En){const Sn=this.ctx,{width:pn,height:mn}=En,un=this.current.fillColor,wn=this.current.patternFill,xn=(0,Be.getCurrentTransform)(Sn);let Rn,Hn,vn,qn;if((En.bitmap||En.data)&&En.count>1){const jr=En.bitmap||En.data.buffer,Gr=xn.slice(0,4);Hn=JSON.stringify(wn?Gr:[Gr,un]),Rn=this._cachedBitmapsMap.get(jr),Rn||(Rn=new Map,this._cachedBitmapsMap.set(jr,Rn));const $r=Rn.get(Hn);if($r&&!wn){const Dr=Math.round(Math.min(xn[0],xn[2])+xn[4]),hr=Math.round(Math.min(xn[1],xn[3])+xn[5]);return{canvas:$r,offsetX:Dr,offsetY:hr}}vn=$r}vn||(qn=this.cachedCanvases.getCanvas("maskCanvas",pn,mn),dn(qn.context,En));let In=Re.Util.transform(xn,[1/pn,0,0,-1/mn,0,0]);In=Re.Util.transform(In,[1,0,0,1,0,-mn]);const cn=Re.Util.applyTransform([0,0],In),bn=Re.Util.applyTransform([pn,mn],In),Cn=Re.Util.normalizeRect([cn[0],cn[1],bn[0],bn[1]]),Yn=Math.round(Cn[2]-Cn[0])||1,Jn=Math.round(Cn[3]-Cn[1])||1,er=this.cachedCanvases.getCanvas("fillCanvas",Yn,Jn),ur=er.context,dr=Math.min(cn[0],bn[0]),br=Math.min(cn[1],bn[1]);ur.translate(-dr,-br),ur.transform(...In),vn||(vn=this._scaleImage(qn.canvas,(0,Be.getCurrentTransformInverse)(ur)),vn=vn.img,Rn&&wn&&Rn.set(Hn,vn)),ur.imageSmoothingEnabled=Ln((0,Be.getCurrentTransform)(ur),En.interpolate),Qe(ur,vn,0,0,vn.width,vn.height,0,0,pn,mn),ur.globalCompositeOperation="source-in";const yr=Re.Util.transform((0,Be.getCurrentTransformInverse)(ur),[1,0,0,1,-dr,-br]);return ur.fillStyle=wn?un.getPattern(Sn,this,yr,Me.PathType.FILL):un,ur.fillRect(0,0,pn,mn),Rn&&!wn&&(this.cachedCanvases.delete("fillCanvas"),Rn.set(Hn,er.canvas)),{canvas:er.canvas,offsetX:Math.round(dr),offsetY:Math.round(br)}}setLineWidth(En){En!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=En,this.ctx.lineWidth=En}setLineCap(En){this.ctx.lineCap=Vn[En]}setLineJoin(En){this.ctx.lineJoin=On[En]}setMiterLimit(En){this.ctx.miterLimit=En}setDash(En,Sn){const pn=this.ctx;pn.setLineDash!==void 0&&(pn.setLineDash(En),pn.lineDashOffset=Sn)}setRenderingIntent(En){}setFlatness(En){}setGState(En){for(let Sn=0,pn=En.length;Sn<pn;Sn++){const mn=En[Sn],un=mn[0],wn=mn[1];switch(un){case"LW":this.setLineWidth(wn);break;case"LC":this.setLineCap(wn);break;case"LJ":this.setLineJoin(wn);break;case"ML":this.setMiterLimit(wn);break;case"D":this.setDash(wn[0],wn[1]);break;case"RI":this.setRenderingIntent(wn);break;case"FL":this.setFlatness(wn);break;case"Font":this.setFont(wn[0],wn[1]);break;case"CA":this.current.strokeAlpha=mn[1];break;case"ca":this.current.fillAlpha=mn[1],this.ctx.globalAlpha=mn[1];break;case"BM":this.ctx.globalCompositeOperation=wn;break;case"SMask":this.current.activeSMask=wn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=wn}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const En=this.inSMaskMode;this.current.activeSMask&&!En?this.beginSMaskMode():!this.current.activeSMask&&En&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const En=this.ctx.canvas.width,Sn=this.ctx.canvas.height,pn="smaskGroupAt"+this.groupLevel,mn=this.cachedCanvases.getCanvas(pn,En,Sn);this.suspendedCtx=this.ctx,this.ctx=mn.context;const un=this.ctx;un.setTransform(...(0,Be.getCurrentTransform)(this.suspendedCtx)),sn(this.suspendedCtx,un),Ze(un,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),sn(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(En){if(!this.current.activeSMask)return;En?(En[0]=Math.floor(En[0]),En[1]=Math.floor(En[1]),En[2]=Math.ceil(En[2]),En[3]=Math.ceil(En[3])):En=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Sn=this.current.activeSMask,pn=this.suspendedCtx;zn(pn,Sn,this.ctx,En),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(sn(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const En=this.current;this.stateStack.push(En),this.current=En.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),sn(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(En,Sn,pn,mn,un,wn){this.ctx.transform(En,Sn,pn,mn,un,wn),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(En,Sn,pn){const mn=this.ctx,un=this.current;let wn=un.x,xn=un.y,Rn,Hn;const vn=(0,Be.getCurrentTransform)(mn),qn=vn[0]===0&&vn[3]===0||vn[1]===0&&vn[2]===0,In=qn?pn.slice(0):null;for(let cn=0,bn=0,Cn=En.length;cn<Cn;cn++)switch(En[cn]|0){case Re.OPS.rectangle:wn=Sn[bn++],xn=Sn[bn++];const Yn=Sn[bn++],Jn=Sn[bn++],er=wn+Yn,ur=xn+Jn;mn.moveTo(wn,xn),Yn===0||Jn===0?mn.lineTo(er,ur):(mn.lineTo(er,xn),mn.lineTo(er,ur),mn.lineTo(wn,ur)),qn||un.updateRectMinMax(vn,[wn,xn,er,ur]),mn.closePath();break;case Re.OPS.moveTo:wn=Sn[bn++],xn=Sn[bn++],mn.moveTo(wn,xn),qn||un.updatePathMinMax(vn,wn,xn);break;case Re.OPS.lineTo:wn=Sn[bn++],xn=Sn[bn++],mn.lineTo(wn,xn),qn||un.updatePathMinMax(vn,wn,xn);break;case Re.OPS.curveTo:Rn=wn,Hn=xn,wn=Sn[bn+4],xn=Sn[bn+5],mn.bezierCurveTo(Sn[bn],Sn[bn+1],Sn[bn+2],Sn[bn+3],wn,xn),un.updateCurvePathMinMax(vn,Rn,Hn,Sn[bn],Sn[bn+1],Sn[bn+2],Sn[bn+3],wn,xn,In),bn+=6;break;case Re.OPS.curveTo2:Rn=wn,Hn=xn,mn.bezierCurveTo(wn,xn,Sn[bn],Sn[bn+1],Sn[bn+2],Sn[bn+3]),un.updateCurvePathMinMax(vn,Rn,Hn,wn,xn,Sn[bn],Sn[bn+1],Sn[bn+2],Sn[bn+3],In),wn=Sn[bn+2],xn=Sn[bn+3],bn+=4;break;case Re.OPS.curveTo3:Rn=wn,Hn=xn,wn=Sn[bn+2],xn=Sn[bn+3],mn.bezierCurveTo(Sn[bn],Sn[bn+1],wn,xn,wn,xn),un.updateCurvePathMinMax(vn,Rn,Hn,Sn[bn],Sn[bn+1],wn,xn,wn,xn,In),bn+=4;break;case Re.OPS.closePath:mn.closePath();break}qn&&un.updateScalingPathMinMax(vn,In),un.setCurrentPoint(wn,xn)}closePath(){this.ctx.closePath()}stroke(En){En=typeof En<"u"?En:!0;const Sn=this.ctx,pn=this.current.strokeColor;Sn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof pn=="object"&&pn!==null&&pn!==void 0&&pn.getPattern?(Sn.save(),Sn.strokeStyle=pn.getPattern(Sn,this,(0,Be.getCurrentTransformInverse)(Sn),Me.PathType.STROKE),this.rescaleAndStroke(!1),Sn.restore()):this.rescaleAndStroke(!0)),En&&this.consumePath(this.current.getClippedPathBoundingBox()),Sn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(En){En=typeof En<"u"?En:!0;const Sn=this.ctx,pn=this.current.fillColor,mn=this.current.patternFill;let un=!1;mn&&(Sn.save(),Sn.fillStyle=pn.getPattern(Sn,this,(0,Be.getCurrentTransformInverse)(Sn),Me.PathType.FILL),un=!0);const wn=this.current.getClippedPathBoundingBox();this.contentVisible&&wn!==null&&(this.pendingEOFill?(Sn.fill("evenodd"),this.pendingEOFill=!1):Sn.fill()),un&&Sn.restore(),En&&this.consumePath(wn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Un}eoClip(){this.pendingClip=jn}beginText(){this.current.textMatrix=Re.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const En=this.pendingTextPaths,Sn=this.ctx;if(En===void 0){Sn.beginPath();return}Sn.save(),Sn.beginPath();for(const pn of En)Sn.setTransform(...pn.transform),Sn.translate(pn.x,pn.y),pn.addToPath(Sn,pn.fontSize);Sn.restore(),Sn.clip(),Sn.beginPath(),delete this.pendingTextPaths}setCharSpacing(En){this.current.charSpacing=En}setWordSpacing(En){this.current.wordSpacing=En}setHScale(En){this.current.textHScale=En/100}setLeading(En){this.current.leading=-En}setFont(En,Sn){const pn=this.commonObjs.get(En),mn=this.current;if(!pn)throw new Error(`Can't find font for ${En}`);if(mn.fontMatrix=pn.fontMatrix||Re.FONT_IDENTITY_MATRIX,(mn.fontMatrix[0]===0||mn.fontMatrix[3]===0)&&(0,Re.warn)("Invalid font matrix for font "+En),Sn<0?(Sn=-Sn,mn.fontDirection=-1):mn.fontDirection=1,this.current.font=pn,this.current.fontSize=Sn,pn.isType3Font)return;const un=pn.loadedName||"sans-serif";let wn="normal";pn.black?wn="900":pn.bold&&(wn="bold");const xn=pn.italic?"italic":"normal",Rn=`"${un}", ${pn.fallbackName}`;let Hn=Sn;Sn<Xe?Hn=Xe:Sn>We&&(Hn=We),this.current.fontSizeScale=Sn/Hn,this.ctx.font=`${xn} ${wn} ${Hn}px ${Rn}`}setTextRenderingMode(En){this.current.textRenderingMode=En}setTextRise(En){this.current.textRise=En}moveText(En,Sn){this.current.x=this.current.lineX+=En,this.current.y=this.current.lineY+=Sn}setLeadingMoveText(En,Sn){this.setLeading(-Sn),this.moveText(En,Sn)}setTextMatrix(En,Sn,pn,mn,un,wn){this.current.textMatrix=[En,Sn,pn,mn,un,wn],this.current.textMatrixScale=Math.hypot(En,Sn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(En,Sn,pn,mn){const un=this.ctx,wn=this.current,xn=wn.font,Rn=wn.textRenderingMode,Hn=wn.fontSize/wn.fontSizeScale,vn=Rn&Re.TextRenderingMode.FILL_STROKE_MASK,qn=!!(Rn&Re.TextRenderingMode.ADD_TO_PATH_FLAG),In=wn.patternFill&&!xn.missingFile;let cn;(xn.disableFontFace||qn||In)&&(cn=xn.getPathGenerator(this.commonObjs,En)),xn.disableFontFace||In?(un.save(),un.translate(Sn,pn),un.beginPath(),cn(un,Hn),mn&&un.setTransform(...mn),(vn===Re.TextRenderingMode.FILL||vn===Re.TextRenderingMode.FILL_STROKE)&&un.fill(),(vn===Re.TextRenderingMode.STROKE||vn===Re.TextRenderingMode.FILL_STROKE)&&un.stroke(),un.restore()):((vn===Re.TextRenderingMode.FILL||vn===Re.TextRenderingMode.FILL_STROKE)&&un.fillText(En,Sn,pn),(vn===Re.TextRenderingMode.STROKE||vn===Re.TextRenderingMode.FILL_STROKE)&&un.strokeText(En,Sn,pn)),qn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,Be.getCurrentTransform)(un),x:Sn,y:pn,fontSize:Hn,addToPath:cn})}get isFontSubpixelAAEnabled(){const{context:En}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);En.scale(1.5,1),En.fillText("I",0,10);const Sn=En.getImageData(0,0,10,10).data;let pn=!1;for(let mn=3;mn<Sn.length;mn+=4)if(Sn[mn]>0&&Sn[mn]<255){pn=!0;break}return(0,Re.shadow)(this,"isFontSubpixelAAEnabled",pn)}showText(En){const Sn=this.current,pn=Sn.font;if(pn.isType3Font)return this.showType3Text(En);const mn=Sn.fontSize;if(mn===0)return;const un=this.ctx,wn=Sn.fontSizeScale,xn=Sn.charSpacing,Rn=Sn.wordSpacing,Hn=Sn.fontDirection,vn=Sn.textHScale*Hn,qn=En.length,In=pn.vertical,cn=In?1:-1,bn=pn.defaultVMetrics,Cn=mn*Sn.fontMatrix[0],Yn=Sn.textRenderingMode===Re.TextRenderingMode.FILL&&!pn.disableFontFace&&!Sn.patternFill;un.save(),un.transform(...Sn.textMatrix),un.translate(Sn.x,Sn.y+Sn.textRise),Hn>0?un.scale(vn,-1):un.scale(vn,1);let Jn;if(Sn.patternFill){un.save();const yr=Sn.fillColor.getPattern(un,this,(0,Be.getCurrentTransformInverse)(un),Me.PathType.FILL);Jn=(0,Be.getCurrentTransform)(un),un.restore(),un.fillStyle=yr}let er=Sn.lineWidth;const ur=Sn.textMatrixScale;if(ur===0||er===0){const yr=Sn.textRenderingMode&Re.TextRenderingMode.FILL_STROKE_MASK;(yr===Re.TextRenderingMode.STROKE||yr===Re.TextRenderingMode.FILL_STROKE)&&(er=this.getSinglePixelWidth())}else er/=ur;wn!==1&&(un.scale(wn,wn),er/=wn),un.lineWidth=er;let dr=0,br;for(br=0;br<qn;++br){const yr=En[br];if(typeof yr=="number"){dr+=cn*yr*mn/1e3;continue}let jr=!1;const Gr=(yr.isSpace?Rn:0)+xn,$r=yr.fontChar,Dr=yr.accent;let hr,Ur,Qr=yr.width;if(In){const Er=yr.vmetric||bn,Kr=-(yr.vmetric?Er[1]:Qr*.5)*Cn,na=Er[2]*Cn;Qr=Er?-Er[0]:Qr,hr=Kr/wn,Ur=(dr+na)/wn}else hr=dr/wn,Ur=0;if(pn.remeasure&&Qr>0){const Er=un.measureText($r).width*1e3/mn*wn;if(Qr<Er&&this.isFontSubpixelAAEnabled){const Kr=Qr/Er;jr=!0,un.save(),un.scale(Kr,1),hr/=Kr}else Qr!==Er&&(hr+=(Qr-Er)/2e3*mn/wn)}if(this.contentVisible&&(yr.isInFont||pn.missingFile)){if(Yn&&!Dr)un.fillText($r,hr,Ur);else if(this.paintChar($r,hr,Ur,Jn),Dr){const Er=hr+mn*Dr.offset.x/wn,Kr=Ur-mn*Dr.offset.y/wn;this.paintChar(Dr.fontChar,Er,Kr,Jn)}}let ia;In?ia=Qr*Cn-Gr*Hn:ia=Qr*Cn+Gr*Hn,dr+=ia,jr&&un.restore()}In?Sn.y-=dr:Sn.x+=dr*vn,un.restore(),this.compose()}showType3Text(En){const Sn=this.ctx,pn=this.current,mn=pn.font,un=pn.fontSize,wn=pn.fontDirection,xn=mn.vertical?1:-1,Rn=pn.charSpacing,Hn=pn.wordSpacing,vn=pn.textHScale*wn,qn=pn.fontMatrix||Re.FONT_IDENTITY_MATRIX,In=En.length,cn=pn.textRenderingMode===Re.TextRenderingMode.INVISIBLE;let bn,Cn,Yn,Jn;if(!(cn||un===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Sn.save(),Sn.transform(...pn.textMatrix),Sn.translate(pn.x,pn.y),Sn.scale(vn,wn),bn=0;bn<In;++bn){if(Cn=En[bn],typeof Cn=="number"){Jn=xn*Cn*un/1e3,this.ctx.translate(Jn,0),pn.x+=Jn*vn;continue}const er=(Cn.isSpace?Hn:0)+Rn,ur=mn.charProcOperatorList[Cn.operatorListId];if(!ur){(0,Re.warn)(`Type3 character "${Cn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Cn,this.save(),Sn.scale(un,un),Sn.transform(...qn),this.executeOperatorList(ur),this.restore()),Yn=Re.Util.applyTransform([Cn.width,0],qn)[0]*un+er,Sn.translate(Yn,0),pn.x+=Yn*vn}Sn.restore(),this.processingType3=null}}setCharWidth(En,Sn){}setCharWidthAndBounds(En,Sn,pn,mn,un,wn){this.ctx.rect(pn,mn,un-pn,wn-mn),this.ctx.clip(),this.endPath()}getColorN_Pattern(En){let Sn;if(En[0]==="TilingPattern"){const pn=En[1],mn=this.baseTransform||(0,Be.getCurrentTransform)(this.ctx),un={createCanvasGraphics:wn=>new An(wn,this.commonObjs,this.objs,this.canvasFactory)};Sn=new Me.TilingPattern(En,pn,this.ctx,un,mn)}else Sn=this._getPattern(En[1],En[2]);return Sn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(En,Sn,pn){var mn;const un=((mn=this.selectColor)===null||mn===void 0?void 0:mn.call(this,En,Sn,pn))||Re.Util.makeHexColor(En,Sn,pn);this.ctx.strokeStyle=un,this.current.strokeColor=un}setFillRGBColor(En,Sn,pn){var mn;const un=((mn=this.selectColor)===null||mn===void 0?void 0:mn.call(this,En,Sn,pn))||Re.Util.makeHexColor(En,Sn,pn);this.ctx.fillStyle=un,this.current.fillColor=un,this.current.patternFill=!1}_getPattern(En){let Sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,pn;return this.cachedPatterns.has(En)?pn=this.cachedPatterns.get(En):(pn=(0,Me.getShadingPattern)(this.objs.get(En)),this.cachedPatterns.set(En,pn)),Sn&&(pn.matrix=Sn),pn}shadingFill(En){if(!this.contentVisible)return;const Sn=this.ctx;this.save();const pn=this._getPattern(En);Sn.fillStyle=pn.getPattern(Sn,this,(0,Be.getCurrentTransformInverse)(Sn),Me.PathType.SHADING);const mn=(0,Be.getCurrentTransformInverse)(Sn);if(mn){const un=Sn.canvas,wn=un.width,xn=un.height,Rn=Re.Util.applyTransform([0,0],mn),Hn=Re.Util.applyTransform([0,xn],mn),vn=Re.Util.applyTransform([wn,0],mn),qn=Re.Util.applyTransform([wn,xn],mn),In=Math.min(Rn[0],Hn[0],vn[0],qn[0]),cn=Math.min(Rn[1],Hn[1],vn[1],qn[1]),bn=Math.max(Rn[0],Hn[0],vn[0],qn[0]),Cn=Math.max(Rn[1],Hn[1],vn[1],qn[1]);this.ctx.fillRect(In,cn,bn-In,Cn-cn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Re.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Re.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(En,Sn){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(En)&&En.length===6&&this.transform(...En),this.baseTransform=(0,Be.getCurrentTransform)(this.ctx),Sn)){const pn=Sn[2]-Sn[0],mn=Sn[3]-Sn[1];this.ctx.rect(Sn[0],Sn[1],pn,mn),this.current.updateRectMinMax((0,Be.getCurrentTransform)(this.ctx),Sn),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(En){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Sn=this.ctx;En.isolated||(0,Re.info)("TODO: Support non-isolated groups."),En.knockout&&(0,Re.warn)("Knockout groups not supported.");const pn=(0,Be.getCurrentTransform)(Sn);if(En.matrix&&Sn.transform(...En.matrix),!En.bbox)throw new Error("Bounding box is required.");let mn=Re.Util.getAxialAlignedBoundingBox(En.bbox,(0,Be.getCurrentTransform)(Sn));const un=[0,0,Sn.canvas.width,Sn.canvas.height];mn=Re.Util.intersect(mn,un)||[0,0,0,0];const wn=Math.floor(mn[0]),xn=Math.floor(mn[1]);let Rn=Math.max(Math.ceil(mn[2])-wn,1),Hn=Math.max(Math.ceil(mn[3])-xn,1),vn=1,qn=1;Rn>Ge&&(vn=Rn/Ge,Rn=Ge),Hn>Ge&&(qn=Hn/Ge,Hn=Ge),this.current.startNewPathAndClipBox([0,0,Rn,Hn]);let In="groupAt"+this.groupLevel;En.smask&&(In+="_smask_"+this.smaskCounter++%2);const cn=this.cachedCanvases.getCanvas(In,Rn,Hn),bn=cn.context;bn.scale(1/vn,1/qn),bn.translate(-wn,-xn),bn.transform(...pn),En.smask?this.smaskStack.push({canvas:cn.canvas,context:bn,offsetX:wn,offsetY:xn,scaleX:vn,scaleY:qn,subtype:En.smask.subtype,backdrop:En.smask.backdrop,transferMap:En.smask.transferMap||null,startTransformInverse:null}):(Sn.setTransform(1,0,0,1,0,0),Sn.translate(wn,xn),Sn.scale(vn,qn),Sn.save()),sn(Sn,bn),this.ctx=bn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Sn),this.groupLevel++}endGroup(En){if(!this.contentVisible)return;this.groupLevel--;const Sn=this.ctx,pn=this.groupStack.pop();if(this.ctx=pn,this.ctx.imageSmoothingEnabled=!1,En.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const mn=(0,Be.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...mn);const un=Re.Util.getAxialAlignedBoundingBox([0,0,Sn.canvas.width,Sn.canvas.height],mn);this.ctx.drawImage(Sn.canvas,0,0),this.ctx.restore(),this.compose(un)}}beginAnnotation(En,Sn,pn,mn,un){if(ze(this,Gn,$n).call(this),kn(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Sn)&&Sn.length===4){const wn=Sn[2]-Sn[0],xn=Sn[3]-Sn[1];if(un&&this.annotationCanvasMap){pn=pn.slice(),pn[4]-=Sn[0],pn[5]-=Sn[1],Sn=Sn.slice(),Sn[0]=Sn[1]=0,Sn[2]=wn,Sn[3]=xn;const[Rn,Hn]=Re.Util.singularValueDecompose2dScale((0,Be.getCurrentTransform)(this.ctx)),{viewportScale:vn}=this,qn=Math.ceil(wn*this.outputScaleX*vn),In=Math.ceil(xn*this.outputScaleY*vn);this.annotationCanvas=this.canvasFactory.create(qn,In);const{canvas:cn,context:bn}=this.annotationCanvas;this.annotationCanvasMap.set(En,cn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=bn,this.ctx.setTransform(Rn,0,0,-Hn,0,xn*Hn),kn(this.ctx,this.foregroundColor)}else kn(this.ctx,this.foregroundColor),this.ctx.rect(Sn[0],Sn[1],wn,xn),this.ctx.clip(),this.endPath()}this.current=new on(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...pn),this.transform(...mn)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(En){if(!this.contentVisible)return;const Sn=En.count;En=this.getObject(En.data,En),En.count=Sn;const pn=this.ctx,mn=this.processingType3;if(mn&&(mn.compiled===void 0&&(mn.compiled=Je(En)),mn.compiled)){mn.compiled(pn);return}const un=this._createMaskCanvas(En),wn=un.canvas;pn.save(),pn.setTransform(1,0,0,1,0,0),pn.drawImage(wn,un.offsetX,un.offsetY),pn.restore(),this.compose()}paintImageMaskXObjectRepeat(En,Sn){let pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,mn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,un=arguments.length>4?arguments[4]:void 0,wn=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;En=this.getObject(En.data,En);const xn=this.ctx;xn.save();const Rn=(0,Be.getCurrentTransform)(xn);xn.transform(Sn,pn,mn,un,0,0);const Hn=this._createMaskCanvas(En);xn.setTransform(1,0,0,1,0,0);for(let vn=0,qn=wn.length;vn<qn;vn+=2){const In=Re.Util.transform(Rn,[Sn,pn,mn,un,wn[vn],wn[vn+1]]),[cn,bn]=Re.Util.applyTransform([0,0],In);xn.drawImage(Hn.canvas,cn,bn)}xn.restore(),this.compose()}paintImageMaskXObjectGroup(En){if(!this.contentVisible)return;const Sn=this.ctx,pn=this.current.fillColor,mn=this.current.patternFill;for(const un of En){const{data:wn,width:xn,height:Rn,transform:Hn}=un,vn=this.cachedCanvases.getCanvas("maskCanvas",xn,Rn),qn=vn.context;qn.save();const In=this.getObject(wn,un);dn(qn,In),qn.globalCompositeOperation="source-in",qn.fillStyle=mn?pn.getPattern(qn,this,(0,Be.getCurrentTransformInverse)(Sn),Me.PathType.FILL):pn,qn.fillRect(0,0,xn,Rn),qn.restore(),Sn.save(),Sn.transform(...Hn),Sn.scale(1,-1),Qe(Sn,vn.canvas,0,0,xn,Rn,0,-1,1,1),Sn.restore()}this.compose()}paintImageXObject(En){if(!this.contentVisible)return;const Sn=this.getObject(En);if(!Sn){(0,Re.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Sn)}paintImageXObjectRepeat(En,Sn,pn,mn){if(!this.contentVisible)return;const un=this.getObject(En);if(!un){(0,Re.warn)("Dependent image isn't ready yet");return}const wn=un.width,xn=un.height,Rn=[];for(let Hn=0,vn=mn.length;Hn<vn;Hn+=2)Rn.push({transform:[Sn,0,0,pn,mn[Hn],mn[Hn+1]],x:0,y:0,w:wn,h:xn});this.paintInlineImageXObjectGroup(un,Rn)}paintInlineImageXObject(En){if(!this.contentVisible)return;const Sn=En.width,pn=En.height,mn=this.ctx;this.save(),mn.scale(1/Sn,-1/pn);let un;if(typeof HTMLElement=="function"&&En instanceof HTMLElement||!En.data)un=En;else{const Hn=this.cachedCanvases.getCanvas("inlineImage",Sn,pn),vn=Hn.context;hn(vn,En,this.current.transferMaps),un=Hn.canvas}const wn=this._scaleImage(un,(0,Be.getCurrentTransformInverse)(mn));mn.imageSmoothingEnabled=Ln((0,Be.getCurrentTransform)(mn),En.interpolate);const[xn,Rn]=Qe(mn,wn.img,0,0,wn.paintWidth,wn.paintHeight,0,-pn,Sn,pn);if(this.imageLayer){const[Hn,vn]=Re.Util.applyTransform([0,-pn],(0,Be.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:En,left:Hn,top:vn,width:xn,height:Rn})}this.compose(),this.restore()}paintInlineImageXObjectGroup(En,Sn){if(!this.contentVisible)return;const pn=this.ctx,mn=En.width,un=En.height,wn=this.cachedCanvases.getCanvas("inlineImage",mn,un),xn=wn.context;hn(xn,En,this.current.transferMaps);for(const Rn of Sn){if(pn.save(),pn.transform(...Rn.transform),pn.scale(1,-1),Qe(pn,wn.canvas,Rn.x,Rn.y,Rn.w,Rn.h,0,-1,1,1),this.imageLayer){const[Hn,vn]=Re.Util.applyTransform([Rn.x,Rn.y],(0,Be.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:En,left:Hn,top:vn,width:mn,height:un})}pn.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(En){}markPointProps(En,Sn){}beginMarkedContent(En){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(En,Sn){En==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Sn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(En){const Sn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(En);const pn=this.ctx;this.pendingClip&&(Sn||(this.pendingClip===jn?pn.clip("evenodd"):pn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),pn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const En=(0,Be.getCurrentTransform)(this.ctx);if(En[1]===0&&En[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(En[0]),Math.abs(En[3]));else{const Sn=Math.abs(En[0]*En[3]-En[2]*En[1]),pn=Math.hypot(En[0],En[2]),mn=Math.hypot(En[1],En[3]);this._cachedGetSinglePixelWidth=Math.max(pn,mn)/Sn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:En}=this.current,Sn=(0,Be.getCurrentTransform)(this.ctx);let pn,mn;if(Sn[1]===0&&Sn[2]===0){const un=Math.abs(Sn[0]),wn=Math.abs(Sn[3]);if(En===0)pn=1/un,mn=1/wn;else{const xn=un*En,Rn=wn*En;pn=xn<1?1/xn:1,mn=Rn<1?1/Rn:1}}else{const un=Math.abs(Sn[0]*Sn[3]-Sn[2]*Sn[1]),wn=Math.hypot(Sn[0],Sn[1]),xn=Math.hypot(Sn[2],Sn[3]);if(En===0)pn=xn/un,mn=wn/un;else{const Rn=En*un;pn=xn>Rn?xn/Rn:1,mn=wn>Rn?wn/Rn:1}}this._cachedScaleForStroking=[pn,mn]}return this._cachedScaleForStroking}rescaleAndStroke(En){const{ctx:Sn}=this,{lineWidth:pn}=this.current,[mn,un]=this.getScaleForStroking();if(Sn.lineWidth=pn||1,mn===1&&un===1){Sn.stroke();return}let wn,xn,Rn;En&&(wn=(0,Be.getCurrentTransform)(Sn),xn=Sn.getLineDash().slice(),Rn=Sn.lineDashOffset),Sn.scale(mn,un);const Hn=Math.max(mn,un);Sn.setLineDash(Sn.getLineDash().map(vn=>vn/Hn)),Sn.lineDashOffset/=Hn,Sn.stroke(),En&&(Sn.setTransform(...wn),Sn.setLineDash(xn),Sn.lineDashOffset=Rn)}isContentVisible(){for(let En=this.markedContentStack.length-1;En>=0;En--)if(!this.markedContentStack[En].visible)return!1;return!0}}Ee.CanvasGraphics=An;function $n(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const Nn in Re.OPS)An.prototype[Nn]!==void 0&&(An.prototype[Re.OPS[Nn]]=An.prototype[Nn])}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.TilingPattern=Ee.PathType=void 0,Ee.getShadingPattern=tn;var Be=Te(1),Re=Te(133),Me=Te(3);const Ue={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};Ee.PathType=Ue;function De(Ye,Ze){if(!Ze||Me.isNodeJS)return;const St=Ze[2]-Ze[0],Qe=Ze[3]-Ze[1],Je=new Path2D;Je.rect(Ze[0],Ze[1],St,Qe),Ye.clip(Je)}class qe{constructor(){this.constructor===qe&&(0,Be.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Be.unreachable)("Abstract method `getPattern` called.")}}class $e extends qe{constructor(Ze){super(),this._type=Ze[1],this._bbox=Ze[2],this._colorStops=Ze[3],this._p0=Ze[4],this._p1=Ze[5],this._r0=Ze[6],this._r1=Ze[7],this.matrix=null}_createGradient(Ze){let St;this._type==="axial"?St=Ze.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(St=Ze.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Qe of this._colorStops)St.addColorStop(Qe[0],Qe[1]);return St}getPattern(Ze,St,Qe,Je){let on;if(Je===Ue.STROKE||Je===Ue.FILL){const hn=St.current.getClippedPathBoundingBox(Je,(0,Re.getCurrentTransform)(Ze))||[0,0,0,0],dn=Math.ceil(hn[2]-hn[0])||1,sn=Math.ceil(hn[3]-hn[1])||1,kn=St.cachedCanvases.getCanvas("pattern",dn,sn,!0),Pn=kn.context;Pn.clearRect(0,0,Pn.canvas.width,Pn.canvas.height),Pn.beginPath(),Pn.rect(0,0,Pn.canvas.width,Pn.canvas.height),Pn.translate(-hn[0],-hn[1]),Qe=Be.Util.transform(Qe,[1,0,0,1,hn[0],hn[1]]),Pn.transform(...St.baseTransform),this.matrix&&Pn.transform(...this.matrix),De(Pn,this._bbox),Pn.fillStyle=this._createGradient(Pn),Pn.fill(),on=Ze.createPattern(kn.canvas,"no-repeat");const _n=new DOMMatrix(Qe);try{on.setTransform(_n)}catch(Mn){(0,Be.warn)(`RadialAxialShadingPattern.getPattern: "${Mn==null?void 0:Mn.message}".`)}}else De(Ze,this._bbox),on=this._createGradient(Ze);return on}}function ze(Ye,Ze,St,Qe,Je,on,hn,dn){const sn=Ze.coords,kn=Ze.colors,Pn=Ye.data,_n=Ye.width*4;let Mn;sn[St+1]>sn[Qe+1]&&(Mn=St,St=Qe,Qe=Mn,Mn=on,on=hn,hn=Mn),sn[Qe+1]>sn[Je+1]&&(Mn=Qe,Qe=Je,Je=Mn,Mn=hn,hn=dn,dn=Mn),sn[St+1]>sn[Qe+1]&&(Mn=St,St=Qe,Qe=Mn,Mn=on,on=hn,hn=Mn);const yn=(sn[St]+Ze.offsetX)*Ze.scaleX,zn=(sn[St+1]+Ze.offsetY)*Ze.scaleY,Ln=(sn[Qe]+Ze.offsetX)*Ze.scaleX,Vn=(sn[Qe+1]+Ze.offsetY)*Ze.scaleY,On=(sn[Je]+Ze.offsetX)*Ze.scaleX,Un=(sn[Je+1]+Ze.offsetY)*Ze.scaleY;if(zn>=Un)return;const jn=kn[on],Gn=kn[on+1],An=kn[on+2],$n=kn[hn],Nn=kn[hn+1],En=kn[hn+2],Sn=kn[dn],pn=kn[dn+1],mn=kn[dn+2],un=Math.round(zn),wn=Math.round(Un);let xn,Rn,Hn,vn,qn,In,cn,bn;for(let Cn=un;Cn<=wn;Cn++){if(Cn<Vn){let dr;Cn<zn?dr=0:dr=(zn-Cn)/(zn-Vn),xn=yn-(yn-Ln)*dr,Rn=jn-(jn-$n)*dr,Hn=Gn-(Gn-Nn)*dr,vn=An-(An-En)*dr}else{let dr;Cn>Un?dr=1:Vn===Un?dr=0:dr=(Vn-Cn)/(Vn-Un),xn=Ln-(Ln-On)*dr,Rn=$n-($n-Sn)*dr,Hn=Nn-(Nn-pn)*dr,vn=En-(En-mn)*dr}let Yn;Cn<zn?Yn=0:Cn>Un?Yn=1:Yn=(zn-Cn)/(zn-Un),qn=yn-(yn-On)*Yn,In=jn-(jn-Sn)*Yn,cn=Gn-(Gn-pn)*Yn,bn=An-(An-mn)*Yn;const Jn=Math.round(Math.min(xn,qn)),er=Math.round(Math.max(xn,qn));let ur=_n*Cn+Jn*4;for(let dr=Jn;dr<=er;dr++)Yn=(xn-dr)/(xn-qn),Yn<0?Yn=0:Yn>1&&(Yn=1),Pn[ur++]=Rn-(Rn-In)*Yn|0,Pn[ur++]=Hn-(Hn-cn)*Yn|0,Pn[ur++]=vn-(vn-bn)*Yn|0,Pn[ur++]=255}}function Xe(Ye,Ze,St){const Qe=Ze.coords,Je=Ze.colors;let on,hn;switch(Ze.type){case"lattice":const dn=Ze.verticesPerRow,sn=Math.floor(Qe.length/dn)-1,kn=dn-1;for(on=0;on<sn;on++){let Pn=on*dn;for(let _n=0;_n<kn;_n++,Pn++)ze(Ye,St,Qe[Pn],Qe[Pn+1],Qe[Pn+dn],Je[Pn],Je[Pn+1],Je[Pn+dn]),ze(Ye,St,Qe[Pn+dn+1],Qe[Pn+1],Qe[Pn+dn],Je[Pn+dn+1],Je[Pn+1],Je[Pn+dn])}break;case"triangles":for(on=0,hn=Qe.length;on<hn;on+=3)ze(Ye,St,Qe[on],Qe[on+1],Qe[on+2],Je[on],Je[on+1],Je[on+2]);break;default:throw new Error("illegal figure")}}class We extends qe{constructor(Ze){super(),this._coords=Ze[2],this._colors=Ze[3],this._figures=Ze[4],this._bounds=Ze[5],this._bbox=Ze[7],this._background=Ze[8],this.matrix=null}_createMeshCanvas(Ze,St,Qe){const dn=Math.floor(this._bounds[0]),sn=Math.floor(this._bounds[1]),kn=Math.ceil(this._bounds[2])-dn,Pn=Math.ceil(this._bounds[3])-sn,_n=Math.min(Math.ceil(Math.abs(kn*Ze[0]*1.1)),3e3),Mn=Math.min(Math.ceil(Math.abs(Pn*Ze[1]*1.1)),3e3),yn=kn/_n,zn=Pn/Mn,Ln={coords:this._coords,colors:this._colors,offsetX:-dn,offsetY:-sn,scaleX:1/yn,scaleY:1/zn},Vn=_n+4,On=Mn+4,Un=Qe.getCanvas("mesh",Vn,On,!1),jn=Un.context,Gn=jn.createImageData(_n,Mn);if(St){const $n=Gn.data;for(let Nn=0,En=$n.length;Nn<En;Nn+=4)$n[Nn]=St[0],$n[Nn+1]=St[1],$n[Nn+2]=St[2],$n[Nn+3]=255}for(const $n of this._figures)Xe(Gn,$n,Ln);return jn.putImageData(Gn,2,2),{canvas:Un.canvas,offsetX:dn-2*yn,offsetY:sn-2*zn,scaleX:yn,scaleY:zn}}getPattern(Ze,St,Qe,Je){De(Ze,this._bbox);let on;if(Je===Ue.SHADING)on=Be.Util.singularValueDecompose2dScale((0,Re.getCurrentTransform)(Ze));else if(on=Be.Util.singularValueDecompose2dScale(St.baseTransform),this.matrix){const dn=Be.Util.singularValueDecompose2dScale(this.matrix);on=[on[0]*dn[0],on[1]*dn[1]]}const hn=this._createMeshCanvas(on,Je===Ue.SHADING?null:this._background,St.cachedCanvases);return Je!==Ue.SHADING&&(Ze.setTransform(...St.baseTransform),this.matrix&&Ze.transform(...this.matrix)),Ze.translate(hn.offsetX,hn.offsetY),Ze.scale(hn.scaleX,hn.scaleY),Ze.createPattern(hn.canvas,"no-repeat")}}class Ge extends qe{getPattern(){return"hotpink"}}function tn(Ye){switch(Ye[0]){case"RadialAxial":return new $e(Ye);case"Mesh":return new We(Ye);case"Dummy":return new Ge}throw new Error(`Unknown IR type: ${Ye[0]}`)}const en={COLORED:1,UNCOLORED:2};class an{static get MAX_PATTERN_SIZE(){return(0,Be.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Ze,St,Qe,Je,on){this.operatorList=Ze[2],this.matrix=Ze[3]||[1,0,0,1,0,0],this.bbox=Ze[4],this.xstep=Ze[5],this.ystep=Ze[6],this.paintType=Ze[7],this.tilingType=Ze[8],this.color=St,this.ctx=Qe,this.canvasGraphicsFactory=Je,this.baseTransform=on}createPatternCanvas(Ze){const St=this.operatorList,Qe=this.bbox,Je=this.xstep,on=this.ystep,hn=this.paintType,dn=this.tilingType,sn=this.color,kn=this.canvasGraphicsFactory;(0,Be.info)("TilingType: "+dn);const Pn=Qe[0],_n=Qe[1],Mn=Qe[2],yn=Qe[3],zn=Be.Util.singularValueDecompose2dScale(this.matrix),Ln=Be.Util.singularValueDecompose2dScale(this.baseTransform),Vn=[zn[0]*Ln[0],zn[1]*Ln[1]],On=this.getSizeAndScale(Je,this.ctx.canvas.width,Vn[0]),Un=this.getSizeAndScale(on,this.ctx.canvas.height,Vn[1]),jn=Ze.cachedCanvases.getCanvas("pattern",On.size,Un.size,!0),Gn=jn.context,An=kn.createCanvasGraphics(Gn);An.groupLevel=Ze.groupLevel,this.setFillAndStrokeStyleToContext(An,hn,sn);let $n=Pn,Nn=_n,En=Mn,Sn=yn;return Pn<0&&($n=0,En+=Math.abs(Pn)),_n<0&&(Nn=0,Sn+=Math.abs(_n)),Gn.translate(-(On.scale*$n),-(Un.scale*Nn)),An.transform(On.scale,0,0,Un.scale,0,0),Gn.save(),this.clipBbox(An,$n,Nn,En,Sn),An.baseTransform=(0,Re.getCurrentTransform)(An.ctx),An.executeOperatorList(St),An.endDrawing(),{canvas:jn.canvas,scaleX:On.scale,scaleY:Un.scale,offsetX:$n,offsetY:Nn}}getSizeAndScale(Ze,St,Qe){Ze=Math.abs(Ze);const Je=Math.max(an.MAX_PATTERN_SIZE,St);let on=Math.ceil(Ze*Qe);return on>=Je?on=Je:Qe=on/Ze,{scale:Qe,size:on}}clipBbox(Ze,St,Qe,Je,on){const hn=Je-St,dn=on-Qe;Ze.ctx.rect(St,Qe,hn,dn),Ze.current.updateRectMinMax((0,Re.getCurrentTransform)(Ze.ctx),[St,Qe,Je,on]),Ze.clip(),Ze.endPath()}setFillAndStrokeStyleToContext(Ze,St,Qe){const Je=Ze.ctx,on=Ze.current;switch(St){case en.COLORED:const hn=this.ctx;Je.fillStyle=hn.fillStyle,Je.strokeStyle=hn.strokeStyle,on.fillColor=hn.fillStyle,on.strokeColor=hn.strokeStyle;break;case en.UNCOLORED:const dn=Be.Util.makeHexColor(Qe[0],Qe[1],Qe[2]);Je.fillStyle=dn,Je.strokeStyle=dn,on.fillColor=dn,on.strokeColor=dn;break;default:throw new Be.FormatError(`Unsupported paint type: ${St}`)}}getPattern(Ze,St,Qe,Je){let on=Qe;Je!==Ue.SHADING&&(on=Be.Util.transform(on,St.baseTransform),this.matrix&&(on=Be.Util.transform(on,this.matrix)));const hn=this.createPatternCanvas(St);let dn=new DOMMatrix(on);dn=dn.translate(hn.offsetX,hn.offsetY),dn=dn.scale(1/hn.scaleX,1/hn.scaleY);const sn=Ze.createPattern(hn.canvas,"repeat");try{sn.setTransform(dn)}catch(kn){(0,Be.warn)(`TilingPattern.getPattern: "${kn==null?void 0:kn.message}".`)}return sn}}Ee.TilingPattern=an}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.applyMaskImageData=Re;var Be=Te(1);function Re(Me){let{src:Ue,srcPos:De=0,dest:qe,destPos:$e=0,width:ze,height:Xe,inverseDecode:We=!1}=Me;const Ge=Be.FeatureTest.isLittleEndian?4278190080:255,[tn,en]=We?[0,Ge]:[Ge,0],an=ze>>3,Ye=ze&7,Ze=Ue.length;qe=new Uint32Array(qe.buffer);for(let St=0;St<Xe;St++){for(const Je=De+an;De<Je;De++){const on=De<Ze?Ue[De]:255;qe[$e++]=on&128?en:tn,qe[$e++]=on&64?en:tn,qe[$e++]=on&32?en:tn,qe[$e++]=on&16?en:tn,qe[$e++]=on&8?en:tn,qe[$e++]=on&4?en:tn,qe[$e++]=on&2?en:tn,qe[$e++]=on&1?en:tn}if(Ye===0)continue;const Qe=De<Ze?Ue[De++]:255;for(let Je=0;Je<Ye;Je++)qe[$e++]=Qe&1<<7-Je?en:tn}return{srcPos:De,destPos:$e}}}),((Ce,Ee)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.GlobalWorkerOptions=void 0;const Te=Object.create(null);Ee.GlobalWorkerOptions=Te,Te.workerPort=Te.workerPort===void 0?null:Te.workerPort,Te.workerSrc=Te.workerSrc===void 0?"":Te.workerSrc}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.MessageHandler=void 0;var Be=Te(1);const Re={DATA:1,ERROR:2},Me={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ue(qe){switch(qe instanceof Error||typeof qe=="object"&&qe!==null||(0,Be.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),qe.name){case"AbortException":return new Be.AbortException(qe.message);case"MissingPDFException":return new Be.MissingPDFException(qe.message);case"PasswordException":return new Be.PasswordException(qe.message,qe.code);case"UnexpectedResponseException":return new Be.UnexpectedResponseException(qe.message,qe.status);case"UnknownErrorException":return new Be.UnknownErrorException(qe.message,qe.details);default:return new Be.UnknownErrorException(qe.message,qe.toString())}}class De{constructor($e,ze,Xe){this.sourceName=$e,this.targetName=ze,this.comObj=Xe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=We=>{const Ge=We.data;if(Ge.targetName!==this.sourceName)return;if(Ge.stream){this._processStreamMessage(Ge);return}if(Ge.callback){const en=Ge.callbackId,an=this.callbackCapabilities[en];if(!an)throw new Error(`Cannot resolve callback ${en}`);if(delete this.callbackCapabilities[en],Ge.callback===Re.DATA)an.resolve(Ge.data);else if(Ge.callback===Re.ERROR)an.reject(Ue(Ge.reason));else throw new Error("Unexpected callback case");return}const tn=this.actionHandler[Ge.action];if(!tn)throw new Error(`Unknown action from worker: ${Ge.action}`);if(Ge.callbackId){const en=this.sourceName,an=Ge.sourceName;new Promise(function(Ye){Ye(tn(Ge.data))}).then(function(Ye){Xe.postMessage({sourceName:en,targetName:an,callback:Re.DATA,callbackId:Ge.callbackId,data:Ye})},function(Ye){Xe.postMessage({sourceName:en,targetName:an,callback:Re.ERROR,callbackId:Ge.callbackId,reason:Ue(Ye)})});return}if(Ge.streamId){this._createStreamSink(Ge);return}tn(Ge.data)},Xe.addEventListener("message",this._onComObjOnMessage)}on($e,ze){const Xe=this.actionHandler;if(Xe[$e])throw new Error(`There is already an actionName called "${$e}"`);Xe[$e]=ze}send($e,ze,Xe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$e,data:ze},Xe)}sendWithPromise($e,ze,Xe){const We=this.callbackId++,Ge=(0,Be.createPromiseCapability)();this.callbackCapabilities[We]=Ge;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$e,callbackId:We,data:ze},Xe)}catch(tn){Ge.reject(tn)}return Ge.promise}sendWithStream($e,ze,Xe,We){const Ge=this.streamId++,tn=this.sourceName,en=this.targetName,an=this.comObj;return new ReadableStream({start:Ye=>{const Ze=(0,Be.createPromiseCapability)();return this.streamControllers[Ge]={controller:Ye,startCall:Ze,pullCall:null,cancelCall:null,isClosed:!1},an.postMessage({sourceName:tn,targetName:en,action:$e,streamId:Ge,data:ze,desiredSize:Ye.desiredSize},We),Ze.promise},pull:Ye=>{const Ze=(0,Be.createPromiseCapability)();return this.streamControllers[Ge].pullCall=Ze,an.postMessage({sourceName:tn,targetName:en,stream:Me.PULL,streamId:Ge,desiredSize:Ye.desiredSize}),Ze.promise},cancel:Ye=>{(0,Be.assert)(Ye instanceof Error,"cancel must have a valid reason");const Ze=(0,Be.createPromiseCapability)();return this.streamControllers[Ge].cancelCall=Ze,this.streamControllers[Ge].isClosed=!0,an.postMessage({sourceName:tn,targetName:en,stream:Me.CANCEL,streamId:Ge,reason:Ue(Ye)}),Ze.promise}},Xe)}_createStreamSink($e){const ze=$e.streamId,Xe=this.sourceName,We=$e.sourceName,Ge=this.comObj,tn=this,en=this.actionHandler[$e.action],an={enqueue(Ye){let Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,St=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const Qe=this.desiredSize;this.desiredSize-=Ze,Qe>0&&this.desiredSize<=0&&(this.sinkCapability=(0,Be.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.ENQUEUE,streamId:ze,chunk:Ye},St)},close(){this.isCancelled||(this.isCancelled=!0,Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.CLOSE,streamId:ze}),delete tn.streamSinks[ze])},error(Ye){(0,Be.assert)(Ye instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.ERROR,streamId:ze,reason:Ue(Ye)}))},sinkCapability:(0,Be.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$e.desiredSize,ready:null};an.sinkCapability.resolve(),an.ready=an.sinkCapability.promise,this.streamSinks[ze]=an,new Promise(function(Ye){Ye(en($e.data,an))}).then(function(){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.START_COMPLETE,streamId:ze,success:!0})},function(Ye){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.START_COMPLETE,streamId:ze,reason:Ue(Ye)})})}_processStreamMessage($e){const ze=$e.streamId,Xe=this.sourceName,We=$e.sourceName,Ge=this.comObj,tn=this.streamControllers[ze],en=this.streamSinks[ze];switch($e.stream){case Me.START_COMPLETE:$e.success?tn.startCall.resolve():tn.startCall.reject(Ue($e.reason));break;case Me.PULL_COMPLETE:$e.success?tn.pullCall.resolve():tn.pullCall.reject(Ue($e.reason));break;case Me.PULL:if(!en){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.PULL_COMPLETE,streamId:ze,success:!0});break}en.desiredSize<=0&&$e.desiredSize>0&&en.sinkCapability.resolve(),en.desiredSize=$e.desiredSize,new Promise(function(an){an(en.onPull&&en.onPull())}).then(function(){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.PULL_COMPLETE,streamId:ze,success:!0})},function(an){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.PULL_COMPLETE,streamId:ze,reason:Ue(an)})});break;case Me.ENQUEUE:if((0,Be.assert)(tn,"enqueue should have stream controller"),tn.isClosed)break;tn.controller.enqueue($e.chunk);break;case Me.CLOSE:if((0,Be.assert)(tn,"close should have stream controller"),tn.isClosed)break;tn.isClosed=!0,tn.controller.close(),this._deleteStreamController(tn,ze);break;case Me.ERROR:(0,Be.assert)(tn,"error should have stream controller"),tn.controller.error(Ue($e.reason)),this._deleteStreamController(tn,ze);break;case Me.CANCEL_COMPLETE:$e.success?tn.cancelCall.resolve():tn.cancelCall.reject(Ue($e.reason)),this._deleteStreamController(tn,ze);break;case Me.CANCEL:if(!en)break;new Promise(function(an){an(en.onCancel&&en.onCancel(Ue($e.reason)))}).then(function(){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.CANCEL_COMPLETE,streamId:ze,success:!0})},function(an){Ge.postMessage({sourceName:Xe,targetName:We,stream:Me.CANCEL_COMPLETE,streamId:ze,reason:Ue(an)})}),en.sinkCapability.reject(Ue($e.reason)),en.isCancelled=!0,delete this.streamSinks[ze];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController($e,ze){await Promise.allSettled([$e.startCall&&$e.startCall.promise,$e.pullCall&&$e.pullCall.promise,$e.cancelCall&&$e.cancelCall.promise]),delete this.streamControllers[ze]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Ee.MessageHandler=De}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.Metadata=void 0;var Be=Te(1);function Re(tn,en,an){Me(tn,en),en.set(tn,an)}function Me(tn,en){if(en.has(tn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ue(tn,en){var an=$e(tn,en,"get");return De(tn,an)}function De(tn,en){return en.get?en.get.call(tn):en.value}function qe(tn,en,an){var Ye=$e(tn,en,"set");return ze(tn,Ye,an),an}function $e(tn,en,an){if(!en.has(tn))throw new TypeError("attempted to "+an+" private field on non-instance");return en.get(tn)}function ze(tn,en,an){if(en.set)en.set.call(tn,an);else{if(!en.writable)throw new TypeError("attempted to set read only private field");en.value=an}}var Xe=new WeakMap,We=new WeakMap;class Ge{constructor(en){let{parsedData:an,rawData:Ye}=en;Re(this,Xe,{writable:!0,value:void 0}),Re(this,We,{writable:!0,value:void 0}),qe(this,Xe,an),qe(this,We,Ye)}getRaw(){return Ue(this,We)}get(en){var an;return(an=Ue(this,Xe).get(en))!==null&&an!==void 0?an:null}getAll(){return(0,Be.objectFromMap)(Ue(this,Xe))}has(en){return Ue(this,Xe).has(en)}}Ee.Metadata=Ge}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.OptionalContentConfig=void 0;var Be=Te(1);function Re(hn,dn){De(hn,dn),dn.add(hn)}function Me(hn,dn,sn){if(!dn.has(hn))throw new TypeError("attempted to get private field on non-instance");return sn}function Ue(hn,dn,sn){De(hn,dn),dn.set(hn,sn)}function De(hn,dn){if(dn.has(hn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qe(hn,dn,sn){var kn=Xe(hn,dn,"set");return $e(hn,kn,sn),sn}function $e(hn,dn,sn){if(dn.set)dn.set.call(hn,sn);else{if(!dn.writable)throw new TypeError("attempted to set read only private field");dn.value=sn}}function ze(hn,dn){var sn=Xe(hn,dn,"get");return We(hn,sn)}function Xe(hn,dn,sn){if(!dn.has(hn))throw new TypeError("attempted to "+sn+" private field on non-instance");return dn.get(hn)}function We(hn,dn){return dn.get?dn.get.call(hn):dn.value}const Ge=Symbol("INTERNAL");var tn=new WeakMap;class en{constructor(dn,sn){Ue(this,tn,{writable:!0,value:!0}),this.name=dn,this.intent=sn}get visible(){return ze(this,tn)}_setVisible(dn,sn){dn!==Ge&&(0,Be.unreachable)("Internal method `_setVisible` called."),qe(this,tn,sn)}}var an=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,Qe=new WeakSet;class Je{constructor(dn){if(Re(this,Qe),Ue(this,an,{writable:!0,value:!0}),Ue(this,Ye,{writable:!0,value:new Map}),Ue(this,Ze,{writable:!0,value:null}),Ue(this,St,{writable:!0,value:null}),this.name=null,this.creator=null,dn!==null){this.name=dn.name,this.creator=dn.creator,qe(this,St,dn.order);for(const sn of dn.groups)ze(this,Ye).set(sn.id,new en(sn.name,sn.intent));if(dn.baseState==="OFF")for(const sn of ze(this,Ye).values())sn._setVisible(Ge,!1);for(const sn of dn.on)ze(this,Ye).get(sn)._setVisible(Ge,!0);for(const sn of dn.off)ze(this,Ye).get(sn)._setVisible(Ge,!1);qe(this,Ze,new Map);for(const[sn,kn]of ze(this,Ye))ze(this,Ze).set(sn,kn.visible)}}isVisible(dn){if(ze(this,Ye).size===0)return!0;if(!dn)return(0,Be.warn)("Optional content group not defined."),!0;if(dn.type==="OCG")return ze(this,Ye).has(dn.id)?ze(this,Ye).get(dn.id).visible:((0,Be.warn)(`Optional content group not found: ${dn.id}`),!0);if(dn.type==="OCMD"){if(dn.expression)return Me(this,Qe,on).call(this,dn.expression);if(!dn.policy||dn.policy==="AnyOn"){for(const sn of dn.ids){if(!ze(this,Ye).has(sn))return(0,Be.warn)(`Optional content group not found: ${sn}`),!0;if(ze(this,Ye).get(sn).visible)return!0}return!1}else if(dn.policy==="AllOn"){for(const sn of dn.ids){if(!ze(this,Ye).has(sn))return(0,Be.warn)(`Optional content group not found: ${sn}`),!0;if(!ze(this,Ye).get(sn).visible)return!1}return!0}else if(dn.policy==="AnyOff"){for(const sn of dn.ids){if(!ze(this,Ye).has(sn))return(0,Be.warn)(`Optional content group not found: ${sn}`),!0;if(!ze(this,Ye).get(sn).visible)return!0}return!1}else if(dn.policy==="AllOff"){for(const sn of dn.ids){if(!ze(this,Ye).has(sn))return(0,Be.warn)(`Optional content group not found: ${sn}`),!0;if(ze(this,Ye).get(sn).visible)return!1}return!0}return(0,Be.warn)(`Unknown optional content policy ${dn.policy}.`),!0}return(0,Be.warn)(`Unknown group type ${dn.type}.`),!0}setVisibility(dn){let sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ze(this,Ye).has(dn)){(0,Be.warn)(`Optional content group not found: ${dn}`);return}ze(this,Ye).get(dn)._setVisible(Ge,!!sn),qe(this,an,null)}get hasInitialVisibility(){if(ze(this,an)!==null)return ze(this,an);for(const[dn,sn]of ze(this,Ye)){const kn=ze(this,Ze).get(dn);if(sn.visible!==kn)return qe(this,an,!1)}return qe(this,an,!0)}getOrder(){return ze(this,Ye).size?ze(this,St)?ze(this,St).slice():[...ze(this,Ye).keys()]:null}getGroups(){return ze(this,Ye).size>0?(0,Be.objectFromMap)(ze(this,Ye)):null}getGroup(dn){return ze(this,Ye).get(dn)||null}}Ee.OptionalContentConfig=Je;function on(hn){const dn=hn.length;if(dn<2)return!0;const sn=hn[0];for(let kn=1;kn<dn;kn++){const Pn=hn[kn];let _n;if(Array.isArray(Pn))_n=Me(this,Qe,on).call(this,Pn);else if(ze(this,Ye).has(Pn))_n=ze(this,Ye).get(Pn).visible;else return(0,Be.warn)(`Optional content group not found: ${Pn}`),!0;switch(sn){case"And":if(!_n)return!1;break;case"Or":if(_n)return!0;break;case"Not":return!_n;default:return!0}}return sn==="And"}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PDFDataTransportStream=void 0;var Be=Te(1),Re=Te(133);class Me{constructor($e,ze){(0,Be.assert)(ze,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$e.progressiveDone||!1,this._contentDispositionFilename=$e.contentDispositionFilename||null;const Xe=$e.initialData;if((Xe==null?void 0:Xe.length)>0){const We=new Uint8Array(Xe).buffer;this._queuedChunks.push(We)}this._pdfDataRangeTransport=ze,this._isStreamingSupported=!$e.disableStream,this._isRangeSupported=!$e.disableRange,this._contentLength=$e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((We,Ge)=>{this._onReceiveData({begin:We,chunk:Ge})}),this._pdfDataRangeTransport.addProgressListener((We,Ge)=>{this._onProgress({loaded:We,total:Ge})}),this._pdfDataRangeTransport.addProgressiveReadListener(We=>{this._onReceiveData({chunk:We})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData($e){const ze=new Uint8Array($e.chunk).buffer;if($e.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ze):this._queuedChunks.push(ze);else{const Xe=this._rangeReaders.some(function(We){return We._begin!==$e.begin?!1:(We._enqueue(ze),!0)});(0,Be.assert)(Xe,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $e,ze;return($e=(ze=this._fullRequestReader)===null||ze===void 0?void 0:ze._loaded)!==null&&$e!==void 0?$e:0}_onProgress($e){if($e.total===void 0){const ze=this._rangeReaders[0];ze!=null&&ze.onProgress&&ze.onProgress({loaded:$e.loaded})}else{const ze=this._fullRequestReader;ze!=null&&ze.onProgress&&ze.onProgress({loaded:$e.loaded,total:$e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($e){const ze=this._rangeReaders.indexOf($e);ze>=0&&this._rangeReaders.splice(ze,1)}getFullReader(){(0,Be.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $e=this._queuedChunks;return this._queuedChunks=null,new Ue(this,$e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($e,ze){if(ze<=this._progressiveDataLength)return null;const Xe=new De(this,$e,ze);return this._pdfDataRangeTransport.requestDataRange($e,ze),this._rangeReaders.push(Xe),Xe}cancelAllRequests($e){this._fullRequestReader&&this._fullRequestReader.cancel($e);for(const ze of this._rangeReaders.slice(0))ze.cancel($e);this._pdfDataRangeTransport.abort()}}Ee.PDFDataTransportStream=Me;class Ue{constructor($e,ze){let Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,We=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=$e,this._done=Xe||!1,this._filename=(0,Re.isPdfFile)(We)?We:null,this._queuedChunks=ze||[],this._loaded=0;for(const Ge of this._queuedChunks)this._loaded+=Ge.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$e._fullRequestReader=this,this.onProgress=null}_enqueue($e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$e,done:!1}):this._queuedChunks.push($e),this._loaded+=$e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $e=(0,Be.createPromiseCapability)();return this._requests.push($e),$e.promise}cancel($e){this._done=!0;for(const ze of this._requests)ze.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class De{constructor($e,ze,Xe){this._stream=$e,this._begin=ze,this._end=Xe,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($e){if(!this._done){if(this._requests.length===0)this._queuedChunk=$e;else{this._requests.shift().resolve({value:$e,done:!1});for(const Xe of this._requests)Xe.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ze=this._queuedChunk;return this._queuedChunk=null,{value:ze,done:!1}}if(this._done)return{value:void 0,done:!0};const $e=(0,Be.createPromiseCapability)();return this._requests.push($e),$e.promise}cancel($e){this._done=!0;for(const ze of this._requests)ze.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((Ce,Ee)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.XfaText=void 0;class Te{static textContent(Re){const Me=[],Ue={items:Me,styles:Object.create(null)};function De(qe){var $e;if(!qe)return;let ze=null;const Xe=qe.name;if(Xe==="#text")ze=qe.value;else if(Te.shouldBuildText(Xe))qe!=null&&($e=qe.attributes)!==null&&$e!==void 0&&$e.textContent?ze=qe.attributes.textContent:qe.value&&(ze=qe.value);else return;if(ze!==null&&Me.push({str:ze}),!!qe.children)for(const We of qe.children)De(We)}return De(Re),Ue}static shouldBuildText(Re){return!(Re==="textarea"||Re==="input"||Re==="option"||Re==="select")}}Ee.XfaText=Te}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.NodeStandardFontDataFactory=Ee.NodeCanvasFactory=Ee.NodeCMapReaderFactory=void 0;var Be=Te(134);const Re=function(qe){return new Promise(($e,ze)=>{require$$7.readFile(qe,(We,Ge)=>{if(We||!Ge){ze(new Error(We));return}$e(new Uint8Array(Ge))})})};class Me extends Be.BaseCanvasFactory{_createCanvas($e,ze){return require$$7.createCanvas($e,ze)}}Ee.NodeCanvasFactory=Me;class Ue extends Be.BaseCMapReaderFactory{_fetchData($e,ze){return Re($e).then(Xe=>({cMapData:Xe,compressionType:ze}))}}Ee.NodeCMapReaderFactory=Ue;class De extends Be.BaseStandardFontDataFactory{_fetchData($e){return Re($e)}}Ee.NodeStandardFontDataFactory=De}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.AnnotationEditorLayer=void 0;var Be=Te(132),Re=Te(1),Me=Te(148),Ue=Te(149);function De(On,Un){ze(On,Un),Un.add(On)}function qe(On,Un,jn){return Un in On?Object.defineProperty(On,Un,{value:jn,enumerable:!0,configurable:!0,writable:!0}):On[Un]=jn,On}function $e(On,Un,jn){ze(On,Un),Un.set(On,jn)}function ze(On,Un){if(Un.has(On))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xe(On,Un,jn){if(!Un.has(On))throw new TypeError("attempted to get private field on non-instance");return jn}function We(On,Un){var jn=en(On,Un,"get");return Ge(On,jn)}function Ge(On,Un){return Un.get?Un.get.call(On):Un.value}function tn(On,Un,jn){var Gn=en(On,Un,"set");return an(On,Gn,jn),jn}function en(On,Un,jn){if(!Un.has(On))throw new TypeError("attempted to "+jn+" private field on non-instance");return Un.get(On)}function an(On,Un,jn){if(Un.set)Un.set.call(On,jn);else{if(!Un.writable)throw new TypeError("attempted to set read only private field");Un.value=jn}}var Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,Qe=new WeakMap,Je=new WeakMap,on=new WeakMap,hn=new WeakMap,dn=new WeakMap,sn=new WeakSet,kn=new WeakSet,Pn=new WeakSet,_n=new WeakSet;class Mn{constructor(Un){De(this,_n),De(this,Pn),De(this,kn),De(this,sn),$e(this,Ye,{writable:!0,value:void 0}),$e(this,Ze,{writable:!0,value:!1}),$e(this,St,{writable:!0,value:this.pointerup.bind(this)}),$e(this,Qe,{writable:!0,value:this.pointerdown.bind(this)}),$e(this,Je,{writable:!0,value:new Map}),$e(this,on,{writable:!0,value:!1}),$e(this,hn,{writable:!0,value:!1}),$e(this,dn,{writable:!0,value:void 0}),Mn._initialized||(Mn._initialized=!0,Me.FreeTextEditor.initialize(Un.l10n),Ue.InkEditor.initialize(Un.l10n),Un.uiManager.registerEditorTypes([Me.FreeTextEditor,Ue.InkEditor])),tn(this,dn,Un.uiManager),this.annotationStorage=Un.annotationStorage,this.pageIndex=Un.pageIndex,this.div=Un.div,tn(this,Ye,Un.accessibilityManager),We(this,dn).addLayer(this)}updateToolbar(Un){We(this,dn).updateToolbar(Un)}updateMode(){let Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:We(this,dn).getMode();Xe(this,_n,Vn).call(this),Un===Re.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),We(this,dn).unselectAll()}addInkEditorIfNeeded(Un){if(!Un&&We(this,dn).getMode()!==Re.AnnotationEditorType.INK)return;if(!Un){for(const Gn of We(this,Je).values())if(Gn.isEmpty()){Gn.setInBackground();return}}Xe(this,Pn,Ln).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Un){We(this,dn).setEditingState(Un)}addCommands(Un){We(this,dn).addCommands(Un)}enable(){this.div.style.pointerEvents="auto";for(const Un of We(this,Je).values())Un.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Un of We(this,Je).values())Un.disableEditing()}setActiveEditor(Un){We(this,dn).getActive()!==Un&&We(this,dn).setActiveEditor(Un)}enableClick(){this.div.addEventListener("pointerdown",We(this,Qe)),this.div.addEventListener("pointerup",We(this,St))}disableClick(){this.div.removeEventListener("pointerdown",We(this,Qe)),this.div.removeEventListener("pointerup",We(this,St))}attach(Un){We(this,Je).set(Un.id,Un)}detach(Un){var jn;We(this,Je).delete(Un.id),(jn=We(this,Ye))===null||jn===void 0||jn.removePointerInTextLayer(Un.contentDiv)}remove(Un){We(this,dn).removeEditor(Un),this.detach(Un),this.annotationStorage.remove(Un.id),Un.div.style.display="none",setTimeout(()=>{Un.div.style.display="",Un.div.remove(),Un.isAttachedToDOM=!1,document.activeElement===document.body&&We(this,dn).focusMainContainer()},0),We(this,hn)||this.addInkEditorIfNeeded(!1)}add(Un){if(Xe(this,sn,yn).call(this,Un),We(this,dn).addEditor(Un),this.attach(Un),!Un.isAttachedToDOM){const jn=Un.render();this.div.append(jn),Un.isAttachedToDOM=!0}this.moveEditorInDOM(Un),Un.onceAdded(),this.addToAnnotationStorage(Un)}moveEditorInDOM(Un){var jn;(jn=We(this,Ye))===null||jn===void 0||jn.moveElementInDOM(this.div,Un.div,Un.contentDiv,!0)}addToAnnotationStorage(Un){!Un.isEmpty()&&!this.annotationStorage.has(Un.id)&&this.annotationStorage.setValue(Un.id,Un)}addOrRebuild(Un){Un.needsToBeRebuilt()?Un.rebuild():this.add(Un)}addANewEditor(Un){const jn=()=>{this.addOrRebuild(Un)},Gn=()=>{Un.remove()};this.addCommands({cmd:jn,undo:Gn,mustExec:!0})}addUndoableEditor(Un){const jn=()=>{this.addOrRebuild(Un)},Gn=()=>{Un.remove()};this.addCommands({cmd:jn,undo:Gn,mustExec:!1})}getNextId(){return We(this,dn).getId()}deserialize(Un){switch(Un.annotationType){case Re.AnnotationEditorType.FREETEXT:return Me.FreeTextEditor.deserialize(Un,this);case Re.AnnotationEditorType.INK:return Ue.InkEditor.deserialize(Un,this)}return null}setSelected(Un){We(this,dn).setSelected(Un)}toggleSelected(Un){We(this,dn).toggleSelected(Un)}isSelected(Un){return We(this,dn).isSelected(Un)}unselect(Un){We(this,dn).unselect(Un)}pointerup(Un){const jn=Be.KeyboardManager.platform.isMac;if(!(Un.button!==0||Un.ctrlKey&&jn)&&Un.target===this.div&&We(this,on)){if(tn(this,on,!1),!We(this,Ze)){tn(this,Ze,!0);return}Xe(this,Pn,Ln).call(this,Un)}}pointerdown(Un){const jn=Be.KeyboardManager.platform.isMac;if(Un.button!==0||Un.ctrlKey&&jn||Un.target!==this.div)return;tn(this,on,!0);const Gn=We(this,dn).getActive();tn(this,Ze,!Gn||Gn.isEmpty())}drop(Un){const jn=Un.dataTransfer.getData("text/plain"),Gn=We(this,dn).getEditor(jn);if(!Gn)return;Un.preventDefault(),Un.dataTransfer.dropEffect="move",Xe(this,sn,yn).call(this,Gn);const An=this.div.getBoundingClientRect(),$n=Un.clientX-An.x,Nn=Un.clientY-An.y;Gn.translate($n-Gn.startX,Nn-Gn.startY),this.moveEditorInDOM(Gn),Gn.div.focus()}dragover(Un){Un.preventDefault()}destroy(){var Un;((Un=We(this,dn).getActive())===null||Un===void 0?void 0:Un.parent)===this&&We(this,dn).setActiveEditor(null);for(const Gn of We(this,Je).values()){var jn;(jn=We(this,Ye))===null||jn===void 0||jn.removePointerInTextLayer(Gn.contentDiv),Gn.isAttachedToDOM=!1,Gn.div.remove(),Gn.parent=null}this.div=null,We(this,Je).clear(),We(this,dn).removeLayer(this)}render(Un){this.viewport=Un.viewport,(0,Be.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const jn of We(this,dn).getEditors(this.pageIndex))this.add(jn);this.updateMode()}update(Un){this.viewport=Un.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Un,jn,Gn,An]=this.viewport.viewBox,$n=Gn-Un,Nn=An-jn;return[$n,Nn]}get viewportBaseDimensions(){const{width:Un,height:jn,rotation:Gn}=this.viewport;return Gn%180===0?[Un,jn]:[jn,Un]}setDimensions(){const{width:Un,height:jn,rotation:Gn}=this.viewport,An=Gn%180!==0,$n=Math.floor(Un)+"px",Nn=Math.floor(jn)+"px";this.div.style.width=An?Nn:$n,this.div.style.height=An?$n:Nn,this.div.setAttribute("data-main-rotation",Gn)}}Ee.AnnotationEditorLayer=Mn;function yn(On){var Un;On.parent!==this&&(this.attach(On),On.pageIndex=this.pageIndex,(Un=On.parent)===null||Un===void 0||Un.detach(On),On.parent=this,On.div&&On.isAttachedToDOM&&(On.div.remove(),this.div.append(On.div)))}function zn(On){switch(We(this,dn).getMode()){case Re.AnnotationEditorType.FREETEXT:return new Me.FreeTextEditor(On);case Re.AnnotationEditorType.INK:return new Ue.InkEditor(On)}return null}function Ln(On){const Un=this.getNextId(),jn=Xe(this,kn,zn).call(this,{parent:this,id:Un,x:On.offsetX,y:On.offsetY});return jn&&this.add(jn),jn}function Vn(){tn(this,hn,!0);for(const On of We(this,Je).values())On.isEmpty()&&On.remove();tn(this,hn,!1)}qe(Mn,"_initialized",!1)}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.FreeTextEditor=void 0;var Be=Te(1),Re=Te(132),Me=Te(131);function Ue(Ln,Vn){$e(Ln,Vn),Vn.add(Ln)}function De(Ln,Vn,On){return Vn in Ln?Object.defineProperty(Ln,Vn,{value:On,enumerable:!0,configurable:!0,writable:!0}):Ln[Vn]=On,Ln}function qe(Ln,Vn,On){$e(Ln,Vn),Vn.set(Ln,On)}function $e(Ln,Vn){if(Vn.has(Ln))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ze(Ln,Vn){var On=tn(Ln,Vn,"get");return Xe(Ln,On)}function Xe(Ln,Vn){return Vn.get?Vn.get.call(Ln):Vn.value}function We(Ln,Vn,On){if(!Vn.has(Ln))throw new TypeError("attempted to get private field on non-instance");return On}function Ge(Ln,Vn,On){var Un=tn(Ln,Vn,"set");return en(Ln,Un,On),On}function tn(Ln,Vn,On){if(!Vn.has(Ln))throw new TypeError("attempted to "+On+" private field on non-instance");return Vn.get(Ln)}function en(Ln,Vn,On){if(Vn.set)Vn.set.call(Ln,On);else{if(!Vn.writable)throw new TypeError("attempted to set read only private field");Vn.value=On}}var an=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,Qe=new WeakMap,Je=new WeakMap,on=new WeakMap,hn=new WeakSet,dn=new WeakSet,sn=new WeakSet,kn=new WeakSet;class Pn extends Me.AnnotationEditor{constructor(Vn){super({...Vn,name:"freeTextEditor"}),Ue(this,kn),Ue(this,sn),Ue(this,dn),Ue(this,hn),qe(this,an,{writable:!0,value:this.editorDivBlur.bind(this)}),qe(this,Ye,{writable:!0,value:this.editorDivFocus.bind(this)}),qe(this,Ze,{writable:!0,value:this.editorDivKeydown.bind(this)}),qe(this,St,{writable:!0,value:void 0}),qe(this,Qe,{writable:!0,value:""}),qe(this,Je,{writable:!0,value:!1}),qe(this,on,{writable:!0,value:void 0}),Ge(this,St,Vn.color||Pn._defaultColor||Me.AnnotationEditor._defaultLineColor),Ge(this,on,Vn.fontSize||Pn._defaultFontSize)}static initialize(Vn){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Un=>[Un,Vn.get(Un)]));const On=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(On.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Vn,On){switch(Vn){case Be.AnnotationEditorParamsType.FREETEXT_SIZE:Pn._defaultFontSize=On;break;case Be.AnnotationEditorParamsType.FREETEXT_COLOR:Pn._defaultColor=On;break}}updateParams(Vn,On){switch(Vn){case Be.AnnotationEditorParamsType.FREETEXT_SIZE:We(this,hn,_n).call(this,On);break;case Be.AnnotationEditorParamsType.FREETEXT_COLOR:We(this,dn,Mn).call(this,On);break}}static get defaultPropertiesToUpdate(){return[[Be.AnnotationEditorParamsType.FREETEXT_SIZE,Pn._defaultFontSize],[Be.AnnotationEditorParamsType.FREETEXT_COLOR,Pn._defaultColor||Me.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Be.AnnotationEditorParamsType.FREETEXT_SIZE,ze(this,on)],[Be.AnnotationEditorParamsType.FREETEXT_COLOR,ze(this,St)]]}getInitialTranslation(){return[-Pn._internalPadding*this.parent.scaleFactor,-(Pn._internalPadding+ze(this,on))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Be.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",ze(this,Ze)),this.editorDiv.addEventListener("focus",ze(this,Ye)),this.editorDiv.addEventListener("blur",ze(this,an)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ze(this,Ze)),this.editorDiv.removeEventListener("focus",ze(this,Ye)),this.editorDiv.removeEventListener("blur",ze(this,an)),this.div.focus(),this.isEditing=!1)}focusin(Vn){super.focusin(Vn),Vn.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),ze(this,Je)||(Ge(this,Je,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ge(this,Qe,We(this,sn,yn).call(this).trimEnd()),We(this,kn,zn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Vn){this.enableEditMode(),this.editorDiv.focus()}keydown(Vn){Vn.target===this.div&&Vn.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Vn){Pn._keyboardManager.exec(this,Vn)}editorDivFocus(Vn){this.isEditing=!0}editorDivBlur(Vn){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Vn,On;this.width&&(Vn=this.x,On=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),Pn._l10nPromise.get("editor_free_text_aria_label").then(jn=>{var Gn;return(Gn=this.editorDiv)===null||Gn===void 0?void 0:Gn.setAttribute("aria-label",jn)}),Pn._l10nPromise.get("free_text_default_content").then(jn=>{var Gn;return(Gn=this.editorDiv)===null||Gn===void 0?void 0:Gn.setAttribute("default-content",jn)}),this.editorDiv.contentEditable=!0;const{style:Un}=this.editorDiv;if(Un.fontSize=`calc(${ze(this,on)}px * var(--scale-factor))`,Un.color=ze(this,St),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Re.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[jn,Gn]=this.parent.viewportBaseDimensions;this.setAt(Vn*jn,On*Gn,this.width*jn,this.height*Gn);for(const An of ze(this,Qe).split(`
`)){const $n=document.createElement("div");$n.append(An?document.createTextNode(An):document.createElement("br")),this.editorDiv.append($n)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Vn,On){const Un=super.deserialize(Vn,On);return Ge(Un,on,Vn.fontSize),Ge(Un,St,Be.Util.makeHexColor(...Vn.color)),Ge(Un,Qe,Vn.value),Un}serialize(){if(this.isEmpty())return null;const Vn=Pn._internalPadding*this.parent.scaleFactor,On=this.getRect(Vn,Vn),Un=Me.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:Be.AnnotationEditorType.FREETEXT,color:Un,fontSize:ze(this,on),value:ze(this,Qe),pageIndex:this.parent.pageIndex,rect:On,rotation:this.rotation}}}Ee.FreeTextEditor=Pn;function _n(Ln){const Vn=Un=>{this.editorDiv.style.fontSize=`calc(${Un}px * var(--scale-factor))`,this.translate(0,-(Un-ze(this,on))*this.parent.scaleFactor),Ge(this,on,Un),We(this,kn,zn).call(this)},On=ze(this,on);this.parent.addCommands({cmd:()=>{Vn(Ln)},undo:()=>{Vn(On)},mustExec:!0,type:Be.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Mn(Ln){const Vn=ze(this,St);this.parent.addCommands({cmd:()=>{Ge(this,St,Ln),this.editorDiv.style.color=Ln},undo:()=>{Ge(this,St,Vn),this.editorDiv.style.color=Vn},mustExec:!0,type:Be.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function yn(){const Ln=this.editorDiv.getElementsByTagName("div");if(Ln.length===0)return this.editorDiv.innerText;const Vn=[];for(let On=0,Un=Ln.length;On<Un;On++){const Gn=Ln[On].firstChild;(Gn==null?void 0:Gn.nodeName)==="#text"?Vn.push(Gn.data):Vn.push("")}return Vn.join(`
`)}function zn(){const[Ln,Vn]=this.parent.viewportBaseDimensions,On=this.div.getBoundingClientRect();this.width=On.width/Ln,this.height=On.height/Vn}De(Pn,"_freeTextDefaultContent",""),De(Pn,"_l10nPromise",void 0),De(Pn,"_internalPadding",0),De(Pn,"_defaultColor",null),De(Pn,"_defaultFontSize",10),De(Pn,"_keyboardManager",new Re.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Pn.prototype.commitOrRemove]])),De(Pn,"_type","freetext")}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.InkEditor=void 0,Object.defineProperty(Ee,"fitCurve",{enumerable:!0,get:function(){return Me.fitCurve}});var Be=Te(1),Re=Te(131),Me=Te(150),Ue=Te(132);function De(Rr,Tr){ze(Rr,Tr),Tr.add(Rr)}function qe(Rr,Tr,Xr){return Tr in Rr?Object.defineProperty(Rr,Tr,{value:Xr,enumerable:!0,configurable:!0,writable:!0}):Rr[Tr]=Xr,Rr}function $e(Rr,Tr,Xr){ze(Rr,Tr),Tr.set(Rr,Xr)}function ze(Rr,Tr){if(Tr.has(Rr))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xe(Rr,Tr,Xr){return We(Rr,Tr),Xr}function We(Rr,Tr){if(Rr!==Tr)throw new TypeError("Private static access of wrong provenance")}function Ge(Rr,Tr,Xr){var ca=an(Rr,Tr,"set");return tn(Rr,ca,Xr),Xr}function tn(Rr,Tr,Xr){if(Tr.set)Tr.set.call(Rr,Xr);else{if(!Tr.writable)throw new TypeError("attempted to set read only private field");Tr.value=Xr}}function en(Rr,Tr){var Xr=an(Rr,Tr,"get");return Ye(Rr,Xr)}function an(Rr,Tr,Xr){if(!Tr.has(Rr))throw new TypeError("attempted to "+Xr+" private field on non-instance");return Tr.get(Rr)}function Ye(Rr,Tr){return Tr.get?Tr.get.call(Rr):Tr.value}function Ze(Rr,Tr,Xr){if(!Tr.has(Rr))throw new TypeError("attempted to get private field on non-instance");return Xr}const St=16;var Qe=new WeakMap,Je=new WeakMap,on=new WeakMap,hn=new WeakMap,dn=new WeakMap,sn=new WeakMap,kn=new WeakMap,Pn=new WeakMap,_n=new WeakMap,Mn=new WeakMap,yn=new WeakMap,zn=new WeakMap,Ln=new WeakMap,Vn=new WeakMap,On=new WeakSet,Un=new WeakSet,jn=new WeakSet,Gn=new WeakSet,An=new WeakSet,$n=new WeakSet,Nn=new WeakSet,En=new WeakSet,Sn=new WeakSet,pn=new WeakSet,mn=new WeakSet,un=new WeakSet,wn=new WeakSet,xn=new WeakSet,Rn=new WeakSet,Hn=new WeakSet,vn=new WeakSet,qn=new WeakSet,In=new WeakSet,cn=new WeakSet,bn=new WeakSet,Cn=new WeakSet;class Yn extends Re.AnnotationEditor{constructor(Tr){super({...Tr,name:"inkEditor"}),De(this,Cn),De(this,bn),De(this,cn),De(this,In),De(this,qn),De(this,vn),De(this,Hn),De(this,Rn),De(this,xn),De(this,wn),De(this,un),De(this,mn),De(this,pn),De(this,Sn),De(this,En),De(this,Nn),De(this,$n),De(this,An),De(this,Gn),De(this,jn),De(this,Un),De(this,On),$e(this,Qe,{writable:!0,value:0}),$e(this,Je,{writable:!0,value:0}),$e(this,on,{writable:!0,value:0}),$e(this,hn,{writable:!0,value:this.canvasPointermove.bind(this)}),$e(this,dn,{writable:!0,value:this.canvasPointerleave.bind(this)}),$e(this,sn,{writable:!0,value:this.canvasPointerup.bind(this)}),$e(this,kn,{writable:!0,value:this.canvasPointerdown.bind(this)}),$e(this,Pn,{writable:!0,value:!1}),$e(this,_n,{writable:!0,value:!1}),$e(this,Mn,{writable:!0,value:null}),$e(this,yn,{writable:!0,value:null}),$e(this,zn,{writable:!0,value:0}),$e(this,Ln,{writable:!0,value:0}),$e(this,Vn,{writable:!0,value:null}),this.color=Tr.color||null,this.thickness=Tr.thickness||null,this.opacity=Tr.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Tr){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Xr=>[Xr,Tr.get(Xr)]))}static updateDefaultParams(Tr,Xr){switch(Tr){case Be.AnnotationEditorParamsType.INK_THICKNESS:Yn._defaultThickness=Xr;break;case Be.AnnotationEditorParamsType.INK_COLOR:Yn._defaultColor=Xr;break;case Be.AnnotationEditorParamsType.INK_OPACITY:Yn._defaultOpacity=Xr/100;break}}updateParams(Tr,Xr){switch(Tr){case Be.AnnotationEditorParamsType.INK_THICKNESS:Ze(this,On,Jn).call(this,Xr);break;case Be.AnnotationEditorParamsType.INK_COLOR:Ze(this,Un,er).call(this,Xr);break;case Be.AnnotationEditorParamsType.INK_OPACITY:Ze(this,jn,ur).call(this,Xr);break}}static get defaultPropertiesToUpdate(){return[[Be.AnnotationEditorParamsType.INK_THICKNESS,Yn._defaultThickness],[Be.AnnotationEditorParamsType.INK_COLOR,Yn._defaultColor||Re.AnnotationEditor._defaultLineColor],[Be.AnnotationEditorParamsType.INK_OPACITY,Math.round(Yn._defaultOpacity*100)]]}get propertiesToUpdate(){var Tr;return[[Be.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Yn._defaultThickness],[Be.AnnotationEditorParamsType.INK_COLOR,this.color||Yn._defaultColor||Re.AnnotationEditor._defaultLineColor],[Be.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Tr=this.opacity)!==null&&Tr!==void 0?Tr:Yn._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Ze(this,mn,hr).call(this),Ze(this,un,Ur).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ze(this,wn,Qr).call(this)),Ze(this,bn,sa).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,en(this,yn).disconnect(),Ge(this,yn,null),super.remove())}enableEditMode(){en(this,Pn)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",en(this,kn)),this.canvas.addEventListener("pointerup",en(this,sn)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",en(this,kn)),this.canvas.removeEventListener("pointerup",en(this,sn)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){en(this,Pn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ge(this,Pn,!0),this.div.classList.add("disabled"),Ze(this,bn,sa).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Tr){super.focusin(Tr),this.enableEditMode()}canvasPointerdown(Tr){Tr.button!==0||!this.isInEditMode()||en(this,Pn)||(this.setInForeground(),Tr.type!=="mouse"&&this.div.focus(),Tr.stopPropagation(),this.canvas.addEventListener("pointerleave",en(this,dn)),this.canvas.addEventListener("pointermove",en(this,hn)),Ze(this,$n,yr).call(this,Tr.offsetX,Tr.offsetY))}canvasPointermove(Tr){Tr.stopPropagation(),Ze(this,Nn,jr).call(this,Tr.offsetX,Tr.offsetY)}canvasPointerup(Tr){Tr.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Tr.stopPropagation(),Ze(this,pn,Dr).call(this,Tr),this.setInBackground())}canvasPointerleave(Tr){Ze(this,pn,Dr).call(this,Tr),this.setInBackground()}render(){if(this.div)return this.div;let Tr,Xr;this.width&&(Tr=this.x,Xr=this.y),super.render(),Yn._l10nPromise.get("editor_ink_aria_label").then(da=>{var fa;return(fa=this.div)===null||fa===void 0?void 0:fa.setAttribute("aria-label",da)});const[ca,Sa,oa,ma]=Ze(this,Gn,dr).call(this);if(this.setAt(ca,Sa,0,0),this.setDims(oa,ma),Ze(this,mn,hr).call(this),this.width){const[da,fa]=this.parent.viewportBaseDimensions;this.setAt(Tr*da,Xr*fa,this.width*da,this.height*fa),Ge(this,_n,!0),Ze(this,wn,Qr).call(this),this.setDims(this.width*da,this.height*fa),Ze(this,Sn,$r).call(this),Ze(this,Cn,aa).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ze(this,un,Ur).call(this),this.div}setDimensions(Tr,Xr){const ca=Math.round(Tr),Sa=Math.round(Xr);if(en(this,zn)===ca&&en(this,Ln)===Sa)return;Ge(this,zn,ca),Ge(this,Ln,Sa),this.canvas.style.visibility="hidden",en(this,Qe)&&Math.abs(en(this,Qe)-Tr/Xr)>.01&&(Xr=Math.ceil(Tr/en(this,Qe)),this.setDims(Tr,Xr));const[oa,ma]=this.parent.viewportBaseDimensions;this.width=Tr/oa,this.height=Xr/ma,en(this,Pn)&&Ze(this,xn,ia).call(this,Tr,Xr),Ze(this,wn,Qr).call(this),Ze(this,Sn,$r).call(this),this.canvas.style.visibility="visible"}static deserialize(Tr,Xr){const ca=super.deserialize(Tr,Xr);ca.thickness=Tr.thickness,ca.color=Be.Util.makeHexColor(...Tr.color),ca.opacity=Tr.opacity;const[Sa,oa]=Xr.pageDimensions,ma=ca.width*Sa,da=ca.height*oa,fa=Xr.scaleFactor,Ca=Tr.thickness/2;Ge(ca,Qe,ma/da),Ge(ca,Pn,!0),Ge(ca,zn,Math.round(ma)),Ge(ca,Ln,Math.round(da));for(const{bezier:Ta}of Tr.paths){const Ia=[];ca.paths.push(Ia);let hi=fa*(Ta[0]-Ca),Ha=fa*(da-Ta[1]-Ca);for(let ja=2,pi=Ta.length;ja<pi;ja+=6){const Ri=fa*(Ta[ja]-Ca),li=fa*(da-Ta[ja+1]-Ca),ii=fa*(Ta[ja+2]-Ca),ys=fa*(da-Ta[ja+3]-Ca),Is=fa*(Ta[ja+4]-Ca),xi=fa*(da-Ta[ja+5]-Ca);Ia.push([[hi,Ha],[Ri,li],[ii,ys],[Is,xi]]),hi=Is,Ha=xi}const ri=Xe(this,Yn,Kr).call(this,Ia);ca.bezierPath2D.push(ri)}const Na=Ze(ca,In,gr).call(ca);return Ge(ca,on,Math.max(St,Na[2]-Na[0])),Ge(ca,Je,Math.max(St,Na[3]-Na[1])),Ze(ca,xn,ia).call(ca,ma,da),ca}serialize(){if(this.isEmpty())return null;const Tr=this.getRect(0,0),Xr=this.rotation%180===0?Tr[3]-Tr[1]:Tr[2]-Tr[0],ca=Re.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Be.AnnotationEditorType.INK,color:ca,thickness:this.thickness,opacity:this.opacity,paths:Ze(this,Hn,na).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Xr),pageIndex:this.parent.pageIndex,rect:Tr,rotation:this.rotation}}}Ee.InkEditor=Yn;function Jn(Rr){const Tr=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Rr,Ze(this,bn,sa).call(this)},undo:()=>{this.thickness=Tr,Ze(this,bn,sa).call(this)},mustExec:!0,type:Be.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function er(Rr){const Tr=this.color;this.parent.addCommands({cmd:()=>{this.color=Rr,Ze(this,Sn,$r).call(this)},undo:()=>{this.color=Tr,Ze(this,Sn,$r).call(this)},mustExec:!0,type:Be.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ur(Rr){Rr/=100;const Tr=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Rr,Ze(this,Sn,$r).call(this)},undo:()=>{this.opacity=Tr,Ze(this,Sn,$r).call(this)},mustExec:!0,type:Be.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function dr(){const{width:Rr,height:Tr,rotation:Xr}=this.parent.viewport;switch(Xr){case 90:return[0,Rr,Rr,Tr];case 180:return[Rr,Tr,Rr,Tr];case 270:return[Tr,0,Rr,Tr];default:return[0,0,Rr,Tr]}}function br(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,Ue.opacityToHex)(this.opacity)}`}function yr(Rr,Tr){if(this.isEditing=!0,!en(this,_n)){var Xr;Ge(this,_n,!0),Ze(this,wn,Qr).call(this),this.thickness||(this.thickness=Yn._defaultThickness),this.color||(this.color=Yn._defaultColor||Re.AnnotationEditor._defaultLineColor),(Xr=this.opacity)!==null&&Xr!==void 0||(this.opacity=Yn._defaultOpacity)}this.currentPath.push([Rr,Tr]),Ge(this,Mn,null),Ze(this,An,br).call(this),this.ctx.beginPath(),this.ctx.moveTo(Rr,Tr),Ge(this,Vn,()=>{en(this,Vn)&&(en(this,Mn)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Ze(this,Sn,$r).call(this),this.ctx.lineTo(...en(this,Mn)),Ge(this,Mn,null),this.ctx.stroke()),window.requestAnimationFrame(en(this,Vn)))}),window.requestAnimationFrame(en(this,Vn))}function jr(Rr,Tr){const[Xr,ca]=this.currentPath.at(-1);Rr===Xr&&Tr===ca||(this.currentPath.push([Rr,Tr]),Ge(this,Mn,[Rr,Tr]))}function Gr(Rr,Tr){this.ctx.closePath(),Ge(this,Vn,null),Rr=Math.min(Math.max(Rr,0),this.canvas.width),Tr=Math.min(Math.max(Tr,0),this.canvas.height);const[Xr,ca]=this.currentPath.at(-1);(Rr!==Xr||Tr!==ca)&&this.currentPath.push([Rr,Tr]);let Sa;if(this.currentPath.length!==1)Sa=(0,Me.fitCurve)(this.currentPath,30,null);else{const fa=[Rr,Tr];Sa=[[fa,fa.slice(),fa.slice(),fa]]}const oa=Xe(Yn,Yn,Kr).call(Yn,Sa);this.currentPath.length=0;const ma=()=>{this.paths.push(Sa),this.bezierPath2D.push(oa),this.rebuild()},da=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ze(this,mn,hr).call(this),Ze(this,un,Ur).call(this)),Ze(this,bn,sa).call(this))};this.parent.addCommands({cmd:ma,undo:da,mustExec:!0})}function $r(){if(this.isEmpty()){Ze(this,Rn,Er).call(this);return}Ze(this,An,br).call(this);const{canvas:Rr,ctx:Tr}=this;Tr.setTransform(1,0,0,1,0,0),Tr.clearRect(0,0,Rr.width,Rr.height),Ze(this,Rn,Er).call(this);for(const Xr of this.bezierPath2D)Tr.stroke(Xr)}function Dr(Rr){Ze(this,En,Gr).call(this,Rr.offsetX,Rr.offsetY),this.canvas.removeEventListener("pointerleave",en(this,dn)),this.canvas.removeEventListener("pointermove",en(this,hn)),this.parent.addToAnnotationStorage(this)}function hr(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Yn._l10nPromise.get("editor_ink_canvas_aria_label").then(Rr=>{var Tr;return(Tr=this.canvas)===null||Tr===void 0?void 0:Tr.setAttribute("aria-label",Rr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Ur(){Ge(this,yn,new ResizeObserver(Rr=>{const Tr=Rr[0].contentRect;Tr.width&&Tr.height&&this.setDimensions(Tr.width,Tr.height)})),en(this,yn).observe(this.div)}function Qr(){if(!en(this,_n))return;const[Rr,Tr]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Rr),this.canvas.height=Math.ceil(this.height*Tr),Ze(this,Rn,Er).call(this)}function ia(Rr,Tr){const Xr=Ze(this,cn,Mr).call(this),ca=(Rr-Xr)/en(this,on),Sa=(Tr-Xr)/en(this,Je);this.scaleFactor=Math.min(ca,Sa)}function Er(){const Rr=Ze(this,cn,Mr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rr,this.translationY*this.scaleFactor+Rr)}function Kr(Rr){const Tr=new Path2D;for(let Xr=0,ca=Rr.length;Xr<ca;Xr++){const[Sa,oa,ma,da]=Rr[Xr];Xr===0&&Tr.moveTo(...Sa),Tr.bezierCurveTo(oa[0],oa[1],ma[0],ma[1],da[0],da[1])}return Tr}function na(Rr,Tr,Xr,ca){const oa=[],ma=this.thickness/2;let da,fa;for(const Ca of this.paths){da=[],fa=[];for(let Na=0,Ta=Ca.length;Na<Ta;Na++){const[Ia,hi,Ha,ri]=Ca[Na],ja=Rr*(Ia[0]+Tr)+ma,pi=ca-Rr*(Ia[1]+Xr)-ma,Ri=Rr*(hi[0]+Tr)+ma,li=ca-Rr*(hi[1]+Xr)-ma,ii=Rr*(Ha[0]+Tr)+ma,ys=ca-Rr*(Ha[1]+Xr)-ma,Is=Rr*(ri[0]+Tr)+ma,xi=ca-Rr*(ri[1]+Xr)-ma;Na===0&&(da.push(ja,pi),fa.push(ja,pi)),da.push(Ri,li,ii,ys,Is,xi),Ze(this,vn,Pr).call(this,ja,pi,Ri,li,ii,ys,Is,xi,4,fa)}oa.push({bezier:da,points:fa})}return oa}function Pr(Rr,Tr,Xr,ca,Sa,oa,ma,da,fa,Ca){if(Ze(this,qn,fr).call(this,Rr,Tr,Xr,ca,Sa,oa,ma,da)){Ca.push(ma,da);return}for(let Na=1;Na<fa-1;Na++){const Ta=Na/fa,Ia=1-Ta;let hi=Ta*Rr+Ia*Xr,Ha=Ta*Tr+Ia*ca,ri=Ta*Xr+Ia*Sa,ja=Ta*ca+Ia*oa;const pi=Ta*Sa+Ia*ma,Ri=Ta*oa+Ia*da;hi=Ta*hi+Ia*ri,Ha=Ta*Ha+Ia*ja,ri=Ta*ri+Ia*pi,ja=Ta*ja+Ia*Ri,hi=Ta*hi+Ia*ri,Ha=Ta*Ha+Ia*ja,Ca.push(hi,Ha)}Ca.push(ma,da)}function fr(Rr,Tr,Xr,ca,Sa,oa,ma,da){const Ca=(3*Xr-2*Rr-ma)**2,Na=(3*ca-2*Tr-da)**2,Ta=(3*Sa-Rr-2*ma)**2,Ia=(3*oa-Tr-2*da)**2;return Math.max(Ca,Ta)+Math.max(Na,Ia)<=10}function gr(){let Rr=1/0,Tr=-1/0,Xr=1/0,ca=-1/0;for(const Sa of this.paths)for(const[oa,ma,da,fa]of Sa){const Ca=Be.Util.bezierBoundingBox(...oa,...ma,...da,...fa);Rr=Math.min(Rr,Ca[0]),Xr=Math.min(Xr,Ca[1]),Tr=Math.max(Tr,Ca[2]),ca=Math.max(ca,Ca[3])}return[Rr,Xr,Tr,ca]}function Mr(){return en(this,Pn)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function sa(){let Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!en(this,Pn)){Ze(this,Sn,$r).call(this);return}const Tr=Ze(this,In,gr).call(this),Xr=Ze(this,cn,Mr).call(this);Ge(this,on,Math.max(St,Tr[2]-Tr[0])),Ge(this,Je,Math.max(St,Tr[3]-Tr[1]));const ca=Math.ceil(Xr+en(this,on)*this.scaleFactor),Sa=Math.ceil(Xr+en(this,Je)*this.scaleFactor),[oa,ma]=this.parent.viewportBaseDimensions;this.width=ca/oa,this.height=Sa/ma,Ge(this,Qe,ca/Sa),Ze(this,Cn,aa).call(this);const da=this.translationX,fa=this.translationY;this.translationX=-Tr[0],this.translationY=-Tr[1],Ze(this,wn,Qr).call(this),Ze(this,Sn,$r).call(this),Ge(this,zn,ca),Ge(this,Ln,Sa),this.setDims(ca,Sa);const Ca=Rr?Xr/this.scaleFactor/2:0;this.translate(da-this.translationX-Ca,fa-this.translationY-Ca)}function aa(){const{style:Rr}=this.div;en(this,Qe)>=1?(Rr.minHeight=`${St}px`,Rr.minWidth=`${Math.round(en(this,Qe)*St)}px`):(Rr.minWidth=`${St}px`,Rr.minHeight=`${Math.round(St/en(this,Qe))}px`)}qe(Yn,"_defaultColor",null),qe(Yn,"_defaultOpacity",1),qe(Yn,"_defaultThickness",1),qe(Yn,"_l10nPromise",void 0),qe(Yn,"_type","ink")}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.fitCurve=void 0;const Be=Te(151);Ee.fitCurve=Be}),(Ce=>{function Ee(tn,en,an){if(!Array.isArray(tn))throw new TypeError("First argument should be an array");if(tn.forEach(Qe=>{if(!Array.isArray(Qe)||Qe.some(Je=>typeof Je!="number")||Qe.length!==tn[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),tn=tn.filter((Qe,Je)=>Je===0||!Qe.every((on,hn)=>on===tn[Je-1][hn])),tn.length<2)return[];const Ye=tn.length,Ze=Xe(tn[1],tn[0]),St=Xe(tn[Ye-2],tn[Ye-1]);return Te(tn,Ze,St,en,an)}function Te(tn,en,an,Ye,Ze){var Qe,Je,on,hn,dn,sn,kn,Pn,_n,Mn,yn,zn,Ln;if(tn.length===2)return zn=We.vectorLen(We.subtract(tn[0],tn[1]))/3,Qe=[tn[0],We.addArrays(tn[0],We.mulItems(en,zn)),We.addArrays(tn[1],We.mulItems(an,zn)),tn[1]],[Qe];if(Je=De(tn),[Qe,hn,sn]=Be(tn,Je,Je,en,an,Ze),hn===0||hn<Ye)return[Qe];if(hn<Ye*Ye)for(on=Je,dn=hn,kn=sn,Ln=0;Ln<20;Ln++){if(on=Me(Qe,tn,on),[Qe,hn,sn]=Be(tn,Je,on,en,an,Ze),hn<Ye)return[Qe];if(sn===kn){let Vn=hn/dn;if(Vn>.9999&&Vn<1.0001)break}dn=hn,kn=sn}return yn=[],Pn=We.subtract(tn[sn-1],tn[sn+1]),Pn.every(Vn=>Vn===0)&&(Pn=We.subtract(tn[sn-1],tn[sn]),[Pn[0],Pn[1]]=[-Pn[1],Pn[0]]),_n=We.normalize(Pn),Mn=We.mulItems(_n,-1),yn=yn.concat(Te(tn.slice(0,sn+1),en,_n,Ye,Ze)),yn=yn.concat(Te(tn.slice(sn),Mn,an,Ye,Ze)),yn}function Be(tn,en,an,Ye,Ze,St){var Qe,Je,on;return Qe=Re(tn,an,Ye,Ze),[Je,on]=qe(tn,Qe,en),St&&St({bez:Qe,points:tn,params:en,maxErr:Je,maxPoint:on}),[Qe,Je,on]}function Re(tn,en,an,Ye){var Ze,St,Qe,Je,on,hn,dn,sn,kn,Pn,_n,Mn,yn,zn,Ln,Vn,On,Un=tn[0],jn=tn[tn.length-1];for(Ze=[Un,null,null,jn],St=We.zeros_Xx2x2(en.length),yn=0,zn=en.length;yn<zn;yn++)Vn=en[yn],On=1-Vn,Qe=St[yn],Qe[0]=We.mulItems(an,3*Vn*(On*On)),Qe[1]=We.mulItems(Ye,3*On*(Vn*Vn));for(Je=[[0,0],[0,0]],on=[0,0],yn=0,zn=tn.length;yn<zn;yn++)Vn=en[yn],Qe=St[yn],Je[0][0]+=We.dot(Qe[0],Qe[0]),Je[0][1]+=We.dot(Qe[0],Qe[1]),Je[1][0]+=We.dot(Qe[0],Qe[1]),Je[1][1]+=We.dot(Qe[1],Qe[1]),Ln=We.subtract(tn[yn],Ge.q([Un,Un,jn,jn],Vn)),on[0]+=We.dot(Qe[0],Ln),on[1]+=We.dot(Qe[1],Ln);return hn=Je[0][0]*Je[1][1]-Je[1][0]*Je[0][1],dn=Je[0][0]*on[1]-Je[1][0]*on[0],sn=on[0]*Je[1][1]-on[1]*Je[0][1],kn=hn===0?0:sn/hn,Pn=hn===0?0:dn/hn,Mn=We.vectorLen(We.subtract(Un,jn)),_n=1e-6*Mn,kn<_n||Pn<_n?(Ze[1]=We.addArrays(Un,We.mulItems(an,Mn/3)),Ze[2]=We.addArrays(jn,We.mulItems(Ye,Mn/3))):(Ze[1]=We.addArrays(Un,We.mulItems(an,kn)),Ze[2]=We.addArrays(jn,We.mulItems(Ye,Pn))),Ze}function Me(tn,en,an){return an.map((Ye,Ze)=>Ue(tn,en[Ze],Ye))}function Ue(tn,en,an){var Ye=We.subtract(Ge.q(tn,an),en),Ze=Ge.qprime(tn,an),St=We.mulMatrix(Ye,Ze),Qe=We.sum(We.squareItems(Ze))+2*We.mulMatrix(Ye,Ge.qprimeprime(tn,an));return Qe===0?an:an-St/Qe}function De(tn){var en=[],an,Ye,Ze;return tn.forEach((St,Qe)=>{an=Qe?Ye+We.vectorLen(We.subtract(St,Ze)):0,en.push(an),Ye=an,Ze=St}),en=en.map(St=>St/Ye),en}function qe(tn,en,an){var Ye,Ze,St,Qe,Je,on,hn,dn;Ze=0,St=Math.floor(tn.length/2);const sn=$e(en,10);for(Je=0,on=tn.length;Je<on;Je++)hn=tn[Je],dn=ze(en,an[Je],sn,10),Qe=We.subtract(Ge.q(en,dn),hn),Ye=Qe[0]*Qe[0]+Qe[1]*Qe[1],Ye>Ze&&(Ze=Ye,St=Je);return[Ze,St]}var $e=function(tn,en){for(var an,Ye=[0],Ze=tn[0],St=0,Qe=1;Qe<=en;Qe++)an=Ge.q(tn,Qe/en),St+=We.vectorLen(We.subtract(an,Ze)),Ye.push(St),Ze=an;return Ye=Ye.map(Je=>Je/St),Ye};function ze(tn,en,an,Ye){if(en<0)return 0;if(en>1)return 1;for(var Ze,St,Qe,Je,on,hn=1;hn<=Ye;hn++)if(en<=an[hn]){Je=(hn-1)/Ye,Qe=hn/Ye,St=an[hn-1],Ze=an[hn],on=(en-St)/(Ze-St)*(Qe-Je)+Je;break}return on}function Xe(tn,en){return We.normalize(We.subtract(tn,en))}class We{static zeros_Xx2x2(en){for(var an=[];en--;)an.push([0,0]);return an}static mulItems(en,an){return en.map(Ye=>Ye*an)}static mulMatrix(en,an){return en.reduce((Ye,Ze,St)=>Ye+Ze*an[St],0)}static subtract(en,an){return en.map((Ye,Ze)=>Ye-an[Ze])}static addArrays(en,an){return en.map((Ye,Ze)=>Ye+an[Ze])}static addItems(en,an){return en.map(Ye=>Ye+an)}static sum(en){return en.reduce((an,Ye)=>an+Ye)}static dot(en,an){return We.mulMatrix(en,an)}static vectorLen(en){return Math.hypot(...en)}static divItems(en,an){return en.map(Ye=>Ye/an)}static squareItems(en){return en.map(an=>an*an)}static normalize(en){return this.divItems(en,this.vectorLen(en))}}class Ge{static q(en,an){var Ye=1-an,Ze=We.mulItems(en[0],Ye*Ye*Ye),St=We.mulItems(en[1],3*Ye*Ye*an),Qe=We.mulItems(en[2],3*Ye*an*an),Je=We.mulItems(en[3],an*an*an);return We.addArrays(We.addArrays(Ze,St),We.addArrays(Qe,Je))}static qprime(en,an){var Ye=1-an,Ze=We.mulItems(We.subtract(en[1],en[0]),3*Ye*Ye),St=We.mulItems(We.subtract(en[2],en[1]),6*Ye*an),Qe=We.mulItems(We.subtract(en[3],en[2]),3*an*an);return We.addArrays(We.addArrays(Ze,St),Qe)}static qprimeprime(en,an){return We.addArrays(We.mulItems(We.addArrays(We.subtract(en[2],We.mulItems(en[1],2)),en[0]),6*(1-an)),We.mulItems(We.addArrays(We.subtract(en[3],We.mulItems(en[2],2)),en[1]),6*an))}}Ce.exports=Ee,Ce.exports.fitCubic=Te,Ce.exports.createTangent=Xe}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.AnnotationLayer=void 0;var Be=Te(1),Re=Te(133),Me=Te(130),Ue=Te(153),De=Te(154);function qe(mn,un,wn){return $e(mn,un),wn}function $e(mn,un){if(mn!==un)throw new TypeError("Private static access of wrong provenance")}const ze=1e3,Xe=9,We=new WeakSet;function Ge(mn){return{width:mn[2]-mn[0],height:mn[3]-mn[1]}}class tn{static create(un){switch(un.data.annotationType){case Be.AnnotationType.LINK:return new an(un);case Be.AnnotationType.TEXT:return new Ye(un);case Be.AnnotationType.WIDGET:switch(un.data.fieldType){case"Tx":return new St(un);case"Btn":return un.data.radioButton?new Je(un):un.data.checkBox?new Qe(un):new on(un);case"Ch":return new hn(un)}return new Ze(un);case Be.AnnotationType.POPUP:return new dn(un);case Be.AnnotationType.FREETEXT:return new kn(un);case Be.AnnotationType.LINE:return new Pn(un);case Be.AnnotationType.SQUARE:return new _n(un);case Be.AnnotationType.CIRCLE:return new Mn(un);case Be.AnnotationType.POLYLINE:return new yn(un);case Be.AnnotationType.CARET:return new Ln(un);case Be.AnnotationType.INK:return new Vn(un);case Be.AnnotationType.POLYGON:return new zn(un);case Be.AnnotationType.HIGHLIGHT:return new On(un);case Be.AnnotationType.UNDERLINE:return new Un(un);case Be.AnnotationType.SQUIGGLY:return new jn(un);case Be.AnnotationType.STRIKEOUT:return new Gn(un);case Be.AnnotationType.STAMP:return new An(un);case Be.AnnotationType.FILEATTACHMENT:return new $n(un);default:return new en(un)}}}class en{constructor(un){let{isRenderable:wn=!1,ignoreBorder:xn=!1,createQuadrilaterals:Rn=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=wn,this.data=un.data,this.layer=un.layer,this.page=un.page,this.viewport=un.viewport,this.linkService=un.linkService,this.downloadManager=un.downloadManager,this.imageResourcesPath=un.imageResourcesPath,this.renderForms=un.renderForms,this.svgFactory=un.svgFactory,this.annotationStorage=un.annotationStorage,this.enableScripting=un.enableScripting,this.hasJSActions=un.hasJSActions,this._fieldObjects=un.fieldObjects,this._mouseState=un.mouseState,wn&&(this.container=this._createContainer(xn)),Rn&&(this.quadrilaterals=this._createQuadrilaterals(xn))}_createContainer(){let un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const wn=this.data,xn=this.page,Rn=this.viewport,Hn=document.createElement("section"),{width:vn,height:qn}=Ge(wn.rect),[In,cn,bn,Cn]=Rn.viewBox,Yn=bn-In,Jn=Cn-cn;Hn.setAttribute("data-annotation-id",wn.id);const er=Be.Util.normalizeRect([wn.rect[0],xn.view[3]-wn.rect[1]+xn.view[1],wn.rect[2],xn.view[3]-wn.rect[3]+xn.view[1]]);if(!un&&wn.borderStyle.width>0){Hn.style.borderWidth=`${wn.borderStyle.width}px`;const dr=wn.borderStyle.horizontalCornerRadius,br=wn.borderStyle.verticalCornerRadius;if(dr>0||br>0){const jr=`calc(${dr}px * var(--scale-factor)) / calc(${br}px * var(--scale-factor))`;Hn.style.borderRadius=jr}else if(this instanceof Je){const jr=`calc(${vn}px * var(--scale-factor)) / calc(${qn}px * var(--scale-factor))`;Hn.style.borderRadius=jr}switch(wn.borderStyle.style){case Be.AnnotationBorderStyleType.SOLID:Hn.style.borderStyle="solid";break;case Be.AnnotationBorderStyleType.DASHED:Hn.style.borderStyle="dashed";break;case Be.AnnotationBorderStyleType.BEVELED:(0,Be.warn)("Unimplemented border style: beveled");break;case Be.AnnotationBorderStyleType.INSET:(0,Be.warn)("Unimplemented border style: inset");break;case Be.AnnotationBorderStyleType.UNDERLINE:Hn.style.borderBottomStyle="solid";break}const yr=wn.borderColor||null;yr?Hn.style.borderColor=Be.Util.makeHexColor(yr[0]|0,yr[1]|0,yr[2]|0):Hn.style.borderWidth=0}Hn.style.left=`${100*(er[0]-In)/Yn}%`,Hn.style.top=`${100*(er[1]-cn)/Jn}%`;const{rotation:ur}=wn;return wn.hasOwnCanvas||ur===0?(Hn.style.width=`${100*vn/Yn}%`,Hn.style.height=`${100*qn/Jn}%`):this.setRotation(ur,Hn),Hn}setRotation(un){let wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[xn,Rn,Hn,vn]=this.viewport.viewBox,qn=Hn-xn,In=vn-Rn,{width:cn,height:bn}=Ge(this.data.rect);let Cn,Yn;un%180===0?(Cn=100*cn/qn,Yn=100*bn/In):(Cn=100*bn/qn,Yn=100*cn/In),wn.style.width=`${Cn}%`,wn.style.height=`${Yn}%`,wn.setAttribute("data-main-rotation",(360-un)%360)}get _commonActions(){const un=(wn,xn,Rn)=>{const Hn=Rn.detail[wn];Rn.target.style[xn]=Ue.ColorConverters[`${Hn[0]}_HTML`](Hn.slice(1))};return(0,Be.shadow)(this,"_commonActions",{display:wn=>{const xn=wn.detail.display%2===1;this.container.style.visibility=xn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:xn,print:wn.detail.display===0||wn.detail.display===3})},print:wn=>{this.annotationStorage.setValue(this.data.id,{print:wn.detail.print})},hidden:wn=>{this.container.style.visibility=wn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:wn.detail.hidden})},focus:wn=>{setTimeout(()=>wn.target.focus({preventScroll:!1}),0)},userName:wn=>{wn.target.title=wn.detail.userName},readonly:wn=>{wn.detail.readonly?wn.target.setAttribute("readonly",""):wn.target.removeAttribute("readonly")},required:wn=>{this._setRequired(wn.target,wn.detail.required)},bgColor:wn=>{un("bgColor","backgroundColor",wn)},fillColor:wn=>{un("fillColor","backgroundColor",wn)},fgColor:wn=>{un("fgColor","color",wn)},textColor:wn=>{un("textColor","color",wn)},borderColor:wn=>{un("borderColor","borderColor",wn)},strokeColor:wn=>{un("strokeColor","borderColor",wn)},rotation:wn=>{const xn=wn.detail.rotation;this.setRotation(xn),this.annotationStorage.setValue(this.data.id,{rotation:xn})}})}_dispatchEventFromSandbox(un,wn){const xn=this._commonActions;for(const Rn of Object.keys(wn.detail)){const Hn=un[Rn]||xn[Rn];Hn&&Hn(wn)}}_setDefaultPropertiesFromJS(un){if(!this.enableScripting)return;const wn=this.annotationStorage.getRawValue(this.data.id);if(!wn)return;const xn=this._commonActions;for(const[Rn,Hn]of Object.entries(wn)){const vn=xn[Rn];if(vn){const qn={detail:{[Rn]:Hn},target:un};vn(qn),delete wn[Rn]}}}_createQuadrilaterals(){let un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const wn=[],xn=this.data.rect;for(const Rn of this.data.quadPoints)this.data.rect=[Rn[2].x,Rn[2].y,Rn[1].x,Rn[1].y],wn.push(this._createContainer(un));return this.data.rect=xn,wn}_createPopup(un,wn){let xn=this.container;this.quadrilaterals&&(un=un||this.quadrilaterals,xn=this.quadrilaterals[0]),un||(un=document.createElement("div"),un.className="popupTriggerArea",xn.append(un));const Hn=new sn({container:xn,trigger:un,color:wn.color,titleObj:wn.titleObj,modificationDate:wn.modificationDate,contentsObj:wn.contentsObj,richText:wn.richText,hideWrapper:!0}).render();Hn.style.left="100%",xn.append(Hn)}_renderQuadrilaterals(un){for(const wn of this.quadrilaterals)wn.className=un;return this.quadrilaterals}render(){(0,Be.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(un){let wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const xn=[];if(this._fieldObjects){const Rn=this._fieldObjects[un];if(Rn)for(const{page:Hn,id:vn,exportValues:qn}of Rn){if(Hn===-1||vn===wn)continue;const In=typeof qn=="string"?qn:null,cn=document.querySelector(`[data-element-id="${vn}"]`);if(cn&&!We.has(cn)){(0,Be.warn)(`_getElementsByName - element not allowed: ${vn}`);continue}xn.push({id:vn,exportValue:In,domElement:cn})}return xn}for(const Rn of document.getElementsByName(un)){const{id:Hn,exportValue:vn}=Rn;Hn!==wn&&We.has(Rn)&&xn.push({id:Hn,exportValue:vn,domElement:Rn})}return xn}static get platform(){const un=typeof navigator<"u"?navigator.platform:"";return(0,Be.shadow)(this,"platform",{isWin:un.includes("Win"),isMac:un.includes("Mac")})}}class an extends en{constructor(un){let wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(un,{isRenderable:!0,ignoreBorder:!!(wn!=null&&wn.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=un.data.isTooltipOnly}render(){const{data:un,linkService:wn}=this,xn=document.createElement("a");xn.setAttribute("data-element-id",un.id);let Rn=!1;return un.url?(wn.addLinkAttributes(xn,un.url,un.newWindow),Rn=!0):un.action?(this._bindNamedAction(xn,un.action),Rn=!0):un.dest?(this._bindLink(xn,un.dest),Rn=!0):(un.actions&&(un.actions.Action||un.actions["Mouse Up"]||un.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(xn,un),Rn=!0),un.resetForm?(this._bindResetFormAction(xn,un.resetForm),Rn=!0):this.isTooltipOnly&&!Rn&&(this._bindLink(xn,""),Rn=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Hn,vn)=>{const qn=vn===0?xn:xn.cloneNode();return Hn.append(qn),Hn}):(this.container.className="linkAnnotation",Rn&&this.container.append(xn),this.container)}_bindLink(un,wn){un.href=this.linkService.getDestinationHash(wn),un.onclick=()=>(wn&&this.linkService.goToDestination(wn),!1),(wn||wn==="")&&(un.className="internalLink")}_bindNamedAction(un,wn){un.href=this.linkService.getAnchorUrl(""),un.onclick=()=>(this.linkService.executeNamedAction(wn),!1),un.className="internalLink"}_bindJSAction(un,wn){un.href=this.linkService.getAnchorUrl("");const xn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Rn of Object.keys(wn.actions)){const Hn=xn.get(Rn);Hn&&(un[Hn]=()=>{var vn;return(vn=this.linkService.eventBus)===null||vn===void 0||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn.id,name:Rn}}),!1})}un.onclick||(un.onclick=()=>!1),un.className="internalLink"}_bindResetFormAction(un,wn){const xn=un.onclick;if(xn||(un.href=this.linkService.getAnchorUrl("")),un.className="internalLink",!this._fieldObjects){(0,Be.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),xn||(un.onclick=()=>!1);return}un.onclick=()=>{xn&&xn();const{fields:Rn,refs:Hn,include:vn}=wn,qn=[];if(Rn.length!==0||Hn.length!==0){const Cn=new Set(Hn);for(const Yn of Rn){const Jn=this._fieldObjects[Yn]||[];for(const{id:er}of Jn)Cn.add(er)}for(const Yn of Object.values(this._fieldObjects))for(const Jn of Yn)Cn.has(Jn.id)===vn&&qn.push(Jn)}else for(const Cn of Object.values(this._fieldObjects))qn.push(...Cn);const In=this.annotationStorage,cn=[];for(const Cn of qn){const{id:Yn}=Cn;switch(cn.push(Yn),Cn.type){case"text":{const er=Cn.defaultValue||"";In.setValue(Yn,{value:er});break}case"checkbox":case"radiobutton":{const er=Cn.defaultValue===Cn.exportValues;In.setValue(Yn,{value:er});break}case"combobox":case"listbox":{const er=Cn.defaultValue||"";In.setValue(Yn,{value:er});break}default:continue}const Jn=document.querySelector(`[data-element-id="${Yn}"]`);if(Jn){if(!We.has(Jn)){(0,Be.warn)(`_bindResetFormAction - element not allowed: ${Yn}`);continue}}else continue;Jn.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var bn;(bn=this.linkService.eventBus)===null||bn===void 0||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:cn,name:"ResetForm"}})}return!1}}}class Ye extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn})}render(){this.container.className="textAnnotation";const un=document.createElement("img");return un.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",un.alt="[{{type}} Annotation]",un.dataset.l10nId="text_annotation_type",un.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(un,this.data),this.container.append(un),this.container}}class Ze extends en{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(un){const{isWin:wn,isMac:xn}=en.platform;return wn&&un.ctrlKey||xn&&un.metaKey}_setEventListener(un,wn,xn,Rn){wn.includes("mouse")?un.addEventListener(wn,Hn=>{var vn;(vn=this.linkService.eventBus)===null||vn===void 0||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xn,value:Rn(Hn),shift:Hn.shiftKey,modifier:this._getKeyModifier(Hn)}})}):un.addEventListener(wn,Hn=>{var vn;(vn=this.linkService.eventBus)===null||vn===void 0||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xn,value:Rn(Hn)}})})}_setEventListeners(un,wn,xn){for(const[Hn,vn]of wn){var Rn;(vn==="Action"||(Rn=this.data.actions)!==null&&Rn!==void 0&&Rn[vn])&&this._setEventListener(un,Hn,vn,xn)}}_setBackgroundColor(un){const wn=this.data.backgroundColor||null;un.style.backgroundColor=wn===null?"transparent":Be.Util.makeHexColor(wn[0],wn[1],wn[2])}_setTextStyle(un){const wn=["left","center","right"],{fontColor:xn}=this.data.defaultAppearanceData,Rn=this.data.defaultAppearanceData.fontSize||Xe,Hn=un.style;let vn;if(this.data.multiLine){const qn=Math.abs(this.data.rect[3]-this.data.rect[1]),In=Math.round(qn/(Be.LINE_FACTOR*Rn))||1,cn=qn/In;vn=Math.min(Rn,Math.round(cn/Be.LINE_FACTOR))}else{const qn=Math.abs(this.data.rect[3]-this.data.rect[1]);vn=Math.min(Rn,Math.round(qn/Be.LINE_FACTOR))}Hn.fontSize=`calc(${vn}px * var(--scale-factor))`,Hn.color=Be.Util.makeHexColor(xn[0],xn[1],xn[2]),this.data.textAlignment!==null&&(Hn.textAlign=wn[this.data.textAlignment])}_setRequired(un,wn){wn?un.setAttribute("required",!0):un.removeAttribute("required"),un.setAttribute("aria-required",wn)}}class St extends Ze{constructor(un){const wn=un.renderForms||!un.data.hasAppearance&&!!un.data.fieldValue;super(un,{isRenderable:wn})}setPropertyOnSiblings(un,wn,xn,Rn){const Hn=this.annotationStorage;for(const vn of this._getElementsByName(un.name,un.id))vn.domElement&&(vn.domElement[wn]=xn),Hn.setValue(vn.id,{[Rn]:xn})}render(){const un=this.annotationStorage,wn=this.data.id;this.container.className="textWidgetAnnotation";let xn=null;if(this.renderForms){const Hn=un.getValue(wn,{value:this.data.fieldValue});let vn=Hn.formattedValue||Hn.value||"";const qn=un.getValue(wn,{charLimit:this.data.maxLen}).charLimit;qn&&vn.length>qn&&(vn=vn.slice(0,qn));const In={userValue:vn,formattedValue:null,valueOnFocus:""};this.data.multiLine?(xn=document.createElement("textarea"),xn.textContent=vn,this.data.doNotScroll&&(xn.style.overflowY="hidden")):(xn=document.createElement("input"),xn.type="text",xn.setAttribute("value",vn),this.data.doNotScroll&&(xn.style.overflowX="hidden")),We.add(xn),xn.setAttribute("data-element-id",wn),xn.disabled=this.data.readOnly,xn.name=this.data.fieldName,xn.tabIndex=ze,this._setRequired(xn,this.data.required),qn&&(xn.maxLength=qn),xn.addEventListener("input",bn=>{un.setValue(wn,{value:bn.target.value}),this.setPropertyOnSiblings(xn,"value",bn.target.value,"value")}),xn.addEventListener("resetform",bn=>{var Cn;const Yn=(Cn=this.data.defaultFieldValue)!==null&&Cn!==void 0?Cn:"";xn.value=In.userValue=Yn,In.formattedValue=null});let cn=bn=>{const{formattedValue:Cn}=In;Cn!=null&&(bn.target.value=Cn),bn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var Rn;xn.addEventListener("focus",Cn=>{In.userValue&&(Cn.target.value=In.userValue),In.valueOnFocus=Cn.target.value}),xn.addEventListener("updatefromsandbox",Cn=>{const Yn={value(Jn){var er;In.userValue=(er=Jn.detail.value)!==null&&er!==void 0?er:"",un.setValue(wn,{value:In.userValue.toString()}),Jn.target.value=In.userValue},formattedValue(Jn){const{formattedValue:er}=Jn.detail;In.formattedValue=er,er!=null&&Jn.target!==document.activeElement&&(Jn.target.value=er),un.setValue(wn,{formattedValue:er})},selRange(Jn){Jn.target.setSelectionRange(...Jn.detail.selRange)},charLimit:Jn=>{var er;const{charLimit:ur}=Jn.detail,{target:dr}=Jn;if(ur===0){dr.removeAttribute("maxLength");return}dr.setAttribute("maxLength",ur);let br=In.userValue;!br||br.length<=ur||(br=br.slice(0,ur),dr.value=In.userValue=br,un.setValue(wn,{value:br}),(er=this.linkService.eventBus)===null||er===void 0||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:br,willCommit:!0,commitKey:1,selStart:dr.selectionStart,selEnd:dr.selectionEnd}}))}};this._dispatchEventFromSandbox(Yn,Cn)}),xn.addEventListener("keydown",Cn=>{var Yn;let Jn=-1;if(Cn.key==="Escape"?Jn=0:Cn.key==="Enter"?Jn=2:Cn.key==="Tab"&&(Jn=3),Jn===-1)return;const{value:er}=Cn.target;In.valueOnFocus!==er&&(In.userValue=er,(Yn=this.linkService.eventBus)===null||Yn===void 0||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:er,willCommit:!0,commitKey:Jn,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}}))});const bn=cn;cn=null,xn.addEventListener("blur",Cn=>{const{value:Yn}=Cn.target;if(In.userValue=Yn,this._mouseState.isDown&&In.valueOnFocus!==Yn){var Jn;(Jn=this.linkService.eventBus)===null||Jn===void 0||Jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:Yn,willCommit:!0,commitKey:1,selStart:Cn.target.selectionStart,selEnd:Cn.target.selectionEnd}})}bn(Cn)}),(Rn=this.data.actions)!==null&&Rn!==void 0&&Rn.Keystroke&&xn.addEventListener("beforeinput",Cn=>{var Yn;const{data:Jn,target:er}=Cn,{value:ur,selectionStart:dr,selectionEnd:br}=er;let yr=dr,jr=br;switch(Cn.inputType){case"deleteWordBackward":{const Gr=ur.substring(0,dr).match(/\w*[^\w]*$/);Gr&&(yr-=Gr[0].length);break}case"deleteWordForward":{const Gr=ur.substring(dr).match(/^[^\w]*\w*/);Gr&&(jr+=Gr[0].length);break}case"deleteContentBackward":dr===br&&(yr-=1);break;case"deleteContentForward":dr===br&&(jr+=1);break}Cn.preventDefault(),(Yn=this.linkService.eventBus)===null||Yn===void 0||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:ur,change:Jn||"",willCommit:!1,selStart:yr,selEnd:jr}})}),this._setEventListeners(xn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Cn=>Cn.target.value)}if(cn&&xn.addEventListener("blur",cn),this.data.comb){const Cn=(this.data.rect[2]-this.data.rect[0])/qn;xn.classList.add("comb"),xn.style.letterSpacing=`calc(${Cn}px * var(--scale-factor) - 1ch)`}}else xn=document.createElement("div"),xn.textContent=this.data.fieldValue,xn.style.verticalAlign="middle",xn.style.display="table-cell";return this._setTextStyle(xn),this._setBackgroundColor(xn),this._setDefaultPropertiesFromJS(xn),this.container.append(xn),this.container}}class Qe extends Ze{constructor(un){super(un,{isRenderable:un.renderForms})}render(){const un=this.annotationStorage,wn=this.data,xn=wn.id;let Rn=un.getValue(xn,{value:wn.exportValue===wn.fieldValue}).value;typeof Rn=="string"&&(Rn=Rn!=="Off",un.setValue(xn,{value:Rn})),this.container.className="buttonWidgetAnnotation checkBox";const Hn=document.createElement("input");return We.add(Hn),Hn.setAttribute("data-element-id",xn),Hn.disabled=wn.readOnly,this._setRequired(Hn,this.data.required),Hn.type="checkbox",Hn.name=wn.fieldName,Rn&&Hn.setAttribute("checked",!0),Hn.setAttribute("exportValue",wn.exportValue),Hn.tabIndex=ze,Hn.addEventListener("change",vn=>{const{name:qn,checked:In}=vn.target;for(const cn of this._getElementsByName(qn,xn)){const bn=In&&cn.exportValue===wn.exportValue;cn.domElement&&(cn.domElement.checked=bn),un.setValue(cn.id,{value:bn})}un.setValue(xn,{value:In})}),Hn.addEventListener("resetform",vn=>{const qn=wn.defaultFieldValue||"Off";vn.target.checked=qn===wn.exportValue}),this.enableScripting&&this.hasJSActions&&(Hn.addEventListener("updatefromsandbox",vn=>{const qn={value(In){In.target.checked=In.detail.value!=="Off",un.setValue(xn,{value:In.target.checked})}};this._dispatchEventFromSandbox(qn,vn)}),this._setEventListeners(Hn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)),this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class Je extends Ze{constructor(un){super(un,{isRenderable:un.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const un=this.annotationStorage,wn=this.data,xn=wn.id;let Rn=un.getValue(xn,{value:wn.fieldValue===wn.buttonValue}).value;typeof Rn=="string"&&(Rn=Rn!==wn.buttonValue,un.setValue(xn,{value:Rn}));const Hn=document.createElement("input");if(We.add(Hn),Hn.setAttribute("data-element-id",xn),Hn.disabled=wn.readOnly,this._setRequired(Hn,this.data.required),Hn.type="radio",Hn.name=wn.fieldName,Rn&&Hn.setAttribute("checked",!0),Hn.tabIndex=ze,Hn.addEventListener("change",vn=>{const{name:qn,checked:In}=vn.target;for(const cn of this._getElementsByName(qn,xn))un.setValue(cn.id,{value:!1});un.setValue(xn,{value:In})}),Hn.addEventListener("resetform",vn=>{const qn=wn.defaultFieldValue;vn.target.checked=qn!=null&&qn===wn.buttonValue}),this.enableScripting&&this.hasJSActions){const vn=wn.buttonValue;Hn.addEventListener("updatefromsandbox",qn=>{const In={value:cn=>{const bn=vn===cn.detail.value;for(const Cn of this._getElementsByName(cn.target.name)){const Yn=bn&&Cn.id===xn;Cn.domElement&&(Cn.domElement.checked=Yn),un.setValue(Cn.id,{value:Yn})}}};this._dispatchEventFromSandbox(In,qn)}),this._setEventListeners(Hn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],qn=>qn.target.checked)}return this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class on extends an{constructor(un){super(un,{ignoreBorder:un.data.hasAppearance})}render(){const un=super.render();un.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(un.title=this.data.alternativeText);const wn=un.lastChild;return this.enableScripting&&this.hasJSActions&&wn&&(this._setDefaultPropertiesFromJS(wn),wn.addEventListener("updatefromsandbox",xn=>{this._dispatchEventFromSandbox({},xn)})),un}}class hn extends Ze{constructor(un){super(un,{isRenderable:un.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const un=this.annotationStorage,wn=this.data.id,xn=un.getValue(wn,{value:this.data.fieldValue}),Rn=document.createElement("select");We.add(Rn),Rn.setAttribute("data-element-id",wn),Rn.disabled=this.data.readOnly,this._setRequired(Rn,this.data.required),Rn.name=this.data.fieldName,Rn.tabIndex=ze;let Hn=this.data.combo&&this.data.options.length>0;this.data.combo||(Rn.size=this.data.options.length,this.data.multiSelect&&(Rn.multiple=!0)),Rn.addEventListener("resetform",cn=>{const bn=this.data.defaultFieldValue;for(const Cn of Rn.options)Cn.selected=Cn.value===bn});for(const cn of this.data.options){const bn=document.createElement("option");bn.textContent=cn.displayValue,bn.value=cn.exportValue,xn.value.includes(cn.exportValue)&&(bn.setAttribute("selected",!0),Hn=!1),Rn.append(bn)}let vn=null;if(Hn){const cn=document.createElement("option");cn.value=" ",cn.setAttribute("hidden",!0),cn.setAttribute("selected",!0),Rn.prepend(cn),vn=()=>{cn.remove(),Rn.removeEventListener("input",vn),vn=null},Rn.addEventListener("input",vn)}const qn=(cn,bn)=>{const Cn=bn?"value":"textContent",Yn=cn.target.options;return cn.target.multiple?Array.prototype.filter.call(Yn,Jn=>Jn.selected).map(Jn=>Jn[Cn]):Yn.selectedIndex===-1?null:Yn[Yn.selectedIndex][Cn]},In=cn=>{const bn=cn.target.options;return Array.prototype.map.call(bn,Cn=>({displayValue:Cn.textContent,exportValue:Cn.value}))};return this.enableScripting&&this.hasJSActions?(Rn.addEventListener("updatefromsandbox",cn=>{const bn={value(Cn){var Yn;(Yn=vn)===null||Yn===void 0||Yn();const Jn=Cn.detail.value,er=new Set(Array.isArray(Jn)?Jn:[Jn]);for(const ur of Rn.options)ur.selected=er.has(ur.value);un.setValue(wn,{value:qn(Cn,!0)})},multipleSelection(Cn){Rn.multiple=!0},remove(Cn){const Yn=Rn.options,Jn=Cn.detail.remove;Yn[Jn].selected=!1,Rn.remove(Jn),Yn.length>0&&Array.prototype.findIndex.call(Yn,ur=>ur.selected)===-1&&(Yn[0].selected=!0),un.setValue(wn,{value:qn(Cn,!0),items:In(Cn)})},clear(Cn){for(;Rn.length!==0;)Rn.remove(0);un.setValue(wn,{value:null,items:[]})},insert(Cn){const{index:Yn,displayValue:Jn,exportValue:er}=Cn.detail.insert,ur=Rn.children[Yn],dr=document.createElement("option");dr.textContent=Jn,dr.value=er,ur?ur.before(dr):Rn.append(dr),un.setValue(wn,{value:qn(Cn,!0),items:In(Cn)})},items(Cn){const{items:Yn}=Cn.detail;for(;Rn.length!==0;)Rn.remove(0);for(const Jn of Yn){const{displayValue:er,exportValue:ur}=Jn,dr=document.createElement("option");dr.textContent=er,dr.value=ur,Rn.append(dr)}Rn.options.length>0&&(Rn.options[0].selected=!0),un.setValue(wn,{value:qn(Cn,!0),items:In(Cn)})},indices(Cn){const Yn=new Set(Cn.detail.indices);for(const Jn of Cn.target.options)Jn.selected=Yn.has(Jn.index);un.setValue(wn,{value:qn(Cn,!0)})},editable(Cn){Cn.target.disabled=!Cn.detail.editable}};this._dispatchEventFromSandbox(bn,cn)}),Rn.addEventListener("input",cn=>{var bn;const Cn=qn(cn,!0),Yn=qn(cn,!1);un.setValue(wn,{value:Cn}),(bn=this.linkService.eventBus)===null||bn===void 0||bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wn,name:"Keystroke",value:Yn,changeEx:Cn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Rn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],cn=>cn.target.checked)):Rn.addEventListener("input",function(cn){un.setValue(wn,{value:qn(cn,!0)})}),this.data.combo&&this._setTextStyle(Rn),this._setBackgroundColor(Rn),this._setDefaultPropertiesFromJS(Rn),this.container.append(Rn),this.container}}class dn extends en{constructor(un){var wn,xn,Rn;const Hn=!!((wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn})}render(){const un=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",un.includes(this.data.parentType))return this.container;const wn=`[data-annotation-id="${this.data.parentId}"]`,xn=this.layer.querySelectorAll(wn);if(xn.length===0)return this.container;const Rn=new sn({container:this.container,trigger:Array.from(xn),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Hn=this.page,vn=Be.Util.normalizeRect([this.data.parentRect[0],Hn.view[3]-this.data.parentRect[1]+Hn.view[1],this.data.parentRect[2],Hn.view[3]-this.data.parentRect[3]+Hn.view[1]]),qn=vn[0]+this.data.parentRect[2]-this.data.parentRect[0],In=vn[1],[cn,bn,Cn,Yn]=this.viewport.viewBox,Jn=Cn-cn,er=Yn-bn;return this.container.style.left=`${100*(qn-cn)/Jn}%`,this.container.style.top=`${100*(In-bn)/er}%`,this.container.append(Rn.render()),this.container}}class sn{constructor(un){this.container=un.container,this.trigger=un.trigger,this.color=un.color,this.titleObj=un.titleObj,this.modificationDate=un.modificationDate,this.contentsObj=un.contentsObj,this.richText=un.richText,this.hideWrapper=un.hideWrapper||!1,this.pinned=!1}render(){var un,wn;const Rn=document.createElement("div");Rn.className="popupWrapper",this.hideElement=this.hideWrapper?Rn:this.container,this.hideElement.hidden=!0;const Hn=document.createElement("div");Hn.className="popup";const vn=this.color;if(vn){const cn=.7*(255-vn[0])+vn[0],bn=.7*(255-vn[1])+vn[1],Cn=.7*(255-vn[2])+vn[2];Hn.style.backgroundColor=Be.Util.makeHexColor(cn|0,bn|0,Cn|0)}const qn=document.createElement("h1");qn.dir=this.titleObj.dir,qn.textContent=this.titleObj.str,Hn.append(qn);const In=Re.PDFDateString.toDateObject(this.modificationDate);if(In){const cn=document.createElement("span");cn.className="popupDate",cn.textContent="{{date}}, {{time}}",cn.dataset.l10nId="annotation_date_string",cn.dataset.l10nArgs=JSON.stringify({date:In.toLocaleDateString(),time:In.toLocaleTimeString()}),Hn.append(cn)}if((un=this.richText)!==null&&un!==void 0&&un.str&&(!((wn=this.contentsObj)!==null&&wn!==void 0&&wn.str)||this.contentsObj.str===this.richText.str))De.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Hn}),Hn.lastChild.className="richText popupContent";else{const cn=this._formatContents(this.contentsObj);Hn.append(cn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const cn of this.trigger)cn.addEventListener("click",this._toggle.bind(this)),cn.addEventListener("mouseover",this._show.bind(this,!1)),cn.addEventListener("mouseout",this._hide.bind(this,!1));return Hn.addEventListener("click",this._hide.bind(this,!0)),Rn.append(Hn),Rn}_formatContents(un){let{str:wn,dir:xn}=un;const Rn=document.createElement("p");Rn.className="popupContent",Rn.dir=xn;const Hn=wn.split(/(?:\r\n?|\n)/);for(let vn=0,qn=Hn.length;vn<qn;++vn){const In=Hn[vn];Rn.append(document.createTextNode(In)),vn<qn-1&&Rn.append(document.createElement("br"))}return Rn}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class kn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0}),this.textContent=un.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const un=document.createElement("div");un.className="annotationTextContent",un.setAttribute("role","comment");for(const wn of this.textContent){const xn=document.createElement("span");xn.textContent=wn,un.append(xn)}this.container.append(un)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Pn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const un=this.data,{width:wn,height:xn}=Ge(un.rect),Rn=this.svgFactory.create(wn,xn,!0),Hn=this.svgFactory.createElement("svg:line");return Hn.setAttribute("x1",un.rect[2]-un.lineCoordinates[0]),Hn.setAttribute("y1",un.rect[3]-un.lineCoordinates[1]),Hn.setAttribute("x2",un.rect[2]-un.lineCoordinates[2]),Hn.setAttribute("y2",un.rect[3]-un.lineCoordinates[3]),Hn.setAttribute("stroke-width",un.borderStyle.width||1),Hn.setAttribute("stroke","transparent"),Hn.setAttribute("fill","transparent"),Rn.append(Hn),this.container.append(Rn),this._createPopup(Hn,un),this.container}}class _n extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const un=this.data,{width:wn,height:xn}=Ge(un.rect),Rn=this.svgFactory.create(wn,xn,!0),Hn=un.borderStyle.width,vn=this.svgFactory.createElement("svg:rect");return vn.setAttribute("x",Hn/2),vn.setAttribute("y",Hn/2),vn.setAttribute("width",wn-Hn),vn.setAttribute("height",xn-Hn),vn.setAttribute("stroke-width",Hn||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),Rn.append(vn),this.container.append(Rn),this._createPopup(vn,un),this.container}}class Mn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const un=this.data,{width:wn,height:xn}=Ge(un.rect),Rn=this.svgFactory.create(wn,xn,!0),Hn=un.borderStyle.width,vn=this.svgFactory.createElement("svg:ellipse");return vn.setAttribute("cx",wn/2),vn.setAttribute("cy",xn/2),vn.setAttribute("rx",wn/2-Hn/2),vn.setAttribute("ry",xn/2-Hn/2),vn.setAttribute("stroke-width",Hn||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),Rn.append(vn),this.container.append(Rn),this._createPopup(vn,un),this.container}}class yn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const un=this.data,{width:wn,height:xn}=Ge(un.rect),Rn=this.svgFactory.create(wn,xn,!0);let Hn=[];for(const qn of un.vertices){const In=qn.x-un.rect[0],cn=un.rect[3]-qn.y;Hn.push(In+","+cn)}Hn=Hn.join(" ");const vn=this.svgFactory.createElement(this.svgElementName);return vn.setAttribute("points",Hn),vn.setAttribute("stroke-width",un.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),Rn.append(vn),this.container.append(Rn),this._createPopup(vn,un),this.container}}class zn extends yn{constructor(un){super(un),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ln extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Vn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const un=this.data,{width:wn,height:xn}=Ge(un.rect),Rn=this.svgFactory.create(wn,xn,!0);for(const Hn of un.inkLists){let vn=[];for(const In of Hn){const cn=In.x-un.rect[0],bn=un.rect[3]-In.y;vn.push(`${cn},${bn}`)}vn=vn.join(" ");const qn=this.svgFactory.createElement(this.svgElementName);qn.setAttribute("points",vn),qn.setAttribute("stroke-width",un.borderStyle.width||1),qn.setAttribute("stroke","transparent"),qn.setAttribute("fill","transparent"),this._createPopup(qn,un),Rn.append(qn)}return this.container.append(Rn),this.container}}class On extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Un extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class jn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Gn extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class An extends en{constructor(un){var wn,xn,Rn;const Hn=!!(un.data.hasPopup||(wn=un.data.titleObj)!==null&&wn!==void 0&&wn.str||(xn=un.data.contentsObj)!==null&&xn!==void 0&&xn.str||(Rn=un.data.richText)!==null&&Rn!==void 0&&Rn.str);super(un,{isRenderable:Hn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class $n extends en{constructor(un){var wn;super(un,{isRenderable:!0});const{filename:xn,content:Rn}=this.data.file;this.filename=(0,Re.getFilenameFromUrl)(xn),this.content=Rn,(wn=this.linkService.eventBus)===null||wn===void 0||wn.dispatch("fileattachmentannotation",{source:this,filename:xn,content:Rn})}render(){var un,wn;this.container.className="fileAttachmentAnnotation";const xn=document.createElement("div");return xn.className="popupTriggerArea",xn.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((un=this.data.titleObj)!==null&&un!==void 0&&un.str||(wn=this.data.contentsObj)!==null&&wn!==void 0&&wn.str||this.data.richText)&&this._createPopup(xn,this.data),this.container.append(xn),this.container}_download(){var un;(un=this.downloadManager)===null||un===void 0||un.openOrDownloadData(this.container,this.content,this.filename)}}class Nn{static render(un){const{annotations:wn,div:xn,viewport:Rn,accessibilityManager:Hn}=un;qe(this,Nn,Sn).call(this,xn,Rn);let vn=0;for(const qn of wn){if(qn.annotationType!==Be.AnnotationType.POPUP){const{width:cn,height:bn}=Ge(qn.rect);if(cn<=0||bn<=0)continue}const In=tn.create({data:qn,layer:xn,page:un.page,viewport:Rn,linkService:un.linkService,downloadManager:un.downloadManager,imageResourcesPath:un.imageResourcesPath||"",renderForms:un.renderForms!==!1,svgFactory:new Re.DOMSVGFactory,annotationStorage:un.annotationStorage||new Me.AnnotationStorage,enableScripting:un.enableScripting,hasJSActions:un.hasJSActions,fieldObjects:un.fieldObjects,mouseState:un.mouseState||{isDown:!1}});if(In.isRenderable){const cn=In.render();if(qn.hidden&&(cn.style.visibility="hidden"),Array.isArray(cn))for(const bn of cn)bn.style.zIndex=vn++,qe(Nn,Nn,En).call(Nn,bn,qn.id,xn,Hn);else cn.style.zIndex=vn++,In instanceof dn?xn.prepend(cn):qe(Nn,Nn,En).call(Nn,cn,qn.id,xn,Hn)}}qe(this,Nn,pn).call(this,xn,un.annotationCanvasMap)}static update(un){const{annotationCanvasMap:wn,div:xn,viewport:Rn}=un;qe(this,Nn,Sn).call(this,xn,Rn),qe(this,Nn,pn).call(this,xn,wn),xn.hidden=!1}}Ee.AnnotationLayer=Nn;function En(mn,un,wn,xn){const Rn=mn.firstChild||mn;Rn.id=`${Re.AnnotationPrefix}${un}`,wn.append(mn),xn==null||xn.moveElementInDOM(wn,mn,Rn,!1)}function Sn(mn,un){let{width:wn,height:xn,rotation:Rn}=un;const{style:Hn}=mn,vn=Rn%180!==0,qn=Math.floor(wn)+"px",In=Math.floor(xn)+"px";Hn.width=vn?In:qn,Hn.height=vn?qn:In,mn.setAttribute("data-main-rotation",Rn)}function pn(mn,un){if(un){for(const[wn,xn]of un){const Rn=mn.querySelector(`[data-annotation-id="${wn}"]`);if(!Rn)continue;const{firstChild:Hn}=Rn;Hn?Hn.nodeName==="CANVAS"?Hn.replaceWith(xn):Hn.before(xn):Rn.append(xn)}un.clear()}}}),((Ce,Ee)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.ColorConverters=void 0;function Te(Re){return Math.floor(Math.max(0,Math.min(1,Re))*255).toString(16).padStart(2,"0")}class Be{static CMYK_G(Me){let[Ue,De,qe,$e]=Me;return["G",1-Math.min(1,.3*Ue+.59*qe+.11*De+$e)]}static G_CMYK(Me){let[Ue]=Me;return["CMYK",0,0,0,1-Ue]}static G_RGB(Me){let[Ue]=Me;return["RGB",Ue,Ue,Ue]}static G_HTML(Me){let[Ue]=Me;const De=Te(Ue);return`#${De}${De}${De}`}static RGB_G(Me){let[Ue,De,qe]=Me;return["G",.3*Ue+.59*De+.11*qe]}static RGB_HTML(Me){let[Ue,De,qe]=Me;const $e=Te(Ue),ze=Te(De),Xe=Te(qe);return`#${$e}${ze}${Xe}`}static T_HTML(){return"#00000000"}static CMYK_RGB(Me){let[Ue,De,qe,$e]=Me;return["RGB",1-Math.min(1,Ue+$e),1-Math.min(1,qe+$e),1-Math.min(1,De+$e)]}static CMYK_HTML(Me){const Ue=this.CMYK_RGB(Me).slice(1);return this.RGB_HTML(Ue)}static RGB_CMYK(Me){let[Ue,De,qe]=Me;const $e=1-Ue,ze=1-De,Xe=1-qe,We=Math.min($e,ze,Xe);return["CMYK",$e,ze,Xe,We]}}Ee.ColorConverters=Be}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.XfaLayer=void 0;var Be=Te(145);class Re{static setupStorage(Ue,De,qe,$e,ze){const Xe=$e.getValue(De,{value:null});switch(qe.name){case"textarea":if(Xe.value!==null&&(Ue.textContent=Xe.value),ze==="print")break;Ue.addEventListener("input",We=>{$e.setValue(De,{value:We.target.value})});break;case"input":if(qe.attributes.type==="radio"||qe.attributes.type==="checkbox"){if(Xe.value===qe.attributes.xfaOn?Ue.setAttribute("checked",!0):Xe.value===qe.attributes.xfaOff&&Ue.removeAttribute("checked"),ze==="print")break;Ue.addEventListener("change",We=>{$e.setValue(De,{value:We.target.checked?We.target.getAttribute("xfaOn"):We.target.getAttribute("xfaOff")})})}else{if(Xe.value!==null&&Ue.setAttribute("value",Xe.value),ze==="print")break;Ue.addEventListener("input",We=>{$e.setValue(De,{value:We.target.value})})}break;case"select":if(Xe.value!==null)for(const We of qe.children)We.attributes.value===Xe.value&&(We.attributes.selected=!0);Ue.addEventListener("input",We=>{const Ge=We.target.options,tn=Ge.selectedIndex===-1?"":Ge[Ge.selectedIndex].value;$e.setValue(De,{value:tn})});break}}static setAttributes(Ue){let{html:De,element:qe,storage:$e=null,intent:ze,linkService:Xe}=Ue;const{attributes:We}=qe,Ge=De instanceof HTMLAnchorElement;We.type==="radio"&&(We.name=`${We.name}-${ze}`);for(const[tn,en]of Object.entries(We))if(en!=null)switch(tn){case"class":en.length&&De.setAttribute(tn,en.join(" "));break;case"dataId":break;case"id":De.setAttribute("data-element-id",en);break;case"style":Object.assign(De.style,en);break;case"textContent":De.textContent=en;break;default:(!Ge||tn!=="href"&&tn!=="newWindow")&&De.setAttribute(tn,en)}Ge&&Xe.addLinkAttributes(De,We.href,We.newWindow),$e&&We.dataId&&this.setupStorage(De,We.dataId,qe,$e)}static render(Ue){const De=Ue.annotationStorage,qe=Ue.linkService,$e=Ue.xfaHtml,ze=Ue.intent||"display",Xe=document.createElement($e.name);$e.attributes&&this.setAttributes({html:Xe,element:$e,intent:ze,linkService:qe});const We=[[$e,-1,Xe]],Ge=Ue.div;if(Ge.append(Xe),Ue.viewport){const an=`matrix(${Ue.viewport.transform.join(",")})`;Ge.style.transform=an}ze!=="richText"&&Ge.setAttribute("class","xfaLayer xfaFont");const tn=[];for(;We.length>0;){var en;const[an,Ye,Ze]=We.at(-1);if(Ye+1===an.children.length){We.pop();continue}const St=an.children[++We.at(-1)[1]];if(St===null)continue;const{name:Qe}=St;if(Qe==="#text"){const on=document.createTextNode(St.value);tn.push(on),Ze.append(on);continue}let Je;if(St!=null&&(en=St.attributes)!==null&&en!==void 0&&en.xmlns?Je=document.createElementNS(St.attributes.xmlns,Qe):Je=document.createElement(Qe),Ze.append(Je),St.attributes&&this.setAttributes({html:Je,element:St,storage:De,intent:ze,linkService:qe}),St.children&&St.children.length>0)We.push([St,-1,Je]);else if(St.value){const on=document.createTextNode(St.value);Be.XfaText.shouldBuildText(Qe)&&tn.push(on),Je.append(on)}}for(const an of Ge.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))an.setAttribute("readOnly",!0);return{textDivs:tn}}static update(Ue){const De=`matrix(${Ue.viewport.transform.join(",")})`;Ue.div.style.transform=De,Ue.div.hidden=!1}}Ee.XfaLayer=Re}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.TextLayerRenderTask=void 0,Ee.renderTextLayer=Ze;var Be=Te(1),Re=Te(133);const Me=1e5,Ue=30,De=.8,qe=new Map,$e=/^\s+$/g;function ze(St,Qe){const Je=qe.get(St);if(Je)return Je;Qe.save(),Qe.font=`${Ue}px ${St}`;const on=Qe.measureText("");let hn=on.fontBoundingBoxAscent,dn=Math.abs(on.fontBoundingBoxDescent);if(hn){Qe.restore();const kn=hn/(hn+dn);return qe.set(St,kn),kn}Qe.strokeStyle="red",Qe.clearRect(0,0,Ue,Ue),Qe.strokeText("g",0,0);let sn=Qe.getImageData(0,0,Ue,Ue).data;dn=0;for(let kn=sn.length-1-3;kn>=0;kn-=4)if(sn[kn]>0){dn=Math.ceil(kn/4/Ue);break}Qe.clearRect(0,0,Ue,Ue),Qe.strokeText("A",0,Ue),sn=Qe.getImageData(0,0,Ue,Ue).data,hn=0;for(let kn=0,Pn=sn.length;kn<Pn;kn+=4)if(sn[kn]>0){hn=Ue-Math.floor(kn/4/Ue);break}if(Qe.restore(),hn){const kn=hn/(hn+dn);return qe.set(St,kn),kn}return qe.set(St,De),De}function Xe(St,Qe,Je,on){const hn=document.createElement("span"),dn=St._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:Qe.str!=="",hasEOL:Qe.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:Qe.str!=="",hasEOL:Qe.hasEOL,fontSize:0};St._textDivs.push(hn);const sn=Be.Util.transform(St._viewport.transform,Qe.transform);let kn=Math.atan2(sn[1],sn[0]);const Pn=Je[Qe.fontName];Pn.vertical&&(kn+=Math.PI/2);const _n=Math.hypot(sn[2],sn[3]),Mn=_n*ze(Pn.fontFamily,on);let yn,zn;kn===0?(yn=sn[4],zn=sn[5]-Mn):(yn=sn[4]+Mn*Math.sin(kn),zn=sn[5]-Mn*Math.cos(kn)),hn.style.left=`${yn}px`,hn.style.top=`${zn}px`,hn.style.fontSize=`${_n}px`,hn.style.fontFamily=Pn.fontFamily,dn.fontSize=_n,hn.setAttribute("role","presentation"),hn.textContent=Qe.str,hn.dir=Qe.dir,St._fontInspectorEnabled&&(hn.dataset.fontName=Qe.fontName),kn!==0&&(dn.angle=kn*(180/Math.PI));let Ln=!1;if(Qe.str.length>1||St._enhanceTextSelection&&$e.test(Qe.str))Ln=!0;else if(Qe.str!==" "&&Qe.transform[0]!==Qe.transform[3]){const Vn=Math.abs(Qe.transform[0]),On=Math.abs(Qe.transform[3]);Vn!==On&&Math.max(Vn,On)/Math.min(Vn,On)>1.5&&(Ln=!0)}if(Ln&&(Pn.vertical?dn.canvasWidth=Qe.height*St._viewport.scale:dn.canvasWidth=Qe.width*St._viewport.scale),St._textDivProperties.set(hn,dn),St._textContentStream&&St._layoutText(hn),St._enhanceTextSelection&&dn.hasText){let Vn=1,On=0;kn!==0&&(Vn=Math.cos(kn),On=Math.sin(kn));const Un=(Pn.vertical?Qe.height:Qe.width)*St._viewport.scale,jn=_n;let Gn,An;kn!==0?(Gn=[Vn,On,-On,Vn,yn,zn],An=Be.Util.getAxialAlignedBoundingBox([0,0,Un,jn],Gn)):An=[yn,zn,yn+Un,zn+jn],St._bounds.push({left:An[0],top:An[1],right:An[2],bottom:An[3],div:hn,size:[Un,jn],m:Gn})}}function We(St){if(St._canceled)return;const Qe=St._textDivs,Je=St._capability,on=Qe.length;if(on>Me){St._renderingDone=!0,Je.resolve();return}if(!St._textContentStream)for(let hn=0;hn<on;hn++)St._layoutText(Qe[hn]);St._renderingDone=!0,Je.resolve()}function Ge(St,Qe,Je){let on=0;for(let hn=0;hn<Je;hn++){const dn=St[Qe++];dn>0&&(on=on?Math.min(dn,on):dn)}return on}function tn(St){const Qe=St._bounds,Je=St._viewport,on=en(Je.width,Je.height,Qe);for(let hn=0;hn<on.length;hn++){const dn=Qe[hn].div,sn=St._textDivProperties.get(dn);if(sn.angle===0){sn.paddingLeft=Qe[hn].left-on[hn].left,sn.paddingTop=Qe[hn].top-on[hn].top,sn.paddingRight=on[hn].right-Qe[hn].right,sn.paddingBottom=on[hn].bottom-Qe[hn].bottom,St._textDivProperties.set(dn,sn);continue}const kn=on[hn],Pn=Qe[hn],_n=Pn.m,Mn=_n[0],yn=_n[1],zn=[[0,0],[0,Pn.size[1]],[Pn.size[0],0],Pn.size],Ln=new Float64Array(64);for(let On=0,Un=zn.length;On<Un;On++){const jn=Be.Util.applyTransform(zn[On],_n);Ln[On+0]=Mn&&(kn.left-jn[0])/Mn,Ln[On+4]=yn&&(kn.top-jn[1])/yn,Ln[On+8]=Mn&&(kn.right-jn[0])/Mn,Ln[On+12]=yn&&(kn.bottom-jn[1])/yn,Ln[On+16]=yn&&(kn.left-jn[0])/-yn,Ln[On+20]=Mn&&(kn.top-jn[1])/Mn,Ln[On+24]=yn&&(kn.right-jn[0])/-yn,Ln[On+28]=Mn&&(kn.bottom-jn[1])/Mn,Ln[On+32]=Mn&&(kn.left-jn[0])/-Mn,Ln[On+36]=yn&&(kn.top-jn[1])/-yn,Ln[On+40]=Mn&&(kn.right-jn[0])/-Mn,Ln[On+44]=yn&&(kn.bottom-jn[1])/-yn,Ln[On+48]=yn&&(kn.left-jn[0])/yn,Ln[On+52]=Mn&&(kn.top-jn[1])/-Mn,Ln[On+56]=yn&&(kn.right-jn[0])/yn,Ln[On+60]=Mn&&(kn.bottom-jn[1])/-Mn}const Vn=1+Math.min(Math.abs(Mn),Math.abs(yn));sn.paddingLeft=Ge(Ln,32,16)/Vn,sn.paddingTop=Ge(Ln,48,16)/Vn,sn.paddingRight=Ge(Ln,0,16)/Vn,sn.paddingBottom=Ge(Ln,16,16)/Vn,St._textDivProperties.set(dn,sn)}}function en(St,Qe,Je){const on=Je.map(function(dn,sn){return{x1:dn.left,y1:dn.top,x2:dn.right,y2:dn.bottom,index:sn,x1New:void 0,x2New:void 0}});an(St,on);const hn=new Array(Je.length);for(const dn of on){const sn=dn.index;hn[sn]={left:dn.x1New,top:0,right:dn.x2New,bottom:0}}Je.map(function(dn,sn){const kn=hn[sn],Pn=on[sn];Pn.x1=dn.top,Pn.y1=St-kn.right,Pn.x2=dn.bottom,Pn.y2=St-kn.left,Pn.index=sn,Pn.x1New=void 0,Pn.x2New=void 0}),an(Qe,on);for(const dn of on){const sn=dn.index;hn[sn].top=dn.x1New,hn[sn].bottom=dn.x2New}return hn}function an(St,Qe){Qe.sort(function(hn,dn){return hn.x1-dn.x1||hn.index-dn.index});const on=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const hn of Qe){let dn=0;for(;dn<on.length&&on[dn].end<=hn.y1;)dn++;let sn=on.length-1;for(;sn>=0&&on[sn].start>=hn.y2;)sn--;let kn,Pn,_n,Mn,yn=-1/0;for(_n=dn;_n<=sn;_n++){kn=on[_n],Pn=kn.boundary;let Vn;Pn.x2>hn.x1?Vn=Pn.index>hn.index?Pn.x1New:hn.x1:Pn.x2New===void 0?Vn=(Pn.x2+hn.x1)/2:Vn=Pn.x2New,Vn>yn&&(yn=Vn)}for(hn.x1New=yn,_n=dn;_n<=sn;_n++)kn=on[_n],Pn=kn.boundary,Pn.x2New===void 0?Pn.x2>hn.x1?Pn.index>hn.index&&(Pn.x2New=Pn.x2):Pn.x2New=yn:Pn.x2New>yn&&(Pn.x2New=Math.max(yn,Pn.x2));const zn=[];let Ln=null;for(_n=dn;_n<=sn;_n++){kn=on[_n],Pn=kn.boundary;const Vn=Pn.x2>hn.x2?Pn:hn;Ln===Vn?zn.at(-1).end=kn.end:(zn.push({start:kn.start,end:kn.end,boundary:Vn}),Ln=Vn)}for(on[dn].start<hn.y1&&(zn[0].start=hn.y1,zn.unshift({start:on[dn].start,end:hn.y1,boundary:on[dn].boundary})),hn.y2<on[sn].end&&(zn.at(-1).end=hn.y2,zn.push({start:hn.y2,end:on[sn].end,boundary:on[sn].boundary})),_n=dn;_n<=sn;_n++){if(kn=on[_n],Pn=kn.boundary,Pn.x2New!==void 0)continue;let Vn=!1;for(Mn=dn-1;!Vn&&Mn>=0&&on[Mn].start>=Pn.y1;Mn--)Vn=on[Mn].boundary===Pn;for(Mn=sn+1;!Vn&&Mn<on.length&&on[Mn].end<=Pn.y2;Mn++)Vn=on[Mn].boundary===Pn;for(Mn=0;!Vn&&Mn<zn.length;Mn++)Vn=zn[Mn].boundary===Pn;Vn||(Pn.x2New=yn)}Array.prototype.splice.apply(on,[dn,sn-dn+1,...zn])}for(const hn of on){const dn=hn.boundary;dn.x2New===void 0&&(dn.x2New=Math.max(St,dn.x2))}}class Ye{constructor(Qe){var Je;let{textContent:on,textContentStream:hn,container:dn,viewport:sn,textDivs:kn,textContentItemsStr:Pn,enhanceTextSelection:_n}=Qe;_n&&(0,Re.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=on,this._textContentStream=hn,this._container=dn,this._document=dn.ownerDocument,this._viewport=sn,this._textDivs=kn||[],this._textContentItemsStr=Pn||[],this._enhanceTextSelection=!!_n,this._fontInspectorEnabled=!!((Je=globalThis.FontInspector)!==null&&Je!==void 0&&Je.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,Be.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Be.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(Qe,Je){for(let on=0,hn=Qe.length;on<hn;on++){if(Qe[on].str===void 0){if(Qe[on].type==="beginMarkedContentProps"||Qe[on].type==="beginMarkedContent"){const dn=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Qe[on].id!==null&&this._container.setAttribute("id",`${Qe[on].id}`),dn.append(this._container)}else Qe[on].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Qe[on].str),Xe(this,Qe[on],Je,this._layoutTextCtx)}}_layoutText(Qe){const Je=this._textDivProperties.get(Qe);let on="";if(Je.canvasWidth!==0&&Je.hasText){const{fontFamily:hn}=Qe.style,{fontSize:dn}=Je;(dn!==this._layoutTextLastFontSize||hn!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${dn*this._devicePixelRatio}px ${hn}`,this._layoutTextLastFontSize=dn,this._layoutTextLastFontFamily=hn);const{width:sn}=this._layoutTextCtx.measureText(Qe.textContent);if(sn>0){const kn=this._devicePixelRatio*Je.canvasWidth/sn;this._enhanceTextSelection&&(Je.scale=kn),on=`scaleX(${kn})`}}if(Je.angle!==0&&(on=`rotate(${Je.angle}deg) ${on}`),on.length>0&&(this._enhanceTextSelection&&(Je.originalTransform=on),Qe.style.transform=on),Je.hasText&&this._container.append(Qe),Je.hasEOL){const hn=document.createElement("br");hn.setAttribute("role","presentation"),this._container.append(hn)}}_render(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const Je=(0,Be.createPromiseCapability)();let on=Object.create(null);const hn=this._document.createElement("canvas");if(hn.height=hn.width=Ue,this._layoutTextCtx=hn.getContext("2d",{alpha:!1}),this._textContent){const dn=this._textContent.items,sn=this._textContent.styles;this._processItems(dn,sn),Je.resolve()}else if(this._textContentStream){const dn=()=>{this._reader.read().then(sn=>{let{value:kn,done:Pn}=sn;if(Pn){Je.resolve();return}Object.assign(on,kn.styles),this._processItems(kn.items,on),dn()},Je.reject)};this._reader=this._textContentStream.getReader(),dn()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Je.promise.then(()=>{on=null,Qe?this._renderTimer=setTimeout(()=>{We(this),this._renderTimer=null},Qe):We(this)},this._capability.reject)}expandTextDivs(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(tn(this),this._bounds=null);const Je=[],on=[];for(let hn=0,dn=this._textDivs.length;hn<dn;hn++){const sn=this._textDivs[hn],kn=this._textDivProperties.get(sn);kn.hasText&&(Qe?(Je.length=0,on.length=0,kn.originalTransform&&Je.push(kn.originalTransform),kn.paddingTop>0?(on.push(`${kn.paddingTop}px`),Je.push(`translateY(${-kn.paddingTop}px)`)):on.push(0),kn.paddingRight>0?on.push(`${kn.paddingRight/kn.scale}px`):on.push(0),kn.paddingBottom>0?on.push(`${kn.paddingBottom}px`):on.push(0),kn.paddingLeft>0?(on.push(`${kn.paddingLeft/kn.scale}px`),Je.push(`translateX(${-kn.paddingLeft/kn.scale}px)`)):on.push(0),sn.style.padding=on.join(" "),Je.length&&(sn.style.transform=Je.join(" "))):(sn.style.padding=null,sn.style.transform=kn.originalTransform))}}}Ee.TextLayerRenderTask=Ye;function Ze(St){const Qe=new Ye({textContent:St.textContent,textContentStream:St.textContentStream,container:St.container,viewport:St.viewport,textDivs:St.textDivs,textContentItemsStr:St.textContentItemsStr,enhanceTextSelection:St.enhanceTextSelection});return Qe._render(St.timeout),Qe}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.SVGGraphics=void 0;var Be=Te(133),Re=Te(1),Me=Te(3);let Ue=class{constructor(){(0,Re.unreachable)("Not implemented: SVGGraphics")}};Ee.SVGGraphics=Ue;{let en=function(Je){let on=[];const hn=[];for(const dn of Je){if(dn.fn==="save"){on.push({fnId:92,fn:"group",items:[]}),hn.push(on),on=on.at(-1).items;continue}dn.fn==="restore"?on=hn.pop():on.push(dn)}return on},an=function(Je){if(Number.isInteger(Je))return Je.toString();const on=Je.toFixed(10);let hn=on.length-1;if(on[hn]!=="0")return on;do hn--;while(on[hn]==="0");return on.substring(0,on[hn]==="."?hn:hn+1)},Ye=function(Je){if(Je[4]===0&&Je[5]===0){if(Je[1]===0&&Je[2]===0)return Je[0]===1&&Je[3]===1?"":`scale(${an(Je[0])} ${an(Je[3])})`;if(Je[0]===Je[3]&&Je[1]===-Je[2]){const on=Math.acos(Je[0])*180/Math.PI;return`rotate(${an(on)})`}}else if(Je[0]===1&&Je[1]===0&&Je[2]===0&&Je[3]===1)return`translate(${an(Je[4])} ${an(Je[5])})`;return`matrix(${an(Je[0])} ${an(Je[1])} ${an(Je[2])} ${an(Je[3])} ${an(Je[4])} ${an(Je[5])})`};const De={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},qe="http://www.w3.org/XML/1998/namespace",$e="http://www.w3.org/1999/xlink",ze=["butt","round","square"],Xe=["miter","round","bevel"],We=function(Je){let on=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!hn)return URL.createObjectURL(new Blob([Je],{type:on}));const dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let sn=`data:${on};base64,`;for(let kn=0,Pn=Je.length;kn<Pn;kn+=3){const _n=Je[kn]&255,Mn=Je[kn+1]&255,yn=Je[kn+2]&255,zn=_n>>2,Ln=(_n&3)<<4|Mn>>4,Vn=kn+1<Pn?(Mn&15)<<2|yn>>6:64,On=kn+2<Pn?yn&63:64;sn+=dn[zn]+dn[Ln]+dn[Vn]+dn[On]}return sn},Ge=(function(){const Je=new Uint8Array([137,80,78,71,13,10,26,10]),on=12,hn=new Int32Array(256);for(let yn=0;yn<256;yn++){let zn=yn;for(let Ln=0;Ln<8;Ln++)zn&1?zn=3988292384^zn>>1&2147483647:zn=zn>>1&2147483647;hn[yn]=zn}function dn(yn,zn,Ln){let Vn=-1;for(let On=zn;On<Ln;On++){const Un=(Vn^yn[On])&255,jn=hn[Un];Vn=Vn>>>8^jn}return Vn^-1}function sn(yn,zn,Ln,Vn){let On=Vn;const Un=zn.length;Ln[On]=Un>>24&255,Ln[On+1]=Un>>16&255,Ln[On+2]=Un>>8&255,Ln[On+3]=Un&255,On+=4,Ln[On]=yn.charCodeAt(0)&255,Ln[On+1]=yn.charCodeAt(1)&255,Ln[On+2]=yn.charCodeAt(2)&255,Ln[On+3]=yn.charCodeAt(3)&255,On+=4,Ln.set(zn,On),On+=zn.length;const jn=dn(Ln,Vn+4,On);Ln[On]=jn>>24&255,Ln[On+1]=jn>>16&255,Ln[On+2]=jn>>8&255,Ln[On+3]=jn&255}function kn(yn,zn,Ln){let Vn=1,On=0;for(let Un=zn;Un<Ln;++Un)Vn=(Vn+(yn[Un]&255))%65521,On=(On+Vn)%65521;return On<<16|Vn}function Pn(yn){if(!Me.isNodeJS)return _n(yn);try{let zn;parseInt(process.versions.node)>=8?zn=yn:zn=Buffer.from(yn);const Ln=require$$7.deflateSync(zn,{level:9});return Ln instanceof Uint8Array?Ln:new Uint8Array(Ln)}catch(zn){(0,Re.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+zn)}return _n(yn)}function _n(yn){let zn=yn.length;const Ln=65535,Vn=Math.ceil(zn/Ln),On=new Uint8Array(2+zn+Vn*5+4);let Un=0;On[Un++]=120,On[Un++]=156;let jn=0;for(;zn>Ln;)On[Un++]=0,On[Un++]=255,On[Un++]=255,On[Un++]=0,On[Un++]=0,On.set(yn.subarray(jn,jn+Ln),Un),Un+=Ln,jn+=Ln,zn-=Ln;On[Un++]=1,On[Un++]=zn&255,On[Un++]=zn>>8&255,On[Un++]=~zn&65535&255,On[Un++]=(~zn&65535)>>8&255,On.set(yn.subarray(jn),Un),Un+=yn.length-jn;const Gn=kn(yn,0,yn.length);return On[Un++]=Gn>>24&255,On[Un++]=Gn>>16&255,On[Un++]=Gn>>8&255,On[Un++]=Gn&255,On}function Mn(yn,zn,Ln,Vn){const On=yn.width,Un=yn.height;let jn,Gn,An;const $n=yn.data;switch(zn){case Re.ImageKind.GRAYSCALE_1BPP:Gn=0,jn=1,An=On+7>>3;break;case Re.ImageKind.RGB_24BPP:Gn=2,jn=8,An=On*3;break;case Re.ImageKind.RGBA_32BPP:Gn=6,jn=8,An=On*4;break;default:throw new Error("invalid format")}const Nn=new Uint8Array((1+An)*Un);let En=0,Sn=0;for(let Rn=0;Rn<Un;++Rn)Nn[En++]=0,Nn.set($n.subarray(Sn,Sn+An),En),Sn+=An,En+=An;if(zn===Re.ImageKind.GRAYSCALE_1BPP&&Vn){En=0;for(let Rn=0;Rn<Un;Rn++){En++;for(let Hn=0;Hn<An;Hn++)Nn[En++]^=255}}const pn=new Uint8Array([On>>24&255,On>>16&255,On>>8&255,On&255,Un>>24&255,Un>>16&255,Un>>8&255,Un&255,jn,Gn,0,0,0]),mn=Pn(Nn),un=Je.length+on*3+pn.length+mn.length,wn=new Uint8Array(un);let xn=0;return wn.set(Je,xn),xn+=Je.length,sn("IHDR",pn,wn,xn),xn+=on+pn.length,sn("IDATA",mn,wn,xn),xn+=on+mn.length,sn("IEND",new Uint8Array(0),wn,xn),We(wn,"image/png",Ln)}return function(zn,Ln,Vn){const On=zn.kind===void 0?Re.ImageKind.GRAYSCALE_1BPP:zn.kind;return Mn(zn,On,Ln,Vn)}})();class tn{constructor(){this.fontSizeScale=1,this.fontWeight=De.fontWeight,this.fontSize=0,this.textMatrix=Re.IDENTITY_MATRIX,this.fontMatrix=Re.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=Re.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=De.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(on,hn){this.x=on,this.y=hn}}let Ze=0,St=0,Qe=0;Ee.SVGGraphics=Ue=class{constructor(Je,on){let hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,Be.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Be.DOMSVGFactory,this.current=new tn,this.transformMatrix=Re.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Je,this.objs=on,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!hn,this._operatorIdMapping=[];for(const dn in Re.OPS)this._operatorIdMapping[Re.OPS[dn]]=dn}save(){this.transformStack.push(this.transformMatrix);const Je=this.current;this.extraStack.push(Je),this.current=Je.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Je){this.save(),this.executeOpTree(Je),this.restore()}loadDependencies(Je){const on=Je.fnArray,hn=Je.argsArray;for(let dn=0,sn=on.length;dn<sn;dn++)if(on[dn]===Re.OPS.dependency)for(const kn of hn[dn]){const Pn=kn.startsWith("g_")?this.commonObjs:this.objs,_n=new Promise(Mn=>{Pn.get(kn,Mn)});this.current.dependencies.push(_n)}return Promise.all(this.current.dependencies)}transform(Je,on,hn,dn,sn,kn){const Pn=[Je,on,hn,dn,sn,kn];this.transformMatrix=Re.Util.transform(this.transformMatrix,Pn),this.tgrp=null}getSVG(Je,on){this.viewport=on;const hn=this._initialize(on);return this.loadDependencies(Je).then(()=>(this.transformMatrix=Re.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Je)),hn))}convertOpList(Je){const on=this._operatorIdMapping,hn=Je.argsArray,dn=Je.fnArray,sn=[];for(let kn=0,Pn=dn.length;kn<Pn;kn++){const _n=dn[kn];sn.push({fnId:_n,fn:on[_n],args:hn[kn]})}return en(sn)}executeOpTree(Je){for(const on of Je){const hn=on.fn,dn=on.fnId,sn=on.args;switch(dn|0){case Re.OPS.beginText:this.beginText();break;case Re.OPS.dependency:break;case Re.OPS.setLeading:this.setLeading(sn);break;case Re.OPS.setLeadingMoveText:this.setLeadingMoveText(sn[0],sn[1]);break;case Re.OPS.setFont:this.setFont(sn);break;case Re.OPS.showText:this.showText(sn[0]);break;case Re.OPS.showSpacedText:this.showText(sn[0]);break;case Re.OPS.endText:this.endText();break;case Re.OPS.moveText:this.moveText(sn[0],sn[1]);break;case Re.OPS.setCharSpacing:this.setCharSpacing(sn[0]);break;case Re.OPS.setWordSpacing:this.setWordSpacing(sn[0]);break;case Re.OPS.setHScale:this.setHScale(sn[0]);break;case Re.OPS.setTextMatrix:this.setTextMatrix(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]);break;case Re.OPS.setTextRise:this.setTextRise(sn[0]);break;case Re.OPS.setTextRenderingMode:this.setTextRenderingMode(sn[0]);break;case Re.OPS.setLineWidth:this.setLineWidth(sn[0]);break;case Re.OPS.setLineJoin:this.setLineJoin(sn[0]);break;case Re.OPS.setLineCap:this.setLineCap(sn[0]);break;case Re.OPS.setMiterLimit:this.setMiterLimit(sn[0]);break;case Re.OPS.setFillRGBColor:this.setFillRGBColor(sn[0],sn[1],sn[2]);break;case Re.OPS.setStrokeRGBColor:this.setStrokeRGBColor(sn[0],sn[1],sn[2]);break;case Re.OPS.setStrokeColorN:this.setStrokeColorN(sn);break;case Re.OPS.setFillColorN:this.setFillColorN(sn);break;case Re.OPS.shadingFill:this.shadingFill(sn[0]);break;case Re.OPS.setDash:this.setDash(sn[0],sn[1]);break;case Re.OPS.setRenderingIntent:this.setRenderingIntent(sn[0]);break;case Re.OPS.setFlatness:this.setFlatness(sn[0]);break;case Re.OPS.setGState:this.setGState(sn[0]);break;case Re.OPS.fill:this.fill();break;case Re.OPS.eoFill:this.eoFill();break;case Re.OPS.stroke:this.stroke();break;case Re.OPS.fillStroke:this.fillStroke();break;case Re.OPS.eoFillStroke:this.eoFillStroke();break;case Re.OPS.clip:this.clip("nonzero");break;case Re.OPS.eoClip:this.clip("evenodd");break;case Re.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case Re.OPS.paintImageXObject:this.paintImageXObject(sn[0]);break;case Re.OPS.paintInlineImageXObject:this.paintInlineImageXObject(sn[0]);break;case Re.OPS.paintImageMaskXObject:this.paintImageMaskXObject(sn[0]);break;case Re.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(sn[0],sn[1]);break;case Re.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case Re.OPS.closePath:this.closePath();break;case Re.OPS.closeStroke:this.closeStroke();break;case Re.OPS.closeFillStroke:this.closeFillStroke();break;case Re.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case Re.OPS.nextLine:this.nextLine();break;case Re.OPS.transform:this.transform(sn[0],sn[1],sn[2],sn[3],sn[4],sn[5]);break;case Re.OPS.constructPath:this.constructPath(sn[0],sn[1]);break;case Re.OPS.endPath:this.endPath();break;case 92:this.group(on.items);break;default:(0,Re.warn)(`Unimplemented operator ${hn}`);break}}}setWordSpacing(Je){this.current.wordSpacing=Je}setCharSpacing(Je){this.current.charSpacing=Je}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Je,on,hn,dn,sn,kn){const Pn=this.current;Pn.textMatrix=Pn.lineMatrix=[Je,on,hn,dn,sn,kn],Pn.textMatrixScale=Math.hypot(Je,on),Pn.x=Pn.lineX=0,Pn.y=Pn.lineY=0,Pn.xcoords=[],Pn.ycoords=[],Pn.tspan=this.svgFactory.createElement("svg:tspan"),Pn.tspan.setAttributeNS(null,"font-family",Pn.fontFamily),Pn.tspan.setAttributeNS(null,"font-size",`${an(Pn.fontSize)}px`),Pn.tspan.setAttributeNS(null,"y",an(-Pn.y)),Pn.txtElement=this.svgFactory.createElement("svg:text"),Pn.txtElement.append(Pn.tspan)}beginText(){const Je=this.current;Je.x=Je.lineX=0,Je.y=Je.lineY=0,Je.textMatrix=Re.IDENTITY_MATRIX,Je.lineMatrix=Re.IDENTITY_MATRIX,Je.textMatrixScale=1,Je.tspan=this.svgFactory.createElement("svg:tspan"),Je.txtElement=this.svgFactory.createElement("svg:text"),Je.txtgrp=this.svgFactory.createElement("svg:g"),Je.xcoords=[],Je.ycoords=[]}moveText(Je,on){const hn=this.current;hn.x=hn.lineX+=Je,hn.y=hn.lineY+=on,hn.xcoords=[],hn.ycoords=[],hn.tspan=this.svgFactory.createElement("svg:tspan"),hn.tspan.setAttributeNS(null,"font-family",hn.fontFamily),hn.tspan.setAttributeNS(null,"font-size",`${an(hn.fontSize)}px`),hn.tspan.setAttributeNS(null,"y",an(-hn.y))}showText(Je){const on=this.current,hn=on.font,dn=on.fontSize;if(dn===0)return;const sn=on.fontSizeScale,kn=on.charSpacing,Pn=on.wordSpacing,_n=on.fontDirection,Mn=on.textHScale*_n,yn=hn.vertical,zn=yn?1:-1,Ln=hn.defaultVMetrics,Vn=dn*on.fontMatrix[0];let On=0;for(const Gn of Je){if(Gn===null){On+=_n*Pn;continue}else if(typeof Gn=="number"){On+=zn*Gn*dn/1e3;continue}const An=(Gn.isSpace?Pn:0)+kn,$n=Gn.fontChar;let Nn,En,Sn=Gn.width;if(yn){let mn;const un=Gn.vmetric||Ln;mn=Gn.vmetric?un[1]:Sn*.5,mn=-mn*Vn;const wn=un[2]*Vn;Sn=un?-un[0]:Sn,Nn=mn/sn,En=(On+wn)/sn}else Nn=On/sn,En=0;(Gn.isInFont||hn.missingFile)&&(on.xcoords.push(on.x+Nn),yn&&on.ycoords.push(-on.y+En),on.tspan.textContent+=$n);let pn;yn?pn=Sn*Vn-An*_n:pn=Sn*Vn+An*_n,On+=pn}on.tspan.setAttributeNS(null,"x",on.xcoords.map(an).join(" ")),yn?on.tspan.setAttributeNS(null,"y",on.ycoords.map(an).join(" ")):on.tspan.setAttributeNS(null,"y",an(-on.y)),yn?on.y-=On:on.x+=On*Mn,on.tspan.setAttributeNS(null,"font-family",on.fontFamily),on.tspan.setAttributeNS(null,"font-size",`${an(on.fontSize)}px`),on.fontStyle!==De.fontStyle&&on.tspan.setAttributeNS(null,"font-style",on.fontStyle),on.fontWeight!==De.fontWeight&&on.tspan.setAttributeNS(null,"font-weight",on.fontWeight);const Un=on.textRenderingMode&Re.TextRenderingMode.FILL_STROKE_MASK;if(Un===Re.TextRenderingMode.FILL||Un===Re.TextRenderingMode.FILL_STROKE?(on.fillColor!==De.fillColor&&on.tspan.setAttributeNS(null,"fill",on.fillColor),on.fillAlpha<1&&on.tspan.setAttributeNS(null,"fill-opacity",on.fillAlpha)):on.textRenderingMode===Re.TextRenderingMode.ADD_TO_PATH?on.tspan.setAttributeNS(null,"fill","transparent"):on.tspan.setAttributeNS(null,"fill","none"),Un===Re.TextRenderingMode.STROKE||Un===Re.TextRenderingMode.FILL_STROKE){const Gn=1/(on.textMatrixScale||1);this._setStrokeAttributes(on.tspan,Gn)}let jn=on.textMatrix;on.textRise!==0&&(jn=jn.slice(),jn[5]+=on.textRise),on.txtElement.setAttributeNS(null,"transform",`${Ye(jn)} scale(${an(Mn)}, -1)`),on.txtElement.setAttributeNS(qe,"xml:space","preserve"),on.txtElement.append(on.tspan),on.txtgrp.append(on.txtElement),this._ensureTransformGroup().append(on.txtElement)}setLeadingMoveText(Je,on){this.setLeading(-on),this.moveText(Je,on)}addFontStyle(Je){if(!Je.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const on=We(Je.data,Je.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Je.loadedName}"; src: url(${on}); }
`}setFont(Je){const on=this.current,hn=this.commonObjs.get(Je[0]);let dn=Je[1];on.font=hn,this.embedFonts&&!hn.missingFile&&!this.embeddedFonts[hn.loadedName]&&(this.addFontStyle(hn),this.embeddedFonts[hn.loadedName]=hn),on.fontMatrix=hn.fontMatrix||Re.FONT_IDENTITY_MATRIX;let sn="normal";hn.black?sn="900":hn.bold&&(sn="bold");const kn=hn.italic?"italic":"normal";dn<0?(dn=-dn,on.fontDirection=-1):on.fontDirection=1,on.fontSize=dn,on.fontFamily=hn.loadedName,on.fontWeight=sn,on.fontStyle=kn,on.tspan=this.svgFactory.createElement("svg:tspan"),on.tspan.setAttributeNS(null,"y",an(-on.y)),on.xcoords=[],on.ycoords=[]}endText(){var Je;const on=this.current;on.textRenderingMode&Re.TextRenderingMode.ADD_TO_PATH_FLAG&&(Je=on.txtElement)!==null&&Je!==void 0&&Je.hasChildNodes()&&(on.element=on.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Je){Je>0&&(this.current.lineWidth=Je)}setLineCap(Je){this.current.lineCap=ze[Je]}setLineJoin(Je){this.current.lineJoin=Xe[Je]}setMiterLimit(Je){this.current.miterLimit=Je}setStrokeAlpha(Je){this.current.strokeAlpha=Je}setStrokeRGBColor(Je,on,hn){this.current.strokeColor=Re.Util.makeHexColor(Je,on,hn)}setFillAlpha(Je){this.current.fillAlpha=Je}setFillRGBColor(Je,on,hn){this.current.fillColor=Re.Util.makeHexColor(Je,on,hn),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Je){this.current.strokeColor=this._makeColorN_Pattern(Je)}setFillColorN(Je){this.current.fillColor=this._makeColorN_Pattern(Je)}shadingFill(Je){const on=this.viewport.width,hn=this.viewport.height,dn=Re.Util.inverseTransform(this.transformMatrix),sn=Re.Util.applyTransform([0,0],dn),kn=Re.Util.applyTransform([0,hn],dn),Pn=Re.Util.applyTransform([on,0],dn),_n=Re.Util.applyTransform([on,hn],dn),Mn=Math.min(sn[0],kn[0],Pn[0],_n[0]),yn=Math.min(sn[1],kn[1],Pn[1],_n[1]),zn=Math.max(sn[0],kn[0],Pn[0],_n[0]),Ln=Math.max(sn[1],kn[1],Pn[1],_n[1]),Vn=this.svgFactory.createElement("svg:rect");Vn.setAttributeNS(null,"x",Mn),Vn.setAttributeNS(null,"y",yn),Vn.setAttributeNS(null,"width",zn-Mn),Vn.setAttributeNS(null,"height",Ln-yn),Vn.setAttributeNS(null,"fill",this._makeShadingPattern(Je)),this.current.fillAlpha<1&&Vn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Vn)}_makeColorN_Pattern(Je){return Je[0]==="TilingPattern"?this._makeTilingPattern(Je):this._makeShadingPattern(Je)}_makeTilingPattern(Je){const on=Je[1],hn=Je[2],dn=Je[3]||Re.IDENTITY_MATRIX,[sn,kn,Pn,_n]=Je[4],Mn=Je[5],yn=Je[6],zn=Je[7],Ln=`shading${Qe++}`,[Vn,On,Un,jn]=Re.Util.normalizeRect([...Re.Util.applyTransform([sn,kn],dn),...Re.Util.applyTransform([Pn,_n],dn)]),[Gn,An]=Re.Util.singularValueDecompose2dScale(dn),$n=Mn*Gn,Nn=yn*An,En=this.svgFactory.createElement("svg:pattern");En.setAttributeNS(null,"id",Ln),En.setAttributeNS(null,"patternUnits","userSpaceOnUse"),En.setAttributeNS(null,"width",$n),En.setAttributeNS(null,"height",Nn),En.setAttributeNS(null,"x",`${Vn}`),En.setAttributeNS(null,"y",`${On}`);const Sn=this.svg,pn=this.transformMatrix,mn=this.current.fillColor,un=this.current.strokeColor,wn=this.svgFactory.create(Un-Vn,jn-On);if(this.svg=wn,this.transformMatrix=dn,zn===2){const xn=Re.Util.makeHexColor(...on);this.current.fillColor=xn,this.current.strokeColor=xn}return this.executeOpTree(this.convertOpList(hn)),this.svg=Sn,this.transformMatrix=pn,this.current.fillColor=mn,this.current.strokeColor=un,En.append(wn.childNodes[0]),this.defs.append(En),`url(#${Ln})`}_makeShadingPattern(Je){switch(typeof Je=="string"&&(Je=this.objs.get(Je)),Je[0]){case"RadialAxial":const on=`shading${Qe++}`,hn=Je[3];let dn;switch(Je[1]){case"axial":const sn=Je[4],kn=Je[5];dn=this.svgFactory.createElement("svg:linearGradient"),dn.setAttributeNS(null,"id",on),dn.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dn.setAttributeNS(null,"x1",sn[0]),dn.setAttributeNS(null,"y1",sn[1]),dn.setAttributeNS(null,"x2",kn[0]),dn.setAttributeNS(null,"y2",kn[1]);break;case"radial":const Pn=Je[4],_n=Je[5],Mn=Je[6],yn=Je[7];dn=this.svgFactory.createElement("svg:radialGradient"),dn.setAttributeNS(null,"id",on),dn.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),dn.setAttributeNS(null,"cx",_n[0]),dn.setAttributeNS(null,"cy",_n[1]),dn.setAttributeNS(null,"r",yn),dn.setAttributeNS(null,"fx",Pn[0]),dn.setAttributeNS(null,"fy",Pn[1]),dn.setAttributeNS(null,"fr",Mn);break;default:throw new Error(`Unknown RadialAxial type: ${Je[1]}`)}for(const sn of hn){const kn=this.svgFactory.createElement("svg:stop");kn.setAttributeNS(null,"offset",sn[0]),kn.setAttributeNS(null,"stop-color",sn[1]),dn.append(kn)}return this.defs.append(dn),`url(#${on})`;case"Mesh":return(0,Re.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Je[0]}`)}}setDash(Je,on){this.current.dashArray=Je,this.current.dashPhase=on}constructPath(Je,on){const hn=this.current;let dn=hn.x,sn=hn.y,kn=[],Pn=0;for(const _n of Je)switch(_n|0){case Re.OPS.rectangle:dn=on[Pn++],sn=on[Pn++];const Mn=on[Pn++],yn=on[Pn++],zn=dn+Mn,Ln=sn+yn;kn.push("M",an(dn),an(sn),"L",an(zn),an(sn),"L",an(zn),an(Ln),"L",an(dn),an(Ln),"Z");break;case Re.OPS.moveTo:dn=on[Pn++],sn=on[Pn++],kn.push("M",an(dn),an(sn));break;case Re.OPS.lineTo:dn=on[Pn++],sn=on[Pn++],kn.push("L",an(dn),an(sn));break;case Re.OPS.curveTo:dn=on[Pn+4],sn=on[Pn+5],kn.push("C",an(on[Pn]),an(on[Pn+1]),an(on[Pn+2]),an(on[Pn+3]),an(dn),an(sn)),Pn+=6;break;case Re.OPS.curveTo2:kn.push("C",an(dn),an(sn),an(on[Pn]),an(on[Pn+1]),an(on[Pn+2]),an(on[Pn+3])),dn=on[Pn+2],sn=on[Pn+3],Pn+=4;break;case Re.OPS.curveTo3:dn=on[Pn+2],sn=on[Pn+3],kn.push("C",an(on[Pn]),an(on[Pn+1]),an(dn),an(sn),an(dn),an(sn)),Pn+=4;break;case Re.OPS.closePath:kn.push("Z");break}kn=kn.join(" "),hn.path&&Je.length>0&&Je[0]!==Re.OPS.rectangle&&Je[0]!==Re.OPS.moveTo?kn=hn.path.getAttributeNS(null,"d")+kn:(hn.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(hn.path)),hn.path.setAttributeNS(null,"d",kn),hn.path.setAttributeNS(null,"fill","none"),hn.element=hn.path,hn.setCurrentPoint(dn,sn)}endPath(){const Je=this.current;if(Je.path=null,!this.pendingClip)return;if(!Je.element){this.pendingClip=null;return}const on=`clippath${Ze++}`,hn=this.svgFactory.createElement("svg:clipPath");hn.setAttributeNS(null,"id",on),hn.setAttributeNS(null,"transform",Ye(this.transformMatrix));const dn=Je.element.cloneNode(!0);if(this.pendingClip==="evenodd"?dn.setAttributeNS(null,"clip-rule","evenodd"):dn.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,hn.append(dn),this.defs.append(hn),Je.activeClipUrl){Je.clipGroup=null;for(const sn of this.extraStack)sn.clipGroup=null;hn.setAttributeNS(null,"clip-path",Je.activeClipUrl)}Je.activeClipUrl=`url(#${on})`,this.tgrp=null}clip(Je){this.pendingClip=Je}closePath(){const Je=this.current;if(Je.path){const on=`${Je.path.getAttributeNS(null,"d")}Z`;Je.path.setAttributeNS(null,"d",on)}}setLeading(Je){this.current.leading=-Je}setTextRise(Je){this.current.textRise=Je}setTextRenderingMode(Je){this.current.textRenderingMode=Je}setHScale(Je){this.current.textHScale=Je/100}setRenderingIntent(Je){}setFlatness(Je){}setGState(Je){for(const[on,hn]of Je)switch(on){case"LW":this.setLineWidth(hn);break;case"LC":this.setLineCap(hn);break;case"LJ":this.setLineJoin(hn);break;case"ML":this.setMiterLimit(hn);break;case"D":this.setDash(hn[0],hn[1]);break;case"RI":this.setRenderingIntent(hn);break;case"FL":this.setFlatness(hn);break;case"Font":this.setFont(hn);break;case"CA":this.setStrokeAlpha(hn);break;case"ca":this.setFillAlpha(hn);break;default:(0,Re.warn)(`Unimplemented graphic state operator ${on}`);break}}fill(){const Je=this.current;Je.element&&(Je.element.setAttributeNS(null,"fill",Je.fillColor),Je.element.setAttributeNS(null,"fill-opacity",Je.fillAlpha),this.endPath())}stroke(){const Je=this.current;Je.element&&(this._setStrokeAttributes(Je.element),Je.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Je){let on=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const hn=this.current;let dn=hn.dashArray;on!==1&&dn.length>0&&(dn=dn.map(function(sn){return on*sn})),Je.setAttributeNS(null,"stroke",hn.strokeColor),Je.setAttributeNS(null,"stroke-opacity",hn.strokeAlpha),Je.setAttributeNS(null,"stroke-miterlimit",an(hn.miterLimit)),Je.setAttributeNS(null,"stroke-linecap",hn.lineCap),Je.setAttributeNS(null,"stroke-linejoin",hn.lineJoin),Je.setAttributeNS(null,"stroke-width",an(on*hn.lineWidth)+"px"),Je.setAttributeNS(null,"stroke-dasharray",dn.map(an).join(" ")),Je.setAttributeNS(null,"stroke-dashoffset",an(on*hn.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Je=this.svgFactory.createElement("svg:rect");Je.setAttributeNS(null,"x","0"),Je.setAttributeNS(null,"y","0"),Je.setAttributeNS(null,"width","1px"),Je.setAttributeNS(null,"height","1px"),Je.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Je)}paintImageXObject(Je){const on=Je.startsWith("g_")?this.commonObjs.get(Je):this.objs.get(Je);if(!on){(0,Re.warn)(`Dependent image with object ID ${Je} is not ready yet`);return}this.paintInlineImageXObject(on)}paintInlineImageXObject(Je,on){const hn=Je.width,dn=Je.height,sn=Ge(Je,this.forceDataSchema,!!on),kn=this.svgFactory.createElement("svg:rect");kn.setAttributeNS(null,"x","0"),kn.setAttributeNS(null,"y","0"),kn.setAttributeNS(null,"width",an(hn)),kn.setAttributeNS(null,"height",an(dn)),this.current.element=kn,this.clip("nonzero");const Pn=this.svgFactory.createElement("svg:image");Pn.setAttributeNS($e,"xlink:href",sn),Pn.setAttributeNS(null,"x","0"),Pn.setAttributeNS(null,"y",an(-dn)),Pn.setAttributeNS(null,"width",an(hn)+"px"),Pn.setAttributeNS(null,"height",an(dn)+"px"),Pn.setAttributeNS(null,"transform",`scale(${an(1/hn)} ${an(-1/dn)})`),on?on.append(Pn):this._ensureTransformGroup().append(Pn)}paintImageMaskXObject(Je){const on=this.current,hn=Je.width,dn=Je.height,sn=on.fillColor;on.maskId=`mask${St++}`;const kn=this.svgFactory.createElement("svg:mask");kn.setAttributeNS(null,"id",on.maskId);const Pn=this.svgFactory.createElement("svg:rect");Pn.setAttributeNS(null,"x","0"),Pn.setAttributeNS(null,"y","0"),Pn.setAttributeNS(null,"width",an(hn)),Pn.setAttributeNS(null,"height",an(dn)),Pn.setAttributeNS(null,"fill",sn),Pn.setAttributeNS(null,"mask",`url(#${on.maskId})`),this.defs.append(kn),this._ensureTransformGroup().append(Pn),this.paintInlineImageXObject(Je,kn)}paintFormXObjectBegin(Je,on){if(Array.isArray(Je)&&Je.length===6&&this.transform(Je[0],Je[1],Je[2],Je[3],Je[4],Je[5]),on){const hn=on[2]-on[0],dn=on[3]-on[1],sn=this.svgFactory.createElement("svg:rect");sn.setAttributeNS(null,"x",on[0]),sn.setAttributeNS(null,"y",on[1]),sn.setAttributeNS(null,"width",an(hn)),sn.setAttributeNS(null,"height",an(dn)),this.current.element=sn,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Je){const on=this.svgFactory.create(Je.width,Je.height),hn=this.svgFactory.createElement("svg:defs");on.append(hn),this.defs=hn;const dn=this.svgFactory.createElement("svg:g");return dn.setAttributeNS(null,"transform",Ye(Je.transform)),on.append(dn),this.svg=dn,on}_ensureClipGroup(){if(!this.current.clipGroup){const Je=this.svgFactory.createElement("svg:g");Je.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Je),this.current.clipGroup=Je}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ye(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PDFNodeStream=void 0;var Be=Te(1),Re=Te(158);const Me=require$$7,Ue=require$$7,De=require$$7,qe=require$$7,$e=/^file:\/\/\/[a-zA-Z]:\//;function ze(St){const Qe=qe.parse(St);return Qe.protocol==="file:"||Qe.host?Qe:/^[a-z]:[/\\]/i.test(St)?qe.parse(`file:///${St}`):(Qe.host||(Qe.protocol="file:"),Qe)}class Xe{constructor(Qe){this.source=Qe,this.url=ze(Qe.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Qe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Qe,Je;return(Qe=(Je=this._fullRequestReader)===null||Je===void 0?void 0:Je._loaded)!==null&&Qe!==void 0?Qe:0}getFullReader(){return(0,Be.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ye(this):new en(this),this._fullRequestReader}getRangeReader(Qe,Je){if(Je<=this._progressiveDataLength)return null;const on=this.isFsUrl?new Ze(this,Qe,Je):new an(this,Qe,Je);return this._rangeRequestReaders.push(on),on}cancelAllRequests(Qe){this._fullRequestReader&&this._fullRequestReader.cancel(Qe);for(const Je of this._rangeRequestReaders.slice(0))Je.cancel(Qe)}}Ee.PDFNodeStream=Xe;class We{constructor(Qe){this._url=Qe.url,this._done=!1,this._storedError=null,this.onProgress=null;const Je=Qe.source;this._contentLength=Je.length,this._loaded=0,this._filename=null,this._disableRange=Je.disableRange||!1,this._rangeChunkSize=Je.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Je.disableStream,this._isRangeSupported=!Je.disableRange,this._readableStream=null,this._readCapability=(0,Be.createPromiseCapability)(),this._headersCapability=(0,Be.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Qe=this._readableStream.read();return Qe===null?(this._readCapability=(0,Be.createPromiseCapability)(),this.read()):(this._loaded+=Qe.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Qe).buffer,done:!1})}cancel(Qe){if(!this._readableStream){this._error(Qe);return}this._readableStream.destroy(Qe)}_error(Qe){this._storedError=Qe,this._readCapability.resolve()}_setReadableStream(Qe){this._readableStream=Qe,Qe.on("readable",()=>{this._readCapability.resolve()}),Qe.on("end",()=>{Qe.destroy(),this._done=!0,this._readCapability.resolve()}),Qe.on("error",Je=>{this._error(Je)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Be.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ge{constructor(Qe){this._url=Qe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,Be.createPromiseCapability)();const Je=Qe.source;this._isStreamingSupported=!Je.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Qe=this._readableStream.read();return Qe===null?(this._readCapability=(0,Be.createPromiseCapability)(),this.read()):(this._loaded+=Qe.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Qe).buffer,done:!1})}cancel(Qe){if(!this._readableStream){this._error(Qe);return}this._readableStream.destroy(Qe)}_error(Qe){this._storedError=Qe,this._readCapability.resolve()}_setReadableStream(Qe){this._readableStream=Qe,Qe.on("readable",()=>{this._readCapability.resolve()}),Qe.on("end",()=>{Qe.destroy(),this._done=!0,this._readCapability.resolve()}),Qe.on("error",Je=>{this._error(Je)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function tn(St,Qe){return{protocol:St.protocol,auth:St.auth,host:St.hostname,port:St.port,path:St.path,method:"GET",headers:Qe}}class en extends We{constructor(Qe){super(Qe);const Je=on=>{if(on.statusCode===404){const kn=new Be.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=kn,this._headersCapability.reject(kn);return}this._headersCapability.resolve(),this._setReadableStream(on);const hn=kn=>this._readableStream.headers[kn.toLowerCase()],{allowRangeRequests:dn,suggestedLength:sn}=(0,Re.validateRangeRequestCapabilities)({getResponseHeader:hn,isHttp:Qe.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=dn,this._contentLength=sn||this._contentLength,this._filename=(0,Re.extractFilenameFromHeader)(hn)};this._request=null,this._url.protocol==="http:"?this._request=Ue.request(tn(this._url,Qe.httpHeaders),Je):this._request=De.request(tn(this._url,Qe.httpHeaders),Je),this._request.on("error",on=>{this._storedError=on,this._headersCapability.reject(on)}),this._request.end()}}class an extends Ge{constructor(Qe,Je,on){super(Qe),this._httpHeaders={};for(const dn in Qe.httpHeaders){const sn=Qe.httpHeaders[dn];typeof sn>"u"||(this._httpHeaders[dn]=sn)}this._httpHeaders.Range=`bytes=${Je}-${on-1}`;const hn=dn=>{if(dn.statusCode===404){const sn=new Be.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=sn;return}this._setReadableStream(dn)};this._request=null,this._url.protocol==="http:"?this._request=Ue.request(tn(this._url,this._httpHeaders),hn):this._request=De.request(tn(this._url,this._httpHeaders),hn),this._request.on("error",dn=>{this._storedError=dn}),this._request.end()}}class Ye extends We{constructor(Qe){super(Qe);let Je=decodeURIComponent(this._url.path);$e.test(this._url.href)&&(Je=Je.replace(/^\//,"")),Me.lstat(Je,(on,hn)=>{if(on){on.code==="ENOENT"&&(on=new Be.MissingPDFException(`Missing PDF "${Je}".`)),this._storedError=on,this._headersCapability.reject(on);return}this._contentLength=hn.size,this._setReadableStream(Me.createReadStream(Je)),this._headersCapability.resolve()})}}class Ze extends Ge{constructor(Qe,Je,on){super(Qe);let hn=decodeURIComponent(this._url.path);$e.test(this._url.href)&&(hn=hn.replace(/^\//,"")),this._setReadableStream(Me.createReadStream(hn,{start:Je,end:on-1}))}}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.createResponseStatusError=qe,Ee.extractFilenameFromHeader=De,Ee.validateRangeRequestCapabilities=Ue,Ee.validateResponseStatus=$e;var Be=Te(1),Re=Te(159),Me=Te(133);function Ue(ze){let{getResponseHeader:Xe,isHttp:We,rangeChunkSize:Ge,disableRange:tn}=ze;const en={allowRangeRequests:!1,suggestedLength:void 0},an=parseInt(Xe("Content-Length"),10);return!Number.isInteger(an)||(en.suggestedLength=an,an<=2*Ge)||tn||!We||Xe("Accept-Ranges")!=="bytes"||(Xe("Content-Encoding")||"identity")!=="identity"||(en.allowRangeRequests=!0),en}function De(ze){const Xe=ze("Content-Disposition");if(Xe){let We=(0,Re.getFilenameFromContentDispositionHeader)(Xe);if(We.includes("%"))try{We=decodeURIComponent(We)}catch{}if((0,Me.isPdfFile)(We))return We}return null}function qe(ze,Xe){return ze===404||ze===0&&Xe.startsWith("file:")?new Be.MissingPDFException('Missing PDF "'+Xe+'".'):new Be.UnexpectedResponseException(`Unexpected server response (${ze}) while retrieving PDF "${Xe}".`,ze)}function $e(ze){return ze===200||ze===206}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getFilenameFromContentDispositionHeader=Re;var Be=Te(1);function Re(Me){let Ue=!0,De=qe("filename\\*","i").exec(Me);if(De){De=De[1];let en=We(De);return en=unescape(en),en=Ge(en),en=tn(en),ze(en)}if(De=Xe(Me),De){const en=tn(De);return ze(en)}if(De=qe("filename","i").exec(Me),De){De=De[1];let en=We(De);return en=tn(en),ze(en)}function qe(en,an){return new RegExp("(?:^|;)\\s*"+en+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',an)}function $e(en,an){if(en){if(!/^[\x00-\xFF]+$/.test(an))return an;try{const Ye=new TextDecoder(en,{fatal:!0}),Ze=(0,Be.stringToBytes)(an);an=Ye.decode(Ze),Ue=!1}catch{}}return an}function ze(en){return Ue&&/[\x80-\xff]/.test(en)&&(en=$e("utf-8",en),Ue&&(en=$e("iso-8859-1",en))),en}function Xe(en){const an=[];let Ye;const Ze=qe("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Ye=Ze.exec(en))!==null;){let[,Qe,Je,on]=Ye;if(Qe=parseInt(Qe,10),Qe in an){if(Qe===0)break;continue}an[Qe]=[Je,on]}const St=[];for(let Qe=0;Qe<an.length&&Qe in an;++Qe){let[Je,on]=an[Qe];on=We(on),Je&&(on=unescape(on),Qe===0&&(on=Ge(on))),St.push(on)}return St.join("")}function We(en){if(en.startsWith('"')){const an=en.slice(1).split('\\"');for(let Ye=0;Ye<an.length;++Ye){const Ze=an[Ye].indexOf('"');Ze!==-1&&(an[Ye]=an[Ye].slice(0,Ze),an.length=Ye+1),an[Ye]=an[Ye].replace(/\\(.)/g,"$1")}en=an.join('"')}return en}function Ge(en){const an=en.indexOf("'");if(an===-1)return en;const Ye=en.slice(0,an),St=en.slice(an+1).replace(/^[^']*'/,"");return $e(Ye,St)}function tn(en){return!en.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(en)?en:en.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(an,Ye,Ze,St){if(Ze==="q"||Ze==="Q")return St=St.replace(/_/g," "),St=St.replace(/=([0-9a-fA-F]{2})/g,function(Qe,Je){return String.fromCharCode(parseInt(Je,16))}),$e(Ye,St);try{St=atob(St)}catch{}return $e(Ye,St)})}return""}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PDFNetworkStream=void 0;var Be=Te(1),Re=Te(158);const Me=200,Ue=206;function De(We){const Ge=We.response;return typeof Ge!="string"?Ge:(0,Be.stringToBytes)(Ge).buffer}class qe{constructor(Ge){let tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=Ge,this.isHttp=/^https?:/i.test(Ge),this.httpHeaders=this.isHttp&&tn.httpHeaders||Object.create(null),this.withCredentials=tn.withCredentials||!1,this.getXhr=tn.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Ge,tn,en){const an={begin:Ge,end:tn};for(const Ye in en)an[Ye]=en[Ye];return this.request(an)}requestFull(Ge){return this.request(Ge)}request(Ge){const tn=this.getXhr(),en=this.currXhrId++,an=this.pendingRequests[en]={xhr:tn};tn.open("GET",this.url),tn.withCredentials=this.withCredentials;for(const Ye in this.httpHeaders){const Ze=this.httpHeaders[Ye];typeof Ze>"u"||tn.setRequestHeader(Ye,Ze)}return this.isHttp&&"begin"in Ge&&"end"in Ge?(tn.setRequestHeader("Range",`bytes=${Ge.begin}-${Ge.end-1}`),an.expectedStatus=Ue):an.expectedStatus=Me,tn.responseType="arraybuffer",Ge.onError&&(tn.onerror=function(Ye){Ge.onError(tn.status)}),tn.onreadystatechange=this.onStateChange.bind(this,en),tn.onprogress=this.onProgress.bind(this,en),an.onHeadersReceived=Ge.onHeadersReceived,an.onDone=Ge.onDone,an.onError=Ge.onError,an.onProgress=Ge.onProgress,tn.send(null),en}onProgress(Ge,tn){var en;const an=this.pendingRequests[Ge];an&&((en=an.onProgress)===null||en===void 0||en.call(an,tn))}onStateChange(Ge,tn){const en=this.pendingRequests[Ge];if(!en)return;const an=en.xhr;if(an.readyState>=2&&en.onHeadersReceived&&(en.onHeadersReceived(),delete en.onHeadersReceived),an.readyState!==4||!(Ge in this.pendingRequests))return;if(delete this.pendingRequests[Ge],an.status===0&&this.isHttp){var Ye;(Ye=en.onError)===null||Ye===void 0||Ye.call(en,an.status);return}const Ze=an.status||Me;if(!(Ze===Me&&en.expectedStatus===Ue)&&Ze!==en.expectedStatus){var Qe;(Qe=en.onError)===null||Qe===void 0||Qe.call(en,an.status);return}const Je=De(an);if(Ze===Ue){const hn=an.getResponseHeader("Content-Range"),dn=/bytes (\d+)-(\d+)\/(\d+)/.exec(hn);en.onDone({begin:parseInt(dn[1],10),chunk:Je})}else if(Je)en.onDone({begin:0,chunk:Je});else{var on;(on=en.onError)===null||on===void 0||on.call(en,an.status)}}getRequestXhr(Ge){return this.pendingRequests[Ge].xhr}isPendingRequest(Ge){return Ge in this.pendingRequests}abortRequest(Ge){const tn=this.pendingRequests[Ge].xhr;delete this.pendingRequests[Ge],tn.abort()}}class $e{constructor(Ge){this._source=Ge,this._manager=new qe(Ge.url,{httpHeaders:Ge.httpHeaders,withCredentials:Ge.withCredentials}),this._rangeChunkSize=Ge.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Ge){const tn=this._rangeRequestReaders.indexOf(Ge);tn>=0&&this._rangeRequestReaders.splice(tn,1)}getFullReader(){return(0,Be.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ze(this._manager,this._source),this._fullRequestReader}getRangeReader(Ge,tn){const en=new Xe(this._manager,Ge,tn);return en.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(en),en}cancelAllRequests(Ge){var tn;(tn=this._fullRequestReader)===null||tn===void 0||tn.cancel(Ge);for(const en of this._rangeRequestReaders.slice(0))en.cancel(Ge)}}Ee.PDFNetworkStream=$e;class ze{constructor(Ge,tn){this._manager=Ge;const en={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=tn.url,this._fullRequestId=Ge.requestFull(en),this._headersReceivedCapability=(0,Be.createPromiseCapability)(),this._disableRange=tn.disableRange||!1,this._contentLength=tn.length,this._rangeChunkSize=tn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Ge=this._fullRequestId,tn=this._manager.getRequestXhr(Ge),en=Ze=>tn.getResponseHeader(Ze),{allowRangeRequests:an,suggestedLength:Ye}=(0,Re.validateRangeRequestCapabilities)({getResponseHeader:en,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});an&&(this._isRangeSupported=!0),this._contentLength=Ye||this._contentLength,this._filename=(0,Re.extractFilenameFromHeader)(en),this._isRangeSupported&&this._manager.abortRequest(Ge),this._headersReceivedCapability.resolve()}_onDone(Ge){if(Ge&&(this._requests.length>0?this._requests.shift().resolve({value:Ge.chunk,done:!1}):this._cachedChunks.push(Ge.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const tn of this._requests)tn.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Ge){this._storedError=(0,Re.createResponseStatusError)(Ge,this._url),this._headersReceivedCapability.reject(this._storedError);for(const tn of this._requests)tn.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Ge){var tn;(tn=this.onProgress)===null||tn===void 0||tn.call(this,{loaded:Ge.loaded,total:Ge.lengthComputable?Ge.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ge=(0,Be.createPromiseCapability)();return this._requests.push(Ge),Ge.promise}cancel(Ge){this._done=!0,this._headersReceivedCapability.reject(Ge);for(const tn of this._requests)tn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Xe{constructor(Ge,tn,en){this._manager=Ge;const an={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ge.url,this._requestId=Ge.requestRange(tn,en,an),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Ge;(Ge=this.onClosed)===null||Ge===void 0||Ge.call(this,this)}_onDone(Ge){const tn=Ge.chunk;this._requests.length>0?this._requests.shift().resolve({value:tn,done:!1}):this._queuedChunk=tn,this._done=!0;for(const en of this._requests)en.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Ge){this._storedError=(0,Re.createResponseStatusError)(Ge,this._url);for(const tn of this._requests)tn.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Ge){if(!this.isStreamingSupported){var tn;(tn=this.onProgress)===null||tn===void 0||tn.call(this,{loaded:Ge.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const tn=this._queuedChunk;return this._queuedChunk=null,{value:tn,done:!1}}if(this._done)return{value:void 0,done:!0};const Ge=(0,Be.createPromiseCapability)();return this._requests.push(Ge),Ge.promise}cancel(Ge){this._done=!0;for(const tn of this._requests)tn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((Ce,Ee,Te)=>{Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PDFFetchStream=void 0;var Be=Te(1),Re=Te(158);function Me(ze,Xe,We){return{method:"GET",headers:ze,signal:We.signal,mode:"cors",credentials:Xe?"include":"same-origin",redirect:"follow"}}function Ue(ze){const Xe=new Headers;for(const We in ze){const Ge=ze[We];typeof Ge>"u"||Xe.append(We,Ge)}return Xe}class De{constructor(Xe){this.source=Xe,this.isHttp=/^https?:/i.test(Xe.url),this.httpHeaders=this.isHttp&&Xe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Xe,We;return(Xe=(We=this._fullRequestReader)===null||We===void 0?void 0:We._loaded)!==null&&Xe!==void 0?Xe:0}getFullReader(){return(0,Be.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qe(this),this._fullRequestReader}getRangeReader(Xe,We){if(We<=this._progressiveDataLength)return null;const Ge=new $e(this,Xe,We);return this._rangeRequestReaders.push(Ge),Ge}cancelAllRequests(Xe){this._fullRequestReader&&this._fullRequestReader.cancel(Xe);for(const We of this._rangeRequestReaders.slice(0))We.cancel(Xe)}}Ee.PDFFetchStream=De;class qe{constructor(Xe){this._stream=Xe,this._reader=null,this._loaded=0,this._filename=null;const We=Xe.source;this._withCredentials=We.withCredentials||!1,this._contentLength=We.length,this._headersCapability=(0,Be.createPromiseCapability)(),this._disableRange=We.disableRange||!1,this._rangeChunkSize=We.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!We.disableStream,this._isRangeSupported=!We.disableRange,this._headers=Ue(this._stream.httpHeaders);const Ge=We.url;fetch(Ge,Me(this._headers,this._withCredentials,this._abortController)).then(tn=>{if(!(0,Re.validateResponseStatus)(tn.status))throw(0,Re.createResponseStatusError)(tn.status,Ge);this._reader=tn.body.getReader(),this._headersCapability.resolve();const en=Ze=>tn.headers.get(Ze),{allowRangeRequests:an,suggestedLength:Ye}=(0,Re.validateRangeRequestCapabilities)({getResponseHeader:en,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=an,this._contentLength=Ye||this._contentLength,this._filename=(0,Re.extractFilenameFromHeader)(en),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Be.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:Xe,done:We}=await this._reader.read();return We?{value:Xe,done:We}:(this._loaded+=Xe.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Xe).buffer,done:!1})}cancel(Xe){this._reader&&this._reader.cancel(Xe),this._abortController.abort()}}class $e{constructor(Xe,We,Ge){this._stream=Xe,this._reader=null,this._loaded=0;const tn=Xe.source;this._withCredentials=tn.withCredentials||!1,this._readCapability=(0,Be.createPromiseCapability)(),this._isStreamingSupported=!tn.disableStream,this._abortController=new AbortController,this._headers=Ue(this._stream.httpHeaders),this._headers.append("Range",`bytes=${We}-${Ge-1}`);const en=tn.url;fetch(en,Me(this._headers,this._withCredentials,this._abortController)).then(an=>{if(!(0,Re.validateResponseStatus)(an.status))throw(0,Re.createResponseStatusError)(an.status,en);this._readCapability.resolve(),this._reader=an.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:Xe,done:We}=await this._reader.read();return We?{value:Xe,done:We}:(this._loaded+=Xe.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Xe).buffer,done:!1})}cancel(Xe){this._reader&&this._reader.cancel(Xe),this._abortController.abort()}}})],__webpack_module_cache__={};function __w_pdfjs_require__(Ce){var Ee=__webpack_module_cache__[Ce];if(Ee!==void 0)return Ee.exports;var Te=__webpack_module_cache__[Ce]={exports:{}};return __webpack_modules__[Ce](Te,Te.exports,__w_pdfjs_require__),Te.exports}var __webpack_exports__={};return(()=>{var Ce=__webpack_exports__;Object.defineProperty(Ce,"__esModule",{value:!0}),Object.defineProperty(Ce,"AnnotationEditorLayer",{enumerable:!0,get:function(){return Re.AnnotationEditorLayer}}),Object.defineProperty(Ce,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return Ee.AnnotationEditorParamsType}}),Object.defineProperty(Ce,"AnnotationEditorType",{enumerable:!0,get:function(){return Ee.AnnotationEditorType}}),Object.defineProperty(Ce,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Me.AnnotationEditorUIManager}}),Object.defineProperty(Ce,"AnnotationLayer",{enumerable:!0,get:function(){return Ue.AnnotationLayer}}),Object.defineProperty(Ce,"AnnotationMode",{enumerable:!0,get:function(){return Ee.AnnotationMode}}),Object.defineProperty(Ce,"CMapCompressionType",{enumerable:!0,get:function(){return Ee.CMapCompressionType}}),Object.defineProperty(Ce,"GlobalWorkerOptions",{enumerable:!0,get:function(){return De.GlobalWorkerOptions}}),Object.defineProperty(Ce,"InvalidPDFException",{enumerable:!0,get:function(){return Ee.InvalidPDFException}}),Object.defineProperty(Ce,"LoopbackPort",{enumerable:!0,get:function(){return Te.LoopbackPort}}),Object.defineProperty(Ce,"MissingPDFException",{enumerable:!0,get:function(){return Ee.MissingPDFException}}),Object.defineProperty(Ce,"OPS",{enumerable:!0,get:function(){return Ee.OPS}}),Object.defineProperty(Ce,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Te.PDFDataRangeTransport}}),Object.defineProperty(Ce,"PDFDateString",{enumerable:!0,get:function(){return Be.PDFDateString}}),Object.defineProperty(Ce,"PDFWorker",{enumerable:!0,get:function(){return Te.PDFWorker}}),Object.defineProperty(Ce,"PasswordResponses",{enumerable:!0,get:function(){return Ee.PasswordResponses}}),Object.defineProperty(Ce,"PermissionFlag",{enumerable:!0,get:function(){return Ee.PermissionFlag}}),Object.defineProperty(Ce,"PixelsPerInch",{enumerable:!0,get:function(){return Be.PixelsPerInch}}),Object.defineProperty(Ce,"RenderingCancelledException",{enumerable:!0,get:function(){return Be.RenderingCancelledException}}),Object.defineProperty(Ce,"SVGGraphics",{enumerable:!0,get:function(){return ze.SVGGraphics}}),Object.defineProperty(Ce,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return Ee.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ce,"UnexpectedResponseException",{enumerable:!0,get:function(){return Ee.UnexpectedResponseException}}),Object.defineProperty(Ce,"Util",{enumerable:!0,get:function(){return Ee.Util}}),Object.defineProperty(Ce,"VerbosityLevel",{enumerable:!0,get:function(){return Ee.VerbosityLevel}}),Object.defineProperty(Ce,"XfaLayer",{enumerable:!0,get:function(){return Xe.XfaLayer}}),Object.defineProperty(Ce,"build",{enumerable:!0,get:function(){return Te.build}}),Object.defineProperty(Ce,"createPromiseCapability",{enumerable:!0,get:function(){return Ee.createPromiseCapability}}),Object.defineProperty(Ce,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return Ee.createValidAbsoluteUrl}}),Object.defineProperty(Ce,"getDocument",{enumerable:!0,get:function(){return Te.getDocument}}),Object.defineProperty(Ce,"getFilenameFromUrl",{enumerable:!0,get:function(){return Be.getFilenameFromUrl}}),Object.defineProperty(Ce,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Be.getPdfFilenameFromUrl}}),Object.defineProperty(Ce,"getXfaPageViewport",{enumerable:!0,get:function(){return Be.getXfaPageViewport}}),Object.defineProperty(Ce,"isPdfFile",{enumerable:!0,get:function(){return Be.isPdfFile}}),Object.defineProperty(Ce,"loadScript",{enumerable:!0,get:function(){return Be.loadScript}}),Object.defineProperty(Ce,"renderTextLayer",{enumerable:!0,get:function(){return $e.renderTextLayer}}),Object.defineProperty(Ce,"shadow",{enumerable:!0,get:function(){return Ee.shadow}}),Object.defineProperty(Ce,"version",{enumerable:!0,get:function(){return Te.version}});var Ee=__w_pdfjs_require__(1),Te=__w_pdfjs_require__(129),Be=__w_pdfjs_require__(133),Re=__w_pdfjs_require__(147),Me=__w_pdfjs_require__(132),Ue=__w_pdfjs_require__(152),De=__w_pdfjs_require__(140),qe=__w_pdfjs_require__(3),$e=__w_pdfjs_require__(155),ze=__w_pdfjs_require__(156),Xe=__w_pdfjs_require__(154);if(qe.isNodeJS){const{PDFNodeStream:We}=__w_pdfjs_require__(157);(0,Te.setPDFNetworkStreamFactory)(Ge=>new We(Ge))}else{const{PDFNetworkStream:We}=__w_pdfjs_require__(160),{PDFFetchStream:Ge}=__w_pdfjs_require__(161);(0,Te.setPDFNetworkStreamFactory)(tn=>(0,Be.isValidFetchUrl)(tn.url)?new Ge(tn):new We(tn))}})(),__webpack_exports__})())})(pdf)),pdf.exports}var pdfExports=requirePdf();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _defaultBaseGeminiUrl,_defaultBaseVertexUrl;function getDefaultBaseUrls(){return{geminiUrl:_defaultBaseGeminiUrl,vertexUrl:_defaultBaseVertexUrl}}function getBaseUrl(Ce,Ee,Te,Be){var Re,Me;if(!(Ce!=null&&Ce.baseUrl)){const Ue=getDefaultBaseUrls();return Ee?(Re=Ue.vertexUrl)!==null&&Re!==void 0?Re:Te:(Me=Ue.geminiUrl)!==null&&Me!==void 0?Me:Be}return Ce.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BaseModule{}function formatMap(Ce,Ee){const Te=/\{([^}]+)\}/g;return Ce.replace(Te,(Be,Re)=>{if(Object.prototype.hasOwnProperty.call(Ee,Re)){const Me=Ee[Re];return Me!=null?String(Me):""}else throw new Error(`Key '${Re}' not found in valueMap.`)})}function setValueByPath(Ce,Ee,Te){for(let Me=0;Me<Ee.length-1;Me++){const Ue=Ee[Me];if(Ue.endsWith("[]")){const De=Ue.slice(0,-2);if(!(De in Ce))if(Array.isArray(Te))Ce[De]=Array.from({length:Te.length},()=>({}));else throw new Error(`Value must be a list given an array path ${Ue}`);if(Array.isArray(Ce[De])){const qe=Ce[De];if(Array.isArray(Te))for(let $e=0;$e<qe.length;$e++){const ze=qe[$e];setValueByPath(ze,Ee.slice(Me+1),Te[$e])}else for(const $e of qe)setValueByPath($e,Ee.slice(Me+1),Te)}return}else if(Ue.endsWith("[0]")){const De=Ue.slice(0,-3);De in Ce||(Ce[De]=[{}]);const qe=Ce[De];setValueByPath(qe[0],Ee.slice(Me+1),Te);return}(!Ce[Ue]||typeof Ce[Ue]!="object")&&(Ce[Ue]={}),Ce=Ce[Ue]}const Be=Ee[Ee.length-1],Re=Ce[Be];if(Re!==void 0){if(!Te||typeof Te=="object"&&Object.keys(Te).length===0||Te===Re)return;if(typeof Re=="object"&&typeof Te=="object"&&Re!==null&&Te!==null)Object.assign(Re,Te);else throw new Error(`Cannot set value for an existing key. Key: ${Be}`)}else Ce[Be]=Te}function getValueByPath(Ce,Ee){try{if(Ee.length===1&&Ee[0]==="_self")return Ce;for(let Te=0;Te<Ee.length;Te++){if(typeof Ce!="object"||Ce===null)return;const Be=Ee[Te];if(Be.endsWith("[]")){const Re=Be.slice(0,-2);if(Re in Ce){const Me=Ce[Re];return Array.isArray(Me)?Me.map(Ue=>getValueByPath(Ue,Ee.slice(Te+1))):void 0}else return}else Ce=Ce[Be]}return Ce}catch(Te){if(Te instanceof TypeError)return;throw Te}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tBytes$1(Ce){if(typeof Ce!="string")throw new Error("fromImageBytes must be a string");return Ce}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Outcome;(function(Ce){Ce.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",Ce.OUTCOME_OK="OUTCOME_OK",Ce.OUTCOME_FAILED="OUTCOME_FAILED",Ce.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Outcome||(Outcome={}));var Language;(function(Ce){Ce.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",Ce.PYTHON="PYTHON"})(Language||(Language={}));var Type$1;(function(Ce){Ce.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",Ce.STRING="STRING",Ce.NUMBER="NUMBER",Ce.INTEGER="INTEGER",Ce.BOOLEAN="BOOLEAN",Ce.ARRAY="ARRAY",Ce.OBJECT="OBJECT",Ce.NULL="NULL"})(Type$1||(Type$1={}));var HarmCategory;(function(Ce){Ce.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",Ce.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",Ce.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",Ce.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",Ce.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",Ce.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",Ce.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",Ce.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",Ce.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",Ce.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(HarmCategory||(HarmCategory={}));var HarmBlockMethod;(function(Ce){Ce.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",Ce.SEVERITY="SEVERITY",Ce.PROBABILITY="PROBABILITY"})(HarmBlockMethod||(HarmBlockMethod={}));var HarmBlockThreshold;(function(Ce){Ce.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",Ce.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ce.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ce.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ce.BLOCK_NONE="BLOCK_NONE",Ce.OFF="OFF"})(HarmBlockThreshold||(HarmBlockThreshold={}));var Mode;(function(Ce){Ce.MODE_UNSPECIFIED="MODE_UNSPECIFIED",Ce.MODE_DYNAMIC="MODE_DYNAMIC"})(Mode||(Mode={}));var AuthType;(function(Ce){Ce.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Ce.NO_AUTH="NO_AUTH",Ce.API_KEY_AUTH="API_KEY_AUTH",Ce.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Ce.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Ce.OAUTH="OAUTH",Ce.OIDC_AUTH="OIDC_AUTH"})(AuthType||(AuthType={}));var ApiSpec;(function(Ce){Ce.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",Ce.SIMPLE_SEARCH="SIMPLE_SEARCH",Ce.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ApiSpec||(ApiSpec={}));var UrlRetrievalStatus;(function(Ce){Ce.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",Ce.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",Ce.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",Ce.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",Ce.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UrlRetrievalStatus||(UrlRetrievalStatus={}));var FinishReason;(function(Ce){Ce.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",Ce.STOP="STOP",Ce.MAX_TOKENS="MAX_TOKENS",Ce.SAFETY="SAFETY",Ce.RECITATION="RECITATION",Ce.LANGUAGE="LANGUAGE",Ce.OTHER="OTHER",Ce.BLOCKLIST="BLOCKLIST",Ce.PROHIBITED_CONTENT="PROHIBITED_CONTENT",Ce.SPII="SPII",Ce.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Ce.IMAGE_SAFETY="IMAGE_SAFETY",Ce.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(FinishReason||(FinishReason={}));var HarmProbability;(function(Ce){Ce.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",Ce.NEGLIGIBLE="NEGLIGIBLE",Ce.LOW="LOW",Ce.MEDIUM="MEDIUM",Ce.HIGH="HIGH"})(HarmProbability||(HarmProbability={}));var HarmSeverity;(function(Ce){Ce.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",Ce.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",Ce.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",Ce.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",Ce.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HarmSeverity||(HarmSeverity={}));var BlockedReason;(function(Ce){Ce.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",Ce.SAFETY="SAFETY",Ce.OTHER="OTHER",Ce.BLOCKLIST="BLOCKLIST",Ce.PROHIBITED_CONTENT="PROHIBITED_CONTENT",Ce.IMAGE_SAFETY="IMAGE_SAFETY"})(BlockedReason||(BlockedReason={}));var TrafficType;(function(Ce){Ce.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",Ce.ON_DEMAND="ON_DEMAND",Ce.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TrafficType||(TrafficType={}));var Modality;(function(Ce){Ce.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Ce.TEXT="TEXT",Ce.IMAGE="IMAGE",Ce.AUDIO="AUDIO"})(Modality||(Modality={}));var MediaResolution;(function(Ce){Ce.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Ce.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Ce.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Ce.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MediaResolution||(MediaResolution={}));var JobState;(function(Ce){Ce.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Ce.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Ce.JOB_STATE_PENDING="JOB_STATE_PENDING",Ce.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Ce.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Ce.JOB_STATE_FAILED="JOB_STATE_FAILED",Ce.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Ce.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Ce.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Ce.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Ce.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Ce.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(JobState||(JobState={}));var TuningMode;(function(Ce){Ce.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",Ce.TUNING_MODE_FULL="TUNING_MODE_FULL",Ce.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TuningMode||(TuningMode={}));var AdapterSize;(function(Ce){Ce.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",Ce.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",Ce.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",Ce.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",Ce.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",Ce.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",Ce.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AdapterSize||(AdapterSize={}));var FeatureSelectionPreference;(function(Ce){Ce.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",Ce.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",Ce.BALANCED="BALANCED",Ce.PRIORITIZE_COST="PRIORITIZE_COST"})(FeatureSelectionPreference||(FeatureSelectionPreference={}));var Behavior;(function(Ce){Ce.UNSPECIFIED="UNSPECIFIED",Ce.BLOCKING="BLOCKING",Ce.NON_BLOCKING="NON_BLOCKING"})(Behavior||(Behavior={}));var DynamicRetrievalConfigMode;(function(Ce){Ce.MODE_UNSPECIFIED="MODE_UNSPECIFIED",Ce.MODE_DYNAMIC="MODE_DYNAMIC"})(DynamicRetrievalConfigMode||(DynamicRetrievalConfigMode={}));var Environment;(function(Ce){Ce.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",Ce.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Environment||(Environment={}));var FunctionCallingConfigMode;(function(Ce){Ce.MODE_UNSPECIFIED="MODE_UNSPECIFIED",Ce.AUTO="AUTO",Ce.ANY="ANY",Ce.NONE="NONE",Ce.VALIDATED="VALIDATED"})(FunctionCallingConfigMode||(FunctionCallingConfigMode={}));var SafetyFilterLevel;(function(Ce){Ce.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ce.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ce.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ce.BLOCK_NONE="BLOCK_NONE"})(SafetyFilterLevel||(SafetyFilterLevel={}));var PersonGeneration;(function(Ce){Ce.DONT_ALLOW="DONT_ALLOW",Ce.ALLOW_ADULT="ALLOW_ADULT",Ce.ALLOW_ALL="ALLOW_ALL"})(PersonGeneration||(PersonGeneration={}));var ImagePromptLanguage;(function(Ce){Ce.auto="auto",Ce.en="en",Ce.ja="ja",Ce.ko="ko",Ce.hi="hi",Ce.zh="zh",Ce.pt="pt",Ce.es="es"})(ImagePromptLanguage||(ImagePromptLanguage={}));var MaskReferenceMode;(function(Ce){Ce.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",Ce.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",Ce.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",Ce.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",Ce.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MaskReferenceMode||(MaskReferenceMode={}));var ControlReferenceType;(function(Ce){Ce.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Ce.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Ce.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Ce.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ControlReferenceType||(ControlReferenceType={}));var SubjectReferenceType;(function(Ce){Ce.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",Ce.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",Ce.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",Ce.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SubjectReferenceType||(SubjectReferenceType={}));var EditMode;(function(Ce){Ce.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",Ce.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",Ce.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",Ce.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",Ce.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",Ce.EDIT_MODE_STYLE="EDIT_MODE_STYLE",Ce.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",Ce.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EditMode||(EditMode={}));var SegmentMode;(function(Ce){Ce.FOREGROUND="FOREGROUND",Ce.BACKGROUND="BACKGROUND",Ce.PROMPT="PROMPT",Ce.SEMANTIC="SEMANTIC",Ce.INTERACTIVE="INTERACTIVE"})(SegmentMode||(SegmentMode={}));var VideoGenerationReferenceType;(function(Ce){Ce.ASSET="ASSET",Ce.STYLE="STYLE"})(VideoGenerationReferenceType||(VideoGenerationReferenceType={}));var VideoCompressionQuality;(function(Ce){Ce.OPTIMIZED="OPTIMIZED",Ce.LOSSLESS="LOSSLESS"})(VideoCompressionQuality||(VideoCompressionQuality={}));var FileState;(function(Ce){Ce.STATE_UNSPECIFIED="STATE_UNSPECIFIED",Ce.PROCESSING="PROCESSING",Ce.ACTIVE="ACTIVE",Ce.FAILED="FAILED"})(FileState||(FileState={}));var FileSource;(function(Ce){Ce.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",Ce.UPLOADED="UPLOADED",Ce.GENERATED="GENERATED"})(FileSource||(FileSource={}));var MediaModality;(function(Ce){Ce.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Ce.TEXT="TEXT",Ce.IMAGE="IMAGE",Ce.VIDEO="VIDEO",Ce.AUDIO="AUDIO",Ce.DOCUMENT="DOCUMENT"})(MediaModality||(MediaModality={}));var StartSensitivity;(function(Ce){Ce.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",Ce.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",Ce.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(StartSensitivity||(StartSensitivity={}));var EndSensitivity;(function(Ce){Ce.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Ce.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Ce.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EndSensitivity||(EndSensitivity={}));var ActivityHandling;(function(Ce){Ce.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Ce.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Ce.NO_INTERRUPTION="NO_INTERRUPTION"})(ActivityHandling||(ActivityHandling={}));var TurnCoverage;(function(Ce){Ce.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Ce.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Ce.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(TurnCoverage||(TurnCoverage={}));var FunctionResponseScheduling;(function(Ce){Ce.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",Ce.SILENT="SILENT",Ce.WHEN_IDLE="WHEN_IDLE",Ce.INTERRUPT="INTERRUPT"})(FunctionResponseScheduling||(FunctionResponseScheduling={}));var Scale;(function(Ce){Ce.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Ce.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Ce.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Ce.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Ce.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Ce.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Ce.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Ce.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Ce.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Ce.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Ce.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Ce.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Ce.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Scale||(Scale={}));var MusicGenerationMode;(function(Ce){Ce.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Ce.QUALITY="QUALITY",Ce.DIVERSITY="DIVERSITY",Ce.VOCALIZATION="VOCALIZATION"})(MusicGenerationMode||(MusicGenerationMode={}));var LiveMusicPlaybackControl;(function(Ce){Ce.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",Ce.PLAY="PLAY",Ce.PAUSE="PAUSE",Ce.STOP="STOP",Ce.RESET_CONTEXT="RESET_CONTEXT"})(LiveMusicPlaybackControl||(LiveMusicPlaybackControl={}));class HttpResponse{constructor(Ee){const Te={};for(const Be of Ee.headers.entries())Te[Be[0]]=Be[1];this.headers=Te,this.responseInternal=Ee}json(){return this.responseInternal.json()}}class GenerateContentResponse{get text(){var Ee,Te,Be,Re,Me,Ue,De,qe;if(((Re=(Be=(Te=(Ee=this.candidates)===null||Ee===void 0?void 0:Ee[0])===null||Te===void 0?void 0:Te.content)===null||Be===void 0?void 0:Be.parts)===null||Re===void 0?void 0:Re.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let $e="",ze=!1;const Xe=[];for(const We of(qe=(De=(Ue=(Me=this.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content)===null||De===void 0?void 0:De.parts)!==null&&qe!==void 0?qe:[]){for(const[Ge,tn]of Object.entries(We))Ge!=="text"&&Ge!=="thought"&&(tn!==null||tn!==void 0)&&Xe.push(Ge);if(typeof We.text=="string"){if(typeof We.thought=="boolean"&&We.thought)continue;ze=!0,$e+=We.text}}return Xe.length>0&&console.warn(`there are non-text parts ${Xe} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),ze?$e:void 0}get data(){var Ee,Te,Be,Re,Me,Ue,De,qe;if(((Re=(Be=(Te=(Ee=this.candidates)===null||Ee===void 0?void 0:Ee[0])===null||Te===void 0?void 0:Te.content)===null||Be===void 0?void 0:Be.parts)===null||Re===void 0?void 0:Re.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let $e="";const ze=[];for(const Xe of(qe=(De=(Ue=(Me=this.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content)===null||De===void 0?void 0:De.parts)!==null&&qe!==void 0?qe:[]){for(const[We,Ge]of Object.entries(Xe))We!=="inlineData"&&(Ge!==null||Ge!==void 0)&&ze.push(We);Xe.inlineData&&typeof Xe.inlineData.data=="string"&&($e+=atob(Xe.inlineData.data))}return ze.length>0&&console.warn(`there are non-data parts ${ze} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),$e.length>0?btoa($e):void 0}get functionCalls(){var Ee,Te,Be,Re,Me,Ue,De,qe;if(((Re=(Be=(Te=(Ee=this.candidates)===null||Ee===void 0?void 0:Ee[0])===null||Te===void 0?void 0:Te.content)===null||Be===void 0?void 0:Be.parts)===null||Re===void 0?void 0:Re.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const $e=(qe=(De=(Ue=(Me=this.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content)===null||De===void 0?void 0:De.parts)===null||qe===void 0?void 0:qe.filter(ze=>ze.functionCall).map(ze=>ze.functionCall).filter(ze=>ze!==void 0);if(($e==null?void 0:$e.length)!==0)return $e}get executableCode(){var Ee,Te,Be,Re,Me,Ue,De,qe,$e;if(((Re=(Be=(Te=(Ee=this.candidates)===null||Ee===void 0?void 0:Ee[0])===null||Te===void 0?void 0:Te.content)===null||Be===void 0?void 0:Be.parts)===null||Re===void 0?void 0:Re.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const ze=(qe=(De=(Ue=(Me=this.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content)===null||De===void 0?void 0:De.parts)===null||qe===void 0?void 0:qe.filter(Xe=>Xe.executableCode).map(Xe=>Xe.executableCode).filter(Xe=>Xe!==void 0);if((ze==null?void 0:ze.length)!==0)return($e=ze==null?void 0:ze[0])===null||$e===void 0?void 0:$e.code}get codeExecutionResult(){var Ee,Te,Be,Re,Me,Ue,De,qe,$e;if(((Re=(Be=(Te=(Ee=this.candidates)===null||Ee===void 0?void 0:Ee[0])===null||Te===void 0?void 0:Te.content)===null||Be===void 0?void 0:Be.parts)===null||Re===void 0?void 0:Re.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const ze=(qe=(De=(Ue=(Me=this.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content)===null||De===void 0?void 0:De.parts)===null||qe===void 0?void 0:qe.filter(Xe=>Xe.codeExecutionResult).map(Xe=>Xe.codeExecutionResult).filter(Xe=>Xe!==void 0);if((ze==null?void 0:ze.length)!==0)return($e=ze==null?void 0:ze[0])===null||$e===void 0?void 0:$e.output}}class EmbedContentResponse{}class GenerateImagesResponse{}class EditImageResponse{}class UpscaleImageResponse{}class RecontextImageResponse{}class SegmentImageResponse{}class ListModelsResponse{}class DeleteModelResponse{}class CountTokensResponse{}class ComputeTokensResponse{}class GenerateVideosResponse{}class GenerateVideosOperation{_fromAPIResponse({apiResponse:Ee,isVertexAI:Te}){const Be=new GenerateVideosOperation;if(Be.name=Ee.name,Be.metadata=Ee.metadata,Be.done=Ee.done,Be.error=Ee.error,Te){const Re=Ee.response;if(Re){const Me=new GenerateVideosResponse,Ue=Re.videos;Me.generatedVideos=Ue==null?void 0:Ue.map(De=>({video:{uri:De.gcsUri,videoBytes:De.bytesBase64Encoded?tBytes$1(De.bytesBase64Encoded):void 0,mimeType:De.mimeType}})),Me.raiMediaFilteredCount=Re.raiMediaFilteredCount,Me.raiMediaFilteredReasons=Re.raiMediaFilteredReasons,Be.response=Me}}else{const Re=Ee.response;if(Re){const Me=new GenerateVideosResponse,Ue=Re.generateVideoResponse,De=Ue==null?void 0:Ue.generatedSamples;Me.generatedVideos=De==null?void 0:De.map(qe=>{const $e=qe.video;return{video:{uri:$e==null?void 0:$e.uri,videoBytes:$e!=null&&$e.encodedVideo?tBytes$1($e==null?void 0:$e.encodedVideo):void 0,mimeType:qe.encoding}}}),Me.raiMediaFilteredCount=Ue==null?void 0:Ue.raiMediaFilteredCount,Me.raiMediaFilteredReasons=Ue==null?void 0:Ue.raiMediaFilteredReasons,Be.response=Me}}return Be}}class ListTuningJobsResponse{}class DeleteCachedContentResponse{}class ListCachedContentsResponse{}class ListFilesResponse{}class CreateFileResponse{}class DeleteFileResponse{}class ListBatchJobsResponse{}class LiveServerMessage{get text(){var Ee,Te,Be;let Re="",Me=!1;const Ue=[];for(const De of(Be=(Te=(Ee=this.serverContent)===null||Ee===void 0?void 0:Ee.modelTurn)===null||Te===void 0?void 0:Te.parts)!==null&&Be!==void 0?Be:[]){for(const[qe,$e]of Object.entries(De))qe!=="text"&&qe!=="thought"&&$e!==null&&Ue.push(qe);if(typeof De.text=="string"){if(typeof De.thought=="boolean"&&De.thought)continue;Me=!0,Re+=De.text}}return Ue.length>0&&console.warn(`there are non-text parts ${Ue} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),Me?Re:void 0}get data(){var Ee,Te,Be;let Re="";const Me=[];for(const Ue of(Be=(Te=(Ee=this.serverContent)===null||Ee===void 0?void 0:Ee.modelTurn)===null||Te===void 0?void 0:Te.parts)!==null&&Be!==void 0?Be:[]){for(const[De,qe]of Object.entries(Ue))De!=="inlineData"&&qe!==null&&Me.push(De);Ue.inlineData&&typeof Ue.inlineData.data=="string"&&(Re+=atob(Ue.inlineData.data))}return Me.length>0&&console.warn(`there are non-data parts ${Me} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),Re.length>0?btoa(Re):void 0}}class LiveMusicServerMessage{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tModel(Ce,Ee){if(!Ee||typeof Ee!="string")throw new Error("model is required and must be a string");if(Ce.isVertexAI()){if(Ee.startsWith("publishers/")||Ee.startsWith("projects/")||Ee.startsWith("models/"))return Ee;if(Ee.indexOf("/")>=0){const Te=Ee.split("/",2);return`publishers/${Te[0]}/models/${Te[1]}`}else return`publishers/google/models/${Ee}`}else return Ee.startsWith("models/")||Ee.startsWith("tunedModels/")?Ee:`models/${Ee}`}function tCachesModel(Ce,Ee){const Te=tModel(Ce,Ee);return Te?Te.startsWith("publishers/")&&Ce.isVertexAI()?`projects/${Ce.getProject()}/locations/${Ce.getLocation()}/${Te}`:Te.startsWith("models/")&&Ce.isVertexAI()?`projects/${Ce.getProject()}/locations/${Ce.getLocation()}/publishers/google/${Te}`:Te:""}function tBlobs(Ce){return Array.isArray(Ce)?Ce.map(Ee=>tBlob(Ee)):[tBlob(Ce)]}function tBlob(Ce){if(typeof Ce=="object"&&Ce!==null)return Ce;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof Ce}`)}function tImageBlob(Ce){const Ee=tBlob(Ce);if(Ee.mimeType&&Ee.mimeType.startsWith("image/"))return Ee;throw new Error(`Unsupported mime type: ${Ee.mimeType}`)}function tAudioBlob(Ce){const Ee=tBlob(Ce);if(Ee.mimeType&&Ee.mimeType.startsWith("audio/"))return Ee;throw new Error(`Unsupported mime type: ${Ee.mimeType}`)}function tPart(Ce){if(Ce==null)throw new Error("PartUnion is required");if(typeof Ce=="object")return Ce;if(typeof Ce=="string")return{text:Ce};throw new Error(`Unsupported part type: ${typeof Ce}`)}function tParts(Ce){if(Ce==null||Array.isArray(Ce)&&Ce.length===0)throw new Error("PartListUnion is required");return Array.isArray(Ce)?Ce.map(Ee=>tPart(Ee)):[tPart(Ce)]}function _isContent(Ce){return Ce!=null&&typeof Ce=="object"&&"parts"in Ce&&Array.isArray(Ce.parts)}function _isFunctionCallPart(Ce){return Ce!=null&&typeof Ce=="object"&&"functionCall"in Ce}function _isFunctionResponsePart(Ce){return Ce!=null&&typeof Ce=="object"&&"functionResponse"in Ce}function tContent(Ce){if(Ce==null)throw new Error("ContentUnion is required");return _isContent(Ce)?Ce:{role:"user",parts:tParts(Ce)}}function tContentsForEmbed(Ce,Ee){if(!Ee)return[];if(Ce.isVertexAI()&&Array.isArray(Ee))return Ee.flatMap(Te=>{const Be=tContent(Te);return Be.parts&&Be.parts.length>0&&Be.parts[0].text!==void 0?[Be.parts[0].text]:[]});if(Ce.isVertexAI()){const Te=tContent(Ee);return Te.parts&&Te.parts.length>0&&Te.parts[0].text!==void 0?[Te.parts[0].text]:[]}return Array.isArray(Ee)?Ee.map(Te=>tContent(Te)):[tContent(Ee)]}function tContents(Ce){if(Ce==null||Array.isArray(Ce)&&Ce.length===0)throw new Error("contents are required");if(!Array.isArray(Ce)){if(_isFunctionCallPart(Ce)||_isFunctionResponsePart(Ce))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tContent(Ce)]}const Ee=[],Te=[],Be=_isContent(Ce[0]);for(const Re of Ce){const Me=_isContent(Re);if(Me!=Be)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(Me)Ee.push(Re);else{if(_isFunctionCallPart(Re)||_isFunctionResponsePart(Re))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");Te.push(Re)}}return Be||Ee.push({role:"user",parts:tParts(Te)}),Ee}function flattenTypeArrayToAnyOf(Ce,Ee){Ce.includes("null")&&(Ee.nullable=!0);const Te=Ce.filter(Be=>Be!=="null");if(Te.length===1)Ee.type=Object.values(Type$1).includes(Te[0].toUpperCase())?Te[0].toUpperCase():Type$1.TYPE_UNSPECIFIED;else{Ee.anyOf=[];for(const Be of Te)Ee.anyOf.push({type:Object.values(Type$1).includes(Be.toUpperCase())?Be.toUpperCase():Type$1.TYPE_UNSPECIFIED})}}function processJsonSchema(Ce){const Ee={},Te=["items"],Be=["anyOf"],Re=["properties"];if(Ce.type&&Ce.anyOf)throw new Error("type and anyOf cannot be both populated.");const Me=Ce.anyOf;Me!=null&&Me.length==2&&(Me[0].type==="null"?(Ee.nullable=!0,Ce=Me[1]):Me[1].type==="null"&&(Ee.nullable=!0,Ce=Me[0])),Ce.type instanceof Array&&flattenTypeArrayToAnyOf(Ce.type,Ee);for(const[Ue,De]of Object.entries(Ce))if(De!=null)if(Ue=="type"){if(De==="null")throw new Error("type: null can not be the only possible type for the field.");if(De instanceof Array)continue;Ee.type=Object.values(Type$1).includes(De.toUpperCase())?De.toUpperCase():Type$1.TYPE_UNSPECIFIED}else if(Te.includes(Ue))Ee[Ue]=processJsonSchema(De);else if(Be.includes(Ue)){const qe=[];for(const $e of De){if($e.type=="null"){Ee.nullable=!0;continue}qe.push(processJsonSchema($e))}Ee[Ue]=qe}else if(Re.includes(Ue)){const qe={};for(const[$e,ze]of Object.entries(De))qe[$e]=processJsonSchema(ze);Ee[Ue]=qe}else{if(Ue==="additionalProperties")continue;Ee[Ue]=De}return Ee}function tSchema(Ce){return processJsonSchema(Ce)}function tSpeechConfig(Ce){if(typeof Ce=="object")return Ce;if(typeof Ce=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:Ce}}};throw new Error(`Unsupported speechConfig type: ${typeof Ce}`)}function tLiveSpeechConfig(Ce){if("multiSpeakerVoiceConfig"in Ce)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return Ce}function tTool(Ce){if(Ce.functionDeclarations)for(const Ee of Ce.functionDeclarations)Ee.parameters&&(Object.keys(Ee.parameters).includes("$schema")?Ee.parametersJsonSchema||(Ee.parametersJsonSchema=Ee.parameters,delete Ee.parameters):Ee.parameters=processJsonSchema(Ee.parameters)),Ee.response&&(Object.keys(Ee.response).includes("$schema")?Ee.responseJsonSchema||(Ee.responseJsonSchema=Ee.response,delete Ee.response):Ee.response=processJsonSchema(Ee.response));return Ce}function tTools(Ce){if(Ce==null)throw new Error("tools is required");if(!Array.isArray(Ce))throw new Error("tools is required and must be an array of Tools");const Ee=[];for(const Te of Ce)Ee.push(Te);return Ee}function resourceName(Ce,Ee,Te,Be=1){const Re=!Ee.startsWith(`${Te}/`)&&Ee.split("/").length===Be;return Ce.isVertexAI()?Ee.startsWith("projects/")?Ee:Ee.startsWith("locations/")?`projects/${Ce.getProject()}/${Ee}`:Ee.startsWith(`${Te}/`)?`projects/${Ce.getProject()}/locations/${Ce.getLocation()}/${Ee}`:Re?`projects/${Ce.getProject()}/locations/${Ce.getLocation()}/${Te}/${Ee}`:Ee:Re?`${Te}/${Ee}`:Ee}function tCachedContentName(Ce,Ee){if(typeof Ee!="string")throw new Error("name must be a string");return resourceName(Ce,Ee,"cachedContents")}function tTuningJobStatus(Ce){switch(Ce){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return Ce}}function tBytes(Ce){return tBytes$1(Ce)}function _isFile(Ce){return Ce!=null&&typeof Ce=="object"&&"name"in Ce}function isGeneratedVideo(Ce){return Ce!=null&&typeof Ce=="object"&&"video"in Ce}function isVideo(Ce){return Ce!=null&&typeof Ce=="object"&&"uri"in Ce}function tFileName(Ce){var Ee;let Te;if(_isFile(Ce)&&(Te=Ce.name),!(isVideo(Ce)&&(Te=Ce.uri,Te===void 0))&&!(isGeneratedVideo(Ce)&&(Te=(Ee=Ce.video)===null||Ee===void 0?void 0:Ee.uri,Te===void 0))){if(typeof Ce=="string"&&(Te=Ce),Te===void 0)throw new Error("Could not extract file name from the provided input.");if(Te.startsWith("https://")){const Re=Te.split("files/")[1].match(/[a-z0-9]+/);if(Re===null)throw new Error(`Could not extract file name from URI ${Te}`);Te=Re[0]}else Te.startsWith("files/")&&(Te=Te.split("files/")[1]);return Te}}function tModelsUrl(Ce,Ee){let Te;return Ce.isVertexAI()?Te=Ee?"publishers/google/models":"models":Te=Ee?"models":"tunedModels",Te}function tExtractModels(Ce){for(const Ee of["models","tunedModels","publisherModels"])if(hasField(Ce,Ee))return Ce[Ee];return[]}function hasField(Ce,Ee){return Ce!==null&&typeof Ce=="object"&&Ee in Ce}function mcpToGeminiTool(Ce,Ee={}){const Te=Ce,Be={name:Te.name,description:Te.description,parametersJsonSchema:Te.inputSchema};return Te.outputSchema&&(Be.responseJsonSchema=Te.outputSchema),Ee.behavior&&(Be.behavior=Ee.behavior),{functionDeclarations:[Be]}}function mcpToolsToGeminiTool(Ce,Ee={}){const Te=[],Be=new Set;for(const Re of Ce){const Me=Re.name;if(Be.has(Me))throw new Error(`Duplicate function name ${Me} found in MCP tools. Please ensure function names are unique.`);Be.add(Me);const Ue=mcpToGeminiTool(Re,Ee);Ue.functionDeclarations&&Te.push(...Ue.functionDeclarations)}return{functionDeclarations:Te}}function tBatchJobSource(Ce,Ee){if(typeof Ee!="string"&&!Array.isArray(Ee)){if(Ce&&Ce.isVertexAI()){if(Ee.gcsUri&&Ee.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!Ee.gcsUri&&!Ee.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(Ee.inlinedRequests&&Ee.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!Ee.inlinedRequests&&!Ee.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return Ee}else{if(Array.isArray(Ee))return{inlinedRequests:Ee};if(typeof Ee=="string"){if(Ee.startsWith("gs://"))return{format:"jsonl",gcsUri:[Ee]};if(Ee.startsWith("bq://"))return{format:"bigquery",bigqueryUri:Ee};if(Ee.startsWith("files/"))return{fileName:Ee}}}throw new Error(`Unsupported source: ${Ee}`)}function tBatchJobDestination(Ce){if(typeof Ce!="string")return Ce;const Ee=Ce;if(Ee.startsWith("gs://"))return{format:"jsonl",gcsUri:Ee};if(Ee.startsWith("bq://"))return{format:"bigquery",bigqueryUri:Ee};throw new Error(`Unsupported destination: ${Ee}`)}function tBatchJobName(Ce,Ee){const Te=Ee;if(!Ce.isVertexAI()){if(/batches\/[^/]+$/.test(Te))return Te.split("/").pop();throw new Error(`Invalid batch job name: ${Te}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(Te))return Te.split("/").pop();if(/^\d+$/.test(Te))return Te;throw new Error(`Invalid batch job name: ${Te}.`)}function tJobState(Ce){const Ee=Ce;return Ee==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":Ee==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":Ee==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":Ee==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":Ee==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function videoMetadataToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToMldev$4(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataToMldev$4(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToMldev$4(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToMldev$4(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToMldev$4(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToMldev$4(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function schemaToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["anyOf"]);Te!=null&&setValueByPath(Ee,["anyOf"],Te);const Be=getValueByPath(Ce,["default"]);Be!=null&&setValueByPath(Ee,["default"],Be);const Re=getValueByPath(Ce,["description"]);Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["enum"]);Me!=null&&setValueByPath(Ee,["enum"],Me);const Ue=getValueByPath(Ce,["example"]);Ue!=null&&setValueByPath(Ee,["example"],Ue);const De=getValueByPath(Ce,["format"]);De!=null&&setValueByPath(Ee,["format"],De);const qe=getValueByPath(Ce,["items"]);qe!=null&&setValueByPath(Ee,["items"],qe);const $e=getValueByPath(Ce,["maxItems"]);$e!=null&&setValueByPath(Ee,["maxItems"],$e);const ze=getValueByPath(Ce,["maxLength"]);ze!=null&&setValueByPath(Ee,["maxLength"],ze);const Xe=getValueByPath(Ce,["maxProperties"]);Xe!=null&&setValueByPath(Ee,["maxProperties"],Xe);const We=getValueByPath(Ce,["maximum"]);We!=null&&setValueByPath(Ee,["maximum"],We);const Ge=getValueByPath(Ce,["minItems"]);Ge!=null&&setValueByPath(Ee,["minItems"],Ge);const tn=getValueByPath(Ce,["minLength"]);tn!=null&&setValueByPath(Ee,["minLength"],tn);const en=getValueByPath(Ce,["minProperties"]);en!=null&&setValueByPath(Ee,["minProperties"],en);const an=getValueByPath(Ce,["minimum"]);an!=null&&setValueByPath(Ee,["minimum"],an);const Ye=getValueByPath(Ce,["nullable"]);Ye!=null&&setValueByPath(Ee,["nullable"],Ye);const Ze=getValueByPath(Ce,["pattern"]);Ze!=null&&setValueByPath(Ee,["pattern"],Ze);const St=getValueByPath(Ce,["properties"]);St!=null&&setValueByPath(Ee,["properties"],St);const Qe=getValueByPath(Ce,["propertyOrdering"]);Qe!=null&&setValueByPath(Ee,["propertyOrdering"],Qe);const Je=getValueByPath(Ce,["required"]);Je!=null&&setValueByPath(Ee,["required"],Je);const on=getValueByPath(Ce,["title"]);on!=null&&setValueByPath(Ee,["title"],on);const hn=getValueByPath(Ce,["type"]);return hn!=null&&setValueByPath(Ee,["type"],hn),Ee}function safetySettingToMldev$1(Ce){const Ee={};if(getValueByPath(Ce,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["category"]);Te!=null&&setValueByPath(Ee,["category"],Te);const Be=getValueByPath(Ce,["threshold"]);return Be!=null&&setValueByPath(Ee,["threshold"],Be),Ee}function functionDeclarationToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["behavior"]);Te!=null&&setValueByPath(Ee,["behavior"],Te);const Be=getValueByPath(Ce,["description"]);Be!=null&&setValueByPath(Ee,["description"],Be);const Re=getValueByPath(Ce,["name"]);Re!=null&&setValueByPath(Ee,["name"],Re);const Me=getValueByPath(Ce,["parameters"]);Me!=null&&setValueByPath(Ee,["parameters"],Me);const Ue=getValueByPath(Ce,["parametersJsonSchema"]);Ue!=null&&setValueByPath(Ee,["parametersJsonSchema"],Ue);const De=getValueByPath(Ce,["response"]);De!=null&&setValueByPath(Ee,["response"],De);const qe=getValueByPath(Ce,["responseJsonSchema"]);return qe!=null&&setValueByPath(Ee,["responseJsonSchema"],qe),Ee}function intervalToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);if(Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToMldev$4(Te)),getValueByPath(Ce,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return Ee}function dynamicRetrievalConfigToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToMldev$4(Te)),Ee}function urlContextToMldev$4(){return{}}function toolComputerUseToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToMldev$4(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let qe=Te;Array.isArray(qe)&&(qe=qe.map($e=>functionDeclarationToMldev$4($e))),setValueByPath(Ee,["functionDeclarations"],qe)}if(getValueByPath(Ce,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["googleSearch"]);Be!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToMldev$4(Be));const Re=getValueByPath(Ce,["googleSearchRetrieval"]);if(Re!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToMldev$4(Re)),getValueByPath(Ce,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(getValueByPath(Ce,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToMldev$4());const Ue=getValueByPath(Ce,["computerUse"]);Ue!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToMldev$4(Ue));const De=getValueByPath(Ce,["codeExecution"]);return De!=null&&setValueByPath(Ee,["codeExecution"],De),Ee}function functionCallingConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["allowedFunctionNames"]);return Be!=null&&setValueByPath(Ee,["allowedFunctionNames"],Be),Ee}function latLngToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["latitude"]);Te!=null&&setValueByPath(Ee,["latitude"],Te);const Be=getValueByPath(Ce,["longitude"]);return Be!=null&&setValueByPath(Ee,["longitude"],Be),Ee}function retrievalConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["latLng"]);Te!=null&&setValueByPath(Ee,["latLng"],latLngToMldev$2(Te));const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function toolConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["functionCallingConfig"]);Te!=null&&setValueByPath(Ee,["functionCallingConfig"],functionCallingConfigToMldev$2(Te));const Be=getValueByPath(Ce,["retrievalConfig"]);return Be!=null&&setValueByPath(Ee,["retrievalConfig"],retrievalConfigToMldev$2(Be)),Ee}function prebuiltVoiceConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToMldev$3(Te)),Ee}function speakerVoiceConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["speaker"]);Te!=null&&setValueByPath(Ee,["speaker"],Te);const Be=getValueByPath(Ce,["voiceConfig"]);return Be!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$3(Be)),Ee}function multiSpeakerVoiceConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["speakerVoiceConfigs"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>speakerVoiceConfigToMldev$3(Re))),setValueByPath(Ee,["speakerVoiceConfigs"],Be)}return Ee}function speechConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$3(Te));const Be=getValueByPath(Ce,["multiSpeakerVoiceConfig"]);Be!=null&&setValueByPath(Ee,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$3(Be));const Re=getValueByPath(Ce,["languageCode"]);return Re!=null&&setValueByPath(Ee,["languageCode"],Re),Ee}function thinkingConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["includeThoughts"]);Te!=null&&setValueByPath(Ee,["includeThoughts"],Te);const Be=getValueByPath(Ce,["thinkingBudget"]);return Be!=null&&setValueByPath(Ee,["thinkingBudget"],Be),Ee}function generateContentConfigToMldev$1(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["systemInstruction"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["systemInstruction"],contentToMldev$4(tContent(Re)));const Me=getValueByPath(Ee,["temperature"]);Me!=null&&setValueByPath(Be,["temperature"],Me);const Ue=getValueByPath(Ee,["topP"]);Ue!=null&&setValueByPath(Be,["topP"],Ue);const De=getValueByPath(Ee,["topK"]);De!=null&&setValueByPath(Be,["topK"],De);const qe=getValueByPath(Ee,["candidateCount"]);qe!=null&&setValueByPath(Be,["candidateCount"],qe);const $e=getValueByPath(Ee,["maxOutputTokens"]);$e!=null&&setValueByPath(Be,["maxOutputTokens"],$e);const ze=getValueByPath(Ee,["stopSequences"]);ze!=null&&setValueByPath(Be,["stopSequences"],ze);const Xe=getValueByPath(Ee,["responseLogprobs"]);Xe!=null&&setValueByPath(Be,["responseLogprobs"],Xe);const We=getValueByPath(Ee,["logprobs"]);We!=null&&setValueByPath(Be,["logprobs"],We);const Ge=getValueByPath(Ee,["presencePenalty"]);Ge!=null&&setValueByPath(Be,["presencePenalty"],Ge);const tn=getValueByPath(Ee,["frequencyPenalty"]);tn!=null&&setValueByPath(Be,["frequencyPenalty"],tn);const en=getValueByPath(Ee,["seed"]);en!=null&&setValueByPath(Be,["seed"],en);const an=getValueByPath(Ee,["responseMimeType"]);an!=null&&setValueByPath(Be,["responseMimeType"],an);const Ye=getValueByPath(Ee,["responseSchema"]);Ye!=null&&setValueByPath(Be,["responseSchema"],schemaToMldev$1(tSchema(Ye)));const Ze=getValueByPath(Ee,["responseJsonSchema"]);if(Ze!=null&&setValueByPath(Be,["responseJsonSchema"],Ze),getValueByPath(Ee,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(Ee,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const St=getValueByPath(Ee,["safetySettings"]);if(Te!==void 0&&St!=null){let Pn=St;Array.isArray(Pn)&&(Pn=Pn.map(_n=>safetySettingToMldev$1(_n))),setValueByPath(Te,["safetySettings"],Pn)}const Qe=getValueByPath(Ee,["tools"]);if(Te!==void 0&&Qe!=null){let Pn=tTools(Qe);Array.isArray(Pn)&&(Pn=Pn.map(_n=>toolToMldev$4(tTool(_n)))),setValueByPath(Te,["tools"],Pn)}const Je=getValueByPath(Ee,["toolConfig"]);if(Te!==void 0&&Je!=null&&setValueByPath(Te,["toolConfig"],toolConfigToMldev$2(Je)),getValueByPath(Ee,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const on=getValueByPath(Ee,["cachedContent"]);Te!==void 0&&on!=null&&setValueByPath(Te,["cachedContent"],tCachedContentName(Ce,on));const hn=getValueByPath(Ee,["responseModalities"]);hn!=null&&setValueByPath(Be,["responseModalities"],hn);const dn=getValueByPath(Ee,["mediaResolution"]);dn!=null&&setValueByPath(Be,["mediaResolution"],dn);const sn=getValueByPath(Ee,["speechConfig"]);if(sn!=null&&setValueByPath(Be,["speechConfig"],speechConfigToMldev$3(tSpeechConfig(sn))),getValueByPath(Ee,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const kn=getValueByPath(Ee,["thinkingConfig"]);return kn!=null&&setValueByPath(Be,["thinkingConfig"],thinkingConfigToMldev$1(kn)),Be}function inlinedRequestToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["request","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToMldev$4(De))),setValueByPath(Te,["request","contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["request","generationConfig"],generateContentConfigToMldev$1(Ce,Me,Te)),Te}function batchJobSourceToMldev(Ce,Ee){const Te={};if(getValueByPath(Ee,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(getValueByPath(Ee,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(Ee,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const Be=getValueByPath(Ee,["fileName"]);Be!=null&&setValueByPath(Te,["fileName"],Be);const Re=getValueByPath(Ee,["inlinedRequests"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>inlinedRequestToMldev(Ce,Ue))),setValueByPath(Te,["requests","requests"],Me)}return Te}function createBatchJobConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["displayName"]);if(Ee!==void 0&&Be!=null&&setValueByPath(Ee,["batch","displayName"],Be),getValueByPath(Ce,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return Te}function createBatchJobParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["src"]);Re!=null&&setValueByPath(Te,["batch","inputConfig"],batchJobSourceToMldev(Ce,tBatchJobSource(Ce,Re)));const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],createBatchJobConfigToMldev(Me,Te)),Te}function getBatchJobParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function cancelBatchJobParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function listBatchJobsConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);if(Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re),getValueByPath(Ce,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return Te}function listBatchJobsParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listBatchJobsConfigToMldev(Te,Ee)),Ee}function deleteBatchJobParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function batchJobSourceToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["format"]);Te!=null&&setValueByPath(Ee,["instancesFormat"],Te);const Be=getValueByPath(Ce,["gcsUri"]);Be!=null&&setValueByPath(Ee,["gcsSource","uris"],Be);const Re=getValueByPath(Ce,["bigqueryUri"]);if(Re!=null&&setValueByPath(Ee,["bigquerySource","inputUri"],Re),getValueByPath(Ce,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(Ce,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return Ee}function batchJobDestinationToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["format"]);Te!=null&&setValueByPath(Ee,["predictionsFormat"],Te);const Be=getValueByPath(Ce,["gcsUri"]);Be!=null&&setValueByPath(Ee,["gcsDestination","outputUriPrefix"],Be);const Re=getValueByPath(Ce,["bigqueryUri"]);if(Re!=null&&setValueByPath(Ee,["bigqueryDestination","outputUri"],Re),getValueByPath(Ce,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(Ce,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return Ee}function createBatchJobConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["displayName"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["dest"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["outputConfig"],batchJobDestinationToVertex(tBatchJobDestination(Re))),Te}function createBatchJobParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["src"]);Re!=null&&setValueByPath(Te,["inputConfig"],batchJobSourceToVertex(tBatchJobSource(Ce,Re)));const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],createBatchJobConfigToVertex(Me,Te)),Te}function getBatchJobParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function cancelBatchJobParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function listBatchJobsConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re);const Me=getValueByPath(Ce,["filter"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["_query","filter"],Me),Te}function listBatchJobsParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listBatchJobsConfigToVertex(Te,Ee)),Ee}function deleteBatchJobParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tBatchJobName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function videoMetadataFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataFromMldev$2(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobFromMldev$2(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataFromMldev$2(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partFromMldev$2(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function citationMetadataFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["citationSources"]);return Te!=null&&setValueByPath(Ee,["citations"],Te),Ee}function urlMetadataFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["retrievedUrl"]);Te!=null&&setValueByPath(Ee,["retrievedUrl"],Te);const Be=getValueByPath(Ce,["urlRetrievalStatus"]);return Be!=null&&setValueByPath(Ee,["urlRetrievalStatus"],Be),Ee}function urlContextMetadataFromMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["urlMetadata"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>urlMetadataFromMldev$2(Re))),setValueByPath(Ee,["urlMetadata"],Be)}return Ee}function candidateFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["content"]);Te!=null&&setValueByPath(Ee,["content"],contentFromMldev$2(Te));const Be=getValueByPath(Ce,["citationMetadata"]);Be!=null&&setValueByPath(Ee,["citationMetadata"],citationMetadataFromMldev$1(Be));const Re=getValueByPath(Ce,["tokenCount"]);Re!=null&&setValueByPath(Ee,["tokenCount"],Re);const Me=getValueByPath(Ce,["finishReason"]);Me!=null&&setValueByPath(Ee,["finishReason"],Me);const Ue=getValueByPath(Ce,["urlContextMetadata"]);Ue!=null&&setValueByPath(Ee,["urlContextMetadata"],urlContextMetadataFromMldev$2(Ue));const De=getValueByPath(Ce,["avgLogprobs"]);De!=null&&setValueByPath(Ee,["avgLogprobs"],De);const qe=getValueByPath(Ce,["groundingMetadata"]);qe!=null&&setValueByPath(Ee,["groundingMetadata"],qe);const $e=getValueByPath(Ce,["index"]);$e!=null&&setValueByPath(Ee,["index"],$e);const ze=getValueByPath(Ce,["logprobsResult"]);ze!=null&&setValueByPath(Ee,["logprobsResult"],ze);const Xe=getValueByPath(Ce,["safetyRatings"]);return Xe!=null&&setValueByPath(Ee,["safetyRatings"],Xe),Ee}function generateContentResponseFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["candidates"]);if(Be!=null){let qe=Be;Array.isArray(qe)&&(qe=qe.map($e=>candidateFromMldev$1($e))),setValueByPath(Ee,["candidates"],qe)}const Re=getValueByPath(Ce,["modelVersion"]);Re!=null&&setValueByPath(Ee,["modelVersion"],Re);const Me=getValueByPath(Ce,["promptFeedback"]);Me!=null&&setValueByPath(Ee,["promptFeedback"],Me);const Ue=getValueByPath(Ce,["responseId"]);Ue!=null&&setValueByPath(Ee,["responseId"],Ue);const De=getValueByPath(Ce,["usageMetadata"]);return De!=null&&setValueByPath(Ee,["usageMetadata"],De),Ee}function jobErrorFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["details"]);Te!=null&&setValueByPath(Ee,["details"],Te);const Be=getValueByPath(Ce,["code"]);Be!=null&&setValueByPath(Ee,["code"],Be);const Re=getValueByPath(Ce,["message"]);return Re!=null&&setValueByPath(Ee,["message"],Re),Ee}function inlinedResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["response"]);Te!=null&&setValueByPath(Ee,["response"],generateContentResponseFromMldev$1(Te));const Be=getValueByPath(Ce,["error"]);return Be!=null&&setValueByPath(Ee,["error"],jobErrorFromMldev(Be)),Ee}function batchJobDestinationFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["responsesFile"]);Te!=null&&setValueByPath(Ee,["fileName"],Te);const Be=getValueByPath(Ce,["inlinedResponses","inlinedResponses"]);if(Be!=null){let Re=Be;Array.isArray(Re)&&(Re=Re.map(Me=>inlinedResponseFromMldev(Me))),setValueByPath(Ee,["inlinedResponses"],Re)}return Ee}function batchJobFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["metadata","displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["metadata","state"]);Re!=null&&setValueByPath(Ee,["state"],tJobState(Re));const Me=getValueByPath(Ce,["metadata","createTime"]);Me!=null&&setValueByPath(Ee,["createTime"],Me);const Ue=getValueByPath(Ce,["metadata","endTime"]);Ue!=null&&setValueByPath(Ee,["endTime"],Ue);const De=getValueByPath(Ce,["metadata","updateTime"]);De!=null&&setValueByPath(Ee,["updateTime"],De);const qe=getValueByPath(Ce,["metadata","model"]);qe!=null&&setValueByPath(Ee,["model"],qe);const $e=getValueByPath(Ce,["metadata","output"]);return $e!=null&&setValueByPath(Ee,["dest"],batchJobDestinationFromMldev($e)),Ee}function listBatchJobsResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["operations"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>batchJobFromMldev(Ue))),setValueByPath(Ee,["batchJobs"],Me)}return Ee}function deleteResourceJobFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["done"]);Re!=null&&setValueByPath(Ee,["done"],Re);const Me=getValueByPath(Ce,["error"]);return Me!=null&&setValueByPath(Ee,["error"],jobErrorFromMldev(Me)),Ee}function jobErrorFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["details"]);Te!=null&&setValueByPath(Ee,["details"],Te);const Be=getValueByPath(Ce,["code"]);Be!=null&&setValueByPath(Ee,["code"],Be);const Re=getValueByPath(Ce,["message"]);return Re!=null&&setValueByPath(Ee,["message"],Re),Ee}function batchJobSourceFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["instancesFormat"]);Te!=null&&setValueByPath(Ee,["format"],Te);const Be=getValueByPath(Ce,["gcsSource","uris"]);Be!=null&&setValueByPath(Ee,["gcsUri"],Be);const Re=getValueByPath(Ce,["bigquerySource","inputUri"]);return Re!=null&&setValueByPath(Ee,["bigqueryUri"],Re),Ee}function batchJobDestinationFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["predictionsFormat"]);Te!=null&&setValueByPath(Ee,["format"],Te);const Be=getValueByPath(Ce,["gcsDestination","outputUriPrefix"]);Be!=null&&setValueByPath(Ee,["gcsUri"],Be);const Re=getValueByPath(Ce,["bigqueryDestination","outputUri"]);return Re!=null&&setValueByPath(Ee,["bigqueryUri"],Re),Ee}function batchJobFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["state"]);Re!=null&&setValueByPath(Ee,["state"],tJobState(Re));const Me=getValueByPath(Ce,["error"]);Me!=null&&setValueByPath(Ee,["error"],jobErrorFromVertex(Me));const Ue=getValueByPath(Ce,["createTime"]);Ue!=null&&setValueByPath(Ee,["createTime"],Ue);const De=getValueByPath(Ce,["startTime"]);De!=null&&setValueByPath(Ee,["startTime"],De);const qe=getValueByPath(Ce,["endTime"]);qe!=null&&setValueByPath(Ee,["endTime"],qe);const $e=getValueByPath(Ce,["updateTime"]);$e!=null&&setValueByPath(Ee,["updateTime"],$e);const ze=getValueByPath(Ce,["model"]);ze!=null&&setValueByPath(Ee,["model"],ze);const Xe=getValueByPath(Ce,["inputConfig"]);Xe!=null&&setValueByPath(Ee,["src"],batchJobSourceFromVertex(Xe));const We=getValueByPath(Ce,["outputConfig"]);return We!=null&&setValueByPath(Ee,["dest"],batchJobDestinationFromVertex(We)),Ee}function listBatchJobsResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["batchPredictionJobs"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>batchJobFromVertex(Ue))),setValueByPath(Ee,["batchJobs"],Me)}return Ee}function deleteResourceJobFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["done"]);Re!=null&&setValueByPath(Ee,["done"],Re);const Me=getValueByPath(Ce,["error"]);return Me!=null&&setValueByPath(Ee,["error"],jobErrorFromVertex(Me)),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var PagedItem;(function(Ce){Ce.PAGED_ITEM_BATCH_JOBS="batchJobs",Ce.PAGED_ITEM_MODELS="models",Ce.PAGED_ITEM_TUNING_JOBS="tuningJobs",Ce.PAGED_ITEM_FILES="files",Ce.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(PagedItem||(PagedItem={}));class Pager{constructor(Ee,Te,Be,Re){this.pageInternal=[],this.paramsInternal={},this.requestInternal=Te,this.init(Ee,Be,Re)}init(Ee,Te,Be){var Re,Me;this.nameInternal=Ee,this.pageInternal=Te[this.nameInternal]||[],this.sdkHttpResponseInternal=Te==null?void 0:Te.sdkHttpResponse,this.idxInternal=0;let Ue={config:{}};!Be||Object.keys(Be).length===0?Ue={config:{}}:typeof Be=="object"?Ue=Object.assign({},Be):Ue=Be,Ue.config&&(Ue.config.pageToken=Te.nextPageToken),this.paramsInternal=Ue,this.pageInternalSize=(Me=(Re=Ue.config)===null||Re===void 0?void 0:Re.pageSize)!==null&&Me!==void 0?Me:this.pageInternal.length}initNextPage(Ee){this.init(this.nameInternal,Ee,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(Ee){return this.pageInternal[Ee]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const Ee=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:Ee,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const Ee=await this.requestInternal(this.params);return this.initNextPage(Ee),this.page}hasNextPage(){var Ee;return((Ee=this.params.config)===null||Ee===void 0?void 0:Ee.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Batches extends BaseModule{constructor(Ee){super(),this.apiClient=Ee,this.create=async Te=>{var Be,Re;if(this.apiClient.isVertexAI()){const Ue=Date.now().toString();if(Array.isArray(Te.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(Te.config=Te.config||{},Te.config.displayName===void 0&&(Te.config.displayName="genaiBatchJob_${timestampStr}"),Te.config.dest===void 0&&typeof Te.src=="string")if(Te.src.startsWith("gs://")&&Te.src.endsWith(".jsonl"))Te.config.dest=`${Te.src.slice(0,-6)}/dest`;else if(Te.src.startsWith("bq://"))Te.config.dest=`${Te.src}_dest_${Ue}`;else throw new Error("Unsupported source:"+Te.src)}else if(Array.isArray(Te.src)||typeof Te.src!="string"&&Te.src.inlinedRequests){let Me="",Ue={};const De=createBatchJobParametersToMldev(this.apiClient,Te);Me=formatMap("{model}:batchGenerateContent",De._url),Ue=De._query;const ze=De.batch.inputConfig.requests,Xe=ze.requests,We=[];for(const tn of Xe){const en=tn;if(en.systemInstruction){const an=en.systemInstruction;delete en.systemInstruction;const Ye=en.request;Ye.systemInstruction=an,en.request=Ye}We.push(en)}return ze.requests=We,delete De.config,delete De._url,delete De._query,this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Be=Te.config)===null||Be===void 0?void 0:Be.httpOptions,abortSignal:(Re=Te.config)===null||Re===void 0?void 0:Re.abortSignal}).then(tn=>tn.json()).then(tn=>batchJobFromMldev(tn))}return await this.createInternal(Te)},this.list=async(Te={})=>new Pager(PagedItem.PAGED_ITEM_BATCH_JOBS,Be=>this.listInternal(Be),await this.listInternal(Te),Te)}async createInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=createBatchJobParametersToVertex(this.apiClient,Ee);return De=formatMap("batchPredictionJobs",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>batchJobFromVertex(ze))}else{const $e=createBatchJobParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:batchGenerateContent",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>batchJobFromMldev(ze))}}async get(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=getBatchJobParametersToVertex(this.apiClient,Ee);return De=formatMap("batchPredictionJobs/{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>batchJobFromVertex(ze))}else{const $e=getBatchJobParametersToMldev(this.apiClient,Ee);return De=formatMap("batches/{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>batchJobFromMldev(ze))}}async cancel(Ee){var Te,Be,Re,Me;let Ue="",De={};if(this.apiClient.isVertexAI()){const qe=cancelBatchJobParametersToVertex(this.apiClient,Ee);Ue=formatMap("batchPredictionJobs/{name}:cancel",qe._url),De=qe._query,delete qe.config,delete qe._url,delete qe._query,await this.apiClient.request({path:Ue,queryParams:De,body:JSON.stringify(qe),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal})}else{const qe=cancelBatchJobParametersToMldev(this.apiClient,Ee);Ue=formatMap("batches/{name}:cancel",qe._url),De=qe._query,delete qe.config,delete qe._url,delete qe._query,await this.apiClient.request({path:Ue,queryParams:De,body:JSON.stringify(qe),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal})}}async listInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=listBatchJobsParametersToVertex(Ee);return De=formatMap("batchPredictionJobs",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listBatchJobsResponseFromVertex(ze),We=new ListBatchJobsResponse;return Object.assign(We,Xe),We})}else{const $e=listBatchJobsParametersToMldev(Ee);return De=formatMap("batches",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listBatchJobsResponseFromMldev(ze),We=new ListBatchJobsResponse;return Object.assign(We,Xe),We})}}async delete(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=deleteBatchJobParametersToVertex(this.apiClient,Ee);return De=formatMap("batchPredictionJobs/{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>deleteResourceJobFromVertex(ze))}else{const $e=deleteBatchJobParametersToMldev(this.apiClient,Ee);return De=formatMap("batches/{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>deleteResourceJobFromMldev(ze))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function videoMetadataToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToMldev$3(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataToMldev$3(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToMldev$3(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToMldev$3(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToMldev$3(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToMldev$3(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function functionDeclarationToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["behavior"]);Te!=null&&setValueByPath(Ee,["behavior"],Te);const Be=getValueByPath(Ce,["description"]);Be!=null&&setValueByPath(Ee,["description"],Be);const Re=getValueByPath(Ce,["name"]);Re!=null&&setValueByPath(Ee,["name"],Re);const Me=getValueByPath(Ce,["parameters"]);Me!=null&&setValueByPath(Ee,["parameters"],Me);const Ue=getValueByPath(Ce,["parametersJsonSchema"]);Ue!=null&&setValueByPath(Ee,["parametersJsonSchema"],Ue);const De=getValueByPath(Ce,["response"]);De!=null&&setValueByPath(Ee,["response"],De);const qe=getValueByPath(Ce,["responseJsonSchema"]);return qe!=null&&setValueByPath(Ee,["responseJsonSchema"],qe),Ee}function intervalToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);if(Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToMldev$3(Te)),getValueByPath(Ce,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return Ee}function dynamicRetrievalConfigToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToMldev$3(Te)),Ee}function urlContextToMldev$3(){return{}}function toolComputerUseToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToMldev$3(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let qe=Te;Array.isArray(qe)&&(qe=qe.map($e=>functionDeclarationToMldev$3($e))),setValueByPath(Ee,["functionDeclarations"],qe)}if(getValueByPath(Ce,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["googleSearch"]);Be!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToMldev$3(Be));const Re=getValueByPath(Ce,["googleSearchRetrieval"]);if(Re!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToMldev$3(Re)),getValueByPath(Ce,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(getValueByPath(Ce,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToMldev$3());const Ue=getValueByPath(Ce,["computerUse"]);Ue!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToMldev$3(Ue));const De=getValueByPath(Ce,["codeExecution"]);return De!=null&&setValueByPath(Ee,["codeExecution"],De),Ee}function functionCallingConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["allowedFunctionNames"]);return Be!=null&&setValueByPath(Ee,["allowedFunctionNames"],Be),Ee}function latLngToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["latitude"]);Te!=null&&setValueByPath(Ee,["latitude"],Te);const Be=getValueByPath(Ce,["longitude"]);return Be!=null&&setValueByPath(Ee,["longitude"],Be),Ee}function retrievalConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["latLng"]);Te!=null&&setValueByPath(Ee,["latLng"],latLngToMldev$1(Te));const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function toolConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["functionCallingConfig"]);Te!=null&&setValueByPath(Ee,["functionCallingConfig"],functionCallingConfigToMldev$1(Te));const Be=getValueByPath(Ce,["retrievalConfig"]);return Be!=null&&setValueByPath(Ee,["retrievalConfig"],retrievalConfigToMldev$1(Be)),Ee}function createCachedContentConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["ttl"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["ttl"],Be);const Re=getValueByPath(Ce,["expireTime"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["expireTime"],Re);const Me=getValueByPath(Ce,["displayName"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["displayName"],Me);const Ue=getValueByPath(Ce,["contents"]);if(Ee!==void 0&&Ue!=null){let ze=tContents(Ue);Array.isArray(ze)&&(ze=ze.map(Xe=>contentToMldev$3(Xe))),setValueByPath(Ee,["contents"],ze)}const De=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["systemInstruction"],contentToMldev$3(tContent(De)));const qe=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&qe!=null){let ze=qe;Array.isArray(ze)&&(ze=ze.map(Xe=>toolToMldev$3(Xe))),setValueByPath(Ee,["tools"],ze)}const $e=getValueByPath(Ce,["toolConfig"]);if(Ee!==void 0&&$e!=null&&setValueByPath(Ee,["toolConfig"],toolConfigToMldev$1($e)),getValueByPath(Ce,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return Te}function createCachedContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["model"],tCachesModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],createCachedContentConfigToMldev(Re,Te)),Te}function getCachedContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function deleteCachedContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function updateCachedContentConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["ttl"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["ttl"],Be);const Re=getValueByPath(Ce,["expireTime"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["expireTime"],Re),Te}function updateCachedContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],updateCachedContentConfigToMldev(Re,Te)),Te}function listCachedContentsConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re),Te}function listCachedContentsParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listCachedContentsConfigToMldev(Te,Ee)),Ee}function videoMetadataToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["data"]);Be!=null&&setValueByPath(Ee,["data"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function fileDataToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["fileUri"]);Be!=null&&setValueByPath(Ee,["fileUri"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function partToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToVertex$2(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToVertex$2(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToVertex$2(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToVertex$2(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function functionDeclarationToVertex$2(Ce){const Ee={};if(getValueByPath(Ce,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const Te=getValueByPath(Ce,["description"]);Te!=null&&setValueByPath(Ee,["description"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["parameters"]);Re!=null&&setValueByPath(Ee,["parameters"],Re);const Me=getValueByPath(Ce,["parametersJsonSchema"]);Me!=null&&setValueByPath(Ee,["parametersJsonSchema"],Me);const Ue=getValueByPath(Ce,["response"]);Ue!=null&&setValueByPath(Ee,["response"],Ue);const De=getValueByPath(Ce,["responseJsonSchema"]);return De!=null&&setValueByPath(Ee,["responseJsonSchema"],De),Ee}function intervalToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToVertex$2(Te));const Be=getValueByPath(Ce,["excludeDomains"]);return Be!=null&&setValueByPath(Ee,["excludeDomains"],Be),Ee}function dynamicRetrievalConfigToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToVertex$2(Te)),Ee}function enterpriseWebSearchToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["excludeDomains"]);return Te!=null&&setValueByPath(Ee,["excludeDomains"],Te),Ee}function apiKeyConfigToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyString"]);return Te!=null&&setValueByPath(Ee,["apiKeyString"],Te),Ee}function authConfigToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyConfig"]);Te!=null&&setValueByPath(Ee,["apiKeyConfig"],apiKeyConfigToVertex$2(Te));const Be=getValueByPath(Ce,["authType"]);Be!=null&&setValueByPath(Ee,["authType"],Be);const Re=getValueByPath(Ce,["googleServiceAccountConfig"]);Re!=null&&setValueByPath(Ee,["googleServiceAccountConfig"],Re);const Me=getValueByPath(Ce,["httpBasicAuthConfig"]);Me!=null&&setValueByPath(Ee,["httpBasicAuthConfig"],Me);const Ue=getValueByPath(Ce,["oauthConfig"]);Ue!=null&&setValueByPath(Ee,["oauthConfig"],Ue);const De=getValueByPath(Ce,["oidcConfig"]);return De!=null&&setValueByPath(Ee,["oidcConfig"],De),Ee}function googleMapsToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["authConfig"]);return Te!=null&&setValueByPath(Ee,["authConfig"],authConfigToVertex$2(Te)),Ee}function urlContextToVertex$2(){return{}}function toolComputerUseToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToVertex$2(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let Xe=Te;Array.isArray(Xe)&&(Xe=Xe.map(We=>functionDeclarationToVertex$2(We))),setValueByPath(Ee,["functionDeclarations"],Xe)}const Be=getValueByPath(Ce,["retrieval"]);Be!=null&&setValueByPath(Ee,["retrieval"],Be);const Re=getValueByPath(Ce,["googleSearch"]);Re!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToVertex$2(Re));const Me=getValueByPath(Ce,["googleSearchRetrieval"]);Me!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToVertex$2(Me));const Ue=getValueByPath(Ce,["enterpriseWebSearch"]);Ue!=null&&setValueByPath(Ee,["enterpriseWebSearch"],enterpriseWebSearchToVertex$2(Ue));const De=getValueByPath(Ce,["googleMaps"]);De!=null&&setValueByPath(Ee,["googleMaps"],googleMapsToVertex$2(De)),getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToVertex$2());const $e=getValueByPath(Ce,["computerUse"]);$e!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToVertex$2($e));const ze=getValueByPath(Ce,["codeExecution"]);return ze!=null&&setValueByPath(Ee,["codeExecution"],ze),Ee}function functionCallingConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["allowedFunctionNames"]);return Be!=null&&setValueByPath(Ee,["allowedFunctionNames"],Be),Ee}function latLngToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["latitude"]);Te!=null&&setValueByPath(Ee,["latitude"],Te);const Be=getValueByPath(Ce,["longitude"]);return Be!=null&&setValueByPath(Ee,["longitude"],Be),Ee}function retrievalConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["latLng"]);Te!=null&&setValueByPath(Ee,["latLng"],latLngToVertex$1(Te));const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function toolConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["functionCallingConfig"]);Te!=null&&setValueByPath(Ee,["functionCallingConfig"],functionCallingConfigToVertex$1(Te));const Be=getValueByPath(Ce,["retrievalConfig"]);return Be!=null&&setValueByPath(Ee,["retrievalConfig"],retrievalConfigToVertex$1(Be)),Ee}function createCachedContentConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["ttl"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["ttl"],Be);const Re=getValueByPath(Ce,["expireTime"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["expireTime"],Re);const Me=getValueByPath(Ce,["displayName"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["displayName"],Me);const Ue=getValueByPath(Ce,["contents"]);if(Ee!==void 0&&Ue!=null){let Xe=tContents(Ue);Array.isArray(Xe)&&(Xe=Xe.map(We=>contentToVertex$2(We))),setValueByPath(Ee,["contents"],Xe)}const De=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["systemInstruction"],contentToVertex$2(tContent(De)));const qe=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&qe!=null){let Xe=qe;Array.isArray(Xe)&&(Xe=Xe.map(We=>toolToVertex$2(We))),setValueByPath(Ee,["tools"],Xe)}const $e=getValueByPath(Ce,["toolConfig"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["toolConfig"],toolConfigToVertex$1($e));const ze=getValueByPath(Ce,["kmsKeyName"]);return Ee!==void 0&&ze!=null&&setValueByPath(Ee,["encryption_spec","kmsKeyName"],ze),Te}function createCachedContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["model"],tCachesModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],createCachedContentConfigToVertex(Re,Te)),Te}function getCachedContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function deleteCachedContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function updateCachedContentConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["ttl"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["ttl"],Be);const Re=getValueByPath(Ce,["expireTime"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["expireTime"],Re),Te}function updateCachedContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["name"]);Be!=null&&setValueByPath(Te,["_url","name"],tCachedContentName(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],updateCachedContentConfigToVertex(Re,Te)),Te}function listCachedContentsConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re),Te}function listCachedContentsParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listCachedContentsConfigToVertex(Te,Ee)),Ee}function cachedContentFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["model"]);Re!=null&&setValueByPath(Ee,["model"],Re);const Me=getValueByPath(Ce,["createTime"]);Me!=null&&setValueByPath(Ee,["createTime"],Me);const Ue=getValueByPath(Ce,["updateTime"]);Ue!=null&&setValueByPath(Ee,["updateTime"],Ue);const De=getValueByPath(Ce,["expireTime"]);De!=null&&setValueByPath(Ee,["expireTime"],De);const qe=getValueByPath(Ce,["usageMetadata"]);return qe!=null&&setValueByPath(Ee,["usageMetadata"],qe),Ee}function deleteCachedContentResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}function listCachedContentsResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["cachedContents"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>cachedContentFromMldev(Ue))),setValueByPath(Ee,["cachedContents"],Me)}return Ee}function cachedContentFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["model"]);Re!=null&&setValueByPath(Ee,["model"],Re);const Me=getValueByPath(Ce,["createTime"]);Me!=null&&setValueByPath(Ee,["createTime"],Me);const Ue=getValueByPath(Ce,["updateTime"]);Ue!=null&&setValueByPath(Ee,["updateTime"],Ue);const De=getValueByPath(Ce,["expireTime"]);De!=null&&setValueByPath(Ee,["expireTime"],De);const qe=getValueByPath(Ce,["usageMetadata"]);return qe!=null&&setValueByPath(Ee,["usageMetadata"],qe),Ee}function deleteCachedContentResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}function listCachedContentsResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["cachedContents"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>cachedContentFromVertex(Ue))),setValueByPath(Ee,["cachedContents"],Me)}return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Caches extends BaseModule{constructor(Ee){super(),this.apiClient=Ee,this.list=async(Te={})=>new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS,Be=>this.listInternal(Be),await this.listInternal(Te),Te)}async create(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=createCachedContentParametersToVertex(this.apiClient,Ee);return De=formatMap("cachedContents",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromVertex(ze))}else{const $e=createCachedContentParametersToMldev(this.apiClient,Ee);return De=formatMap("cachedContents",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromMldev(ze))}}async get(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=getCachedContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromVertex(ze))}else{const $e=getCachedContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromMldev(ze))}}async delete(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=deleteCachedContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=deleteCachedContentResponseFromVertex(ze),We=new DeleteCachedContentResponse;return Object.assign(We,Xe),We})}else{const $e=deleteCachedContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=deleteCachedContentResponseFromMldev(ze),We=new DeleteCachedContentResponse;return Object.assign(We,Xe),We})}}async update(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=updateCachedContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"PATCH",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromVertex(ze))}else{const $e=updateCachedContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"PATCH",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>cachedContentFromMldev(ze))}}async listInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=listCachedContentsParametersToVertex(Ee);return De=formatMap("cachedContents",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listCachedContentsResponseFromVertex(ze),We=new ListCachedContentsResponse;return Object.assign(We,Xe),We})}else{const $e=listCachedContentsParametersToMldev(Ee);return De=formatMap("cachedContents",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listCachedContentsResponseFromMldev(ze),We=new ListCachedContentsResponse;return Object.assign(We,Xe),We})}}}function __values(Ce){var Ee=typeof Symbol=="function"&&Symbol.iterator,Te=Ee&&Ce[Ee],Be=0;if(Te)return Te.call(Ce);if(Ce&&typeof Ce.length=="number")return{next:function(){return Ce&&Be>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Be++],done:!Ce}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(Ce){return this instanceof __await?(this.v=Ce,this):new __await(Ce)}function __asyncGenerator(Ce,Ee,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be=Te.apply(Ce,Ee||[]),Re,Me=[];return Re=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),De("next"),De("throw"),De("return",Ue),Re[Symbol.asyncIterator]=function(){return this},Re;function Ue(Ge){return function(tn){return Promise.resolve(tn).then(Ge,Xe)}}function De(Ge,tn){Be[Ge]&&(Re[Ge]=function(en){return new Promise(function(an,Ye){Me.push([Ge,en,an,Ye])>1||qe(Ge,en)})},tn&&(Re[Ge]=tn(Re[Ge])))}function qe(Ge,tn){try{$e(Be[Ge](tn))}catch(en){We(Me[0][3],en)}}function $e(Ge){Ge.value instanceof __await?Promise.resolve(Ge.value.v).then(ze,Xe):We(Me[0][2],Ge)}function ze(Ge){qe("next",Ge)}function Xe(Ge){qe("throw",Ge)}function We(Ge,tn){Ge(tn),Me.shift(),Me.length&&qe(Me[0][0],Me[0][1])}}function __asyncValues(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee=Ce[Symbol.asyncIterator],Te;return Ee?Ee.call(Ce):(Ce=typeof __values=="function"?__values(Ce):Ce[Symbol.iterator](),Te={},Be("next"),Be("throw"),Be("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Be(Me){Te[Me]=Ce[Me]&&function(Ue){return new Promise(function(De,qe){Ue=Ce[Me](Ue),Re(De,qe,Ue.done,Ue.value)})}}function Re(Me,Ue,De,qe){Promise.resolve(qe).then(function($e){Me({value:$e,done:De})},Ue)}}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function isValidResponse(Ce){var Ee;if(Ce.candidates==null||Ce.candidates.length===0)return!1;const Te=(Ee=Ce.candidates[0])===null||Ee===void 0?void 0:Ee.content;return Te===void 0?!1:isValidContent(Te)}function isValidContent(Ce){if(Ce.parts===void 0||Ce.parts.length===0)return!1;for(const Ee of Ce.parts)if(Ee===void 0||Object.keys(Ee).length===0)return!1;return!0}function validateHistory(Ce){if(Ce.length!==0){for(const Ee of Ce)if(Ee.role!=="user"&&Ee.role!=="model")throw new Error(`Role must be user or model, but got ${Ee.role}.`)}}function extractCuratedHistory(Ce){if(Ce===void 0||Ce.length===0)return[];const Ee=[],Te=Ce.length;let Be=0;for(;Be<Te;)if(Ce[Be].role==="user")Ee.push(Ce[Be]),Be++;else{const Re=[];let Me=!0;for(;Be<Te&&Ce[Be].role==="model";)Re.push(Ce[Be]),Me&&!isValidContent(Ce[Be])&&(Me=!1),Be++;Me?Ee.push(...Re):Ee.pop()}return Ee}class Chats{constructor(Ee,Te){this.modelsModule=Ee,this.apiClient=Te}create(Ee){return new Chat(this.apiClient,this.modelsModule,Ee.model,Ee.config,structuredClone(Ee.history))}}class Chat{constructor(Ee,Te,Be,Re={},Me=[]){this.apiClient=Ee,this.modelsModule=Te,this.model=Be,this.config=Re,this.history=Me,this.sendPromise=Promise.resolve(),validateHistory(Me)}async sendMessage(Ee){var Te;await this.sendPromise;const Be=tContent(Ee.message),Re=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(Be),config:(Te=Ee.config)!==null&&Te!==void 0?Te:this.config});return this.sendPromise=(async()=>{var Me,Ue,De;const qe=await Re,$e=(Ue=(Me=qe.candidates)===null||Me===void 0?void 0:Me[0])===null||Ue===void 0?void 0:Ue.content,ze=qe.automaticFunctionCallingHistory,Xe=this.getHistory(!0).length;let We=[];ze!=null&&(We=(De=ze.slice(Xe))!==null&&De!==void 0?De:[]);const Ge=$e?[$e]:[];this.recordHistory(Be,Ge,We)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),Re}async sendMessageStream(Ee){var Te;await this.sendPromise;const Be=tContent(Ee.message),Re=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(Be),config:(Te=Ee.config)!==null&&Te!==void 0?Te:this.config});this.sendPromise=Re.then(()=>{}).catch(()=>{});const Me=await Re;return this.processStreamResponse(Me,Be)}getHistory(Ee=!1){const Te=Ee?extractCuratedHistory(this.history):this.history;return structuredClone(Te)}processStreamResponse(Ee,Te){var Be,Re;return __asyncGenerator(this,arguments,function*(){var Ue,De,qe,$e;const ze=[];try{for(var Xe=!0,We=__asyncValues(Ee),Ge;Ge=yield __await(We.next()),Ue=Ge.done,!Ue;Xe=!0){$e=Ge.value,Xe=!1;const tn=$e;if(isValidResponse(tn)){const en=(Re=(Be=tn.candidates)===null||Be===void 0?void 0:Be[0])===null||Re===void 0?void 0:Re.content;en!==void 0&&ze.push(en)}yield yield __await(tn)}}catch(tn){De={error:tn}}finally{try{!Xe&&!Ue&&(qe=We.return)&&(yield __await(qe.call(We)))}finally{if(De)throw De.error}}this.recordHistory(Te,ze)})}recordHistory(Ee,Te,Be){let Re=[];Te.length>0&&Te.every(Me=>Me.role!==void 0)?Re=Te:Re.push({role:"model",parts:[]}),Be&&Be.length>0?this.history.push(...extractCuratedHistory(Be)):this.history.push(Ee),this.history.push(...Re)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ApiError extends Error{constructor(Ee){super(Ee.message),this.name="ApiError",this.status=Ee.status,Object.setPrototypeOf(this,ApiError.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function listFilesConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re),Te}function listFilesParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listFilesConfigToMldev(Te,Ee)),Ee}function fileStatusToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["details"]);Te!=null&&setValueByPath(Ee,["details"],Te);const Be=getValueByPath(Ce,["message"]);Be!=null&&setValueByPath(Ee,["message"],Be);const Re=getValueByPath(Ce,["code"]);return Re!=null&&setValueByPath(Ee,["code"],Re),Ee}function fileToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["mimeType"]);Re!=null&&setValueByPath(Ee,["mimeType"],Re);const Me=getValueByPath(Ce,["sizeBytes"]);Me!=null&&setValueByPath(Ee,["sizeBytes"],Me);const Ue=getValueByPath(Ce,["createTime"]);Ue!=null&&setValueByPath(Ee,["createTime"],Ue);const De=getValueByPath(Ce,["expirationTime"]);De!=null&&setValueByPath(Ee,["expirationTime"],De);const qe=getValueByPath(Ce,["updateTime"]);qe!=null&&setValueByPath(Ee,["updateTime"],qe);const $e=getValueByPath(Ce,["sha256Hash"]);$e!=null&&setValueByPath(Ee,["sha256Hash"],$e);const ze=getValueByPath(Ce,["uri"]);ze!=null&&setValueByPath(Ee,["uri"],ze);const Xe=getValueByPath(Ce,["downloadUri"]);Xe!=null&&setValueByPath(Ee,["downloadUri"],Xe);const We=getValueByPath(Ce,["state"]);We!=null&&setValueByPath(Ee,["state"],We);const Ge=getValueByPath(Ce,["source"]);Ge!=null&&setValueByPath(Ee,["source"],Ge);const tn=getValueByPath(Ce,["videoMetadata"]);tn!=null&&setValueByPath(Ee,["videoMetadata"],tn);const en=getValueByPath(Ce,["error"]);return en!=null&&setValueByPath(Ee,["error"],fileStatusToMldev(en)),Ee}function createFileParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["file"]);Te!=null&&setValueByPath(Ee,["file"],fileToMldev(Te));const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function getFileParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","file"],tFileName(Te));const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function deleteFileParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","file"],tFileName(Te));const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function fileStatusFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["details"]);Te!=null&&setValueByPath(Ee,["details"],Te);const Be=getValueByPath(Ce,["message"]);Be!=null&&setValueByPath(Ee,["message"],Be);const Re=getValueByPath(Ce,["code"]);return Re!=null&&setValueByPath(Ee,["code"],Re),Ee}function fileFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["mimeType"]);Re!=null&&setValueByPath(Ee,["mimeType"],Re);const Me=getValueByPath(Ce,["sizeBytes"]);Me!=null&&setValueByPath(Ee,["sizeBytes"],Me);const Ue=getValueByPath(Ce,["createTime"]);Ue!=null&&setValueByPath(Ee,["createTime"],Ue);const De=getValueByPath(Ce,["expirationTime"]);De!=null&&setValueByPath(Ee,["expirationTime"],De);const qe=getValueByPath(Ce,["updateTime"]);qe!=null&&setValueByPath(Ee,["updateTime"],qe);const $e=getValueByPath(Ce,["sha256Hash"]);$e!=null&&setValueByPath(Ee,["sha256Hash"],$e);const ze=getValueByPath(Ce,["uri"]);ze!=null&&setValueByPath(Ee,["uri"],ze);const Xe=getValueByPath(Ce,["downloadUri"]);Xe!=null&&setValueByPath(Ee,["downloadUri"],Xe);const We=getValueByPath(Ce,["state"]);We!=null&&setValueByPath(Ee,["state"],We);const Ge=getValueByPath(Ce,["source"]);Ge!=null&&setValueByPath(Ee,["source"],Ge);const tn=getValueByPath(Ce,["videoMetadata"]);tn!=null&&setValueByPath(Ee,["videoMetadata"],tn);const en=getValueByPath(Ce,["error"]);return en!=null&&setValueByPath(Ee,["error"],fileStatusFromMldev(en)),Ee}function listFilesResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["files"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>fileFromMldev(Ue))),setValueByPath(Ee,["files"],Me)}return Ee}function createFileResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}function deleteFileResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Files extends BaseModule{constructor(Ee){super(),this.apiClient=Ee,this.list=async(Te={})=>new Pager(PagedItem.PAGED_ITEM_FILES,Be=>this.listInternal(Be),await this.listInternal(Te),Te)}async upload(Ee){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(Ee.file,Ee.config).then(Te=>fileFromMldev(Te))}async download(Ee){await this.apiClient.downloadFile(Ee)}async listInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const De=listFilesParametersToMldev(Ee);return Me=formatMap("files",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>{const $e=listFilesResponseFromMldev(qe),ze=new ListFilesResponse;return Object.assign(ze,$e),ze})}}async createInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const De=createFileParametersToMldev(Ee);return Me=formatMap("upload/v1beta/files",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json()),Re.then(qe=>{const $e=createFileResponseFromMldev(qe),ze=new CreateFileResponse;return Object.assign(ze,$e),ze})}}async get(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const De=getFileParametersToMldev(Ee);return Me=formatMap("files/{file}",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json()),Re.then(qe=>fileFromMldev(qe))}}async delete(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const De=deleteFileParametersToMldev(Ee);return Me=formatMap("files/{file}",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"DELETE",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>{const $e=deleteFileResponseFromMldev(qe),ze=new DeleteFileResponse;return Object.assign(ze,$e),ze})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function prebuiltVoiceConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToMldev$2(Te)),Ee}function speakerVoiceConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["speaker"]);Te!=null&&setValueByPath(Ee,["speaker"],Te);const Be=getValueByPath(Ce,["voiceConfig"]);return Be!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$2(Be)),Ee}function multiSpeakerVoiceConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["speakerVoiceConfigs"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>speakerVoiceConfigToMldev$2(Re))),setValueByPath(Ee,["speakerVoiceConfigs"],Be)}return Ee}function speechConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$2(Te));const Be=getValueByPath(Ce,["multiSpeakerVoiceConfig"]);Be!=null&&setValueByPath(Ee,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$2(Be));const Re=getValueByPath(Ce,["languageCode"]);return Re!=null&&setValueByPath(Ee,["languageCode"],Re),Ee}function videoMetadataToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToMldev$2(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataToMldev$2(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToMldev$2(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToMldev$2(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToMldev$2(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToMldev$2(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function functionDeclarationToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["behavior"]);Te!=null&&setValueByPath(Ee,["behavior"],Te);const Be=getValueByPath(Ce,["description"]);Be!=null&&setValueByPath(Ee,["description"],Be);const Re=getValueByPath(Ce,["name"]);Re!=null&&setValueByPath(Ee,["name"],Re);const Me=getValueByPath(Ce,["parameters"]);Me!=null&&setValueByPath(Ee,["parameters"],Me);const Ue=getValueByPath(Ce,["parametersJsonSchema"]);Ue!=null&&setValueByPath(Ee,["parametersJsonSchema"],Ue);const De=getValueByPath(Ce,["response"]);De!=null&&setValueByPath(Ee,["response"],De);const qe=getValueByPath(Ce,["responseJsonSchema"]);return qe!=null&&setValueByPath(Ee,["responseJsonSchema"],qe),Ee}function intervalToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);if(Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToMldev$2(Te)),getValueByPath(Ce,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return Ee}function dynamicRetrievalConfigToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToMldev$2(Te)),Ee}function urlContextToMldev$2(){return{}}function toolComputerUseToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToMldev$2(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let qe=Te;Array.isArray(qe)&&(qe=qe.map($e=>functionDeclarationToMldev$2($e))),setValueByPath(Ee,["functionDeclarations"],qe)}if(getValueByPath(Ce,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["googleSearch"]);Be!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToMldev$2(Be));const Re=getValueByPath(Ce,["googleSearchRetrieval"]);if(Re!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToMldev$2(Re)),getValueByPath(Ce,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(getValueByPath(Ce,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToMldev$2());const Ue=getValueByPath(Ce,["computerUse"]);Ue!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToMldev$2(Ue));const De=getValueByPath(Ce,["codeExecution"]);return De!=null&&setValueByPath(Ee,["codeExecution"],De),Ee}function sessionResumptionConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["handle"]);if(Te!=null&&setValueByPath(Ee,["handle"],Te),getValueByPath(Ce,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return Ee}function audioTranscriptionConfigToMldev$1(){return{}}function automaticActivityDetectionToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["disabled"]);Te!=null&&setValueByPath(Ee,["disabled"],Te);const Be=getValueByPath(Ce,["startOfSpeechSensitivity"]);Be!=null&&setValueByPath(Ee,["startOfSpeechSensitivity"],Be);const Re=getValueByPath(Ce,["endOfSpeechSensitivity"]);Re!=null&&setValueByPath(Ee,["endOfSpeechSensitivity"],Re);const Me=getValueByPath(Ce,["prefixPaddingMs"]);Me!=null&&setValueByPath(Ee,["prefixPaddingMs"],Me);const Ue=getValueByPath(Ce,["silenceDurationMs"]);return Ue!=null&&setValueByPath(Ee,["silenceDurationMs"],Ue),Ee}function realtimeInputConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["automaticActivityDetection"]);Te!=null&&setValueByPath(Ee,["automaticActivityDetection"],automaticActivityDetectionToMldev$1(Te));const Be=getValueByPath(Ce,["activityHandling"]);Be!=null&&setValueByPath(Ee,["activityHandling"],Be);const Re=getValueByPath(Ce,["turnCoverage"]);return Re!=null&&setValueByPath(Ee,["turnCoverage"],Re),Ee}function slidingWindowToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["targetTokens"]);return Te!=null&&setValueByPath(Ee,["targetTokens"],Te),Ee}function contextWindowCompressionConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["triggerTokens"]);Te!=null&&setValueByPath(Ee,["triggerTokens"],Te);const Be=getValueByPath(Ce,["slidingWindow"]);return Be!=null&&setValueByPath(Ee,["slidingWindow"],slidingWindowToMldev$1(Be)),Ee}function proactivityConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["proactiveAudio"]);return Te!=null&&setValueByPath(Ee,["proactiveAudio"],Te),Ee}function liveConnectConfigToMldev$1(Ce,Ee){const Te={},Be=getValueByPath(Ce,["generationConfig"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["setup","generationConfig"],Be);const Re=getValueByPath(Ce,["responseModalities"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["setup","generationConfig","responseModalities"],Re);const Me=getValueByPath(Ce,["temperature"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["setup","generationConfig","temperature"],Me);const Ue=getValueByPath(Ce,["topP"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["setup","generationConfig","topP"],Ue);const De=getValueByPath(Ce,["topK"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["setup","generationConfig","topK"],De);const qe=getValueByPath(Ce,["maxOutputTokens"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["setup","generationConfig","maxOutputTokens"],qe);const $e=getValueByPath(Ce,["mediaResolution"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["setup","generationConfig","mediaResolution"],$e);const ze=getValueByPath(Ce,["seed"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["setup","generationConfig","seed"],ze);const Xe=getValueByPath(Ce,["speechConfig"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["setup","generationConfig","speechConfig"],speechConfigToMldev$2(tLiveSpeechConfig(Xe)));const We=getValueByPath(Ce,["enableAffectiveDialog"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["setup","generationConfig","enableAffectiveDialog"],We);const Ge=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["setup","systemInstruction"],contentToMldev$2(tContent(Ge)));const tn=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&tn!=null){let Je=tTools(tn);Array.isArray(Je)&&(Je=Je.map(on=>toolToMldev$2(tTool(on)))),setValueByPath(Ee,["setup","tools"],Je)}const en=getValueByPath(Ce,["sessionResumption"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["setup","sessionResumption"],sessionResumptionConfigToMldev$1(en));const an=getValueByPath(Ce,["inputAudioTranscription"]);Ee!==void 0&&an!=null&&setValueByPath(Ee,["setup","inputAudioTranscription"],audioTranscriptionConfigToMldev$1());const Ye=getValueByPath(Ce,["outputAudioTranscription"]);Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["setup","outputAudioTranscription"],audioTranscriptionConfigToMldev$1());const Ze=getValueByPath(Ce,["realtimeInputConfig"]);Ee!==void 0&&Ze!=null&&setValueByPath(Ee,["setup","realtimeInputConfig"],realtimeInputConfigToMldev$1(Ze));const St=getValueByPath(Ce,["contextWindowCompression"]);Ee!==void 0&&St!=null&&setValueByPath(Ee,["setup","contextWindowCompression"],contextWindowCompressionConfigToMldev$1(St));const Qe=getValueByPath(Ce,["proactivity"]);return Ee!==void 0&&Qe!=null&&setValueByPath(Ee,["setup","proactivity"],proactivityConfigToMldev$1(Qe)),Te}function liveConnectParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["setup","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],liveConnectConfigToMldev$1(Re,Te)),Te}function activityStartToMldev(){return{}}function activityEndToMldev(){return{}}function liveSendRealtimeInputParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["media"]);Te!=null&&setValueByPath(Ee,["mediaChunks"],tBlobs(Te));const Be=getValueByPath(Ce,["audio"]);Be!=null&&setValueByPath(Ee,["audio"],tAudioBlob(Be));const Re=getValueByPath(Ce,["audioStreamEnd"]);Re!=null&&setValueByPath(Ee,["audioStreamEnd"],Re);const Me=getValueByPath(Ce,["video"]);Me!=null&&setValueByPath(Ee,["video"],tImageBlob(Me));const Ue=getValueByPath(Ce,["text"]);return Ue!=null&&setValueByPath(Ee,["text"],Ue),getValueByPath(Ce,["activityStart"])!=null&&setValueByPath(Ee,["activityStart"],activityStartToMldev()),getValueByPath(Ce,["activityEnd"])!=null&&setValueByPath(Ee,["activityEnd"],activityEndToMldev()),Ee}function weightedPromptToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["text"]);Te!=null&&setValueByPath(Ee,["text"],Te);const Be=getValueByPath(Ce,["weight"]);return Be!=null&&setValueByPath(Ee,["weight"],Be),Ee}function liveMusicSetWeightedPromptsParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["weightedPrompts"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>weightedPromptToMldev(Re))),setValueByPath(Ee,["weightedPrompts"],Be)}return Ee}function liveMusicGenerationConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["temperature"]);Te!=null&&setValueByPath(Ee,["temperature"],Te);const Be=getValueByPath(Ce,["topK"]);Be!=null&&setValueByPath(Ee,["topK"],Be);const Re=getValueByPath(Ce,["seed"]);Re!=null&&setValueByPath(Ee,["seed"],Re);const Me=getValueByPath(Ce,["guidance"]);Me!=null&&setValueByPath(Ee,["guidance"],Me);const Ue=getValueByPath(Ce,["bpm"]);Ue!=null&&setValueByPath(Ee,["bpm"],Ue);const De=getValueByPath(Ce,["density"]);De!=null&&setValueByPath(Ee,["density"],De);const qe=getValueByPath(Ce,["brightness"]);qe!=null&&setValueByPath(Ee,["brightness"],qe);const $e=getValueByPath(Ce,["scale"]);$e!=null&&setValueByPath(Ee,["scale"],$e);const ze=getValueByPath(Ce,["muteBass"]);ze!=null&&setValueByPath(Ee,["muteBass"],ze);const Xe=getValueByPath(Ce,["muteDrums"]);Xe!=null&&setValueByPath(Ee,["muteDrums"],Xe);const We=getValueByPath(Ce,["onlyBassAndDrums"]);We!=null&&setValueByPath(Ee,["onlyBassAndDrums"],We);const Ge=getValueByPath(Ce,["musicGenerationMode"]);return Ge!=null&&setValueByPath(Ee,["musicGenerationMode"],Ge),Ee}function liveMusicSetConfigParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["musicGenerationConfig"]);return Te!=null&&setValueByPath(Ee,["musicGenerationConfig"],liveMusicGenerationConfigToMldev(Te)),Ee}function liveMusicClientSetupToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["model"]);return Te!=null&&setValueByPath(Ee,["model"],Te),Ee}function liveMusicClientContentToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["weightedPrompts"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>weightedPromptToMldev(Re))),setValueByPath(Ee,["weightedPrompts"],Be)}return Ee}function liveMusicClientMessageToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["setup"]);Te!=null&&setValueByPath(Ee,["setup"],liveMusicClientSetupToMldev(Te));const Be=getValueByPath(Ce,["clientContent"]);Be!=null&&setValueByPath(Ee,["clientContent"],liveMusicClientContentToMldev(Be));const Re=getValueByPath(Ce,["musicGenerationConfig"]);Re!=null&&setValueByPath(Ee,["musicGenerationConfig"],liveMusicGenerationConfigToMldev(Re));const Me=getValueByPath(Ce,["playbackControl"]);return Me!=null&&setValueByPath(Ee,["playbackControl"],Me),Ee}function prebuiltVoiceConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToVertex$1(Te)),Ee}function speechConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);if(Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToVertex$1(Te)),getValueByPath(Ce,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function videoMetadataToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["data"]);Be!=null&&setValueByPath(Ee,["data"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function fileDataToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["fileUri"]);Be!=null&&setValueByPath(Ee,["fileUri"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function partToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToVertex$1(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToVertex$1(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToVertex$1(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToVertex$1(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function functionDeclarationToVertex$1(Ce){const Ee={};if(getValueByPath(Ce,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const Te=getValueByPath(Ce,["description"]);Te!=null&&setValueByPath(Ee,["description"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["parameters"]);Re!=null&&setValueByPath(Ee,["parameters"],Re);const Me=getValueByPath(Ce,["parametersJsonSchema"]);Me!=null&&setValueByPath(Ee,["parametersJsonSchema"],Me);const Ue=getValueByPath(Ce,["response"]);Ue!=null&&setValueByPath(Ee,["response"],Ue);const De=getValueByPath(Ce,["responseJsonSchema"]);return De!=null&&setValueByPath(Ee,["responseJsonSchema"],De),Ee}function intervalToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToVertex$1(Te));const Be=getValueByPath(Ce,["excludeDomains"]);return Be!=null&&setValueByPath(Ee,["excludeDomains"],Be),Ee}function dynamicRetrievalConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToVertex$1(Te)),Ee}function enterpriseWebSearchToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["excludeDomains"]);return Te!=null&&setValueByPath(Ee,["excludeDomains"],Te),Ee}function apiKeyConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyString"]);return Te!=null&&setValueByPath(Ee,["apiKeyString"],Te),Ee}function authConfigToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyConfig"]);Te!=null&&setValueByPath(Ee,["apiKeyConfig"],apiKeyConfigToVertex$1(Te));const Be=getValueByPath(Ce,["authType"]);Be!=null&&setValueByPath(Ee,["authType"],Be);const Re=getValueByPath(Ce,["googleServiceAccountConfig"]);Re!=null&&setValueByPath(Ee,["googleServiceAccountConfig"],Re);const Me=getValueByPath(Ce,["httpBasicAuthConfig"]);Me!=null&&setValueByPath(Ee,["httpBasicAuthConfig"],Me);const Ue=getValueByPath(Ce,["oauthConfig"]);Ue!=null&&setValueByPath(Ee,["oauthConfig"],Ue);const De=getValueByPath(Ce,["oidcConfig"]);return De!=null&&setValueByPath(Ee,["oidcConfig"],De),Ee}function googleMapsToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["authConfig"]);return Te!=null&&setValueByPath(Ee,["authConfig"],authConfigToVertex$1(Te)),Ee}function urlContextToVertex$1(){return{}}function toolComputerUseToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let Xe=Te;Array.isArray(Xe)&&(Xe=Xe.map(We=>functionDeclarationToVertex$1(We))),setValueByPath(Ee,["functionDeclarations"],Xe)}const Be=getValueByPath(Ce,["retrieval"]);Be!=null&&setValueByPath(Ee,["retrieval"],Be);const Re=getValueByPath(Ce,["googleSearch"]);Re!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToVertex$1(Re));const Me=getValueByPath(Ce,["googleSearchRetrieval"]);Me!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToVertex$1(Me));const Ue=getValueByPath(Ce,["enterpriseWebSearch"]);Ue!=null&&setValueByPath(Ee,["enterpriseWebSearch"],enterpriseWebSearchToVertex$1(Ue));const De=getValueByPath(Ce,["googleMaps"]);De!=null&&setValueByPath(Ee,["googleMaps"],googleMapsToVertex$1(De)),getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToVertex$1());const $e=getValueByPath(Ce,["computerUse"]);$e!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToVertex$1($e));const ze=getValueByPath(Ce,["codeExecution"]);return ze!=null&&setValueByPath(Ee,["codeExecution"],ze),Ee}function sessionResumptionConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["handle"]);Te!=null&&setValueByPath(Ee,["handle"],Te);const Be=getValueByPath(Ce,["transparent"]);return Be!=null&&setValueByPath(Ee,["transparent"],Be),Ee}function audioTranscriptionConfigToVertex(){return{}}function automaticActivityDetectionToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["disabled"]);Te!=null&&setValueByPath(Ee,["disabled"],Te);const Be=getValueByPath(Ce,["startOfSpeechSensitivity"]);Be!=null&&setValueByPath(Ee,["startOfSpeechSensitivity"],Be);const Re=getValueByPath(Ce,["endOfSpeechSensitivity"]);Re!=null&&setValueByPath(Ee,["endOfSpeechSensitivity"],Re);const Me=getValueByPath(Ce,["prefixPaddingMs"]);Me!=null&&setValueByPath(Ee,["prefixPaddingMs"],Me);const Ue=getValueByPath(Ce,["silenceDurationMs"]);return Ue!=null&&setValueByPath(Ee,["silenceDurationMs"],Ue),Ee}function realtimeInputConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["automaticActivityDetection"]);Te!=null&&setValueByPath(Ee,["automaticActivityDetection"],automaticActivityDetectionToVertex(Te));const Be=getValueByPath(Ce,["activityHandling"]);Be!=null&&setValueByPath(Ee,["activityHandling"],Be);const Re=getValueByPath(Ce,["turnCoverage"]);return Re!=null&&setValueByPath(Ee,["turnCoverage"],Re),Ee}function slidingWindowToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["targetTokens"]);return Te!=null&&setValueByPath(Ee,["targetTokens"],Te),Ee}function contextWindowCompressionConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["triggerTokens"]);Te!=null&&setValueByPath(Ee,["triggerTokens"],Te);const Be=getValueByPath(Ce,["slidingWindow"]);return Be!=null&&setValueByPath(Ee,["slidingWindow"],slidingWindowToVertex(Be)),Ee}function proactivityConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["proactiveAudio"]);return Te!=null&&setValueByPath(Ee,["proactiveAudio"],Te),Ee}function liveConnectConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["generationConfig"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["setup","generationConfig"],Be);const Re=getValueByPath(Ce,["responseModalities"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["setup","generationConfig","responseModalities"],Re);const Me=getValueByPath(Ce,["temperature"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["setup","generationConfig","temperature"],Me);const Ue=getValueByPath(Ce,["topP"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["setup","generationConfig","topP"],Ue);const De=getValueByPath(Ce,["topK"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["setup","generationConfig","topK"],De);const qe=getValueByPath(Ce,["maxOutputTokens"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["setup","generationConfig","maxOutputTokens"],qe);const $e=getValueByPath(Ce,["mediaResolution"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["setup","generationConfig","mediaResolution"],$e);const ze=getValueByPath(Ce,["seed"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["setup","generationConfig","seed"],ze);const Xe=getValueByPath(Ce,["speechConfig"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["setup","generationConfig","speechConfig"],speechConfigToVertex$1(tLiveSpeechConfig(Xe)));const We=getValueByPath(Ce,["enableAffectiveDialog"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["setup","generationConfig","enableAffectiveDialog"],We);const Ge=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["setup","systemInstruction"],contentToVertex$1(tContent(Ge)));const tn=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&tn!=null){let Je=tTools(tn);Array.isArray(Je)&&(Je=Je.map(on=>toolToVertex$1(tTool(on)))),setValueByPath(Ee,["setup","tools"],Je)}const en=getValueByPath(Ce,["sessionResumption"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["setup","sessionResumption"],sessionResumptionConfigToVertex(en));const an=getValueByPath(Ce,["inputAudioTranscription"]);Ee!==void 0&&an!=null&&setValueByPath(Ee,["setup","inputAudioTranscription"],audioTranscriptionConfigToVertex());const Ye=getValueByPath(Ce,["outputAudioTranscription"]);Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["setup","outputAudioTranscription"],audioTranscriptionConfigToVertex());const Ze=getValueByPath(Ce,["realtimeInputConfig"]);Ee!==void 0&&Ze!=null&&setValueByPath(Ee,["setup","realtimeInputConfig"],realtimeInputConfigToVertex(Ze));const St=getValueByPath(Ce,["contextWindowCompression"]);Ee!==void 0&&St!=null&&setValueByPath(Ee,["setup","contextWindowCompression"],contextWindowCompressionConfigToVertex(St));const Qe=getValueByPath(Ce,["proactivity"]);return Ee!==void 0&&Qe!=null&&setValueByPath(Ee,["setup","proactivity"],proactivityConfigToVertex(Qe)),Te}function liveConnectParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["setup","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],liveConnectConfigToVertex(Re,Te)),Te}function activityStartToVertex(){return{}}function activityEndToVertex(){return{}}function liveSendRealtimeInputParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["media"]);Te!=null&&setValueByPath(Ee,["mediaChunks"],tBlobs(Te));const Be=getValueByPath(Ce,["audio"]);Be!=null&&setValueByPath(Ee,["audio"],tAudioBlob(Be));const Re=getValueByPath(Ce,["audioStreamEnd"]);Re!=null&&setValueByPath(Ee,["audioStreamEnd"],Re);const Me=getValueByPath(Ce,["video"]);Me!=null&&setValueByPath(Ee,["video"],tImageBlob(Me));const Ue=getValueByPath(Ce,["text"]);return Ue!=null&&setValueByPath(Ee,["text"],Ue),getValueByPath(Ce,["activityStart"])!=null&&setValueByPath(Ee,["activityStart"],activityStartToVertex()),getValueByPath(Ce,["activityEnd"])!=null&&setValueByPath(Ee,["activityEnd"],activityEndToVertex()),Ee}function liveServerSetupCompleteFromMldev(){return{}}function videoMetadataFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataFromMldev$1(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobFromMldev$1(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataFromMldev$1(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partFromMldev$1(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function transcriptionFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["text"]);Te!=null&&setValueByPath(Ee,["text"],Te);const Be=getValueByPath(Ce,["finished"]);return Be!=null&&setValueByPath(Ee,["finished"],Be),Ee}function urlMetadataFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["retrievedUrl"]);Te!=null&&setValueByPath(Ee,["retrievedUrl"],Te);const Be=getValueByPath(Ce,["urlRetrievalStatus"]);return Be!=null&&setValueByPath(Ee,["urlRetrievalStatus"],Be),Ee}function urlContextMetadataFromMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["urlMetadata"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>urlMetadataFromMldev$1(Re))),setValueByPath(Ee,["urlMetadata"],Be)}return Ee}function liveServerContentFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["modelTurn"]);Te!=null&&setValueByPath(Ee,["modelTurn"],contentFromMldev$1(Te));const Be=getValueByPath(Ce,["turnComplete"]);Be!=null&&setValueByPath(Ee,["turnComplete"],Be);const Re=getValueByPath(Ce,["interrupted"]);Re!=null&&setValueByPath(Ee,["interrupted"],Re);const Me=getValueByPath(Ce,["groundingMetadata"]);Me!=null&&setValueByPath(Ee,["groundingMetadata"],Me);const Ue=getValueByPath(Ce,["generationComplete"]);Ue!=null&&setValueByPath(Ee,["generationComplete"],Ue);const De=getValueByPath(Ce,["inputTranscription"]);De!=null&&setValueByPath(Ee,["inputTranscription"],transcriptionFromMldev(De));const qe=getValueByPath(Ce,["outputTranscription"]);qe!=null&&setValueByPath(Ee,["outputTranscription"],transcriptionFromMldev(qe));const $e=getValueByPath(Ce,["urlContextMetadata"]);return $e!=null&&setValueByPath(Ee,["urlContextMetadata"],urlContextMetadataFromMldev$1($e)),Ee}function functionCallFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["id"]);Te!=null&&setValueByPath(Ee,["id"],Te);const Be=getValueByPath(Ce,["args"]);Be!=null&&setValueByPath(Ee,["args"],Be);const Re=getValueByPath(Ce,["name"]);return Re!=null&&setValueByPath(Ee,["name"],Re),Ee}function liveServerToolCallFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["functionCalls"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>functionCallFromMldev(Re))),setValueByPath(Ee,["functionCalls"],Be)}return Ee}function liveServerToolCallCancellationFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["ids"]);return Te!=null&&setValueByPath(Ee,["ids"],Te),Ee}function modalityTokenCountFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["modality"]);Te!=null&&setValueByPath(Ee,["modality"],Te);const Be=getValueByPath(Ce,["tokenCount"]);return Be!=null&&setValueByPath(Ee,["tokenCount"],Be),Ee}function usageMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["promptTokenCount"]);Te!=null&&setValueByPath(Ee,["promptTokenCount"],Te);const Be=getValueByPath(Ce,["cachedContentTokenCount"]);Be!=null&&setValueByPath(Ee,["cachedContentTokenCount"],Be);const Re=getValueByPath(Ce,["responseTokenCount"]);Re!=null&&setValueByPath(Ee,["responseTokenCount"],Re);const Me=getValueByPath(Ce,["toolUsePromptTokenCount"]);Me!=null&&setValueByPath(Ee,["toolUsePromptTokenCount"],Me);const Ue=getValueByPath(Ce,["thoughtsTokenCount"]);Ue!=null&&setValueByPath(Ee,["thoughtsTokenCount"],Ue);const De=getValueByPath(Ce,["totalTokenCount"]);De!=null&&setValueByPath(Ee,["totalTokenCount"],De);const qe=getValueByPath(Ce,["promptTokensDetails"]);if(qe!=null){let We=qe;Array.isArray(We)&&(We=We.map(Ge=>modalityTokenCountFromMldev(Ge))),setValueByPath(Ee,["promptTokensDetails"],We)}const $e=getValueByPath(Ce,["cacheTokensDetails"]);if($e!=null){let We=$e;Array.isArray(We)&&(We=We.map(Ge=>modalityTokenCountFromMldev(Ge))),setValueByPath(Ee,["cacheTokensDetails"],We)}const ze=getValueByPath(Ce,["responseTokensDetails"]);if(ze!=null){let We=ze;Array.isArray(We)&&(We=We.map(Ge=>modalityTokenCountFromMldev(Ge))),setValueByPath(Ee,["responseTokensDetails"],We)}const Xe=getValueByPath(Ce,["toolUsePromptTokensDetails"]);if(Xe!=null){let We=Xe;Array.isArray(We)&&(We=We.map(Ge=>modalityTokenCountFromMldev(Ge))),setValueByPath(Ee,["toolUsePromptTokensDetails"],We)}return Ee}function liveServerGoAwayFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["timeLeft"]);return Te!=null&&setValueByPath(Ee,["timeLeft"],Te),Ee}function liveServerSessionResumptionUpdateFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["newHandle"]);Te!=null&&setValueByPath(Ee,["newHandle"],Te);const Be=getValueByPath(Ce,["resumable"]);Be!=null&&setValueByPath(Ee,["resumable"],Be);const Re=getValueByPath(Ce,["lastConsumedClientMessageIndex"]);return Re!=null&&setValueByPath(Ee,["lastConsumedClientMessageIndex"],Re),Ee}function liveServerMessageFromMldev(Ce){const Ee={};getValueByPath(Ce,["setupComplete"])!=null&&setValueByPath(Ee,["setupComplete"],liveServerSetupCompleteFromMldev());const Be=getValueByPath(Ce,["serverContent"]);Be!=null&&setValueByPath(Ee,["serverContent"],liveServerContentFromMldev(Be));const Re=getValueByPath(Ce,["toolCall"]);Re!=null&&setValueByPath(Ee,["toolCall"],liveServerToolCallFromMldev(Re));const Me=getValueByPath(Ce,["toolCallCancellation"]);Me!=null&&setValueByPath(Ee,["toolCallCancellation"],liveServerToolCallCancellationFromMldev(Me));const Ue=getValueByPath(Ce,["usageMetadata"]);Ue!=null&&setValueByPath(Ee,["usageMetadata"],usageMetadataFromMldev(Ue));const De=getValueByPath(Ce,["goAway"]);De!=null&&setValueByPath(Ee,["goAway"],liveServerGoAwayFromMldev(De));const qe=getValueByPath(Ce,["sessionResumptionUpdate"]);return qe!=null&&setValueByPath(Ee,["sessionResumptionUpdate"],liveServerSessionResumptionUpdateFromMldev(qe)),Ee}function liveMusicServerSetupCompleteFromMldev(){return{}}function weightedPromptFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["text"]);Te!=null&&setValueByPath(Ee,["text"],Te);const Be=getValueByPath(Ce,["weight"]);return Be!=null&&setValueByPath(Ee,["weight"],Be),Ee}function liveMusicClientContentFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["weightedPrompts"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>weightedPromptFromMldev(Re))),setValueByPath(Ee,["weightedPrompts"],Be)}return Ee}function liveMusicGenerationConfigFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["temperature"]);Te!=null&&setValueByPath(Ee,["temperature"],Te);const Be=getValueByPath(Ce,["topK"]);Be!=null&&setValueByPath(Ee,["topK"],Be);const Re=getValueByPath(Ce,["seed"]);Re!=null&&setValueByPath(Ee,["seed"],Re);const Me=getValueByPath(Ce,["guidance"]);Me!=null&&setValueByPath(Ee,["guidance"],Me);const Ue=getValueByPath(Ce,["bpm"]);Ue!=null&&setValueByPath(Ee,["bpm"],Ue);const De=getValueByPath(Ce,["density"]);De!=null&&setValueByPath(Ee,["density"],De);const qe=getValueByPath(Ce,["brightness"]);qe!=null&&setValueByPath(Ee,["brightness"],qe);const $e=getValueByPath(Ce,["scale"]);$e!=null&&setValueByPath(Ee,["scale"],$e);const ze=getValueByPath(Ce,["muteBass"]);ze!=null&&setValueByPath(Ee,["muteBass"],ze);const Xe=getValueByPath(Ce,["muteDrums"]);Xe!=null&&setValueByPath(Ee,["muteDrums"],Xe);const We=getValueByPath(Ce,["onlyBassAndDrums"]);We!=null&&setValueByPath(Ee,["onlyBassAndDrums"],We);const Ge=getValueByPath(Ce,["musicGenerationMode"]);return Ge!=null&&setValueByPath(Ee,["musicGenerationMode"],Ge),Ee}function liveMusicSourceMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["clientContent"]);Te!=null&&setValueByPath(Ee,["clientContent"],liveMusicClientContentFromMldev(Te));const Be=getValueByPath(Ce,["musicGenerationConfig"]);return Be!=null&&setValueByPath(Ee,["musicGenerationConfig"],liveMusicGenerationConfigFromMldev(Be)),Ee}function audioChunkFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);Be!=null&&setValueByPath(Ee,["mimeType"],Be);const Re=getValueByPath(Ce,["sourceMetadata"]);return Re!=null&&setValueByPath(Ee,["sourceMetadata"],liveMusicSourceMetadataFromMldev(Re)),Ee}function liveMusicServerContentFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["audioChunks"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>audioChunkFromMldev(Re))),setValueByPath(Ee,["audioChunks"],Be)}return Ee}function liveMusicFilteredPromptFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["text"]);Te!=null&&setValueByPath(Ee,["text"],Te);const Be=getValueByPath(Ce,["filteredReason"]);return Be!=null&&setValueByPath(Ee,["filteredReason"],Be),Ee}function liveMusicServerMessageFromMldev(Ce){const Ee={};getValueByPath(Ce,["setupComplete"])!=null&&setValueByPath(Ee,["setupComplete"],liveMusicServerSetupCompleteFromMldev());const Be=getValueByPath(Ce,["serverContent"]);Be!=null&&setValueByPath(Ee,["serverContent"],liveMusicServerContentFromMldev(Be));const Re=getValueByPath(Ce,["filteredPrompt"]);return Re!=null&&setValueByPath(Ee,["filteredPrompt"],liveMusicFilteredPromptFromMldev(Re)),Ee}function liveServerSetupCompleteFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sessionId"]);return Te!=null&&setValueByPath(Ee,["sessionId"],Te),Ee}function videoMetadataFromVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobFromVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["data"]);Be!=null&&setValueByPath(Ee,["data"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function fileDataFromVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["fileUri"]);Be!=null&&setValueByPath(Ee,["fileUri"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function partFromVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataFromVertex$1(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobFromVertex$1(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataFromVertex$1(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentFromVertex$1(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partFromVertex$1(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function transcriptionFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["text"]);Te!=null&&setValueByPath(Ee,["text"],Te);const Be=getValueByPath(Ce,["finished"]);return Be!=null&&setValueByPath(Ee,["finished"],Be),Ee}function liveServerContentFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["modelTurn"]);Te!=null&&setValueByPath(Ee,["modelTurn"],contentFromVertex$1(Te));const Be=getValueByPath(Ce,["turnComplete"]);Be!=null&&setValueByPath(Ee,["turnComplete"],Be);const Re=getValueByPath(Ce,["interrupted"]);Re!=null&&setValueByPath(Ee,["interrupted"],Re);const Me=getValueByPath(Ce,["groundingMetadata"]);Me!=null&&setValueByPath(Ee,["groundingMetadata"],Me);const Ue=getValueByPath(Ce,["generationComplete"]);Ue!=null&&setValueByPath(Ee,["generationComplete"],Ue);const De=getValueByPath(Ce,["inputTranscription"]);De!=null&&setValueByPath(Ee,["inputTranscription"],transcriptionFromVertex(De));const qe=getValueByPath(Ce,["outputTranscription"]);return qe!=null&&setValueByPath(Ee,["outputTranscription"],transcriptionFromVertex(qe)),Ee}function functionCallFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["args"]);Te!=null&&setValueByPath(Ee,["args"],Te);const Be=getValueByPath(Ce,["name"]);return Be!=null&&setValueByPath(Ee,["name"],Be),Ee}function liveServerToolCallFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["functionCalls"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>functionCallFromVertex(Re))),setValueByPath(Ee,["functionCalls"],Be)}return Ee}function liveServerToolCallCancellationFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["ids"]);return Te!=null&&setValueByPath(Ee,["ids"],Te),Ee}function modalityTokenCountFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["modality"]);Te!=null&&setValueByPath(Ee,["modality"],Te);const Be=getValueByPath(Ce,["tokenCount"]);return Be!=null&&setValueByPath(Ee,["tokenCount"],Be),Ee}function usageMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["promptTokenCount"]);Te!=null&&setValueByPath(Ee,["promptTokenCount"],Te);const Be=getValueByPath(Ce,["cachedContentTokenCount"]);Be!=null&&setValueByPath(Ee,["cachedContentTokenCount"],Be);const Re=getValueByPath(Ce,["candidatesTokenCount"]);Re!=null&&setValueByPath(Ee,["responseTokenCount"],Re);const Me=getValueByPath(Ce,["toolUsePromptTokenCount"]);Me!=null&&setValueByPath(Ee,["toolUsePromptTokenCount"],Me);const Ue=getValueByPath(Ce,["thoughtsTokenCount"]);Ue!=null&&setValueByPath(Ee,["thoughtsTokenCount"],Ue);const De=getValueByPath(Ce,["totalTokenCount"]);De!=null&&setValueByPath(Ee,["totalTokenCount"],De);const qe=getValueByPath(Ce,["promptTokensDetails"]);if(qe!=null){let Ge=qe;Array.isArray(Ge)&&(Ge=Ge.map(tn=>modalityTokenCountFromVertex(tn))),setValueByPath(Ee,["promptTokensDetails"],Ge)}const $e=getValueByPath(Ce,["cacheTokensDetails"]);if($e!=null){let Ge=$e;Array.isArray(Ge)&&(Ge=Ge.map(tn=>modalityTokenCountFromVertex(tn))),setValueByPath(Ee,["cacheTokensDetails"],Ge)}const ze=getValueByPath(Ce,["candidatesTokensDetails"]);if(ze!=null){let Ge=ze;Array.isArray(Ge)&&(Ge=Ge.map(tn=>modalityTokenCountFromVertex(tn))),setValueByPath(Ee,["responseTokensDetails"],Ge)}const Xe=getValueByPath(Ce,["toolUsePromptTokensDetails"]);if(Xe!=null){let Ge=Xe;Array.isArray(Ge)&&(Ge=Ge.map(tn=>modalityTokenCountFromVertex(tn))),setValueByPath(Ee,["toolUsePromptTokensDetails"],Ge)}const We=getValueByPath(Ce,["trafficType"]);return We!=null&&setValueByPath(Ee,["trafficType"],We),Ee}function liveServerGoAwayFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["timeLeft"]);return Te!=null&&setValueByPath(Ee,["timeLeft"],Te),Ee}function liveServerSessionResumptionUpdateFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["newHandle"]);Te!=null&&setValueByPath(Ee,["newHandle"],Te);const Be=getValueByPath(Ce,["resumable"]);Be!=null&&setValueByPath(Ee,["resumable"],Be);const Re=getValueByPath(Ce,["lastConsumedClientMessageIndex"]);return Re!=null&&setValueByPath(Ee,["lastConsumedClientMessageIndex"],Re),Ee}function liveServerMessageFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["setupComplete"]);Te!=null&&setValueByPath(Ee,["setupComplete"],liveServerSetupCompleteFromVertex(Te));const Be=getValueByPath(Ce,["serverContent"]);Be!=null&&setValueByPath(Ee,["serverContent"],liveServerContentFromVertex(Be));const Re=getValueByPath(Ce,["toolCall"]);Re!=null&&setValueByPath(Ee,["toolCall"],liveServerToolCallFromVertex(Re));const Me=getValueByPath(Ce,["toolCallCancellation"]);Me!=null&&setValueByPath(Ee,["toolCallCancellation"],liveServerToolCallCancellationFromVertex(Me));const Ue=getValueByPath(Ce,["usageMetadata"]);Ue!=null&&setValueByPath(Ee,["usageMetadata"],usageMetadataFromVertex(Ue));const De=getValueByPath(Ce,["goAway"]);De!=null&&setValueByPath(Ee,["goAway"],liveServerGoAwayFromVertex(De));const qe=getValueByPath(Ce,["sessionResumptionUpdate"]);return qe!=null&&setValueByPath(Ee,["sessionResumptionUpdate"],liveServerSessionResumptionUpdateFromVertex(qe)),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function videoMetadataToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToMldev$1(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataToMldev$1(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToMldev$1(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToMldev$1(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToMldev$1(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToMldev$1(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function schemaToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["anyOf"]);Te!=null&&setValueByPath(Ee,["anyOf"],Te);const Be=getValueByPath(Ce,["default"]);Be!=null&&setValueByPath(Ee,["default"],Be);const Re=getValueByPath(Ce,["description"]);Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["enum"]);Me!=null&&setValueByPath(Ee,["enum"],Me);const Ue=getValueByPath(Ce,["example"]);Ue!=null&&setValueByPath(Ee,["example"],Ue);const De=getValueByPath(Ce,["format"]);De!=null&&setValueByPath(Ee,["format"],De);const qe=getValueByPath(Ce,["items"]);qe!=null&&setValueByPath(Ee,["items"],qe);const $e=getValueByPath(Ce,["maxItems"]);$e!=null&&setValueByPath(Ee,["maxItems"],$e);const ze=getValueByPath(Ce,["maxLength"]);ze!=null&&setValueByPath(Ee,["maxLength"],ze);const Xe=getValueByPath(Ce,["maxProperties"]);Xe!=null&&setValueByPath(Ee,["maxProperties"],Xe);const We=getValueByPath(Ce,["maximum"]);We!=null&&setValueByPath(Ee,["maximum"],We);const Ge=getValueByPath(Ce,["minItems"]);Ge!=null&&setValueByPath(Ee,["minItems"],Ge);const tn=getValueByPath(Ce,["minLength"]);tn!=null&&setValueByPath(Ee,["minLength"],tn);const en=getValueByPath(Ce,["minProperties"]);en!=null&&setValueByPath(Ee,["minProperties"],en);const an=getValueByPath(Ce,["minimum"]);an!=null&&setValueByPath(Ee,["minimum"],an);const Ye=getValueByPath(Ce,["nullable"]);Ye!=null&&setValueByPath(Ee,["nullable"],Ye);const Ze=getValueByPath(Ce,["pattern"]);Ze!=null&&setValueByPath(Ee,["pattern"],Ze);const St=getValueByPath(Ce,["properties"]);St!=null&&setValueByPath(Ee,["properties"],St);const Qe=getValueByPath(Ce,["propertyOrdering"]);Qe!=null&&setValueByPath(Ee,["propertyOrdering"],Qe);const Je=getValueByPath(Ce,["required"]);Je!=null&&setValueByPath(Ee,["required"],Je);const on=getValueByPath(Ce,["title"]);on!=null&&setValueByPath(Ee,["title"],on);const hn=getValueByPath(Ce,["type"]);return hn!=null&&setValueByPath(Ee,["type"],hn),Ee}function safetySettingToMldev(Ce){const Ee={};if(getValueByPath(Ce,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["category"]);Te!=null&&setValueByPath(Ee,["category"],Te);const Be=getValueByPath(Ce,["threshold"]);return Be!=null&&setValueByPath(Ee,["threshold"],Be),Ee}function functionDeclarationToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["behavior"]);Te!=null&&setValueByPath(Ee,["behavior"],Te);const Be=getValueByPath(Ce,["description"]);Be!=null&&setValueByPath(Ee,["description"],Be);const Re=getValueByPath(Ce,["name"]);Re!=null&&setValueByPath(Ee,["name"],Re);const Me=getValueByPath(Ce,["parameters"]);Me!=null&&setValueByPath(Ee,["parameters"],Me);const Ue=getValueByPath(Ce,["parametersJsonSchema"]);Ue!=null&&setValueByPath(Ee,["parametersJsonSchema"],Ue);const De=getValueByPath(Ce,["response"]);De!=null&&setValueByPath(Ee,["response"],De);const qe=getValueByPath(Ce,["responseJsonSchema"]);return qe!=null&&setValueByPath(Ee,["responseJsonSchema"],qe),Ee}function intervalToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);if(Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToMldev$1(Te)),getValueByPath(Ce,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return Ee}function dynamicRetrievalConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToMldev$1(Te)),Ee}function urlContextToMldev$1(){return{}}function toolComputerUseToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let qe=Te;Array.isArray(qe)&&(qe=qe.map($e=>functionDeclarationToMldev$1($e))),setValueByPath(Ee,["functionDeclarations"],qe)}if(getValueByPath(Ce,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["googleSearch"]);Be!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToMldev$1(Be));const Re=getValueByPath(Ce,["googleSearchRetrieval"]);if(Re!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToMldev$1(Re)),getValueByPath(Ce,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(getValueByPath(Ce,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToMldev$1());const Ue=getValueByPath(Ce,["computerUse"]);Ue!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToMldev$1(Ue));const De=getValueByPath(Ce,["codeExecution"]);return De!=null&&setValueByPath(Ee,["codeExecution"],De),Ee}function functionCallingConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["allowedFunctionNames"]);return Be!=null&&setValueByPath(Ee,["allowedFunctionNames"],Be),Ee}function latLngToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["latitude"]);Te!=null&&setValueByPath(Ee,["latitude"],Te);const Be=getValueByPath(Ce,["longitude"]);return Be!=null&&setValueByPath(Ee,["longitude"],Be),Ee}function retrievalConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["latLng"]);Te!=null&&setValueByPath(Ee,["latLng"],latLngToMldev(Te));const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function toolConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["functionCallingConfig"]);Te!=null&&setValueByPath(Ee,["functionCallingConfig"],functionCallingConfigToMldev(Te));const Be=getValueByPath(Ce,["retrievalConfig"]);return Be!=null&&setValueByPath(Ee,["retrievalConfig"],retrievalConfigToMldev(Be)),Ee}function prebuiltVoiceConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToMldev$1(Te)),Ee}function speakerVoiceConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["speaker"]);Te!=null&&setValueByPath(Ee,["speaker"],Te);const Be=getValueByPath(Ce,["voiceConfig"]);return Be!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$1(Be)),Ee}function multiSpeakerVoiceConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["speakerVoiceConfigs"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>speakerVoiceConfigToMldev$1(Re))),setValueByPath(Ee,["speakerVoiceConfigs"],Be)}return Ee}function speechConfigToMldev$1(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev$1(Te));const Be=getValueByPath(Ce,["multiSpeakerVoiceConfig"]);Be!=null&&setValueByPath(Ee,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev$1(Be));const Re=getValueByPath(Ce,["languageCode"]);return Re!=null&&setValueByPath(Ee,["languageCode"],Re),Ee}function thinkingConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["includeThoughts"]);Te!=null&&setValueByPath(Ee,["includeThoughts"],Te);const Be=getValueByPath(Ce,["thinkingBudget"]);return Be!=null&&setValueByPath(Ee,["thinkingBudget"],Be),Ee}function generateContentConfigToMldev(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["systemInstruction"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["systemInstruction"],contentToMldev$1(tContent(Re)));const Me=getValueByPath(Ee,["temperature"]);Me!=null&&setValueByPath(Be,["temperature"],Me);const Ue=getValueByPath(Ee,["topP"]);Ue!=null&&setValueByPath(Be,["topP"],Ue);const De=getValueByPath(Ee,["topK"]);De!=null&&setValueByPath(Be,["topK"],De);const qe=getValueByPath(Ee,["candidateCount"]);qe!=null&&setValueByPath(Be,["candidateCount"],qe);const $e=getValueByPath(Ee,["maxOutputTokens"]);$e!=null&&setValueByPath(Be,["maxOutputTokens"],$e);const ze=getValueByPath(Ee,["stopSequences"]);ze!=null&&setValueByPath(Be,["stopSequences"],ze);const Xe=getValueByPath(Ee,["responseLogprobs"]);Xe!=null&&setValueByPath(Be,["responseLogprobs"],Xe);const We=getValueByPath(Ee,["logprobs"]);We!=null&&setValueByPath(Be,["logprobs"],We);const Ge=getValueByPath(Ee,["presencePenalty"]);Ge!=null&&setValueByPath(Be,["presencePenalty"],Ge);const tn=getValueByPath(Ee,["frequencyPenalty"]);tn!=null&&setValueByPath(Be,["frequencyPenalty"],tn);const en=getValueByPath(Ee,["seed"]);en!=null&&setValueByPath(Be,["seed"],en);const an=getValueByPath(Ee,["responseMimeType"]);an!=null&&setValueByPath(Be,["responseMimeType"],an);const Ye=getValueByPath(Ee,["responseSchema"]);Ye!=null&&setValueByPath(Be,["responseSchema"],schemaToMldev(tSchema(Ye)));const Ze=getValueByPath(Ee,["responseJsonSchema"]);if(Ze!=null&&setValueByPath(Be,["responseJsonSchema"],Ze),getValueByPath(Ee,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(Ee,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const St=getValueByPath(Ee,["safetySettings"]);if(Te!==void 0&&St!=null){let Pn=St;Array.isArray(Pn)&&(Pn=Pn.map(_n=>safetySettingToMldev(_n))),setValueByPath(Te,["safetySettings"],Pn)}const Qe=getValueByPath(Ee,["tools"]);if(Te!==void 0&&Qe!=null){let Pn=tTools(Qe);Array.isArray(Pn)&&(Pn=Pn.map(_n=>toolToMldev$1(tTool(_n)))),setValueByPath(Te,["tools"],Pn)}const Je=getValueByPath(Ee,["toolConfig"]);if(Te!==void 0&&Je!=null&&setValueByPath(Te,["toolConfig"],toolConfigToMldev(Je)),getValueByPath(Ee,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const on=getValueByPath(Ee,["cachedContent"]);Te!==void 0&&on!=null&&setValueByPath(Te,["cachedContent"],tCachedContentName(Ce,on));const hn=getValueByPath(Ee,["responseModalities"]);hn!=null&&setValueByPath(Be,["responseModalities"],hn);const dn=getValueByPath(Ee,["mediaResolution"]);dn!=null&&setValueByPath(Be,["mediaResolution"],dn);const sn=getValueByPath(Ee,["speechConfig"]);if(sn!=null&&setValueByPath(Be,["speechConfig"],speechConfigToMldev$1(tSpeechConfig(sn))),getValueByPath(Ee,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const kn=getValueByPath(Ee,["thinkingConfig"]);return kn!=null&&setValueByPath(Be,["thinkingConfig"],thinkingConfigToMldev(kn)),Be}function generateContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToMldev$1(De))),setValueByPath(Te,["contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["generationConfig"],generateContentConfigToMldev(Ce,Me,Te)),Te}function embedContentConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["taskType"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["requests[]","taskType"],Be);const Re=getValueByPath(Ce,["title"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["requests[]","title"],Re);const Me=getValueByPath(Ce,["outputDimensionality"]);if(Ee!==void 0&&Me!=null&&setValueByPath(Ee,["requests[]","outputDimensionality"],Me),getValueByPath(Ce,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(getValueByPath(Ce,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return Te}function embedContentParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);Re!=null&&setValueByPath(Te,["requests[]","content"],tContentsForEmbed(Ce,Re));const Me=getValueByPath(Ee,["config"]);Me!=null&&setValueByPath(Te,["config"],embedContentConfigToMldev(Me,Te));const Ue=getValueByPath(Ee,["model"]);return Ue!==void 0&&setValueByPath(Te,["requests[]","model"],tModel(Ce,Ue)),Te}function generateImagesConfigToMldev(Ce,Ee){const Te={};if(getValueByPath(Ce,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(Ce,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["numberOfImages"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","sampleCount"],Be);const Re=getValueByPath(Ce,["aspectRatio"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","aspectRatio"],Re);const Me=getValueByPath(Ce,["guidanceScale"]);if(Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","guidanceScale"],Me),getValueByPath(Ce,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const Ue=getValueByPath(Ce,["safetyFilterLevel"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","safetySetting"],Ue);const De=getValueByPath(Ce,["personGeneration"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","personGeneration"],De);const qe=getValueByPath(Ce,["includeSafetyAttributes"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","includeSafetyAttributes"],qe);const $e=getValueByPath(Ce,["includeRaiReason"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","includeRaiReason"],$e);const ze=getValueByPath(Ce,["language"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","language"],ze);const Xe=getValueByPath(Ce,["outputMimeType"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["parameters","outputOptions","mimeType"],Xe);const We=getValueByPath(Ce,["outputCompressionQuality"]);if(Ee!==void 0&&We!=null&&setValueByPath(Ee,["parameters","outputOptions","compressionQuality"],We),getValueByPath(Ce,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const Ge=getValueByPath(Ce,["imageSize"]);if(Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["parameters","sampleImageSize"],Ge),getValueByPath(Ce,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return Te}function generateImagesParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["prompt"]);Re!=null&&setValueByPath(Te,["instances[0]","prompt"],Re);const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],generateImagesConfigToMldev(Me,Te)),Te}function getModelParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","name"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function listModelsConfigToMldev(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["pageSize"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["_query","pageSize"],Re);const Me=getValueByPath(Ee,["pageToken"]);Te!==void 0&&Me!=null&&setValueByPath(Te,["_query","pageToken"],Me);const Ue=getValueByPath(Ee,["filter"]);Te!==void 0&&Ue!=null&&setValueByPath(Te,["_query","filter"],Ue);const De=getValueByPath(Ee,["queryBase"]);return Te!==void 0&&De!=null&&setValueByPath(Te,["_url","models_url"],tModelsUrl(Ce,De)),Be}function listModelsParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["config"]);return Be!=null&&setValueByPath(Te,["config"],listModelsConfigToMldev(Ce,Be,Te)),Te}function updateModelConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["displayName"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["description"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["defaultCheckpointId"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["defaultCheckpointId"],Me),Te}function updateModelParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","name"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],updateModelConfigToMldev(Re,Te)),Te}function deleteModelParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","name"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function countTokensConfigToMldev(Ce){const Ee={};if(getValueByPath(Ce,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(getValueByPath(Ce,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(getValueByPath(Ce,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return Ee}function countTokensParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToMldev$1(De))),setValueByPath(Te,["contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],countTokensConfigToMldev(Me)),Te}function imageToMldev(Ce){const Ee={};if(getValueByPath(Ce,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["imageBytes"]);Te!=null&&setValueByPath(Ee,["bytesBase64Encoded"],tBytes(Te));const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function generateVideosSourceToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["prompt"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["instances[0]","prompt"],Be);const Re=getValueByPath(Ce,["image"]);if(Ee!==void 0&&Re!=null&&setValueByPath(Ee,["instances[0]","image"],imageToMldev(Re)),getValueByPath(Ce,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return Te}function generateVideosConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["numberOfVideos"]);if(Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","sampleCount"],Be),getValueByPath(Ce,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(Ce,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const Re=getValueByPath(Ce,["durationSeconds"]);if(Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","durationSeconds"],Re),getValueByPath(Ce,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const Me=getValueByPath(Ce,["aspectRatio"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","aspectRatio"],Me);const Ue=getValueByPath(Ce,["resolution"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","resolution"],Ue);const De=getValueByPath(Ce,["personGeneration"]);if(Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","personGeneration"],De),getValueByPath(Ce,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const qe=getValueByPath(Ce,["negativePrompt"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","negativePrompt"],qe);const $e=getValueByPath(Ce,["enhancePrompt"]);if(Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","enhancePrompt"],$e),getValueByPath(Ce,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(getValueByPath(Ce,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(getValueByPath(Ce,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(getValueByPath(Ce,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return Te}function generateVideosParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["prompt"]);Re!=null&&setValueByPath(Te,["instances[0]","prompt"],Re);const Me=getValueByPath(Ee,["image"]);if(Me!=null&&setValueByPath(Te,["instances[0]","image"],imageToMldev(Me)),getValueByPath(Ee,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const Ue=getValueByPath(Ee,["source"]);Ue!=null&&setValueByPath(Te,["config"],generateVideosSourceToMldev(Ue,Te));const De=getValueByPath(Ee,["config"]);return De!=null&&setValueByPath(Te,["config"],generateVideosConfigToMldev(De,Te)),Te}function videoMetadataToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["data"]);Be!=null&&setValueByPath(Ee,["data"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function fileDataToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["fileUri"]);Be!=null&&setValueByPath(Ee,["fileUri"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function partToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToVertex(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToVertex(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToVertex(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToVertex(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function schemaToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["anyOf"]);Te!=null&&setValueByPath(Ee,["anyOf"],Te);const Be=getValueByPath(Ce,["default"]);Be!=null&&setValueByPath(Ee,["default"],Be);const Re=getValueByPath(Ce,["description"]);Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["enum"]);Me!=null&&setValueByPath(Ee,["enum"],Me);const Ue=getValueByPath(Ce,["example"]);Ue!=null&&setValueByPath(Ee,["example"],Ue);const De=getValueByPath(Ce,["format"]);De!=null&&setValueByPath(Ee,["format"],De);const qe=getValueByPath(Ce,["items"]);qe!=null&&setValueByPath(Ee,["items"],qe);const $e=getValueByPath(Ce,["maxItems"]);$e!=null&&setValueByPath(Ee,["maxItems"],$e);const ze=getValueByPath(Ce,["maxLength"]);ze!=null&&setValueByPath(Ee,["maxLength"],ze);const Xe=getValueByPath(Ce,["maxProperties"]);Xe!=null&&setValueByPath(Ee,["maxProperties"],Xe);const We=getValueByPath(Ce,["maximum"]);We!=null&&setValueByPath(Ee,["maximum"],We);const Ge=getValueByPath(Ce,["minItems"]);Ge!=null&&setValueByPath(Ee,["minItems"],Ge);const tn=getValueByPath(Ce,["minLength"]);tn!=null&&setValueByPath(Ee,["minLength"],tn);const en=getValueByPath(Ce,["minProperties"]);en!=null&&setValueByPath(Ee,["minProperties"],en);const an=getValueByPath(Ce,["minimum"]);an!=null&&setValueByPath(Ee,["minimum"],an);const Ye=getValueByPath(Ce,["nullable"]);Ye!=null&&setValueByPath(Ee,["nullable"],Ye);const Ze=getValueByPath(Ce,["pattern"]);Ze!=null&&setValueByPath(Ee,["pattern"],Ze);const St=getValueByPath(Ce,["properties"]);St!=null&&setValueByPath(Ee,["properties"],St);const Qe=getValueByPath(Ce,["propertyOrdering"]);Qe!=null&&setValueByPath(Ee,["propertyOrdering"],Qe);const Je=getValueByPath(Ce,["required"]);Je!=null&&setValueByPath(Ee,["required"],Je);const on=getValueByPath(Ce,["title"]);on!=null&&setValueByPath(Ee,["title"],on);const hn=getValueByPath(Ce,["type"]);return hn!=null&&setValueByPath(Ee,["type"],hn),Ee}function modelSelectionConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["featureSelectionPreference"]);return Te!=null&&setValueByPath(Ee,["featureSelectionPreference"],Te),Ee}function safetySettingToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["method"]);Te!=null&&setValueByPath(Ee,["method"],Te);const Be=getValueByPath(Ce,["category"]);Be!=null&&setValueByPath(Ee,["category"],Be);const Re=getValueByPath(Ce,["threshold"]);return Re!=null&&setValueByPath(Ee,["threshold"],Re),Ee}function functionDeclarationToVertex(Ce){const Ee={};if(getValueByPath(Ce,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const Te=getValueByPath(Ce,["description"]);Te!=null&&setValueByPath(Ee,["description"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["parameters"]);Re!=null&&setValueByPath(Ee,["parameters"],Re);const Me=getValueByPath(Ce,["parametersJsonSchema"]);Me!=null&&setValueByPath(Ee,["parametersJsonSchema"],Me);const Ue=getValueByPath(Ce,["response"]);Ue!=null&&setValueByPath(Ee,["response"],Ue);const De=getValueByPath(Ce,["responseJsonSchema"]);return De!=null&&setValueByPath(Ee,["responseJsonSchema"],De),Ee}function intervalToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToVertex(Te));const Be=getValueByPath(Ce,["excludeDomains"]);return Be!=null&&setValueByPath(Ee,["excludeDomains"],Be),Ee}function dynamicRetrievalConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToVertex(Te)),Ee}function enterpriseWebSearchToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["excludeDomains"]);return Te!=null&&setValueByPath(Ee,["excludeDomains"],Te),Ee}function apiKeyConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyString"]);return Te!=null&&setValueByPath(Ee,["apiKeyString"],Te),Ee}function authConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["apiKeyConfig"]);Te!=null&&setValueByPath(Ee,["apiKeyConfig"],apiKeyConfigToVertex(Te));const Be=getValueByPath(Ce,["authType"]);Be!=null&&setValueByPath(Ee,["authType"],Be);const Re=getValueByPath(Ce,["googleServiceAccountConfig"]);Re!=null&&setValueByPath(Ee,["googleServiceAccountConfig"],Re);const Me=getValueByPath(Ce,["httpBasicAuthConfig"]);Me!=null&&setValueByPath(Ee,["httpBasicAuthConfig"],Me);const Ue=getValueByPath(Ce,["oauthConfig"]);Ue!=null&&setValueByPath(Ee,["oauthConfig"],Ue);const De=getValueByPath(Ce,["oidcConfig"]);return De!=null&&setValueByPath(Ee,["oidcConfig"],De),Ee}function googleMapsToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["authConfig"]);return Te!=null&&setValueByPath(Ee,["authConfig"],authConfigToVertex(Te)),Ee}function urlContextToVertex(){return{}}function toolComputerUseToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let Xe=Te;Array.isArray(Xe)&&(Xe=Xe.map(We=>functionDeclarationToVertex(We))),setValueByPath(Ee,["functionDeclarations"],Xe)}const Be=getValueByPath(Ce,["retrieval"]);Be!=null&&setValueByPath(Ee,["retrieval"],Be);const Re=getValueByPath(Ce,["googleSearch"]);Re!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToVertex(Re));const Me=getValueByPath(Ce,["googleSearchRetrieval"]);Me!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToVertex(Me));const Ue=getValueByPath(Ce,["enterpriseWebSearch"]);Ue!=null&&setValueByPath(Ee,["enterpriseWebSearch"],enterpriseWebSearchToVertex(Ue));const De=getValueByPath(Ce,["googleMaps"]);De!=null&&setValueByPath(Ee,["googleMaps"],googleMapsToVertex(De)),getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToVertex());const $e=getValueByPath(Ce,["computerUse"]);$e!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToVertex($e));const ze=getValueByPath(Ce,["codeExecution"]);return ze!=null&&setValueByPath(Ee,["codeExecution"],ze),Ee}function functionCallingConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["allowedFunctionNames"]);return Be!=null&&setValueByPath(Ee,["allowedFunctionNames"],Be),Ee}function latLngToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["latitude"]);Te!=null&&setValueByPath(Ee,["latitude"],Te);const Be=getValueByPath(Ce,["longitude"]);return Be!=null&&setValueByPath(Ee,["longitude"],Be),Ee}function retrievalConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["latLng"]);Te!=null&&setValueByPath(Ee,["latLng"],latLngToVertex(Te));const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function toolConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["functionCallingConfig"]);Te!=null&&setValueByPath(Ee,["functionCallingConfig"],functionCallingConfigToVertex(Te));const Be=getValueByPath(Ce,["retrievalConfig"]);return Be!=null&&setValueByPath(Ee,["retrievalConfig"],retrievalConfigToVertex(Be)),Ee}function prebuiltVoiceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToVertex(Te)),Ee}function speechConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);if(Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToVertex(Te)),getValueByPath(Ce,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const Be=getValueByPath(Ce,["languageCode"]);return Be!=null&&setValueByPath(Ee,["languageCode"],Be),Ee}function thinkingConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["includeThoughts"]);Te!=null&&setValueByPath(Ee,["includeThoughts"],Te);const Be=getValueByPath(Ce,["thinkingBudget"]);return Be!=null&&setValueByPath(Ee,["thinkingBudget"],Be),Ee}function generateContentConfigToVertex(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["systemInstruction"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["systemInstruction"],contentToVertex(tContent(Re)));const Me=getValueByPath(Ee,["temperature"]);Me!=null&&setValueByPath(Be,["temperature"],Me);const Ue=getValueByPath(Ee,["topP"]);Ue!=null&&setValueByPath(Be,["topP"],Ue);const De=getValueByPath(Ee,["topK"]);De!=null&&setValueByPath(Be,["topK"],De);const qe=getValueByPath(Ee,["candidateCount"]);qe!=null&&setValueByPath(Be,["candidateCount"],qe);const $e=getValueByPath(Ee,["maxOutputTokens"]);$e!=null&&setValueByPath(Be,["maxOutputTokens"],$e);const ze=getValueByPath(Ee,["stopSequences"]);ze!=null&&setValueByPath(Be,["stopSequences"],ze);const Xe=getValueByPath(Ee,["responseLogprobs"]);Xe!=null&&setValueByPath(Be,["responseLogprobs"],Xe);const We=getValueByPath(Ee,["logprobs"]);We!=null&&setValueByPath(Be,["logprobs"],We);const Ge=getValueByPath(Ee,["presencePenalty"]);Ge!=null&&setValueByPath(Be,["presencePenalty"],Ge);const tn=getValueByPath(Ee,["frequencyPenalty"]);tn!=null&&setValueByPath(Be,["frequencyPenalty"],tn);const en=getValueByPath(Ee,["seed"]);en!=null&&setValueByPath(Be,["seed"],en);const an=getValueByPath(Ee,["responseMimeType"]);an!=null&&setValueByPath(Be,["responseMimeType"],an);const Ye=getValueByPath(Ee,["responseSchema"]);Ye!=null&&setValueByPath(Be,["responseSchema"],schemaToVertex(tSchema(Ye)));const Ze=getValueByPath(Ee,["responseJsonSchema"]);Ze!=null&&setValueByPath(Be,["responseJsonSchema"],Ze);const St=getValueByPath(Ee,["routingConfig"]);St!=null&&setValueByPath(Be,["routingConfig"],St);const Qe=getValueByPath(Ee,["modelSelectionConfig"]);Qe!=null&&setValueByPath(Be,["modelConfig"],modelSelectionConfigToVertex(Qe));const Je=getValueByPath(Ee,["safetySettings"]);if(Te!==void 0&&Je!=null){let zn=Je;Array.isArray(zn)&&(zn=zn.map(Ln=>safetySettingToVertex(Ln))),setValueByPath(Te,["safetySettings"],zn)}const on=getValueByPath(Ee,["tools"]);if(Te!==void 0&&on!=null){let zn=tTools(on);Array.isArray(zn)&&(zn=zn.map(Ln=>toolToVertex(tTool(Ln)))),setValueByPath(Te,["tools"],zn)}const hn=getValueByPath(Ee,["toolConfig"]);Te!==void 0&&hn!=null&&setValueByPath(Te,["toolConfig"],toolConfigToVertex(hn));const dn=getValueByPath(Ee,["labels"]);Te!==void 0&&dn!=null&&setValueByPath(Te,["labels"],dn);const sn=getValueByPath(Ee,["cachedContent"]);Te!==void 0&&sn!=null&&setValueByPath(Te,["cachedContent"],tCachedContentName(Ce,sn));const kn=getValueByPath(Ee,["responseModalities"]);kn!=null&&setValueByPath(Be,["responseModalities"],kn);const Pn=getValueByPath(Ee,["mediaResolution"]);Pn!=null&&setValueByPath(Be,["mediaResolution"],Pn);const _n=getValueByPath(Ee,["speechConfig"]);_n!=null&&setValueByPath(Be,["speechConfig"],speechConfigToVertex(tSpeechConfig(_n)));const Mn=getValueByPath(Ee,["audioTimestamp"]);Mn!=null&&setValueByPath(Be,["audioTimestamp"],Mn);const yn=getValueByPath(Ee,["thinkingConfig"]);return yn!=null&&setValueByPath(Be,["thinkingConfig"],thinkingConfigToVertex(yn)),Be}function generateContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToVertex(De))),setValueByPath(Te,["contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["generationConfig"],generateContentConfigToVertex(Ce,Me,Te)),Te}function embedContentConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["taskType"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["instances[]","task_type"],Be);const Re=getValueByPath(Ce,["title"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["instances[]","title"],Re);const Me=getValueByPath(Ce,["outputDimensionality"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","outputDimensionality"],Me);const Ue=getValueByPath(Ce,["mimeType"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["instances[]","mimeType"],Ue);const De=getValueByPath(Ce,["autoTruncate"]);return Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","autoTruncate"],De),Te}function embedContentParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);Re!=null&&setValueByPath(Te,["instances[]","content"],tContentsForEmbed(Ce,Re));const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],embedContentConfigToVertex(Me,Te)),Te}function generateImagesConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["outputGcsUri"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","storageUri"],Be);const Re=getValueByPath(Ce,["negativePrompt"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","negativePrompt"],Re);const Me=getValueByPath(Ce,["numberOfImages"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","sampleCount"],Me);const Ue=getValueByPath(Ce,["aspectRatio"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","aspectRatio"],Ue);const De=getValueByPath(Ce,["guidanceScale"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","guidanceScale"],De);const qe=getValueByPath(Ce,["seed"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","seed"],qe);const $e=getValueByPath(Ce,["safetyFilterLevel"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","safetySetting"],$e);const ze=getValueByPath(Ce,["personGeneration"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","personGeneration"],ze);const Xe=getValueByPath(Ce,["includeSafetyAttributes"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["parameters","includeSafetyAttributes"],Xe);const We=getValueByPath(Ce,["includeRaiReason"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["parameters","includeRaiReason"],We);const Ge=getValueByPath(Ce,["language"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["parameters","language"],Ge);const tn=getValueByPath(Ce,["outputMimeType"]);Ee!==void 0&&tn!=null&&setValueByPath(Ee,["parameters","outputOptions","mimeType"],tn);const en=getValueByPath(Ce,["outputCompressionQuality"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["parameters","outputOptions","compressionQuality"],en);const an=getValueByPath(Ce,["addWatermark"]);Ee!==void 0&&an!=null&&setValueByPath(Ee,["parameters","addWatermark"],an);const Ye=getValueByPath(Ce,["imageSize"]);Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["parameters","sampleImageSize"],Ye);const Ze=getValueByPath(Ce,["enhancePrompt"]);return Ee!==void 0&&Ze!=null&&setValueByPath(Ee,["parameters","enhancePrompt"],Ze),Te}function generateImagesParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["prompt"]);Re!=null&&setValueByPath(Te,["instances[0]","prompt"],Re);const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],generateImagesConfigToVertex(Me,Te)),Te}function imageToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["gcsUri"]);Te!=null&&setValueByPath(Ee,["gcsUri"],Te);const Be=getValueByPath(Ce,["imageBytes"]);Be!=null&&setValueByPath(Ee,["bytesBase64Encoded"],tBytes(Be));const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function maskReferenceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["maskMode"]);Te!=null&&setValueByPath(Ee,["maskMode"],Te);const Be=getValueByPath(Ce,["segmentationClasses"]);Be!=null&&setValueByPath(Ee,["maskClasses"],Be);const Re=getValueByPath(Ce,["maskDilation"]);return Re!=null&&setValueByPath(Ee,["dilation"],Re),Ee}function controlReferenceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["controlType"]);Te!=null&&setValueByPath(Ee,["controlType"],Te);const Be=getValueByPath(Ce,["enableControlImageComputation"]);return Be!=null&&setValueByPath(Ee,["computeControl"],Be),Ee}function styleReferenceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["styleDescription"]);return Te!=null&&setValueByPath(Ee,["styleDescription"],Te),Ee}function subjectReferenceConfigToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["subjectType"]);Te!=null&&setValueByPath(Ee,["subjectType"],Te);const Be=getValueByPath(Ce,["subjectDescription"]);return Be!=null&&setValueByPath(Ee,["subjectDescription"],Be),Ee}function referenceImageAPIInternalToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["referenceImage"]);Te!=null&&setValueByPath(Ee,["referenceImage"],imageToVertex(Te));const Be=getValueByPath(Ce,["referenceId"]);Be!=null&&setValueByPath(Ee,["referenceId"],Be);const Re=getValueByPath(Ce,["referenceType"]);Re!=null&&setValueByPath(Ee,["referenceType"],Re);const Me=getValueByPath(Ce,["maskImageConfig"]);Me!=null&&setValueByPath(Ee,["maskImageConfig"],maskReferenceConfigToVertex(Me));const Ue=getValueByPath(Ce,["controlImageConfig"]);Ue!=null&&setValueByPath(Ee,["controlImageConfig"],controlReferenceConfigToVertex(Ue));const De=getValueByPath(Ce,["styleImageConfig"]);De!=null&&setValueByPath(Ee,["styleImageConfig"],styleReferenceConfigToVertex(De));const qe=getValueByPath(Ce,["subjectImageConfig"]);return qe!=null&&setValueByPath(Ee,["subjectImageConfig"],subjectReferenceConfigToVertex(qe)),Ee}function editImageConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["outputGcsUri"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","storageUri"],Be);const Re=getValueByPath(Ce,["negativePrompt"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","negativePrompt"],Re);const Me=getValueByPath(Ce,["numberOfImages"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","sampleCount"],Me);const Ue=getValueByPath(Ce,["aspectRatio"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","aspectRatio"],Ue);const De=getValueByPath(Ce,["guidanceScale"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","guidanceScale"],De);const qe=getValueByPath(Ce,["seed"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","seed"],qe);const $e=getValueByPath(Ce,["safetyFilterLevel"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","safetySetting"],$e);const ze=getValueByPath(Ce,["personGeneration"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","personGeneration"],ze);const Xe=getValueByPath(Ce,["includeSafetyAttributes"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["parameters","includeSafetyAttributes"],Xe);const We=getValueByPath(Ce,["includeRaiReason"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["parameters","includeRaiReason"],We);const Ge=getValueByPath(Ce,["language"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["parameters","language"],Ge);const tn=getValueByPath(Ce,["outputMimeType"]);Ee!==void 0&&tn!=null&&setValueByPath(Ee,["parameters","outputOptions","mimeType"],tn);const en=getValueByPath(Ce,["outputCompressionQuality"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["parameters","outputOptions","compressionQuality"],en);const an=getValueByPath(Ce,["addWatermark"]);Ee!==void 0&&an!=null&&setValueByPath(Ee,["parameters","addWatermark"],an);const Ye=getValueByPath(Ce,["editMode"]);Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["parameters","editMode"],Ye);const Ze=getValueByPath(Ce,["baseSteps"]);return Ee!==void 0&&Ze!=null&&setValueByPath(Ee,["parameters","editConfig","baseSteps"],Ze),Te}function editImageParametersInternalToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["prompt"]);Re!=null&&setValueByPath(Te,["instances[0]","prompt"],Re);const Me=getValueByPath(Ee,["referenceImages"]);if(Me!=null){let De=Me;Array.isArray(De)&&(De=De.map(qe=>referenceImageAPIInternalToVertex(qe))),setValueByPath(Te,["instances[0]","referenceImages"],De)}const Ue=getValueByPath(Ee,["config"]);return Ue!=null&&setValueByPath(Te,["config"],editImageConfigToVertex(Ue,Te)),Te}function upscaleImageAPIConfigInternalToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["outputGcsUri"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","storageUri"],Be);const Re=getValueByPath(Ce,["includeRaiReason"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","includeRaiReason"],Re);const Me=getValueByPath(Ce,["outputMimeType"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","outputOptions","mimeType"],Me);const Ue=getValueByPath(Ce,["outputCompressionQuality"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","outputOptions","compressionQuality"],Ue);const De=getValueByPath(Ce,["enhanceInputImage"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","upscaleConfig","enhanceInputImage"],De);const qe=getValueByPath(Ce,["imagePreservationFactor"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","upscaleConfig","imagePreservationFactor"],qe);const $e=getValueByPath(Ce,["numberOfImages"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","sampleCount"],$e);const ze=getValueByPath(Ce,["mode"]);return Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","mode"],ze),Te}function upscaleImageAPIParametersInternalToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["image"]);Re!=null&&setValueByPath(Te,["instances[0]","image"],imageToVertex(Re));const Me=getValueByPath(Ee,["upscaleFactor"]);Me!=null&&setValueByPath(Te,["parameters","upscaleConfig","upscaleFactor"],Me);const Ue=getValueByPath(Ee,["config"]);return Ue!=null&&setValueByPath(Te,["config"],upscaleImageAPIConfigInternalToVertex(Ue,Te)),Te}function productImageToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["productImage"]);return Te!=null&&setValueByPath(Ee,["image"],imageToVertex(Te)),Ee}function recontextImageSourceToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["prompt"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["instances[0]","prompt"],Be);const Re=getValueByPath(Ce,["personImage"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["instances[0]","personImage","image"],imageToVertex(Re));const Me=getValueByPath(Ce,["productImages"]);if(Ee!==void 0&&Me!=null){let Ue=Me;Array.isArray(Ue)&&(Ue=Ue.map(De=>productImageToVertex(De))),setValueByPath(Ee,["instances[0]","productImages"],Ue)}return Te}function recontextImageConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["numberOfImages"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","sampleCount"],Be);const Re=getValueByPath(Ce,["baseSteps"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","editConfig","baseSteps"],Re);const Me=getValueByPath(Ce,["outputGcsUri"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","storageUri"],Me);const Ue=getValueByPath(Ce,["seed"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","seed"],Ue);const De=getValueByPath(Ce,["safetyFilterLevel"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","safetySetting"],De);const qe=getValueByPath(Ce,["personGeneration"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","personGeneration"],qe);const $e=getValueByPath(Ce,["addWatermark"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","addWatermark"],$e);const ze=getValueByPath(Ce,["outputMimeType"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","outputOptions","mimeType"],ze);const Xe=getValueByPath(Ce,["outputCompressionQuality"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["parameters","outputOptions","compressionQuality"],Xe);const We=getValueByPath(Ce,["enhancePrompt"]);return Ee!==void 0&&We!=null&&setValueByPath(Ee,["parameters","enhancePrompt"],We),Te}function recontextImageParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["source"]);Re!=null&&setValueByPath(Te,["config"],recontextImageSourceToVertex(Re,Te));const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],recontextImageConfigToVertex(Me,Te)),Te}function scribbleImageToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["image"]);return Te!=null&&setValueByPath(Ee,["image"],imageToVertex(Te)),Ee}function segmentImageSourceToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["prompt"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["instances[0]","prompt"],Be);const Re=getValueByPath(Ce,["image"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["instances[0]","image"],imageToVertex(Re));const Me=getValueByPath(Ce,["scribbleImage"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["instances[0]","scribble"],scribbleImageToVertex(Me)),Te}function segmentImageConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["mode"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","mode"],Be);const Re=getValueByPath(Ce,["maxPredictions"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","maxPredictions"],Re);const Me=getValueByPath(Ce,["confidenceThreshold"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","confidenceThreshold"],Me);const Ue=getValueByPath(Ce,["maskDilation"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","maskDilation"],Ue);const De=getValueByPath(Ce,["binaryColorThreshold"]);return Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","binaryColorThreshold"],De),Te}function segmentImageParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["source"]);Re!=null&&setValueByPath(Te,["config"],segmentImageSourceToVertex(Re,Te));const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],segmentImageConfigToVertex(Me,Te)),Te}function getModelParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","name"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function listModelsConfigToVertex(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["pageSize"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["_query","pageSize"],Re);const Me=getValueByPath(Ee,["pageToken"]);Te!==void 0&&Me!=null&&setValueByPath(Te,["_query","pageToken"],Me);const Ue=getValueByPath(Ee,["filter"]);Te!==void 0&&Ue!=null&&setValueByPath(Te,["_query","filter"],Ue);const De=getValueByPath(Ee,["queryBase"]);return Te!==void 0&&De!=null&&setValueByPath(Te,["_url","models_url"],tModelsUrl(Ce,De)),Be}function listModelsParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["config"]);return Be!=null&&setValueByPath(Te,["config"],listModelsConfigToVertex(Ce,Be,Te)),Te}function updateModelConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["displayName"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["description"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["defaultCheckpointId"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["defaultCheckpointId"],Me),Te}function updateModelParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],updateModelConfigToVertex(Re,Te)),Te}function deleteModelParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","name"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],Re),Te}function countTokensConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["systemInstruction"],contentToVertex(tContent(Be)));const Re=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&Re!=null){let Ue=Re;Array.isArray(Ue)&&(Ue=Ue.map(De=>toolToVertex(De))),setValueByPath(Ee,["tools"],Ue)}const Me=getValueByPath(Ce,["generationConfig"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["generationConfig"],Me),Te}function countTokensParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToVertex(De))),setValueByPath(Te,["contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],countTokensConfigToVertex(Me,Te)),Te}function computeTokensParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["contents"]);if(Re!=null){let Ue=tContents(Re);Array.isArray(Ue)&&(Ue=Ue.map(De=>contentToVertex(De))),setValueByPath(Te,["contents"],Ue)}const Me=getValueByPath(Ee,["config"]);return Me!=null&&setValueByPath(Te,["config"],Me),Te}function videoToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["uri"]);Te!=null&&setValueByPath(Ee,["gcsUri"],Te);const Be=getValueByPath(Ce,["videoBytes"]);Be!=null&&setValueByPath(Ee,["bytesBase64Encoded"],tBytes(Be));const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function generateVideosSourceToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["prompt"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["instances[0]","prompt"],Be);const Re=getValueByPath(Ce,["image"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["instances[0]","image"],imageToVertex(Re));const Me=getValueByPath(Ce,["video"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["instances[0]","video"],videoToVertex(Me)),Te}function videoGenerationReferenceImageToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["image"]);Te!=null&&setValueByPath(Ee,["image"],imageToVertex(Te));const Be=getValueByPath(Ce,["referenceType"]);return Be!=null&&setValueByPath(Ee,["referenceType"],Be),Ee}function generateVideosConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["numberOfVideos"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["parameters","sampleCount"],Be);const Re=getValueByPath(Ce,["outputGcsUri"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["parameters","storageUri"],Re);const Me=getValueByPath(Ce,["fps"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["parameters","fps"],Me);const Ue=getValueByPath(Ce,["durationSeconds"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["parameters","durationSeconds"],Ue);const De=getValueByPath(Ce,["seed"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["parameters","seed"],De);const qe=getValueByPath(Ce,["aspectRatio"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["parameters","aspectRatio"],qe);const $e=getValueByPath(Ce,["resolution"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["parameters","resolution"],$e);const ze=getValueByPath(Ce,["personGeneration"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["parameters","personGeneration"],ze);const Xe=getValueByPath(Ce,["pubsubTopic"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["parameters","pubsubTopic"],Xe);const We=getValueByPath(Ce,["negativePrompt"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["parameters","negativePrompt"],We);const Ge=getValueByPath(Ce,["enhancePrompt"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["parameters","enhancePrompt"],Ge);const tn=getValueByPath(Ce,["generateAudio"]);Ee!==void 0&&tn!=null&&setValueByPath(Ee,["parameters","generateAudio"],tn);const en=getValueByPath(Ce,["lastFrame"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["instances[0]","lastFrame"],imageToVertex(en));const an=getValueByPath(Ce,["referenceImages"]);if(Ee!==void 0&&an!=null){let Ze=an;Array.isArray(Ze)&&(Ze=Ze.map(St=>videoGenerationReferenceImageToVertex(St))),setValueByPath(Ee,["instances[0]","referenceImages"],Ze)}const Ye=getValueByPath(Ce,["compressionQuality"]);return Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["parameters","compressionQuality"],Ye),Te}function generateVideosParametersToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["_url","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["prompt"]);Re!=null&&setValueByPath(Te,["instances[0]","prompt"],Re);const Me=getValueByPath(Ee,["image"]);Me!=null&&setValueByPath(Te,["instances[0]","image"],imageToVertex(Me));const Ue=getValueByPath(Ee,["video"]);Ue!=null&&setValueByPath(Te,["instances[0]","video"],videoToVertex(Ue));const De=getValueByPath(Ee,["source"]);De!=null&&setValueByPath(Te,["config"],generateVideosSourceToVertex(De,Te));const qe=getValueByPath(Ee,["config"]);return qe!=null&&setValueByPath(Te,["config"],generateVideosConfigToVertex(qe,Te)),Te}function videoMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataFromMldev(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobFromMldev(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataFromMldev(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partFromMldev(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function citationMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["citationSources"]);return Te!=null&&setValueByPath(Ee,["citations"],Te),Ee}function urlMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["retrievedUrl"]);Te!=null&&setValueByPath(Ee,["retrievedUrl"],Te);const Be=getValueByPath(Ce,["urlRetrievalStatus"]);return Be!=null&&setValueByPath(Ee,["urlRetrievalStatus"],Be),Ee}function urlContextMetadataFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["urlMetadata"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>urlMetadataFromMldev(Re))),setValueByPath(Ee,["urlMetadata"],Be)}return Ee}function candidateFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["content"]);Te!=null&&setValueByPath(Ee,["content"],contentFromMldev(Te));const Be=getValueByPath(Ce,["citationMetadata"]);Be!=null&&setValueByPath(Ee,["citationMetadata"],citationMetadataFromMldev(Be));const Re=getValueByPath(Ce,["tokenCount"]);Re!=null&&setValueByPath(Ee,["tokenCount"],Re);const Me=getValueByPath(Ce,["finishReason"]);Me!=null&&setValueByPath(Ee,["finishReason"],Me);const Ue=getValueByPath(Ce,["urlContextMetadata"]);Ue!=null&&setValueByPath(Ee,["urlContextMetadata"],urlContextMetadataFromMldev(Ue));const De=getValueByPath(Ce,["avgLogprobs"]);De!=null&&setValueByPath(Ee,["avgLogprobs"],De);const qe=getValueByPath(Ce,["groundingMetadata"]);qe!=null&&setValueByPath(Ee,["groundingMetadata"],qe);const $e=getValueByPath(Ce,["index"]);$e!=null&&setValueByPath(Ee,["index"],$e);const ze=getValueByPath(Ce,["logprobsResult"]);ze!=null&&setValueByPath(Ee,["logprobsResult"],ze);const Xe=getValueByPath(Ce,["safetyRatings"]);return Xe!=null&&setValueByPath(Ee,["safetyRatings"],Xe),Ee}function generateContentResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["candidates"]);if(Be!=null){let qe=Be;Array.isArray(qe)&&(qe=qe.map($e=>candidateFromMldev($e))),setValueByPath(Ee,["candidates"],qe)}const Re=getValueByPath(Ce,["modelVersion"]);Re!=null&&setValueByPath(Ee,["modelVersion"],Re);const Me=getValueByPath(Ce,["promptFeedback"]);Me!=null&&setValueByPath(Ee,["promptFeedback"],Me);const Ue=getValueByPath(Ce,["responseId"]);Ue!=null&&setValueByPath(Ee,["responseId"],Ue);const De=getValueByPath(Ce,["usageMetadata"]);return De!=null&&setValueByPath(Ee,["usageMetadata"],De),Ee}function contentEmbeddingFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["values"]);return Te!=null&&setValueByPath(Ee,["values"],Te),Ee}function embedContentMetadataFromMldev(){return{}}function embedContentResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["embeddings"]);if(Be!=null){let Me=Be;Array.isArray(Me)&&(Me=Me.map(Ue=>contentEmbeddingFromMldev(Ue))),setValueByPath(Ee,["embeddings"],Me)}return getValueByPath(Ce,["metadata"])!=null&&setValueByPath(Ee,["metadata"],embedContentMetadataFromMldev()),Ee}function imageFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["bytesBase64Encoded"]);Te!=null&&setValueByPath(Ee,["imageBytes"],tBytes(Te));const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function safetyAttributesFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["safetyAttributes","categories"]);Te!=null&&setValueByPath(Ee,["categories"],Te);const Be=getValueByPath(Ce,["safetyAttributes","scores"]);Be!=null&&setValueByPath(Ee,["scores"],Be);const Re=getValueByPath(Ce,["contentType"]);return Re!=null&&setValueByPath(Ee,["contentType"],Re),Ee}function generatedImageFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["_self"]);Te!=null&&setValueByPath(Ee,["image"],imageFromMldev(Te));const Be=getValueByPath(Ce,["raiFilteredReason"]);Be!=null&&setValueByPath(Ee,["raiFilteredReason"],Be);const Re=getValueByPath(Ce,["_self"]);return Re!=null&&setValueByPath(Ee,["safetyAttributes"],safetyAttributesFromMldev(Re)),Ee}function generateImagesResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["predictions"]);if(Be!=null){let Me=Be;Array.isArray(Me)&&(Me=Me.map(Ue=>generatedImageFromMldev(Ue))),setValueByPath(Ee,["generatedImages"],Me)}const Re=getValueByPath(Ce,["positivePromptSafetyAttributes"]);return Re!=null&&setValueByPath(Ee,["positivePromptSafetyAttributes"],safetyAttributesFromMldev(Re)),Ee}function tunedModelInfoFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["baseModel"]);Te!=null&&setValueByPath(Ee,["baseModel"],Te);const Be=getValueByPath(Ce,["createTime"]);Be!=null&&setValueByPath(Ee,["createTime"],Be);const Re=getValueByPath(Ce,["updateTime"]);return Re!=null&&setValueByPath(Ee,["updateTime"],Re),Ee}function modelFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["description"]);Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["version"]);Me!=null&&setValueByPath(Ee,["version"],Me);const Ue=getValueByPath(Ce,["_self"]);Ue!=null&&setValueByPath(Ee,["tunedModelInfo"],tunedModelInfoFromMldev(Ue));const De=getValueByPath(Ce,["inputTokenLimit"]);De!=null&&setValueByPath(Ee,["inputTokenLimit"],De);const qe=getValueByPath(Ce,["outputTokenLimit"]);qe!=null&&setValueByPath(Ee,["outputTokenLimit"],qe);const $e=getValueByPath(Ce,["supportedGenerationMethods"]);return $e!=null&&setValueByPath(Ee,["supportedActions"],$e),Ee}function listModelsResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["_self"]);if(Re!=null){let Me=tExtractModels(Re);Array.isArray(Me)&&(Me=Me.map(Ue=>modelFromMldev(Ue))),setValueByPath(Ee,["models"],Me)}return Ee}function deleteModelResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}function countTokensResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["totalTokens"]);Be!=null&&setValueByPath(Ee,["totalTokens"],Be);const Re=getValueByPath(Ce,["cachedContentTokenCount"]);return Re!=null&&setValueByPath(Ee,["cachedContentTokenCount"],Re),Ee}function videoFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["video","uri"]);Te!=null&&setValueByPath(Ee,["uri"],Te);const Be=getValueByPath(Ce,["video","encodedVideo"]);Be!=null&&setValueByPath(Ee,["videoBytes"],tBytes(Be));const Re=getValueByPath(Ce,["encoding"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function generatedVideoFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["_self"]);return Te!=null&&setValueByPath(Ee,["video"],videoFromMldev(Te)),Ee}function generateVideosResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["generatedSamples"]);if(Te!=null){let Me=Te;Array.isArray(Me)&&(Me=Me.map(Ue=>generatedVideoFromMldev(Ue))),setValueByPath(Ee,["generatedVideos"],Me)}const Be=getValueByPath(Ce,["raiMediaFilteredCount"]);Be!=null&&setValueByPath(Ee,["raiMediaFilteredCount"],Be);const Re=getValueByPath(Ce,["raiMediaFilteredReasons"]);return Re!=null&&setValueByPath(Ee,["raiMediaFilteredReasons"],Re),Ee}function generateVideosOperationFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["metadata"]);Be!=null&&setValueByPath(Ee,["metadata"],Be);const Re=getValueByPath(Ce,["done"]);Re!=null&&setValueByPath(Ee,["done"],Re);const Me=getValueByPath(Ce,["error"]);Me!=null&&setValueByPath(Ee,["error"],Me);const Ue=getValueByPath(Ce,["response","generateVideoResponse"]);return Ue!=null&&setValueByPath(Ee,["response"],generateVideosResponseFromMldev(Ue)),Ee}function videoMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["data"]);Be!=null&&setValueByPath(Ee,["data"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function fileDataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["displayName"]);Te!=null&&setValueByPath(Ee,["displayName"],Te);const Be=getValueByPath(Ce,["fileUri"]);Be!=null&&setValueByPath(Ee,["fileUri"],Be);const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function partFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataFromVertex(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobFromVertex(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataFromVertex(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partFromVertex(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function citationMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["citations"]);return Te!=null&&setValueByPath(Ee,["citations"],Te),Ee}function urlMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["retrievedUrl"]);Te!=null&&setValueByPath(Ee,["retrievedUrl"],Te);const Be=getValueByPath(Ce,["urlRetrievalStatus"]);return Be!=null&&setValueByPath(Ee,["urlRetrievalStatus"],Be),Ee}function urlContextMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["urlMetadata"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>urlMetadataFromVertex(Re))),setValueByPath(Ee,["urlMetadata"],Be)}return Ee}function candidateFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["content"]);Te!=null&&setValueByPath(Ee,["content"],contentFromVertex(Te));const Be=getValueByPath(Ce,["citationMetadata"]);Be!=null&&setValueByPath(Ee,["citationMetadata"],citationMetadataFromVertex(Be));const Re=getValueByPath(Ce,["finishMessage"]);Re!=null&&setValueByPath(Ee,["finishMessage"],Re);const Me=getValueByPath(Ce,["finishReason"]);Me!=null&&setValueByPath(Ee,["finishReason"],Me);const Ue=getValueByPath(Ce,["urlContextMetadata"]);Ue!=null&&setValueByPath(Ee,["urlContextMetadata"],urlContextMetadataFromVertex(Ue));const De=getValueByPath(Ce,["avgLogprobs"]);De!=null&&setValueByPath(Ee,["avgLogprobs"],De);const qe=getValueByPath(Ce,["groundingMetadata"]);qe!=null&&setValueByPath(Ee,["groundingMetadata"],qe);const $e=getValueByPath(Ce,["index"]);$e!=null&&setValueByPath(Ee,["index"],$e);const ze=getValueByPath(Ce,["logprobsResult"]);ze!=null&&setValueByPath(Ee,["logprobsResult"],ze);const Xe=getValueByPath(Ce,["safetyRatings"]);return Xe!=null&&setValueByPath(Ee,["safetyRatings"],Xe),Ee}function generateContentResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["candidates"]);if(Be!=null){let $e=Be;Array.isArray($e)&&($e=$e.map(ze=>candidateFromVertex(ze))),setValueByPath(Ee,["candidates"],$e)}const Re=getValueByPath(Ce,["createTime"]);Re!=null&&setValueByPath(Ee,["createTime"],Re);const Me=getValueByPath(Ce,["modelVersion"]);Me!=null&&setValueByPath(Ee,["modelVersion"],Me);const Ue=getValueByPath(Ce,["promptFeedback"]);Ue!=null&&setValueByPath(Ee,["promptFeedback"],Ue);const De=getValueByPath(Ce,["responseId"]);De!=null&&setValueByPath(Ee,["responseId"],De);const qe=getValueByPath(Ce,["usageMetadata"]);return qe!=null&&setValueByPath(Ee,["usageMetadata"],qe),Ee}function contentEmbeddingStatisticsFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["truncated"]);Te!=null&&setValueByPath(Ee,["truncated"],Te);const Be=getValueByPath(Ce,["token_count"]);return Be!=null&&setValueByPath(Ee,["tokenCount"],Be),Ee}function contentEmbeddingFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["values"]);Te!=null&&setValueByPath(Ee,["values"],Te);const Be=getValueByPath(Ce,["statistics"]);return Be!=null&&setValueByPath(Ee,["statistics"],contentEmbeddingStatisticsFromVertex(Be)),Ee}function embedContentMetadataFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["billableCharacterCount"]);return Te!=null&&setValueByPath(Ee,["billableCharacterCount"],Te),Ee}function embedContentResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["predictions[]","embeddings"]);if(Be!=null){let Me=Be;Array.isArray(Me)&&(Me=Me.map(Ue=>contentEmbeddingFromVertex(Ue))),setValueByPath(Ee,["embeddings"],Me)}const Re=getValueByPath(Ce,["metadata"]);return Re!=null&&setValueByPath(Ee,["metadata"],embedContentMetadataFromVertex(Re)),Ee}function imageFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["gcsUri"]);Te!=null&&setValueByPath(Ee,["gcsUri"],Te);const Be=getValueByPath(Ce,["bytesBase64Encoded"]);Be!=null&&setValueByPath(Ee,["imageBytes"],tBytes(Be));const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function safetyAttributesFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["safetyAttributes","categories"]);Te!=null&&setValueByPath(Ee,["categories"],Te);const Be=getValueByPath(Ce,["safetyAttributes","scores"]);Be!=null&&setValueByPath(Ee,["scores"],Be);const Re=getValueByPath(Ce,["contentType"]);return Re!=null&&setValueByPath(Ee,["contentType"],Re),Ee}function generatedImageFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["_self"]);Te!=null&&setValueByPath(Ee,["image"],imageFromVertex(Te));const Be=getValueByPath(Ce,["raiFilteredReason"]);Be!=null&&setValueByPath(Ee,["raiFilteredReason"],Be);const Re=getValueByPath(Ce,["_self"]);Re!=null&&setValueByPath(Ee,["safetyAttributes"],safetyAttributesFromVertex(Re));const Me=getValueByPath(Ce,["prompt"]);return Me!=null&&setValueByPath(Ee,["enhancedPrompt"],Me),Ee}function generateImagesResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["predictions"]);if(Be!=null){let Me=Be;Array.isArray(Me)&&(Me=Me.map(Ue=>generatedImageFromVertex(Ue))),setValueByPath(Ee,["generatedImages"],Me)}const Re=getValueByPath(Ce,["positivePromptSafetyAttributes"]);return Re!=null&&setValueByPath(Ee,["positivePromptSafetyAttributes"],safetyAttributesFromVertex(Re)),Ee}function editImageResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["predictions"]);if(Be!=null){let Re=Be;Array.isArray(Re)&&(Re=Re.map(Me=>generatedImageFromVertex(Me))),setValueByPath(Ee,["generatedImages"],Re)}return Ee}function upscaleImageResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["predictions"]);if(Be!=null){let Re=Be;Array.isArray(Re)&&(Re=Re.map(Me=>generatedImageFromVertex(Me))),setValueByPath(Ee,["generatedImages"],Re)}return Ee}function recontextImageResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["predictions"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>generatedImageFromVertex(Re))),setValueByPath(Ee,["generatedImages"],Be)}return Ee}function entityLabelFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["label"]);Te!=null&&setValueByPath(Ee,["label"],Te);const Be=getValueByPath(Ce,["score"]);return Be!=null&&setValueByPath(Ee,["score"],Be),Ee}function generatedImageMaskFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["_self"]);Te!=null&&setValueByPath(Ee,["mask"],imageFromVertex(Te));const Be=getValueByPath(Ce,["labels"]);if(Be!=null){let Re=Be;Array.isArray(Re)&&(Re=Re.map(Me=>entityLabelFromVertex(Me))),setValueByPath(Ee,["labels"],Re)}return Ee}function segmentImageResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["predictions"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>generatedImageMaskFromVertex(Re))),setValueByPath(Ee,["generatedMasks"],Be)}return Ee}function endpointFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["endpoint"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["deployedModelId"]);return Be!=null&&setValueByPath(Ee,["deployedModelId"],Be),Ee}function tunedModelInfoFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["labels","google-vertex-llm-tuning-base-model-id"]);Te!=null&&setValueByPath(Ee,["baseModel"],Te);const Be=getValueByPath(Ce,["createTime"]);Be!=null&&setValueByPath(Ee,["createTime"],Be);const Re=getValueByPath(Ce,["updateTime"]);return Re!=null&&setValueByPath(Ee,["updateTime"],Re),Ee}function checkpointFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["checkpointId"]);Te!=null&&setValueByPath(Ee,["checkpointId"],Te);const Be=getValueByPath(Ce,["epoch"]);Be!=null&&setValueByPath(Ee,["epoch"],Be);const Re=getValueByPath(Ce,["step"]);return Re!=null&&setValueByPath(Ee,["step"],Re),Ee}function modelFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["displayName"]);Be!=null&&setValueByPath(Ee,["displayName"],Be);const Re=getValueByPath(Ce,["description"]);Re!=null&&setValueByPath(Ee,["description"],Re);const Me=getValueByPath(Ce,["versionId"]);Me!=null&&setValueByPath(Ee,["version"],Me);const Ue=getValueByPath(Ce,["deployedModels"]);if(Ue!=null){let Xe=Ue;Array.isArray(Xe)&&(Xe=Xe.map(We=>endpointFromVertex(We))),setValueByPath(Ee,["endpoints"],Xe)}const De=getValueByPath(Ce,["labels"]);De!=null&&setValueByPath(Ee,["labels"],De);const qe=getValueByPath(Ce,["_self"]);qe!=null&&setValueByPath(Ee,["tunedModelInfo"],tunedModelInfoFromVertex(qe));const $e=getValueByPath(Ce,["defaultCheckpointId"]);$e!=null&&setValueByPath(Ee,["defaultCheckpointId"],$e);const ze=getValueByPath(Ce,["checkpoints"]);if(ze!=null){let Xe=ze;Array.isArray(Xe)&&(Xe=Xe.map(We=>checkpointFromVertex(We))),setValueByPath(Ee,["checkpoints"],Xe)}return Ee}function listModelsResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["_self"]);if(Re!=null){let Me=tExtractModels(Re);Array.isArray(Me)&&(Me=Me.map(Ue=>modelFromVertex(Ue))),setValueByPath(Ee,["models"],Me)}return Ee}function deleteModelResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);return Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te),Ee}function countTokensResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["totalTokens"]);return Be!=null&&setValueByPath(Ee,["totalTokens"],Be),Ee}function computeTokensResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["tokensInfo"]);return Be!=null&&setValueByPath(Ee,["tokensInfo"],Be),Ee}function videoFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["gcsUri"]);Te!=null&&setValueByPath(Ee,["uri"],Te);const Be=getValueByPath(Ce,["bytesBase64Encoded"]);Be!=null&&setValueByPath(Ee,["videoBytes"],tBytes(Be));const Re=getValueByPath(Ce,["mimeType"]);return Re!=null&&setValueByPath(Ee,["mimeType"],Re),Ee}function generatedVideoFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["_self"]);return Te!=null&&setValueByPath(Ee,["video"],videoFromVertex(Te)),Ee}function generateVideosResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["videos"]);if(Te!=null){let Me=Te;Array.isArray(Me)&&(Me=Me.map(Ue=>generatedVideoFromVertex(Ue))),setValueByPath(Ee,["generatedVideos"],Me)}const Be=getValueByPath(Ce,["raiMediaFilteredCount"]);Be!=null&&setValueByPath(Ee,["raiMediaFilteredCount"],Be);const Re=getValueByPath(Ce,["raiMediaFilteredReasons"]);return Re!=null&&setValueByPath(Ee,["raiMediaFilteredReasons"],Re),Ee}function generateVideosOperationFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["name"],Te);const Be=getValueByPath(Ce,["metadata"]);Be!=null&&setValueByPath(Ee,["metadata"],Be);const Re=getValueByPath(Ce,["done"]);Re!=null&&setValueByPath(Ee,["done"],Re);const Me=getValueByPath(Ce,["error"]);Me!=null&&setValueByPath(Ee,["error"],Me);const Ue=getValueByPath(Ce,["response"]);return Ue!=null&&setValueByPath(Ee,["response"],generateVideosResponseFromVertex(Ue)),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CONTENT_TYPE_HEADER="Content-Type",SERVER_TIMEOUT_HEADER="X-Server-Timeout",USER_AGENT_HEADER="User-Agent",GOOGLE_API_CLIENT_HEADER="x-goog-api-client",SDK_VERSION="1.17.0",LIBRARY_LABEL=`google-genai-sdk/${SDK_VERSION}`,VERTEX_AI_API_DEFAULT_VERSION="v1beta1",GOOGLE_AI_API_DEFAULT_VERSION="v1beta",responseLineRE=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ApiClient{constructor(Ee){var Te,Be;this.clientOptions=Object.assign(Object.assign({},Ee),{project:Ee.project,location:Ee.location,apiKey:Ee.apiKey,vertexai:Ee.vertexai});const Re={};this.clientOptions.vertexai?(Re.apiVersion=(Te=this.clientOptions.apiVersion)!==null&&Te!==void 0?Te:VERTEX_AI_API_DEFAULT_VERSION,Re.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(Re.apiVersion=(Be=this.clientOptions.apiVersion)!==null&&Be!==void 0?Be:GOOGLE_AI_API_DEFAULT_VERSION,Re.baseUrl="https://generativelanguage.googleapis.com/"),Re.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=Re,Ee.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(Re,Ee.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var Ee;return(Ee=this.clientOptions.vertexai)!==null&&Ee!==void 0?Ee:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(Ee){if(!Ee||Ee.baseUrl===void 0||Ee.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const Be=[Ee.baseUrl.endsWith("/")?Ee.baseUrl.slice(0,-1):Ee.baseUrl];return Ee.apiVersion&&Ee.apiVersion!==""&&Be.push(Ee.apiVersion),Be.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const Ee=this.getBaseUrl(),Te=new URL(Ee);return Te.protocol=Te.protocol=="http:"?"ws":"wss",Te.toString()}setBaseUrl(Ee){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=Ee;else throw new Error("HTTP options are not correctly set.")}constructUrl(Ee,Te,Be){const Re=[this.getRequestUrlInternal(Te)];return Be&&Re.push(this.getBaseResourcePath()),Ee!==""&&Re.push(Ee),new URL(`${Re.join("/")}`)}shouldPrependVertexProjectPath(Ee){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||Ee.path.startsWith("projects/")||Ee.httpMethod==="GET"&&Ee.path.startsWith("publishers/google/models"))}async request(Ee){let Te=this.clientOptions.httpOptions;Ee.httpOptions&&(Te=this.patchHttpOptions(this.clientOptions.httpOptions,Ee.httpOptions));const Be=this.shouldPrependVertexProjectPath(Ee),Re=this.constructUrl(Ee.path,Te,Be);if(Ee.queryParams)for(const[Ue,De]of Object.entries(Ee.queryParams))Re.searchParams.append(Ue,String(De));let Me={};if(Ee.httpMethod==="GET"){if(Ee.body&&Ee.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else Me.body=Ee.body;return Me=await this.includeExtraHttpOptionsToRequestInit(Me,Te,Ee.abortSignal),this.unaryApiCall(Re,Me,Ee.httpMethod)}patchHttpOptions(Ee,Te){const Be=JSON.parse(JSON.stringify(Ee));for(const[Re,Me]of Object.entries(Te))typeof Me=="object"?Be[Re]=Object.assign(Object.assign({},Be[Re]),Me):Me!==void 0&&(Be[Re]=Me);return Be}async requestStream(Ee){let Te=this.clientOptions.httpOptions;Ee.httpOptions&&(Te=this.patchHttpOptions(this.clientOptions.httpOptions,Ee.httpOptions));const Be=this.shouldPrependVertexProjectPath(Ee),Re=this.constructUrl(Ee.path,Te,Be);(!Re.searchParams.has("alt")||Re.searchParams.get("alt")!=="sse")&&Re.searchParams.set("alt","sse");let Me={};return Me.body=Ee.body,Me=await this.includeExtraHttpOptionsToRequestInit(Me,Te,Ee.abortSignal),this.streamApiCall(Re,Me,Ee.httpMethod)}async includeExtraHttpOptionsToRequestInit(Ee,Te,Be){if(Te&&Te.timeout||Be){const Re=new AbortController,Me=Re.signal;if(Te.timeout&&(Te==null?void 0:Te.timeout)>0){const Ue=setTimeout(()=>Re.abort(),Te.timeout);Ue&&typeof Ue.unref=="function"&&Ue.unref()}Be&&Be.addEventListener("abort",()=>{Re.abort()}),Ee.signal=Me}return Te&&Te.extraBody!==null&&includeExtraBodyToRequestInit(Ee,Te.extraBody),Ee.headers=await this.getHeadersInternal(Te),Ee}async unaryApiCall(Ee,Te,Be){return this.apiCall(Ee.toString(),Object.assign(Object.assign({},Te),{method:Be})).then(async Re=>(await throwErrorIfNotOK(Re),new HttpResponse(Re))).catch(Re=>{throw Re instanceof Error?Re:new Error(JSON.stringify(Re))})}async streamApiCall(Ee,Te,Be){return this.apiCall(Ee.toString(),Object.assign(Object.assign({},Te),{method:Be})).then(async Re=>(await throwErrorIfNotOK(Re),this.processStreamResponse(Re))).catch(Re=>{throw Re instanceof Error?Re:new Error(JSON.stringify(Re))})}processStreamResponse(Ee){var Te;return __asyncGenerator(this,arguments,function*(){const Re=(Te=Ee==null?void 0:Ee.body)===null||Te===void 0?void 0:Te.getReader(),Me=new TextDecoder("utf-8");if(!Re)throw new Error("Response body is empty");try{let Ue="";for(;;){const{done:De,value:qe}=yield __await(Re.read());if(De){if(Ue.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const $e=Me.decode(qe,{stream:!0});try{const Xe=JSON.parse($e);if("error"in Xe){const We=JSON.parse(JSON.stringify(Xe.error)),Ge=We.status,tn=We.code,en=`got status: ${Ge}. ${JSON.stringify(Xe)}`;if(tn>=400&&tn<600)throw new ApiError({message:en,status:tn})}}catch(Xe){if(Xe.name==="ApiError")throw Xe}Ue+=$e;let ze=Ue.match(responseLineRE);for(;ze;){const Xe=ze[1];try{const We=new Response(Xe,{headers:Ee==null?void 0:Ee.headers,status:Ee==null?void 0:Ee.status,statusText:Ee==null?void 0:Ee.statusText});yield yield __await(new HttpResponse(We)),Ue=Ue.slice(ze[0].length),ze=Ue.match(responseLineRE)}catch(We){throw new Error(`exception parsing stream chunk ${Xe}. ${We}`)}}}}finally{Re.releaseLock()}})}async apiCall(Ee,Te){return fetch(Ee,Te).catch(Be=>{throw new Error(`exception ${Be} sending request`)})}getDefaultHeaders(){const Ee={},Te=LIBRARY_LABEL+" "+this.clientOptions.userAgentExtra;return Ee[USER_AGENT_HEADER]=Te,Ee[GOOGLE_API_CLIENT_HEADER]=Te,Ee[CONTENT_TYPE_HEADER]="application/json",Ee}async getHeadersInternal(Ee){const Te=new Headers;if(Ee&&Ee.headers){for(const[Be,Re]of Object.entries(Ee.headers))Te.append(Be,Re);Ee.timeout&&Ee.timeout>0&&Te.append(SERVER_TIMEOUT_HEADER,String(Math.ceil(Ee.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(Te),Te}async uploadFile(Ee,Te){var Be;const Re={};Te!=null&&(Re.mimeType=Te.mimeType,Re.name=Te.name,Re.displayName=Te.displayName),Re.name&&!Re.name.startsWith("files/")&&(Re.name=`files/${Re.name}`);const Me=this.clientOptions.uploader,Ue=await Me.stat(Ee);Re.sizeBytes=String(Ue.size);const De=(Be=Te==null?void 0:Te.mimeType)!==null&&Be!==void 0?Be:Ue.type;if(De===void 0||De==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");Re.mimeType=De;const qe=await this.fetchUploadUrl(Re,Te);return Me.upload(Ee,qe,this)}async downloadFile(Ee){await this.clientOptions.downloader.download(Ee,this)}async fetchUploadUrl(Ee,Te){var Be;let Re={};Te!=null&&Te.httpOptions?Re=Te.httpOptions:Re={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${Ee.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${Ee.mimeType}`}};const Me={file:Ee},Ue=await this.request({path:formatMap("upload/v1beta/files",Me._url),body:JSON.stringify(Me),httpMethod:"POST",httpOptions:Re});if(!Ue||!(Ue!=null&&Ue.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const De=(Be=Ue==null?void 0:Ue.headers)===null||Be===void 0?void 0:Be["x-goog-upload-url"];if(De===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return De}}async function throwErrorIfNotOK(Ce){var Ee;if(Ce===void 0)throw new Error("response is undefined");if(!Ce.ok){const Te=Ce.status;let Be;!((Ee=Ce.headers.get("content-type"))===null||Ee===void 0)&&Ee.includes("application/json")?Be=await Ce.json():Be={error:{message:await Ce.text(),code:Ce.status,status:Ce.statusText}};const Re=JSON.stringify(Be);throw Te>=400&&Te<600?new ApiError({message:Re,status:Te}):new Error(Re)}}function includeExtraBodyToRequestInit(Ce,Ee){if(!Ee||Object.keys(Ee).length===0)return;if(Ce.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let Te={};if(typeof Ce.body=="string"&&Ce.body.length>0)try{const Me=JSON.parse(Ce.body);if(typeof Me=="object"&&Me!==null&&!Array.isArray(Me))Te=Me;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function Be(Me,Ue){const De=Object.assign({},Me);for(const qe in Ue)if(Object.prototype.hasOwnProperty.call(Ue,qe)){const $e=Ue[qe],ze=De[qe];$e&&typeof $e=="object"&&!Array.isArray($e)&&ze&&typeof ze=="object"&&!Array.isArray(ze)?De[qe]=Be(ze,$e):(ze&&$e&&typeof ze!=typeof $e&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${qe}". Original type: ${typeof ze}, New type: ${typeof $e}. Overwriting.`),De[qe]=$e)}return De}const Re=Be(Te,Ee);Ce.body=JSON.stringify(Re)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MCP_LABEL="mcp_used/unknown";let hasMcpToolUsageFromMcpToTool=!1;function hasMcpToolUsage(Ce){for(const Ee of Ce)if(isMcpCallableTool(Ee)||typeof Ee=="object"&&"inputSchema"in Ee)return!0;return hasMcpToolUsageFromMcpToTool}function setMcpUsageHeader(Ce){var Ee;const Te=(Ee=Ce[GOOGLE_API_CLIENT_HEADER])!==null&&Ee!==void 0?Ee:"";Ce[GOOGLE_API_CLIENT_HEADER]=(Te+` ${MCP_LABEL}`).trimStart()}function isMcpCallableTool(Ce){return Ce!==null&&typeof Ce=="object"&&Ce instanceof McpCallableTool}function listAllTools(Ce,Ee=100){return __asyncGenerator(this,arguments,function*(){let Be,Re=0;for(;Re<Ee;){const Me=yield __await(Ce.listTools({cursor:Be}));for(const Ue of Me.tools)yield yield __await(Ue),Re++;if(!Me.nextCursor)break;Be=Me.nextCursor}})}class McpCallableTool{constructor(Ee=[],Te){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=Ee,this.config=Te}static create(Ee,Te){return new McpCallableTool(Ee,Te)}async initialize(){var Ee,Te,Be,Re;if(this.mcpTools.length>0)return;const Me={},Ue=[];for(const ze of this.mcpClients)try{for(var De=!0,qe=(Te=void 0,__asyncValues(listAllTools(ze))),$e;$e=await qe.next(),Ee=$e.done,!Ee;De=!0){Re=$e.value,De=!1;const Xe=Re;Ue.push(Xe);const We=Xe.name;if(Me[We])throw new Error(`Duplicate function name ${We} found in MCP tools. Please ensure function names are unique.`);Me[We]=ze}}catch(Xe){Te={error:Xe}}finally{try{!De&&!Ee&&(Be=qe.return)&&await Be.call(qe)}finally{if(Te)throw Te.error}}this.mcpTools=Ue,this.functionNameToMcpClient=Me}async tool(){return await this.initialize(),mcpToolsToGeminiTool(this.mcpTools,this.config)}async callTool(Ee){await this.initialize();const Te=[];for(const Be of Ee)if(Be.name in this.functionNameToMcpClient){const Re=this.functionNameToMcpClient[Be.name];let Me;this.config.timeout&&(Me={timeout:this.config.timeout});const Ue=await Re.callTool({name:Be.name,arguments:Be.args},void 0,Me);Te.push({functionResponse:{name:Be.name,response:Ue.isError?{error:Ue}:Ue}})}return Te}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function handleWebSocketMessage$1(Ce,Ee,Te){const Be=new LiveMusicServerMessage;let Re;Te.data instanceof Blob?Re=JSON.parse(await Te.data.text()):Re=JSON.parse(Te.data);const Me=liveMusicServerMessageFromMldev(Re);Object.assign(Be,Me),Ee(Be)}class LiveMusic{constructor(Ee,Te,Be){this.apiClient=Ee,this.auth=Te,this.webSocketFactory=Be}async connect(Ee){var Te,Be;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const Re=this.apiClient.getWebsocketBaseUrl(),Me=this.apiClient.getApiVersion(),Ue=mapToHeaders$1(this.apiClient.getDefaultHeaders()),De=this.apiClient.getApiKey(),qe=`${Re}/ws/google.ai.generativelanguage.${Me}.GenerativeService.BidiGenerateMusic?key=${De}`;let $e=()=>{};const ze=new Promise(St=>{$e=St}),Xe=Ee.callbacks,We=function(){$e({})},Ge=this.apiClient,tn={onopen:We,onmessage:St=>{handleWebSocketMessage$1(Ge,Xe.onmessage,St)},onerror:(Te=Xe==null?void 0:Xe.onerror)!==null&&Te!==void 0?Te:function(St){},onclose:(Be=Xe==null?void 0:Xe.onclose)!==null&&Be!==void 0?Be:function(St){}},en=this.webSocketFactory.create(qe,headersToMap$1(Ue),tn);en.connect(),await ze;const an=tModel(this.apiClient,Ee.model),Ye=liveMusicClientSetupToMldev({model:an}),Ze=liveMusicClientMessageToMldev({setup:Ye});return en.send(JSON.stringify(Ze)),new LiveMusicSession(en,this.apiClient)}}class LiveMusicSession{constructor(Ee,Te){this.conn=Ee,this.apiClient=Te}async setWeightedPrompts(Ee){if(!Ee.weightedPrompts||Object.keys(Ee.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const Te=liveMusicSetWeightedPromptsParametersToMldev(Ee),Be=liveMusicClientContentToMldev(Te);this.conn.send(JSON.stringify({clientContent:Be}))}async setMusicGenerationConfig(Ee){Ee.musicGenerationConfig||(Ee.musicGenerationConfig={});const Te=liveMusicSetConfigParametersToMldev(Ee),Be=liveMusicClientMessageToMldev(Te);this.conn.send(JSON.stringify(Be))}sendPlaybackControl(Ee){const Te=liveMusicClientMessageToMldev({playbackControl:Ee});this.conn.send(JSON.stringify(Te))}play(){this.sendPlaybackControl(LiveMusicPlaybackControl.PLAY)}pause(){this.sendPlaybackControl(LiveMusicPlaybackControl.PAUSE)}stop(){this.sendPlaybackControl(LiveMusicPlaybackControl.STOP)}resetContext(){this.sendPlaybackControl(LiveMusicPlaybackControl.RESET_CONTEXT)}close(){this.conn.close()}}function headersToMap$1(Ce){const Ee={};return Ce.forEach((Te,Be)=>{Ee[Be]=Te}),Ee}function mapToHeaders$1(Ce){const Ee=new Headers;for(const[Te,Be]of Object.entries(Ce))Ee.append(Te,Be);return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FUNCTION_RESPONSE_REQUIRES_ID="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function handleWebSocketMessage(Ce,Ee,Te){const Be=new LiveServerMessage;let Re;Te.data instanceof Blob?Re=await Te.data.text():Te.data instanceof ArrayBuffer?Re=new TextDecoder().decode(Te.data):Re=Te.data;const Me=JSON.parse(Re);if(Ce.isVertexAI()){const Ue=liveServerMessageFromVertex(Me);Object.assign(Be,Ue)}else{const Ue=liveServerMessageFromMldev(Me);Object.assign(Be,Ue)}Ee(Be)}class Live{constructor(Ee,Te,Be){this.apiClient=Ee,this.auth=Te,this.webSocketFactory=Be,this.music=new LiveMusic(this.apiClient,this.auth,this.webSocketFactory)}async connect(Ee){var Te,Be,Re,Me,Ue,De;if(Ee.config&&Ee.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const qe=this.apiClient.getWebsocketBaseUrl(),$e=this.apiClient.getApiVersion();let ze;const Xe=this.apiClient.getHeaders();Ee.config&&Ee.config.tools&&hasMcpToolUsage(Ee.config.tools)&&setMcpUsageHeader(Xe);const We=mapToHeaders(Xe);if(this.apiClient.isVertexAI())ze=`${qe}/ws/google.cloud.aiplatform.${$e}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(We);else{const sn=this.apiClient.getApiKey();let kn="BidiGenerateContent",Pn="key";sn!=null&&sn.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),$e!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),kn="BidiGenerateContentConstrained",Pn="access_token"),ze=`${qe}/ws/google.ai.generativelanguage.${$e}.GenerativeService.${kn}?${Pn}=${sn}`}let Ge=()=>{};const tn=new Promise(sn=>{Ge=sn}),en=Ee.callbacks,an=function(){var sn;(sn=en==null?void 0:en.onopen)===null||sn===void 0||sn.call(en),Ge({})},Ye=this.apiClient,Ze={onopen:an,onmessage:sn=>{handleWebSocketMessage(Ye,en.onmessage,sn)},onerror:(Te=en==null?void 0:en.onerror)!==null&&Te!==void 0?Te:function(sn){},onclose:(Be=en==null?void 0:en.onclose)!==null&&Be!==void 0?Be:function(sn){}},St=this.webSocketFactory.create(ze,headersToMap(We),Ze);St.connect(),await tn;let Qe=tModel(this.apiClient,Ee.model);if(this.apiClient.isVertexAI()&&Qe.startsWith("publishers/")){const sn=this.apiClient.getProject(),kn=this.apiClient.getLocation();Qe=`projects/${sn}/locations/${kn}/`+Qe}let Je={};this.apiClient.isVertexAI()&&((Re=Ee.config)===null||Re===void 0?void 0:Re.responseModalities)===void 0&&(Ee.config===void 0?Ee.config={responseModalities:[Modality.AUDIO]}:Ee.config.responseModalities=[Modality.AUDIO]),!((Me=Ee.config)===null||Me===void 0)&&Me.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const on=(De=(Ue=Ee.config)===null||Ue===void 0?void 0:Ue.tools)!==null&&De!==void 0?De:[],hn=[];for(const sn of on)if(this.isCallableTool(sn)){const kn=sn;hn.push(await kn.tool())}else hn.push(sn);hn.length>0&&(Ee.config.tools=hn);const dn={model:Qe,config:Ee.config,callbacks:Ee.callbacks};return this.apiClient.isVertexAI()?Je=liveConnectParametersToVertex(this.apiClient,dn):Je=liveConnectParametersToMldev(this.apiClient,dn),delete Je.config,St.send(JSON.stringify(Je)),new Session(St,this.apiClient)}isCallableTool(Ee){return"callTool"in Ee&&typeof Ee.callTool=="function"}}const defaultLiveSendClientContentParamerters={turnComplete:!0};class Session{constructor(Ee,Te){this.conn=Ee,this.apiClient=Te}tLiveClientContent(Ee,Te){if(Te.turns!==null&&Te.turns!==void 0){let Be=[];try{Be=tContents(Te.turns),Ee.isVertexAI()?Be=Be.map(Re=>contentToVertex(Re)):Be=Be.map(Re=>contentToMldev$1(Re))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof Te.turns}'`)}return{clientContent:{turns:Be,turnComplete:Te.turnComplete}}}return{clientContent:{turnComplete:Te.turnComplete}}}tLiveClienttToolResponse(Ee,Te){let Be=[];if(Te.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(Te.functionResponses)?Be=Te.functionResponses:Be=[Te.functionResponses],Be.length===0)throw new Error("functionResponses is required.");for(const Me of Be){if(typeof Me!="object"||Me===null||!("name"in Me)||!("response"in Me))throw new Error(`Could not parse function response, type '${typeof Me}'.`);if(!Ee.isVertexAI()&&!("id"in Me))throw new Error(FUNCTION_RESPONSE_REQUIRES_ID)}return{toolResponse:{functionResponses:Be}}}sendClientContent(Ee){Ee=Object.assign(Object.assign({},defaultLiveSendClientContentParamerters),Ee);const Te=this.tLiveClientContent(this.apiClient,Ee);this.conn.send(JSON.stringify(Te))}sendRealtimeInput(Ee){let Te={};this.apiClient.isVertexAI()?Te={realtimeInput:liveSendRealtimeInputParametersToVertex(Ee)}:Te={realtimeInput:liveSendRealtimeInputParametersToMldev(Ee)},this.conn.send(JSON.stringify(Te))}sendToolResponse(Ee){if(Ee.functionResponses==null)throw new Error("Tool response parameters are required.");const Te=this.tLiveClienttToolResponse(this.apiClient,Ee);this.conn.send(JSON.stringify(Te))}close(){this.conn.close()}}function headersToMap(Ce){const Ee={};return Ce.forEach((Te,Be)=>{Ee[Be]=Te}),Ee}function mapToHeaders(Ce){const Ee=new Headers;for(const[Te,Be]of Object.entries(Ce))Ee.append(Te,Be);return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DEFAULT_MAX_REMOTE_CALLS=10;function shouldDisableAfc(Ce){var Ee,Te,Be;if(!((Ee=Ce==null?void 0:Ce.automaticFunctionCalling)===null||Ee===void 0)&&Ee.disable)return!0;let Re=!1;for(const Ue of(Te=Ce==null?void 0:Ce.tools)!==null&&Te!==void 0?Te:[])if(isCallableTool(Ue)){Re=!0;break}if(!Re)return!0;const Me=(Be=Ce==null?void 0:Ce.automaticFunctionCalling)===null||Be===void 0?void 0:Be.maximumRemoteCalls;return Me&&(Me<0||!Number.isInteger(Me))||Me==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",Me),!0):!1}function isCallableTool(Ce){return"callTool"in Ce&&typeof Ce.callTool=="function"}function hasCallableTools(Ce){var Ee,Te,Be;return(Be=(Te=(Ee=Ce.config)===null||Ee===void 0?void 0:Ee.tools)===null||Te===void 0?void 0:Te.some(Re=>isCallableTool(Re)))!==null&&Be!==void 0?Be:!1}function hasNonCallableTools(Ce){var Ee,Te,Be;return(Be=(Te=(Ee=Ce.config)===null||Ee===void 0?void 0:Ee.tools)===null||Te===void 0?void 0:Te.some(Re=>!isCallableTool(Re)))!==null&&Be!==void 0?Be:!1}function shouldAppendAfcHistory(Ce){var Ee;return!(!((Ee=Ce==null?void 0:Ce.automaticFunctionCalling)===null||Ee===void 0)&&Ee.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Models extends BaseModule{constructor(Ee){super(),this.apiClient=Ee,this.generateContent=async Te=>{var Be,Re,Me,Ue,De;const qe=await this.processParamsMaybeAddMcpUsage(Te);if(this.maybeMoveToResponseJsonSchem(Te),!hasCallableTools(Te)||shouldDisableAfc(Te.config))return await this.generateContentInternal(qe);if(hasNonCallableTools(Te))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let $e,ze;const Xe=tContents(qe.contents),We=(Me=(Re=(Be=qe.config)===null||Be===void 0?void 0:Be.automaticFunctionCalling)===null||Re===void 0?void 0:Re.maximumRemoteCalls)!==null&&Me!==void 0?Me:DEFAULT_MAX_REMOTE_CALLS;let Ge=0;for(;Ge<We&&($e=await this.generateContentInternal(qe),!(!$e.functionCalls||$e.functionCalls.length===0));){const tn=$e.candidates[0].content,en=[];for(const an of(De=(Ue=Te.config)===null||Ue===void 0?void 0:Ue.tools)!==null&&De!==void 0?De:[])if(isCallableTool(an)){const Ze=await an.callTool($e.functionCalls);en.push(...Ze)}Ge++,ze={role:"user",parts:en},qe.contents=tContents(qe.contents),qe.contents.push(tn),qe.contents.push(ze),shouldAppendAfcHistory(qe.config)&&(Xe.push(tn),Xe.push(ze))}return shouldAppendAfcHistory(qe.config)&&($e.automaticFunctionCallingHistory=Xe),$e},this.generateContentStream=async Te=>{if(this.maybeMoveToResponseJsonSchem(Te),shouldDisableAfc(Te.config)){const Be=await this.processParamsMaybeAddMcpUsage(Te);return await this.generateContentStreamInternal(Be)}else return await this.processAfcStream(Te)},this.generateImages=async Te=>await this.generateImagesInternal(Te).then(Be=>{var Re;let Me;const Ue=[];if(Be!=null&&Be.generatedImages)for(const qe of Be.generatedImages)qe&&(qe!=null&&qe.safetyAttributes)&&((Re=qe==null?void 0:qe.safetyAttributes)===null||Re===void 0?void 0:Re.contentType)==="Positive Prompt"?Me=qe==null?void 0:qe.safetyAttributes:Ue.push(qe);let De;return Me?De={generatedImages:Ue,positivePromptSafetyAttributes:Me,sdkHttpResponse:Be.sdkHttpResponse}:De={generatedImages:Ue,sdkHttpResponse:Be.sdkHttpResponse},De}),this.list=async Te=>{var Be;const Ue={config:Object.assign(Object.assign({},{queryBase:!0}),Te==null?void 0:Te.config)};if(this.apiClient.isVertexAI()&&!Ue.config.queryBase){if(!((Be=Ue.config)===null||Be===void 0)&&Be.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");Ue.config.filter="labels.tune-type:*"}return new Pager(PagedItem.PAGED_ITEM_MODELS,De=>this.listInternal(De),await this.listInternal(Ue),Ue)},this.editImage=async Te=>{const Be={model:Te.model,prompt:Te.prompt,referenceImages:[],config:Te.config};return Te.referenceImages&&Te.referenceImages&&(Be.referenceImages=Te.referenceImages.map(Re=>Re.toReferenceImageAPI())),await this.editImageInternal(Be)},this.upscaleImage=async Te=>{let Be={numberOfImages:1,mode:"upscale"};Te.config&&(Be=Object.assign(Object.assign({},Be),Te.config));const Re={model:Te.model,image:Te.image,upscaleFactor:Te.upscaleFactor,config:Be};return await this.upscaleImageInternal(Re)},this.generateVideos=async Te=>{if((Te.prompt||Te.image||Te.video)&&Te.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(Te)}}maybeMoveToResponseJsonSchem(Ee){Ee.config&&Ee.config.responseSchema&&(Ee.config.responseJsonSchema||Object.keys(Ee.config.responseSchema).includes("$schema")&&(Ee.config.responseJsonSchema=Ee.config.responseSchema,delete Ee.config.responseSchema))}async processParamsMaybeAddMcpUsage(Ee){var Te,Be,Re;const Me=(Te=Ee.config)===null||Te===void 0?void 0:Te.tools;if(!Me)return Ee;const Ue=await Promise.all(Me.map(async qe=>isCallableTool(qe)?await qe.tool():qe)),De={model:Ee.model,contents:Ee.contents,config:Object.assign(Object.assign({},Ee.config),{tools:Ue})};if(De.config.tools=Ue,Ee.config&&Ee.config.tools&&hasMcpToolUsage(Ee.config.tools)){const qe=(Re=(Be=Ee.config.httpOptions)===null||Be===void 0?void 0:Be.headers)!==null&&Re!==void 0?Re:{};let $e=Object.assign({},qe);Object.keys($e).length===0&&($e=this.apiClient.getDefaultHeaders()),setMcpUsageHeader($e),De.config.httpOptions=Object.assign(Object.assign({},Ee.config.httpOptions),{headers:$e})}return De}async initAfcToolsMap(Ee){var Te,Be,Re;const Me=new Map;for(const Ue of(Be=(Te=Ee.config)===null||Te===void 0?void 0:Te.tools)!==null&&Be!==void 0?Be:[])if(isCallableTool(Ue)){const De=Ue,qe=await De.tool();for(const $e of(Re=qe.functionDeclarations)!==null&&Re!==void 0?Re:[]){if(!$e.name)throw new Error("Function declaration name is required.");if(Me.has($e.name))throw new Error(`Duplicate tool declaration name: ${$e.name}`);Me.set($e.name,De)}}return Me}async processAfcStream(Ee){var Te,Be,Re;const Me=(Re=(Be=(Te=Ee.config)===null||Te===void 0?void 0:Te.automaticFunctionCalling)===null||Be===void 0?void 0:Be.maximumRemoteCalls)!==null&&Re!==void 0?Re:DEFAULT_MAX_REMOTE_CALLS;let Ue=!1,De=0;const qe=await this.initAfcToolsMap(Ee);return(function($e,ze,Xe){var We,Ge;return __asyncGenerator(this,arguments,function*(){for(var tn,en,an,Ye;De<Me;){Ue&&(De++,Ue=!1);const Je=yield __await($e.processParamsMaybeAddMcpUsage(Xe)),on=yield __await($e.generateContentStreamInternal(Je)),hn=[],dn=[];try{for(var Ze=!0,St=(en=void 0,__asyncValues(on)),Qe;Qe=yield __await(St.next()),tn=Qe.done,!tn;Ze=!0){Ye=Qe.value,Ze=!1;const sn=Ye;if(yield yield __await(sn),sn.candidates&&(!((We=sn.candidates[0])===null||We===void 0)&&We.content)){dn.push(sn.candidates[0].content);for(const kn of(Ge=sn.candidates[0].content.parts)!==null&&Ge!==void 0?Ge:[])if(De<Me&&kn.functionCall){if(!kn.functionCall.name)throw new Error("Function call name was not returned by the model.");if(ze.has(kn.functionCall.name)){const Pn=yield __await(ze.get(kn.functionCall.name).callTool([kn.functionCall]));hn.push(...Pn)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${ze.keys()}, mising tool: ${kn.functionCall.name}`)}}}}catch(sn){en={error:sn}}finally{try{!Ze&&!tn&&(an=St.return)&&(yield __await(an.call(St)))}finally{if(en)throw en.error}}if(hn.length>0){Ue=!0;const sn=new GenerateContentResponse;sn.candidates=[{content:{role:"user",parts:hn}}],yield yield __await(sn);const kn=[];kn.push(...dn),kn.push({role:"user",parts:hn});const Pn=tContents(Xe.contents).concat(kn);Xe.contents=Pn}else break}})})(this,qe,Ee)}async generateContentInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=generateContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:generateContent",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=generateContentResponseFromVertex(ze),We=new GenerateContentResponse;return Object.assign(We,Xe),We})}else{const $e=generateContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:generateContent",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=generateContentResponseFromMldev(ze),We=new GenerateContentResponse;return Object.assign(We,Xe),We})}}async generateContentStreamInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=generateContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:streamGenerateContent?alt=sse",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.requestStream({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}),Ue.then(function(Xe){return __asyncGenerator(this,arguments,function*(){var We,Ge,tn,en;try{for(var an=!0,Ye=__asyncValues(Xe),Ze;Ze=yield __await(Ye.next()),We=Ze.done,!We;an=!0){en=Ze.value,an=!1;const St=en,Qe=generateContentResponseFromVertex(yield __await(St.json()));Qe.sdkHttpResponse={headers:St.headers};const Je=new GenerateContentResponse;Object.assign(Je,Qe),yield yield __await(Je)}}catch(St){Ge={error:St}}finally{try{!an&&!We&&(tn=Ye.return)&&(yield __await(tn.call(Ye)))}finally{if(Ge)throw Ge.error}}})})}else{const $e=generateContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:streamGenerateContent?alt=sse",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.requestStream({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}),Ue.then(function(Xe){return __asyncGenerator(this,arguments,function*(){var We,Ge,tn,en;try{for(var an=!0,Ye=__asyncValues(Xe),Ze;Ze=yield __await(Ye.next()),We=Ze.done,!We;an=!0){en=Ze.value,an=!1;const St=en,Qe=generateContentResponseFromMldev(yield __await(St.json()));Qe.sdkHttpResponse={headers:St.headers};const Je=new GenerateContentResponse;Object.assign(Je,Qe),yield yield __await(Je)}}catch(St){Ge={error:St}}finally{try{!an&&!We&&(tn=Ye.return)&&(yield __await(tn.call(Ye)))}finally{if(Ge)throw Ge.error}}})})}}async embedContent(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=embedContentParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:predict",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=embedContentResponseFromVertex(ze),We=new EmbedContentResponse;return Object.assign(We,Xe),We})}else{const $e=embedContentParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:batchEmbedContents",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=embedContentResponseFromMldev(ze),We=new EmbedContentResponse;return Object.assign(We,Xe),We})}}async generateImagesInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=generateImagesParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:predict",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=generateImagesResponseFromVertex(ze),We=new GenerateImagesResponse;return Object.assign(We,Xe),We})}else{const $e=generateImagesParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:predict",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=generateImagesResponseFromMldev(ze),We=new GenerateImagesResponse;return Object.assign(We,Xe),We})}}async editImageInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=editImageParametersInternalToVertex(this.apiClient,Ee);return Me=formatMap("{model}:predict",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>{const $e=editImageResponseFromVertex(qe),ze=new EditImageResponse;return Object.assign(ze,$e),ze})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=upscaleImageAPIParametersInternalToVertex(this.apiClient,Ee);return Me=formatMap("{model}:predict",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>{const $e=upscaleImageResponseFromVertex(qe),ze=new UpscaleImageResponse;return Object.assign(ze,$e),ze})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=recontextImageParametersToVertex(this.apiClient,Ee);return Me=formatMap("{model}:predict",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json()),Re.then(qe=>{const $e=recontextImageResponseFromVertex(qe),ze=new RecontextImageResponse;return Object.assign(ze,$e),ze})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=segmentImageParametersToVertex(this.apiClient,Ee);return Me=formatMap("{model}:predict",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json()),Re.then(qe=>{const $e=segmentImageResponseFromVertex(qe),ze=new SegmentImageResponse;return Object.assign(ze,$e),ze})}else throw new Error("This method is only supported by the Vertex AI.")}async get(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=getModelParametersToVertex(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>modelFromVertex(ze))}else{const $e=getModelParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>modelFromMldev(ze))}}async listInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=listModelsParametersToVertex(this.apiClient,Ee);return De=formatMap("{models_url}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listModelsResponseFromVertex(ze),We=new ListModelsResponse;return Object.assign(We,Xe),We})}else{const $e=listModelsParametersToMldev(this.apiClient,Ee);return De=formatMap("{models_url}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listModelsResponseFromMldev(ze),We=new ListModelsResponse;return Object.assign(We,Xe),We})}}async update(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=updateModelParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"PATCH",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>modelFromVertex(ze))}else{const $e=updateModelParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"PATCH",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>modelFromMldev(ze))}}async delete(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=deleteModelParametersToVertex(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=deleteModelResponseFromVertex(ze),We=new DeleteModelResponse;return Object.assign(We,Xe),We})}else{const $e=deleteModelParametersToMldev(this.apiClient,Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"DELETE",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=deleteModelResponseFromMldev(ze),We=new DeleteModelResponse;return Object.assign(We,Xe),We})}}async countTokens(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=countTokensParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:countTokens",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=countTokensResponseFromVertex(ze),We=new CountTokensResponse;return Object.assign(We,Xe),We})}else{const $e=countTokensParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:countTokens",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=countTokensResponseFromMldev(ze),We=new CountTokensResponse;return Object.assign(We,Xe),We})}}async computeTokens(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=computeTokensParametersToVertex(this.apiClient,Ee);return Me=formatMap("{model}:computeTokens",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>{const $e=computeTokensResponseFromVertex(qe),ze=new ComputeTokensResponse;return Object.assign(ze,$e),ze})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=generateVideosParametersToVertex(this.apiClient,Ee);return De=formatMap("{model}:predictLongRunning",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>{const Xe=generateVideosOperationFromVertex(ze),We=new GenerateVideosOperation;return Object.assign(We,Xe),We})}else{const $e=generateVideosParametersToMldev(this.apiClient,Ee);return De=formatMap("{model}:predictLongRunning",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue.then(ze=>{const Xe=generateVideosOperationFromMldev(ze),We=new GenerateVideosOperation;return Object.assign(We,Xe),We})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getOperationParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["operationName"]);Te!=null&&setValueByPath(Ee,["_url","operationName"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function fetchPredictOperationParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["operationName"]);Te!=null&&setValueByPath(Ee,["operationName"],Te);const Be=getValueByPath(Ce,["resourceName"]);Be!=null&&setValueByPath(Ee,["_url","resourceName"],Be);const Re=getValueByPath(Ce,["config"]);return Re!=null&&setValueByPath(Ee,["config"],Re),Ee}function getOperationParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["operationName"]);Te!=null&&setValueByPath(Ee,["_url","operationName"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Operations extends BaseModule{constructor(Ee){super(),this.apiClient=Ee}async getVideosOperation(Ee){const Te=Ee.operation,Be=Ee.config;if(Te.name===void 0||Te.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const Re=Te.name.split("/operations/")[0];let Me;Be&&"httpOptions"in Be&&(Me=Be.httpOptions);const Ue=await this.fetchPredictVideosOperationInternal({operationName:Te.name,resourceName:Re,config:{httpOptions:Me}});return Te._fromAPIResponse({apiResponse:Ue,isVertexAI:!0})}else{const Re=await this.getVideosOperationInternal({operationName:Te.name,config:Be});return Te._fromAPIResponse({apiResponse:Re,isVertexAI:!1})}}async get(Ee){const Te=Ee.operation,Be=Ee.config;if(Te.name===void 0||Te.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const Re=Te.name.split("/operations/")[0];let Me;Be&&"httpOptions"in Be&&(Me=Be.httpOptions);const Ue=await this.fetchPredictVideosOperationInternal({operationName:Te.name,resourceName:Re,config:{httpOptions:Me}});return Te._fromAPIResponse({apiResponse:Ue,isVertexAI:!0})}else{const Re=await this.getVideosOperationInternal({operationName:Te.name,config:Be});return Te._fromAPIResponse({apiResponse:Re,isVertexAI:!1})}}async getVideosOperationInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=getOperationParametersToVertex(Ee);return De=formatMap("{operationName}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json()),Ue}else{const $e=getOperationParametersToMldev(Ee);return De=formatMap("{operationName}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json()),Ue}}async fetchPredictVideosOperationInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=fetchPredictOperationParametersToVertex(Ee);return Me=formatMap("{resourceName}:fetchPredictOperation",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json()),Re}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function prebuiltVoiceConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["voiceName"]);return Te!=null&&setValueByPath(Ee,["voiceName"],Te),Ee}function voiceConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["prebuiltVoiceConfig"]);return Te!=null&&setValueByPath(Ee,["prebuiltVoiceConfig"],prebuiltVoiceConfigToMldev(Te)),Ee}function speakerVoiceConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["speaker"]);Te!=null&&setValueByPath(Ee,["speaker"],Te);const Be=getValueByPath(Ce,["voiceConfig"]);return Be!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev(Be)),Ee}function multiSpeakerVoiceConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["speakerVoiceConfigs"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>speakerVoiceConfigToMldev(Re))),setValueByPath(Ee,["speakerVoiceConfigs"],Be)}return Ee}function speechConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["voiceConfig"]);Te!=null&&setValueByPath(Ee,["voiceConfig"],voiceConfigToMldev(Te));const Be=getValueByPath(Ce,["multiSpeakerVoiceConfig"]);Be!=null&&setValueByPath(Ee,["multiSpeakerVoiceConfig"],multiSpeakerVoiceConfigToMldev(Be));const Re=getValueByPath(Ce,["languageCode"]);return Re!=null&&setValueByPath(Ee,["languageCode"],Re),Ee}function videoMetadataToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["fps"]);Te!=null&&setValueByPath(Ee,["fps"],Te);const Be=getValueByPath(Ce,["endOffset"]);Be!=null&&setValueByPath(Ee,["endOffset"],Be);const Re=getValueByPath(Ce,["startOffset"]);return Re!=null&&setValueByPath(Ee,["startOffset"],Re),Ee}function blobToMldev(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["data"]);Te!=null&&setValueByPath(Ee,["data"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function fileDataToMldev(Ce){const Ee={};if(getValueByPath(Ce,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["fileUri"]);Te!=null&&setValueByPath(Ee,["fileUri"],Te);const Be=getValueByPath(Ce,["mimeType"]);return Be!=null&&setValueByPath(Ee,["mimeType"],Be),Ee}function partToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["videoMetadata"]);Te!=null&&setValueByPath(Ee,["videoMetadata"],videoMetadataToMldev(Te));const Be=getValueByPath(Ce,["thought"]);Be!=null&&setValueByPath(Ee,["thought"],Be);const Re=getValueByPath(Ce,["inlineData"]);Re!=null&&setValueByPath(Ee,["inlineData"],blobToMldev(Re));const Me=getValueByPath(Ce,["fileData"]);Me!=null&&setValueByPath(Ee,["fileData"],fileDataToMldev(Me));const Ue=getValueByPath(Ce,["thoughtSignature"]);Ue!=null&&setValueByPath(Ee,["thoughtSignature"],Ue);const De=getValueByPath(Ce,["codeExecutionResult"]);De!=null&&setValueByPath(Ee,["codeExecutionResult"],De);const qe=getValueByPath(Ce,["executableCode"]);qe!=null&&setValueByPath(Ee,["executableCode"],qe);const $e=getValueByPath(Ce,["functionCall"]);$e!=null&&setValueByPath(Ee,["functionCall"],$e);const ze=getValueByPath(Ce,["functionResponse"]);ze!=null&&setValueByPath(Ee,["functionResponse"],ze);const Xe=getValueByPath(Ce,["text"]);return Xe!=null&&setValueByPath(Ee,["text"],Xe),Ee}function contentToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["parts"]);if(Te!=null){let Re=Te;Array.isArray(Re)&&(Re=Re.map(Me=>partToMldev(Me))),setValueByPath(Ee,["parts"],Re)}const Be=getValueByPath(Ce,["role"]);return Be!=null&&setValueByPath(Ee,["role"],Be),Ee}function functionDeclarationToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["behavior"]);Te!=null&&setValueByPath(Ee,["behavior"],Te);const Be=getValueByPath(Ce,["description"]);Be!=null&&setValueByPath(Ee,["description"],Be);const Re=getValueByPath(Ce,["name"]);Re!=null&&setValueByPath(Ee,["name"],Re);const Me=getValueByPath(Ce,["parameters"]);Me!=null&&setValueByPath(Ee,["parameters"],Me);const Ue=getValueByPath(Ce,["parametersJsonSchema"]);Ue!=null&&setValueByPath(Ee,["parametersJsonSchema"],Ue);const De=getValueByPath(Ce,["response"]);De!=null&&setValueByPath(Ee,["response"],De);const qe=getValueByPath(Ce,["responseJsonSchema"]);return qe!=null&&setValueByPath(Ee,["responseJsonSchema"],qe),Ee}function intervalToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["startTime"]);Te!=null&&setValueByPath(Ee,["startTime"],Te);const Be=getValueByPath(Ce,["endTime"]);return Be!=null&&setValueByPath(Ee,["endTime"],Be),Ee}function googleSearchToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["timeRangeFilter"]);if(Te!=null&&setValueByPath(Ee,["timeRangeFilter"],intervalToMldev(Te)),getValueByPath(Ce,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return Ee}function dynamicRetrievalConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["mode"]);Te!=null&&setValueByPath(Ee,["mode"],Te);const Be=getValueByPath(Ce,["dynamicThreshold"]);return Be!=null&&setValueByPath(Ee,["dynamicThreshold"],Be),Ee}function googleSearchRetrievalToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["dynamicRetrievalConfig"]);return Te!=null&&setValueByPath(Ee,["dynamicRetrievalConfig"],dynamicRetrievalConfigToMldev(Te)),Ee}function urlContextToMldev(){return{}}function toolComputerUseToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["environment"]);return Te!=null&&setValueByPath(Ee,["environment"],Te),Ee}function toolToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["functionDeclarations"]);if(Te!=null){let qe=Te;Array.isArray(qe)&&(qe=qe.map($e=>functionDeclarationToMldev($e))),setValueByPath(Ee,["functionDeclarations"],qe)}if(getValueByPath(Ce,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["googleSearch"]);Be!=null&&setValueByPath(Ee,["googleSearch"],googleSearchToMldev(Be));const Re=getValueByPath(Ce,["googleSearchRetrieval"]);if(Re!=null&&setValueByPath(Ee,["googleSearchRetrieval"],googleSearchRetrievalToMldev(Re)),getValueByPath(Ce,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(getValueByPath(Ce,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");getValueByPath(Ce,["urlContext"])!=null&&setValueByPath(Ee,["urlContext"],urlContextToMldev());const Ue=getValueByPath(Ce,["computerUse"]);Ue!=null&&setValueByPath(Ee,["computerUse"],toolComputerUseToMldev(Ue));const De=getValueByPath(Ce,["codeExecution"]);return De!=null&&setValueByPath(Ee,["codeExecution"],De),Ee}function sessionResumptionConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["handle"]);if(Te!=null&&setValueByPath(Ee,["handle"],Te),getValueByPath(Ce,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return Ee}function audioTranscriptionConfigToMldev(){return{}}function automaticActivityDetectionToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["disabled"]);Te!=null&&setValueByPath(Ee,["disabled"],Te);const Be=getValueByPath(Ce,["startOfSpeechSensitivity"]);Be!=null&&setValueByPath(Ee,["startOfSpeechSensitivity"],Be);const Re=getValueByPath(Ce,["endOfSpeechSensitivity"]);Re!=null&&setValueByPath(Ee,["endOfSpeechSensitivity"],Re);const Me=getValueByPath(Ce,["prefixPaddingMs"]);Me!=null&&setValueByPath(Ee,["prefixPaddingMs"],Me);const Ue=getValueByPath(Ce,["silenceDurationMs"]);return Ue!=null&&setValueByPath(Ee,["silenceDurationMs"],Ue),Ee}function realtimeInputConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["automaticActivityDetection"]);Te!=null&&setValueByPath(Ee,["automaticActivityDetection"],automaticActivityDetectionToMldev(Te));const Be=getValueByPath(Ce,["activityHandling"]);Be!=null&&setValueByPath(Ee,["activityHandling"],Be);const Re=getValueByPath(Ce,["turnCoverage"]);return Re!=null&&setValueByPath(Ee,["turnCoverage"],Re),Ee}function slidingWindowToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["targetTokens"]);return Te!=null&&setValueByPath(Ee,["targetTokens"],Te),Ee}function contextWindowCompressionConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["triggerTokens"]);Te!=null&&setValueByPath(Ee,["triggerTokens"],Te);const Be=getValueByPath(Ce,["slidingWindow"]);return Be!=null&&setValueByPath(Ee,["slidingWindow"],slidingWindowToMldev(Be)),Ee}function proactivityConfigToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["proactiveAudio"]);return Te!=null&&setValueByPath(Ee,["proactiveAudio"],Te),Ee}function liveConnectConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["generationConfig"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["setup","generationConfig"],Be);const Re=getValueByPath(Ce,["responseModalities"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["setup","generationConfig","responseModalities"],Re);const Me=getValueByPath(Ce,["temperature"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["setup","generationConfig","temperature"],Me);const Ue=getValueByPath(Ce,["topP"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["setup","generationConfig","topP"],Ue);const De=getValueByPath(Ce,["topK"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["setup","generationConfig","topK"],De);const qe=getValueByPath(Ce,["maxOutputTokens"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["setup","generationConfig","maxOutputTokens"],qe);const $e=getValueByPath(Ce,["mediaResolution"]);Ee!==void 0&&$e!=null&&setValueByPath(Ee,["setup","generationConfig","mediaResolution"],$e);const ze=getValueByPath(Ce,["seed"]);Ee!==void 0&&ze!=null&&setValueByPath(Ee,["setup","generationConfig","seed"],ze);const Xe=getValueByPath(Ce,["speechConfig"]);Ee!==void 0&&Xe!=null&&setValueByPath(Ee,["setup","generationConfig","speechConfig"],speechConfigToMldev(tLiveSpeechConfig(Xe)));const We=getValueByPath(Ce,["enableAffectiveDialog"]);Ee!==void 0&&We!=null&&setValueByPath(Ee,["setup","generationConfig","enableAffectiveDialog"],We);const Ge=getValueByPath(Ce,["systemInstruction"]);Ee!==void 0&&Ge!=null&&setValueByPath(Ee,["setup","systemInstruction"],contentToMldev(tContent(Ge)));const tn=getValueByPath(Ce,["tools"]);if(Ee!==void 0&&tn!=null){let Je=tTools(tn);Array.isArray(Je)&&(Je=Je.map(on=>toolToMldev(tTool(on)))),setValueByPath(Ee,["setup","tools"],Je)}const en=getValueByPath(Ce,["sessionResumption"]);Ee!==void 0&&en!=null&&setValueByPath(Ee,["setup","sessionResumption"],sessionResumptionConfigToMldev(en));const an=getValueByPath(Ce,["inputAudioTranscription"]);Ee!==void 0&&an!=null&&setValueByPath(Ee,["setup","inputAudioTranscription"],audioTranscriptionConfigToMldev());const Ye=getValueByPath(Ce,["outputAudioTranscription"]);Ee!==void 0&&Ye!=null&&setValueByPath(Ee,["setup","outputAudioTranscription"],audioTranscriptionConfigToMldev());const Ze=getValueByPath(Ce,["realtimeInputConfig"]);Ee!==void 0&&Ze!=null&&setValueByPath(Ee,["setup","realtimeInputConfig"],realtimeInputConfigToMldev(Ze));const St=getValueByPath(Ce,["contextWindowCompression"]);Ee!==void 0&&St!=null&&setValueByPath(Ee,["setup","contextWindowCompression"],contextWindowCompressionConfigToMldev(St));const Qe=getValueByPath(Ce,["proactivity"]);return Ee!==void 0&&Qe!=null&&setValueByPath(Ee,["setup","proactivity"],proactivityConfigToMldev(Qe)),Te}function liveConnectConstraintsToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["model"]);Be!=null&&setValueByPath(Te,["setup","model"],tModel(Ce,Be));const Re=getValueByPath(Ee,["config"]);return Re!=null&&setValueByPath(Te,["config"],liveConnectConfigToMldev(Re,Te)),Te}function createAuthTokenConfigToMldev(Ce,Ee,Te){const Be={},Re=getValueByPath(Ee,["expireTime"]);Te!==void 0&&Re!=null&&setValueByPath(Te,["expireTime"],Re);const Me=getValueByPath(Ee,["newSessionExpireTime"]);Te!==void 0&&Me!=null&&setValueByPath(Te,["newSessionExpireTime"],Me);const Ue=getValueByPath(Ee,["uses"]);Te!==void 0&&Ue!=null&&setValueByPath(Te,["uses"],Ue);const De=getValueByPath(Ee,["liveConnectConstraints"]);Te!==void 0&&De!=null&&setValueByPath(Te,["bidiGenerateContentSetup"],liveConnectConstraintsToMldev(Ce,De));const qe=getValueByPath(Ee,["lockAdditionalFields"]);return Te!==void 0&&qe!=null&&setValueByPath(Te,["fieldMask"],qe),Be}function createAuthTokenParametersToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ee,["config"]);return Be!=null&&setValueByPath(Te,["config"],createAuthTokenConfigToMldev(Ce,Be,Te)),Te}function authTokenFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);return Te!=null&&setValueByPath(Ee,["name"],Te),Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getFieldMasks(Ce){const Ee=[];for(const Te in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Te)){const Be=Ce[Te];if(typeof Be=="object"&&Be!=null&&Object.keys(Be).length>0){const Re=Object.keys(Be).map(Me=>`${Te}.${Me}`);Ee.push(...Re)}else Ee.push(Te)}return Ee.join(",")}function convertBidiSetupToTokenSetup(Ce,Ee){let Te=null;const Be=Ce.bidiGenerateContentSetup;if(typeof Be=="object"&&Be!==null&&"setup"in Be){const Me=Be.setup;typeof Me=="object"&&Me!==null?(Ce.bidiGenerateContentSetup=Me,Te=Me):delete Ce.bidiGenerateContentSetup}else Be!==void 0&&delete Ce.bidiGenerateContentSetup;const Re=Ce.fieldMask;if(Te){const Me=getFieldMasks(Te);if(Array.isArray(Ee==null?void 0:Ee.lockAdditionalFields)&&(Ee==null?void 0:Ee.lockAdditionalFields.length)===0)Me?Ce.fieldMask=Me:delete Ce.fieldMask;else if(Ee!=null&&Ee.lockAdditionalFields&&Ee.lockAdditionalFields.length>0&&Re!==null&&Array.isArray(Re)&&Re.length>0){const Ue=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let De=[];Re.length>0&&(De=Re.map($e=>Ue.includes($e)?`generationConfig.${$e}`:$e));const qe=[];Me&&qe.push(Me),De.length>0&&qe.push(...De),qe.length>0?Ce.fieldMask=qe.join(","):delete Ce.fieldMask}else delete Ce.fieldMask}else Re!==null&&Array.isArray(Re)&&Re.length>0?Ce.fieldMask=Re.join(","):delete Ce.fieldMask;return Ce}class Tokens extends BaseModule{constructor(Ee){super(),this.apiClient=Ee}async create(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const De=createAuthTokenParametersToMldev(this.apiClient,Ee);Me=formatMap("auth_tokens",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query;const qe=convertBidiSetupToTokenSetup(De,Ee.config);return Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(qe),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then($e=>$e.json()),Re.then($e=>authTokenFromMldev($e))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getTuningJobParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","name"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function listTuningJobsConfigToMldev(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re);const Me=getValueByPath(Ce,["filter"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["_query","filter"],Me),Te}function listTuningJobsParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listTuningJobsConfigToMldev(Te,Ee)),Ee}function cancelTuningJobParametersToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","name"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function tuningExampleToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["textInput"]);Te!=null&&setValueByPath(Ee,["textInput"],Te);const Be=getValueByPath(Ce,["output"]);return Be!=null&&setValueByPath(Ee,["output"],Be),Ee}function tuningDatasetToMldev(Ce){const Ee={};if(getValueByPath(Ce,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(Ce,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const Te=getValueByPath(Ce,["examples"]);if(Te!=null){let Be=Te;Array.isArray(Be)&&(Be=Be.map(Re=>tuningExampleToMldev(Re))),setValueByPath(Ee,["examples","examples"],Be)}return Ee}function createTuningJobConfigToMldev(Ce,Ee){const Te={};if(getValueByPath(Ce,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const Be=getValueByPath(Ce,["tunedModelDisplayName"]);if(Ee!==void 0&&Be!=null&&setValueByPath(Ee,["displayName"],Be),getValueByPath(Ce,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const Re=getValueByPath(Ce,["epochCount"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["tuningTask","hyperparameters","epochCount"],Re);const Me=getValueByPath(Ce,["learningRateMultiplier"]);if(Me!=null&&setValueByPath(Te,["tuningTask","hyperparameters","learningRateMultiplier"],Me),getValueByPath(Ce,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(getValueByPath(Ce,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(getValueByPath(Ce,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const Ue=getValueByPath(Ce,["batchSize"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["tuningTask","hyperparameters","batchSize"],Ue);const De=getValueByPath(Ce,["learningRate"]);return Ee!==void 0&&De!=null&&setValueByPath(Ee,["tuningTask","hyperparameters","learningRate"],De),Te}function createTuningJobParametersPrivateToMldev(Ce){const Ee={},Te=getValueByPath(Ce,["baseModel"]);Te!=null&&setValueByPath(Ee,["baseModel"],Te);const Be=getValueByPath(Ce,["preTunedModel"]);Be!=null&&setValueByPath(Ee,["preTunedModel"],Be);const Re=getValueByPath(Ce,["trainingDataset"]);Re!=null&&setValueByPath(Ee,["tuningTask","trainingData"],tuningDatasetToMldev(Re));const Me=getValueByPath(Ce,["config"]);return Me!=null&&setValueByPath(Ee,["config"],createTuningJobConfigToMldev(Me,Ee)),Ee}function getTuningJobParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","name"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function listTuningJobsConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["pageSize"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["_query","pageSize"],Be);const Re=getValueByPath(Ce,["pageToken"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["_query","pageToken"],Re);const Me=getValueByPath(Ce,["filter"]);return Ee!==void 0&&Me!=null&&setValueByPath(Ee,["_query","filter"],Me),Te}function listTuningJobsParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["config"]);return Te!=null&&setValueByPath(Ee,["config"],listTuningJobsConfigToVertex(Te,Ee)),Ee}function cancelTuningJobParametersToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["_url","name"],Te);const Be=getValueByPath(Ce,["config"]);return Be!=null&&setValueByPath(Ee,["config"],Be),Ee}function tuningDatasetToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["gcsUri"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["supervisedTuningSpec","trainingDatasetUri"],Be);const Re=getValueByPath(Ce,["vertexDatasetResource"]);if(Ee!==void 0&&Re!=null&&setValueByPath(Ee,["supervisedTuningSpec","trainingDatasetUri"],Re),getValueByPath(Ce,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return Te}function tuningValidationDatasetToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["gcsUri"]);Be!=null&&setValueByPath(Te,["validationDatasetUri"],Be);const Re=getValueByPath(Ce,["vertexDatasetResource"]);return Ee!==void 0&&Re!=null&&setValueByPath(Ee,["supervisedTuningSpec","trainingDatasetUri"],Re),Te}function createTuningJobConfigToVertex(Ce,Ee){const Te={},Be=getValueByPath(Ce,["validationDataset"]);Ee!==void 0&&Be!=null&&setValueByPath(Ee,["supervisedTuningSpec"],tuningValidationDatasetToVertex(Be,Te));const Re=getValueByPath(Ce,["tunedModelDisplayName"]);Ee!==void 0&&Re!=null&&setValueByPath(Ee,["tunedModelDisplayName"],Re);const Me=getValueByPath(Ce,["description"]);Ee!==void 0&&Me!=null&&setValueByPath(Ee,["description"],Me);const Ue=getValueByPath(Ce,["epochCount"]);Ee!==void 0&&Ue!=null&&setValueByPath(Ee,["supervisedTuningSpec","hyperParameters","epochCount"],Ue);const De=getValueByPath(Ce,["learningRateMultiplier"]);Ee!==void 0&&De!=null&&setValueByPath(Ee,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],De);const qe=getValueByPath(Ce,["exportLastCheckpointOnly"]);Ee!==void 0&&qe!=null&&setValueByPath(Ee,["supervisedTuningSpec","exportLastCheckpointOnly"],qe);const $e=getValueByPath(Ce,["preTunedModelCheckpointId"]);$e!=null&&setValueByPath(Te,["preTunedModel","checkpointId"],$e);const ze=getValueByPath(Ce,["adapterSize"]);if(Ee!==void 0&&ze!=null&&setValueByPath(Ee,["supervisedTuningSpec","hyperParameters","adapterSize"],ze),getValueByPath(Ce,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(getValueByPath(Ce,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return Te}function createTuningJobParametersPrivateToVertex(Ce){const Ee={},Te=getValueByPath(Ce,["baseModel"]);Te!=null&&setValueByPath(Ee,["baseModel"],Te);const Be=getValueByPath(Ce,["preTunedModel"]);Be!=null&&setValueByPath(Ee,["preTunedModel"],Be);const Re=getValueByPath(Ce,["trainingDataset"]);Re!=null&&setValueByPath(Ee,["supervisedTuningSpec","trainingDatasetUri"],tuningDatasetToVertex(Re,Ee));const Me=getValueByPath(Ce,["config"]);return Me!=null&&setValueByPath(Ee,["config"],createTuningJobConfigToVertex(Me,Ee)),Ee}function tunedModelFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["name"]);Te!=null&&setValueByPath(Ee,["model"],Te);const Be=getValueByPath(Ce,["name"]);return Be!=null&&setValueByPath(Ee,["endpoint"],Be),Ee}function tuningJobFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["state"]);Re!=null&&setValueByPath(Ee,["state"],tTuningJobStatus(Re));const Me=getValueByPath(Ce,["createTime"]);Me!=null&&setValueByPath(Ee,["createTime"],Me);const Ue=getValueByPath(Ce,["tuningTask","startTime"]);Ue!=null&&setValueByPath(Ee,["startTime"],Ue);const De=getValueByPath(Ce,["tuningTask","completeTime"]);De!=null&&setValueByPath(Ee,["endTime"],De);const qe=getValueByPath(Ce,["updateTime"]);qe!=null&&setValueByPath(Ee,["updateTime"],qe);const $e=getValueByPath(Ce,["description"]);$e!=null&&setValueByPath(Ee,["description"],$e);const ze=getValueByPath(Ce,["baseModel"]);ze!=null&&setValueByPath(Ee,["baseModel"],ze);const Xe=getValueByPath(Ce,["_self"]);Xe!=null&&setValueByPath(Ee,["tunedModel"],tunedModelFromMldev(Xe));const We=getValueByPath(Ce,["customBaseModel"]);We!=null&&setValueByPath(Ee,["customBaseModel"],We);const Ge=getValueByPath(Ce,["experiment"]);Ge!=null&&setValueByPath(Ee,["experiment"],Ge);const tn=getValueByPath(Ce,["labels"]);tn!=null&&setValueByPath(Ee,["labels"],tn);const en=getValueByPath(Ce,["outputUri"]);en!=null&&setValueByPath(Ee,["outputUri"],en);const an=getValueByPath(Ce,["pipelineJob"]);an!=null&&setValueByPath(Ee,["pipelineJob"],an);const Ye=getValueByPath(Ce,["serviceAccount"]);Ye!=null&&setValueByPath(Ee,["serviceAccount"],Ye);const Ze=getValueByPath(Ce,["tunedModelDisplayName"]);return Ze!=null&&setValueByPath(Ee,["tunedModelDisplayName"],Ze),Ee}function listTuningJobsResponseFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["tunedModels"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>tuningJobFromMldev(Ue))),setValueByPath(Ee,["tuningJobs"],Me)}return Ee}function tuningOperationFromMldev(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["metadata"]);Re!=null&&setValueByPath(Ee,["metadata"],Re);const Me=getValueByPath(Ce,["done"]);Me!=null&&setValueByPath(Ee,["done"],Me);const Ue=getValueByPath(Ce,["error"]);return Ue!=null&&setValueByPath(Ee,["error"],Ue),Ee}function tunedModelCheckpointFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["checkpointId"]);Te!=null&&setValueByPath(Ee,["checkpointId"],Te);const Be=getValueByPath(Ce,["epoch"]);Be!=null&&setValueByPath(Ee,["epoch"],Be);const Re=getValueByPath(Ce,["step"]);Re!=null&&setValueByPath(Ee,["step"],Re);const Me=getValueByPath(Ce,["endpoint"]);return Me!=null&&setValueByPath(Ee,["endpoint"],Me),Ee}function tunedModelFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["model"]);Te!=null&&setValueByPath(Ee,["model"],Te);const Be=getValueByPath(Ce,["endpoint"]);Be!=null&&setValueByPath(Ee,["endpoint"],Be);const Re=getValueByPath(Ce,["checkpoints"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>tunedModelCheckpointFromVertex(Ue))),setValueByPath(Ee,["checkpoints"],Me)}return Ee}function tuningJobFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["name"]);Be!=null&&setValueByPath(Ee,["name"],Be);const Re=getValueByPath(Ce,["state"]);Re!=null&&setValueByPath(Ee,["state"],tTuningJobStatus(Re));const Me=getValueByPath(Ce,["createTime"]);Me!=null&&setValueByPath(Ee,["createTime"],Me);const Ue=getValueByPath(Ce,["startTime"]);Ue!=null&&setValueByPath(Ee,["startTime"],Ue);const De=getValueByPath(Ce,["endTime"]);De!=null&&setValueByPath(Ee,["endTime"],De);const qe=getValueByPath(Ce,["updateTime"]);qe!=null&&setValueByPath(Ee,["updateTime"],qe);const $e=getValueByPath(Ce,["error"]);$e!=null&&setValueByPath(Ee,["error"],$e);const ze=getValueByPath(Ce,["description"]);ze!=null&&setValueByPath(Ee,["description"],ze);const Xe=getValueByPath(Ce,["baseModel"]);Xe!=null&&setValueByPath(Ee,["baseModel"],Xe);const We=getValueByPath(Ce,["tunedModel"]);We!=null&&setValueByPath(Ee,["tunedModel"],tunedModelFromVertex(We));const Ge=getValueByPath(Ce,["preTunedModel"]);Ge!=null&&setValueByPath(Ee,["preTunedModel"],Ge);const tn=getValueByPath(Ce,["supervisedTuningSpec"]);tn!=null&&setValueByPath(Ee,["supervisedTuningSpec"],tn);const en=getValueByPath(Ce,["tuningDataStats"]);en!=null&&setValueByPath(Ee,["tuningDataStats"],en);const an=getValueByPath(Ce,["encryptionSpec"]);an!=null&&setValueByPath(Ee,["encryptionSpec"],an);const Ye=getValueByPath(Ce,["partnerModelTuningSpec"]);Ye!=null&&setValueByPath(Ee,["partnerModelTuningSpec"],Ye);const Ze=getValueByPath(Ce,["customBaseModel"]);Ze!=null&&setValueByPath(Ee,["customBaseModel"],Ze);const St=getValueByPath(Ce,["experiment"]);St!=null&&setValueByPath(Ee,["experiment"],St);const Qe=getValueByPath(Ce,["labels"]);Qe!=null&&setValueByPath(Ee,["labels"],Qe);const Je=getValueByPath(Ce,["outputUri"]);Je!=null&&setValueByPath(Ee,["outputUri"],Je);const on=getValueByPath(Ce,["pipelineJob"]);on!=null&&setValueByPath(Ee,["pipelineJob"],on);const hn=getValueByPath(Ce,["serviceAccount"]);hn!=null&&setValueByPath(Ee,["serviceAccount"],hn);const dn=getValueByPath(Ce,["tunedModelDisplayName"]);return dn!=null&&setValueByPath(Ee,["tunedModelDisplayName"],dn),Ee}function listTuningJobsResponseFromVertex(Ce){const Ee={},Te=getValueByPath(Ce,["sdkHttpResponse"]);Te!=null&&setValueByPath(Ee,["sdkHttpResponse"],Te);const Be=getValueByPath(Ce,["nextPageToken"]);Be!=null&&setValueByPath(Ee,["nextPageToken"],Be);const Re=getValueByPath(Ce,["tuningJobs"]);if(Re!=null){let Me=Re;Array.isArray(Me)&&(Me=Me.map(Ue=>tuningJobFromVertex(Ue))),setValueByPath(Ee,["tuningJobs"],Me)}return Ee}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tunings extends BaseModule{constructor(Ee){super(),this.apiClient=Ee,this.get=async Te=>await this.getInternal(Te),this.list=async(Te={})=>new Pager(PagedItem.PAGED_ITEM_TUNING_JOBS,Be=>this.listInternal(Be),await this.listInternal(Te),Te),this.tune=async Te=>{if(this.apiClient.isVertexAI())if(Te.baseModel.startsWith("projects/")){const Be={tunedModelName:Te.baseModel},Re=Object.assign(Object.assign({},Te),{preTunedModel:Be});return Re.baseModel=void 0,await this.tuneInternal(Re)}else{const Be=Object.assign({},Te);return await this.tuneInternal(Be)}else{const Be=Object.assign({},Te),Re=await this.tuneMldevInternal(Be);let Me="";return Re.metadata!==void 0&&Re.metadata.tunedModel!==void 0?Me=Re.metadata.tunedModel:Re.name!==void 0&&Re.name.includes("/operations/")&&(Me=Re.name.split("/operations/")[0]),{name:Me,state:JobState.JOB_STATE_QUEUED}}}}async getInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=getTuningJobParametersToVertex(Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>tuningJobFromVertex(ze))}else{const $e=getTuningJobParametersToMldev(Ee);return De=formatMap("{name}",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>tuningJobFromMldev(ze))}}async listInternal(Ee){var Te,Be,Re,Me;let Ue,De="",qe={};if(this.apiClient.isVertexAI()){const $e=listTuningJobsParametersToVertex(Ee);return De=formatMap("tuningJobs",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listTuningJobsResponseFromVertex(ze),We=new ListTuningJobsResponse;return Object.assign(We,Xe),We})}else{const $e=listTuningJobsParametersToMldev(Ee);return De=formatMap("tunedModels",$e._url),qe=$e._query,delete $e.config,delete $e._url,delete $e._query,Ue=this.apiClient.request({path:De,queryParams:qe,body:JSON.stringify($e),httpMethod:"GET",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal}).then(ze=>ze.json().then(Xe=>{const We=Xe;return We.sdkHttpResponse={headers:ze.headers},We})),Ue.then(ze=>{const Xe=listTuningJobsResponseFromMldev(ze),We=new ListTuningJobsResponse;return Object.assign(We,Xe),We})}}async cancel(Ee){var Te,Be,Re,Me;let Ue="",De={};if(this.apiClient.isVertexAI()){const qe=cancelTuningJobParametersToVertex(Ee);Ue=formatMap("{name}:cancel",qe._url),De=qe._query,delete qe.config,delete qe._url,delete qe._query,await this.apiClient.request({path:Ue,queryParams:De,body:JSON.stringify(qe),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal})}else{const qe=cancelTuningJobParametersToMldev(Ee);Ue=formatMap("{name}:cancel",qe._url),De=qe._query,delete qe.config,delete qe._url,delete qe._query,await this.apiClient.request({path:Ue,queryParams:De,body:JSON.stringify(qe),httpMethod:"POST",httpOptions:(Re=Ee.config)===null||Re===void 0?void 0:Re.httpOptions,abortSignal:(Me=Ee.config)===null||Me===void 0?void 0:Me.abortSignal})}}async tuneInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI()){const De=createTuningJobParametersPrivateToVertex(Ee);return Me=formatMap("tuningJobs",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>tuningJobFromVertex(qe))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(Ee){var Te,Be;let Re,Me="",Ue={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const De=createTuningJobParametersPrivateToMldev(Ee);return Me=formatMap("tunedModels",De._url),Ue=De._query,delete De.config,delete De._url,delete De._query,Re=this.apiClient.request({path:Me,queryParams:Ue,body:JSON.stringify(De),httpMethod:"POST",httpOptions:(Te=Ee.config)===null||Te===void 0?void 0:Te.httpOptions,abortSignal:(Be=Ee.config)===null||Be===void 0?void 0:Be.abortSignal}).then(qe=>qe.json().then($e=>{const ze=$e;return ze.sdkHttpResponse={headers:qe.headers},ze})),Re.then(qe=>tuningOperationFromMldev(qe))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserDownloader{async download(Ee,Te){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MAX_CHUNK_SIZE=1024*1024*8,MAX_RETRY_COUNT=3,INITIAL_RETRY_DELAY_MS=1e3,DELAY_MULTIPLIER=2,X_GOOG_UPLOAD_STATUS_HEADER_FIELD="x-goog-upload-status";async function uploadBlob(Ce,Ee,Te){var Be,Re,Me;let Ue=0,De=0,qe=new HttpResponse(new Response),$e="upload";for(Ue=Ce.size;De<Ue;){const Xe=Math.min(MAX_CHUNK_SIZE,Ue-De),We=Ce.slice(De,De+Xe);De+Xe>=Ue&&($e+=", finalize");let Ge=0,tn=INITIAL_RETRY_DELAY_MS;for(;Ge<MAX_RETRY_COUNT&&(qe=await Te.request({path:"",body:We,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:Ee,headers:{"X-Goog-Upload-Command":$e,"X-Goog-Upload-Offset":String(De),"Content-Length":String(Xe)}}}),!(!((Be=qe==null?void 0:qe.headers)===null||Be===void 0)&&Be[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]));)Ge++,await sleep(tn),tn=tn*DELAY_MULTIPLIER;if(De+=Xe,((Re=qe==null?void 0:qe.headers)===null||Re===void 0?void 0:Re[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="active")break;if(Ue<=De)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const ze=await(qe==null?void 0:qe.json());if(((Me=qe==null?void 0:qe.headers)===null||Me===void 0?void 0:Me[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return ze.file}async function getBlobStat(Ce){return{size:Ce.size,type:Ce.type}}function sleep(Ce){return new Promise(Ee=>setTimeout(Ee,Ce))}class BrowserUploader{async upload(Ee,Te,Be){if(typeof Ee=="string")throw new Error("File path is not supported in browser uploader.");return await uploadBlob(Ee,Te,Be)}async stat(Ee){if(typeof Ee=="string")throw new Error("File path is not supported in browser uploader.");return await getBlobStat(Ee)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserWebSocketFactory{create(Ee,Te,Be){return new BrowserWebSocket(Ee,Te,Be)}}class BrowserWebSocket{constructor(Ee,Te,Be){this.url=Ee,this.headers=Te,this.callbacks=Be}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(Ee){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(Ee)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GOOGLE_API_KEY_HEADER="x-goog-api-key";class WebAuth{constructor(Ee){this.apiKey=Ee}async addAuthHeaders(Ee){if(Ee.get(GOOGLE_API_KEY_HEADER)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");Ee.append(GOOGLE_API_KEY_HEADER,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LANGUAGE_LABEL_PREFIX="gl-node/";class GoogleGenAI{constructor(Ee){var Te;if(Ee.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(Ee.project||Ee.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(Te=Ee.vertexai)!==null&&Te!==void 0?Te:!1,this.apiKey=Ee.apiKey;const Be=getBaseUrl(Ee.httpOptions,Ee.vertexai,void 0,void 0);Be&&(Ee.httpOptions?Ee.httpOptions.baseUrl=Be:Ee.httpOptions={baseUrl:Be}),this.apiVersion=Ee.apiVersion;const Re=new WebAuth(this.apiKey);this.apiClient=new ApiClient({auth:Re,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:Ee.httpOptions,userAgentExtra:LANGUAGE_LABEL_PREFIX+"web",uploader:new BrowserUploader,downloader:new BrowserDownloader}),this.models=new Models(this.apiClient),this.live=new Live(this.apiClient,Re,new BrowserWebSocketFactory),this.batches=new Batches(this.apiClient),this.chats=new Chats(this.models,this.apiClient),this.caches=new Caches(this.apiClient),this.files=new Files(this.apiClient),this.operations=new Operations(this.apiClient),this.authTokens=new Tokens(this.apiClient),this.tunings=new Tunings(this.apiClient)}}const apiKey="AIzaSyCYDHWIZRV6KXLL1SFOZKoiN47dI6hmsYU",ai=new GoogleGenAI({apiKey}),dataUrlToGeminiPart=(Ce,Ee)=>({inlineData:{mimeType:Ee,data:Ce.split(",")[1]}}),getPersonalityInstructions=Ce=>{if(!Ce)return"No personality data available.";let Ee=`You MUST adapt your tone and style based on the student's personality traits below:
`;return Ce.extraversion>60&&(Ee+=`- High Extraversion: Be more energetic, interactive, and engaging. Ask follow-up questions.
`),Ce.conscientiousness>60&&(Ee+=`- High Conscientiousness: Be more structured, calm, organized, and detailed in your explanations.
`),Ce.agreeableness>60&&(Ee+=`- High Agreeableness: Use a friendly, collaborative, and encouraging tone. Use phrases like 'Let's figure this out together'.
`),Ce.openness>60&&(Ee+=`- High Openness: Be enthusiastic and introduce novel ideas and connections related to the topic.
`),Ce.neuroticism>60&&(Ee+=`- High Neuroticism: This is a strict requirement. Be extremely gentle, patient, reassuring, and supportive. Avoid criticism and provide positive reinforcement.
`),Ee},getLearningDifficultyInstructions=Ce=>{if(!Ce||Ce.length===0||Ce.length===1&&Ce[0]==="لا يوجد")return"The student has no registered learning difficulties.";let Ee=`CRITICAL: The student has the following learning difficulties. You MUST adapt your teaching method accordingly:
`;return Ce.includes("سرعة التشتت وقلة التركيز")&&(Ee+=`- For 'distraction and lack of focus': Keep explanations concise, break down complex topics into smaller parts, and repeat key information to ensure comprehension.
`),Ce.includes("كفيف")&&(Ee+=`- For 'blindness': Be highly descriptive. When referencing images or visual materials from the knowledge base, describe them in detail.
`),(Ce.includes("متلازمة داون")||Ce.includes("توحد")||Ce.includes("تأخر الكلام"))&&(Ee+=`- For 'Down syndrome', 'autism', or 'speech delay': Use simple, clear language. Be patient, use repetition, and maintain a very encouraging and positive tone.
`),Ee},buildSystemInstruction=(Ce,Ee,Te)=>{const Be=Ce.name.split(" ")[0],Re=getPersonalityInstructions(Ce.personalityTraits),Me=getLearningDifficultyInstructions(Ce.learningDifficulty);let Ue;switch(Ce.stage){case"المرحلة الإبتدائية":Ue="لغة بسيطة ومشجعة: يجب أن تتحدث بلهجة مصرية رسمية، ولكن بأسلوب بسيط ومشجع وواضح يناسب طالباً في المرحلة الابتدائية. قم بتبسيط المصطلحات المعقدة واستخدم التعزيز الإيجابي.";break;case"المرحلة الإعدادية":Ue="لغة واضحة وداعمة: يجب أن تتحدث بلهجة مصرية رسمية تناسب طالباً في المرحلة الإعدادية. يمكنك استخدام مصطلحات أكثر تحديداً، ولكن اشرحها دائماً بوضوح. حافظ على نبرة داعمة وأكاديمية.";break;case"المرحلة الثانوية":Ue="لغة أكاديمية ودقيقة: يجب أن تتحدث بلهجة مصرية رسمية وأكاديمية تناسب طالباً في المرحلة الثانوية. استخدم المصطلحات العلمية والأدبية الدقيقة حسب المادة. يجب أن تكون النبرة احترافية.";break;default:Ue="يجب أن تكتب فقط بلهجة عربية مصرية رسمية.";break}let De=Ue;["اللغة الإنجليزية","اللغة الفرنسية","اللغة الألمانية","اللغة الإيطالية"].includes(Ee)&&(De+=`
        نظراً لأن المادة هي لغة أجنبية (${Ee}):
        1. للمرحلتين الابتدائية والإعدادية، يجب عليك شرح معنى أي مصطلح أجنبي باللغة العربية.
        2. للمرحلة الثانوية، يمكنك استخدام المزيد من المصطلحات الأجنبية، ولكن تأكد من أن الطالب يفهمها.
        `);const $e=Te.length>0?"The knowledge base contains materials. Your primary role is to explain and discuss the content found ONLY within this knowledge base.":"The knowledge base is currently empty. Your first task is to ask the student to add files (like PDFs) or web links so you can start studying with them.";return`
**Core Identity:**
You are 'الأستاذ راشد' (Professor Rashid), an intelligent, professional, and formal AI teaching assistant.
Your entire response MUST be in Arabic (Egyptian dialect) unless the subject is a foreign language.
Avoid slang or informalities like (معلم, باشا, غالي, طيب) completely.

**Session Goal:**
Your goal is to help a student study the subject of **'${Ee}'**.

**Student Profile Adaptation (Strict Requirement):**
${Re}
${Me}

**Language Rules (CRITICAL - Based on Student's Stage):**
${De}

**Knowledge Base and Topic Rules (CRITICAL):**
1.  **KNOWLEDGE BASE IS PRIMARY:** Your answers MUST be based **exclusively** on the provided knowledge base. Do not use your general knowledge unless the user explicitly asks you to ("ابحث خارج المصادر") or something like that.
2.  **IF EMPTY:** ${$e}
3.  **IF INFO NOT FOUND:** If a user's question cannot be answered from the knowledge base, state clearly: "هذه المعلومة غير موجودة في المصادر المتاحة حالياً." (This information is not available in the current resources). Then, you can ask if they want you to search using your general knowledge via Google Search.
4.  **STAY ON TOPIC:** If the user asks about a topic or subject unrelated to **'${Ee}'** or the knowledge base content, you MUST NOT answer it. Instead, give them an advice ('نصيحة') to stay focused. For example: "نصيحة يا ${Be}, من الأفضل أن نركز على مادة ${Ee} الآن حتى لا نتشتت. يمكننا مناقشة مواضيع أخرى في جلسة جديدة." (A piece of advice, ${Be}, it's better to focus on ${Ee} now so we don't get distracted. We can discuss other topics in a new session.)
5.  **IF USER INSISTS:** If they insist on asking about another subject, politely tell them: "للسؤال في مادة مختلفة، يمكنك إنهاء هذه المحادثة وبدء محادثة جديدة مع اختيار المادة التي تريدها." (To ask about a different subject, you can end this conversation and start a new one, selecting the subject you want).
`},buildContents=(Ce,Ee)=>{const Te=Ee.filter(De=>De.type!==KnowledgeItemType.IMAGE),Be=Ee.filter(De=>De.type===KnowledgeItemType.IMAGE),Me={text:`قاعدة المعرفة النصية الحالية:
${Te.map(De=>`
--- START ${De.type.toUpperCase()}: ${De.title} ---
${De.type==="url"?`URL: ${De.url}`:""}
${De.content||"Content not available for this item."}
--- END ${De.type.toUpperCase()}: ${De.title} ---
`).join(`

`)}

سؤال المستخدم: "${Ce}"`},Ue=Be.map(De=>De.dataUrl&&De.mimeType?dataUrlToGeminiPart(De.dataUrl,De.mimeType):null).filter(De=>De!==null);return{parts:[Me,...Ue]}},generateResponse=async(Ce,Ee,Te,Be)=>{var Re,Me,Ue;try{const De=buildSystemInstruction(Te,Be,Ee),qe=buildContents(Ce,Ee),$e=await ai.models.generateContent({model:"gemini-2.5-flash",contents:qe,config:{systemInstruction:De,tools:[{googleSearch:{}}]}}),ze=$e.text,Xe=(Ue=(Me=(Re=$e.candidates)==null?void 0:Re[0])==null?void 0:Me.groundingMetadata)==null?void 0:Ue.groundingChunks;return{fullText:ze,sources:Xe,error:void 0}}catch(De){const qe="عذراً، حدث خطأ أثناء محاولة الرد.";return console.error("Failed to generate response:",De),{fullText:"",sources:void 0,error:qe}}},searchEducationalResources=async(Ce,Ee)=>{var Te,Be,Re;try{const Me=`ابحث عن مصادر تعليمية **عالية الجودة ومتنوعة** عبر الإنترنت.
البحث مخصص لطالب في '${Ce.stage}'، '${Ce.class}'، خلال '${Ce.semester}'، ويدرس مادة '${Ee}'.
**متطلبات البحث:**
1.  **الأولوية القصوى:** ابحث في **موقع وزارة التربية والتعليم المصرية (https://moe.gov.eg/ar/elearningenterypage/e-learning/)** عن **كتاب الوزارة الرسمي** أو المناهج الدراسية للمادة والصف المحددين. يجب أن يكون هذا هو المصدر الأول إذا وجد.
2.  **نوعية المصادر:** بعد كتاب الوزارة، ركز على المقالات التعليمية، الأوراق الأكاديمية، الشروحات الجامعية، الفيديوهات التعليمية، والدروس التفاعلية.
3.  **المواقع الموثوقة:** أعط الأولوية للمنصات التعليمية المعروفة والمواقع الأكاديمية والجامعية (التي تنتهي بـ .edu أو .ac)، والمواقع الحكومية والمنظمات العلمية. قم بتضمين مصادر مصرية موثوقة مثل **بنك المعرفة المصري (EKB)** إن وجدت.
4.  **تجنب بشكل صارم:** أي نتائج من مواقع التواصل الاجتماعي (فيسبوك، تويتر، انستغرام، تيك توك، لينكدإن)، المنتديات، المدونات الشخصية، المواقع الإخبارية العامة، أو المقالات غير الأكاديمية.
5.  **اللغة:** يجب أن تكون النتائج باللغة العربية بشكل أساسي، ما لم تكن المادة تتطلب اللغة الإنجليزية.
6.  **الفيديوهات:** بالنسبة لفيديوهات يوتيوب، ابحث عن قنوات تعليمية موثوقة وقدم العنوان الكامل للفيديو.`,De=(Re=(Be=(Te=(await ai.models.generateContent({model:"gemini-2.5-flash",contents:Me,config:{tools:[{googleSearch:{}}]}})).candidates)==null?void 0:Te[0])==null?void 0:Be.groundingMetadata)==null?void 0:Re.groundingChunks;if(!De)return console.log("No grounding chunks found in the response."),[];const qe=["wikipedia","facebook","twitter","instagram","tiktok","linkedin","news","article","magazine","journal","forum","blog","community","ويكيبيديا","فيسبوك","تويتر","انستغرام","تيك توك","لينكد إن","أخبار","خبر","جريدة","صحيفة","مجلة","مقالة","منتديات","منتدى","مدونة","مجتمع"],$e=De.filter(Xe=>Xe.web&&Xe.web.uri&&Xe.web.title).map(Xe=>{const{uri:We,title:Ge}=Xe.web;try{const tn=We.toLowerCase(),en=Ge.toLowerCase();if(qe.some(Ye=>tn.includes(Ye)||en.includes(Ye)))return null;const an=tn.endsWith(".pdf");return{id:`resource-${We}`,type:an?KnowledgeItemType.FILE:KnowledgeItemType.URL,title:Ge||new URL(We).hostname,url:We,content:`Reference URL: ${We}`}}catch{return null}}).filter(Xe=>Xe!==null);return Array.from(new Map($e.map(Xe=>[Xe.url,Xe])).values())}catch(Me){return console.error("Error searching for educational resources:",Me),[]}},summarizeText=async Ce=>{try{const Ee=`الرجاء تلخيص النص التالي بشكل موجز باللغة العربية:

"${Ce}"`;return(await ai.models.generateContent({model:"gemini-2.5-flash",contents:Ee})).text||"عذراً، لم أتمكن من تلخيص النص."}catch(Ee){return console.error("Error summarizing text:",Ee),"عذراً، لم أتمكن من تلخيص النص."}},summarizeChatHistory=async Ce=>{try{const Ee=`لخص المحادثة التالية بشكل موجز باللغة العربية، مع التركيز على الأسئلة الرئيسية والإجابات والنقاط الرئيسية التي تمت مناقشتها:

---

${Ce}

---

الملخص:`;return(await ai.models.generateContent({model:"gemini-2.5-flash",contents:Ee})).text||"عذراً، لم أتمكن من تلخيص المحادثة."}catch(Ee){return console.error("Error summarizing chat:",Ee),"عذراً، لم أتمكن من تلخيص المحادثة."}},generateSpeechFromText=async(Ce,Ee)=>{var Te,Be,Re;try{const Me=await ai.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:Ce,config:{responseModalities:[Modality.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:Ee||"Orus"}}}}}),Ue=(Re=(Be=(Te=Me.candidates)==null?void 0:Te[0])==null?void 0:Be.content)==null?void 0:Re.parts.find(De=>{var qe,$e;return($e=(qe=De.inlineData)==null?void 0:qe.mimeType)==null?void 0:$e.startsWith("audio/")});return Ue!=null&&Ue.inlineData?Ue.inlineData.data:(console.warn("TTS response did not contain audio data.",Me),null)}catch(Me){return console.error("Error generating speech from text:",Me),null}},fetchUrlTitle=async Ce=>{if(!Ce||!Ce.startsWith("http"))try{return new URL(Ce).hostname}catch{return Ce}try{const Ee=`What is the title of the web page at the following URL? Respond with only the page title and nothing else. URL: ${Ce}`,Be=(await ai.models.generateContent({model:"gemini-2.5-flash",contents:Ee,config:{tools:[{googleSearch:{}}],thinkingConfig:{thinkingBudget:0}}})).text.trim();return Be.toLowerCase().startsWith("title:")?Be.substring(6).trim():Be||new URL(Ce).hostname}catch(Ee){console.error(`Error fetching title for URL ${Ce}:`,Ee);try{return new URL(Ce).hostname}catch{return Ce}}},fetchVideoTranscript=async Ce=>{if(!Ce||!(Ce.includes("youtube.com")||Ce.includes("youtu.be")))return`Reference URL: ${Ce}`;try{const Ee=`Provide a detailed, comprehensive summary of the educational content from the video at the following URL. Extract all key concepts, explanations, and important information as if you were creating a text-based lesson from the video. Respond in Arabic. URL: ${Ce}`,Be=(await ai.models.generateContent({model:"gemini-2.5-flash",contents:Ee,config:{tools:[{googleSearch:{}}]}})).text.trim();return Be||`لم أتمكن من استخلاص نص من الفيديو. رابط مرجعي: ${Ce}`}catch(Ee){return console.error(`Error fetching transcript for URL ${Ce}:`,Ee),`فشل استخلاص النص من الفيديو. رابط مرجعي: ${Ce}`}};pdfExports.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker-BleNsmDQ.js",import.meta.url).toString();const DocumentTextIcon$1=({className:Ce})=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Ce,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),PhotographIcon=({className:Ce})=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Ce,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),LinkIcon=({className:Ce})=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Ce,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),VideoCameraIcon=({className:Ce})=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:Ce,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),RemoveIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),PlusCircleIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),KnowledgeBase=({knowledgeItems:Ce,onAddItem:Ee,onRemoveItem:Te,isVisible:Be})=>{const Re=reactExports.useRef(null),[Me,Ue]=reactExports.useState(!1),[De,qe]=reactExports.useState(""),[$e,ze]=reactExports.useState(""),[Xe,We]=reactExports.useState(""),Ge=reactExports.useCallback(async Ye=>{var Qe;const Ze=(Qe=Ye.target.files)==null?void 0:Qe[0];if(!Ze)return;Ue(!0),qe(`جاري معالجة ${Ze.name}...`);const St=Xe.trim()||Ze.name;try{if(Ze.type.startsWith("image/")){const Je=new FileReader;Je.onload=on=>{var hn;Ee({type:KnowledgeItemType.IMAGE,title:St,dataUrl:(hn=on.target)==null?void 0:hn.result,mimeType:Ze.type}),We(""),Ue(!1)},Je.readAsDataURL(Ze)}else if(Ze.type==="application/pdf"){const Je=new FileReader;Je.onload=async on=>{var kn;const hn=(kn=on.target)==null?void 0:kn.result,dn=await pdfExports.getDocument(hn).promise;let sn="";for(let Pn=1;Pn<=dn.numPages;Pn++){const Mn=await(await dn.getPage(Pn)).getTextContent();sn+=Mn.items.map(yn=>yn.str).join(" ")}Ee({type:KnowledgeItemType.FILE,title:St,content:sn}),We(""),Ue(!1)},Je.readAsArrayBuffer(Ze)}else if(Ze.name.endsWith(".docx")){const Je=new FileReader;Je.onload=async on=>{var sn;const hn=(sn=on.target)==null?void 0:sn.result,dn=await mammoth.extractRawText({arrayBuffer:hn});Ee({type:KnowledgeItemType.FILE,title:St,content:dn.value}),We(""),Ue(!1)},Je.readAsArrayBuffer(Ze)}else{const Je=new FileReader;Je.onload=on=>{var dn;const hn=(dn=on.target)==null?void 0:dn.result;Ee({type:KnowledgeItemType.FILE,title:St,content:hn}),We(""),Ue(!1)},Je.readAsText(Ze)}}catch(Je){console.error("Error parsing file:",Je),qe(`خطأ في معالجة ${Ze.name}`),setTimeout(()=>Ue(!1),3e3)}finally{Re.current&&(Re.current.value="")}},[Ee,Xe]),tn=reactExports.useCallback(async()=>{if(!$e.trim())return;const Ye=$e.trim();Ue(!0);const Ze=Ye.toLowerCase().includes("youtube.com")||Ye.toLowerCase().includes("youtu.be"),St=Ye.toLowerCase().endsWith(".pdf");if(Ze){qe("جاري تحليل محتوى الفيديو...");try{const Qe=Xe.trim()||await fetchUrlTitle(Ye),Je=await fetchVideoTranscript(Ye);Ee({type:KnowledgeItemType.URL,title:`(فيديو) ${Qe}`,url:Ye,content:Je}),ze(""),We("")}catch(Qe){console.error("Error processing video URL:",Qe),Ee({type:KnowledgeItemType.URL,title:`(فشل تحليل الفيديو) ${Xe.trim()||Ye}`,url:Ye,content:`Reference URL: ${Ye}`}),ze(""),We("")}finally{Ue(!1)}}else if(St){const Qe=new URL(Ye).pathname.split("/").pop()||Ye;qe(`جاري جلب وتحليل ${Qe}...`);const Je=Xe.trim()||Qe;try{const on=await fetch(Ye);if(!on.ok)throw new Error(`فشل جلب الملف: ${on.statusText}`);const hn=await on.arrayBuffer(),dn=await pdfExports.getDocument(hn).promise;let sn="";for(let kn=1;kn<=dn.numPages;kn++){const _n=await(await dn.getPage(kn)).getTextContent();sn+=_n.items.map(Mn=>Mn.str).join(" ")}Ee({type:KnowledgeItemType.FILE,title:Je,content:sn,url:Ye}),ze(""),We("")}catch(on){console.error("Error fetching or parsing PDF from URL:",on),Ee({type:KnowledgeItemType.URL,title:`(فشل التحليل) ${Je}`,url:Ye,content:`Reference URL: ${Ye}`}),ze(""),We("")}finally{Ue(!1)}}else{qe("جاري جلب عنوان الرابط...");try{const Qe=Xe.trim()||await fetchUrlTitle(Ye);Ee({type:KnowledgeItemType.URL,title:Qe,url:Ye,content:`Reference URL: ${Ye}`}),ze(""),We("")}catch(Qe){console.error("Failed to fetch title, falling back to hostname:",Qe);try{const Je=Xe.trim()||new URL(Ye).hostname;Ee({type:KnowledgeItemType.URL,title:Je,url:Ye,content:`Reference URL: ${Ye}`}),ze(""),We("")}catch(Je){console.error("The provided URL is invalid:",Ye,Je)}}finally{Ue(!1)}}},[$e,Ee,Xe]),en=()=>{var Ye;(Ye=Re.current)==null||Ye.click()},an=Ye=>{const Ze="h-6 w-6 text-gray-400 dark:text-gray-500 flex-shrink-0";return Ye.type===KnowledgeItemType.IMAGE?jsxRuntimeExports.jsx(PhotographIcon,{className:`${Ze} text-purple-500`}):Ye.title.startsWith("(فيديو)")?jsxRuntimeExports.jsx(VideoCameraIcon,{className:`${Ze} text-red-500`}):Ye.type===KnowledgeItemType.URL?jsxRuntimeExports.jsx(LinkIcon,{className:`${Ze} text-green-500`}):Ye.title.endsWith(".pdf")?jsxRuntimeExports.jsx(DocumentTextIcon$1,{className:`${Ze} text-red-500`}):Ye.title.endsWith(".docx")?jsxRuntimeExports.jsx(DocumentTextIcon$1,{className:`${Ze} text-blue-500`}):jsxRuntimeExports.jsx(DocumentTextIcon$1,{className:Ze})};return jsxRuntimeExports.jsxs("aside",{className:`bg-slate-50 dark:bg-slate-900 border-s border-slate-200 dark:border-slate-700 flex flex-col flex-shrink-0 transition-all duration-300 ease-in-out ${Be?"w-80":"w-0 hidden"}`,children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700 text-center",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"قاعدة المعرفة"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:[Ce.map(Ye=>jsxRuntimeExports.jsxs("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center min-w-0",children:[an(Ye),jsxRuntimeExports.jsx("div",{className:"ms-3 min-w-0",children:Ye.url?jsxRuntimeExports.jsx("a",{href:Ye.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline truncate block",title:Ye.url,children:Ye.title}):jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate block",title:Ye.title,children:Ye.title})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(Ye.id),className:"p-1 text-gray-400 hover:text-red-500 rounded-full flex-shrink-0",title:`إزالة ${Ye.title}`,children:jsxRuntimeExports.jsx(RemoveIcon,{})})]},Ye.id)),Ce.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:[jsxRuntimeExports.jsx("p",{children:"قاعدة المعرفة فارغة."}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"قم بإضافة المستندات أو الروابط."})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:Re,onChange:Ge,className:"hidden",accept:".txt,.md,.pdf,.docx,.png,.jpg,.jpeg,.svg",disabled:Me}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Xe,onChange:Ye=>We(Ye.target.value),placeholder:"اسم مخصص (اختياري)",className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:Me}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 flex-row-reverse",children:[jsxRuntimeExports.jsx("input",{type:"url",value:$e,onChange:Ye=>ze(Ye.target.value),onKeyDown:Ye=>{Ye.key==="Enter"&&tn()},placeholder:"إضافة رابط ويب",className:"flex-1 px-3 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:Me}),jsxRuntimeExports.jsx("button",{onClick:tn,className:"bg-green-600 text-white p-2 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",disabled:Me||!$e.trim(),title:"إضافة رابط",children:jsxRuntimeExports.jsx(PlusCircleIcon,{})})]}),jsxRuntimeExports.jsx("button",{onClick:en,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-400 disabled:cursor-wait",disabled:Me,children:Me?De:"إضافة مستند أو صورة"})]})]})]})},scriptRel="modulepreload",assetsURL=function(Ce){return"/"+Ce},seen={},__vitePreload=function Ce(Ee,Te,Be){let Re=Promise.resolve();if(Te&&Te.length>0){let Ue=function($e){return Promise.all($e.map(ze=>Promise.resolve(ze).then(Xe=>({status:"fulfilled",value:Xe}),Xe=>({status:"rejected",reason:Xe}))))};document.getElementsByTagName("link");const De=document.querySelector("meta[property=csp-nonce]"),qe=(De==null?void 0:De.nonce)||(De==null?void 0:De.getAttribute("nonce"));Re=Ue(Te.map($e=>{if($e=assetsURL($e),$e in seen)return;seen[$e]=!0;const ze=$e.endsWith(".css"),Xe=ze?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${$e}"]${Xe}`))return;const We=document.createElement("link");if(We.rel=ze?"stylesheet":scriptRel,ze||(We.as="script"),We.crossOrigin="",We.href=$e,qe&&We.setAttribute("nonce",qe),document.head.appendChild(We),ze)return new Promise((Ge,tn)=>{We.addEventListener("load",Ge),We.addEventListener("error",()=>tn(new Error(`Unable to preload CSS for ${$e}`)))})}))}function Me(Ue){const De=new Event("vite:preloadError",{cancelable:!0});if(De.payload=Ue,window.dispatchEvent(De),!De.defaultPrevented)throw Ue}return Re.then(Ue=>{for(const De of Ue||[])De.status==="rejected"&&Me(De.reason);return Ee().catch(Me)})};function _typeof(Ce){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},_typeof(Ce)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Ce,Ee){for(var Te=new u16(31),Be=0;Be<31;++Be)Te[Be]=Ee+=1<<Ce[Be-1];for(var Re=new i32(Te[30]),Be=1;Be<30;++Be)for(var Me=Te[Be];Me<Te[Be+1];++Me)Re[Me]=Me-Te[Be]<<5|Be;return{b:Te,r:Re}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),revfd=_b.r,rev=new u16(32768);for(var i$6=0;i$6<32768;++i$6){var x$2=(i$6&43690)>>1|(i$6&21845)<<1;x$2=(x$2&52428)>>2|(x$2&13107)<<2,x$2=(x$2&61680)>>4|(x$2&3855)<<4,rev[i$6]=((x$2&65280)>>8|(x$2&255)<<8)>>1}var hMap=(function(Ce,Ee,Te){for(var Be=Ce.length,Re=0,Me=new u16(Ee);Re<Be;++Re)Ce[Re]&&++Me[Ce[Re]-1];var Ue=new u16(Ee);for(Re=1;Re<Ee;++Re)Ue[Re]=Ue[Re-1]+Me[Re-1]<<1;var De;if(Te){De=new u16(1<<Ee);var qe=15-Ee;for(Re=0;Re<Be;++Re)if(Ce[Re])for(var $e=Re<<4|Ce[Re],ze=Ee-Ce[Re],Xe=Ue[Ce[Re]-1]++<<ze,We=Xe|(1<<ze)-1;Xe<=We;++Xe)De[rev[Xe]>>qe]=$e}else for(De=new u16(Be),Re=0;Re<Be;++Re)Ce[Re]&&(De[Re]=rev[Ue[Ce[Re]-1]++]>>15-Ce[Re]);return De}),flt=new u8(288);for(var i$6=0;i$6<144;++i$6)flt[i$6]=8;for(var i$6=144;i$6<256;++i$6)flt[i$6]=9;for(var i$6=256;i$6<280;++i$6)flt[i$6]=7;for(var i$6=280;i$6<288;++i$6)flt[i$6]=8;var fdt=new u8(32);for(var i$6=0;i$6<32;++i$6)fdt[i$6]=5;var flm=hMap(flt,9,0),fdm=hMap(fdt,5,0),shft=function(Ce){return(Ce+7)/8|0},slc=function(Ce,Ee,Te){return(Te==null||Te>Ce.length)&&(Te=Ce.length),new u8(Ce.subarray(Ee,Te))},wbits=function(Ce,Ee,Te){Te<<=Ee&7;var Be=Ee/8|0;Ce[Be]|=Te,Ce[Be+1]|=Te>>8},wbits16=function(Ce,Ee,Te){Te<<=Ee&7;var Be=Ee/8|0;Ce[Be]|=Te,Ce[Be+1]|=Te>>8,Ce[Be+2]|=Te>>16},hTree=function(Ce,Ee){for(var Te=[],Be=0;Be<Ce.length;++Be)Ce[Be]&&Te.push({s:Be,f:Ce[Be]});var Re=Te.length,Me=Te.slice();if(!Re)return{t:et$1,l:0};if(Re==1){var Ue=new u8(Te[0].s+1);return Ue[Te[0].s]=1,{t:Ue,l:1}}Te.sort(function(Je,on){return Je.f-on.f}),Te.push({s:-1,f:25001});var De=Te[0],qe=Te[1],$e=0,ze=1,Xe=2;for(Te[0]={s:-1,f:De.f+qe.f,l:De,r:qe};ze!=Re-1;)De=Te[Te[$e].f<Te[Xe].f?$e++:Xe++],qe=Te[$e!=ze&&Te[$e].f<Te[Xe].f?$e++:Xe++],Te[ze++]={s:-1,f:De.f+qe.f,l:De,r:qe};for(var We=Me[0].s,Be=1;Be<Re;++Be)Me[Be].s>We&&(We=Me[Be].s);var Ge=new u16(We+1),tn=ln(Te[ze-1],Ge,0);if(tn>Ee){var Be=0,en=0,an=tn-Ee,Ye=1<<an;for(Me.sort(function(on,hn){return Ge[hn.s]-Ge[on.s]||on.f-hn.f});Be<Re;++Be){var Ze=Me[Be].s;if(Ge[Ze]>Ee)en+=Ye-(1<<tn-Ge[Ze]),Ge[Ze]=Ee;else break}for(en>>=an;en>0;){var St=Me[Be].s;Ge[St]<Ee?en-=1<<Ee-Ge[St]++-1:++Be}for(;Be>=0&&en;--Be){var Qe=Me[Be].s;Ge[Qe]==Ee&&(--Ge[Qe],++en)}tn=Ee}return{t:new u8(Ge),l:tn}},ln=function(Ce,Ee,Te){return Ce.s==-1?Math.max(ln(Ce.l,Ee,Te+1),ln(Ce.r,Ee,Te+1)):Ee[Ce.s]=Te},lc=function(Ce){for(var Ee=Ce.length;Ee&&!Ce[--Ee];);for(var Te=new u16(++Ee),Be=0,Re=Ce[0],Me=1,Ue=function(qe){Te[Be++]=qe},De=1;De<=Ee;++De)if(Ce[De]==Re&&De!=Ee)++Me;else{if(!Re&&Me>2){for(;Me>138;Me-=138)Ue(32754);Me>2&&(Ue(Me>10?Me-11<<5|28690:Me-3<<5|12305),Me=0)}else if(Me>3){for(Ue(Re),--Me;Me>6;Me-=6)Ue(8304);Me>2&&(Ue(Me-3<<5|8208),Me=0)}for(;Me--;)Ue(Re);Me=1,Re=Ce[De]}return{c:Te.subarray(0,Be),n:Ee}},clen=function(Ce,Ee){for(var Te=0,Be=0;Be<Ee.length;++Be)Te+=Ce[Be]*Ee[Be];return Te},wfblk=function(Ce,Ee,Te){var Be=Te.length,Re=shft(Ee+2);Ce[Re]=Be&255,Ce[Re+1]=Be>>8,Ce[Re+2]=Ce[Re]^255,Ce[Re+3]=Ce[Re+1]^255;for(var Me=0;Me<Be;++Me)Ce[Re+Me+4]=Te[Me];return(Re+4+Be)*8},wblk=function(Ce,Ee,Te,Be,Re,Me,Ue,De,qe,$e,ze){wbits(Ee,ze++,Te),++Re[256];for(var Xe=hTree(Re,15),We=Xe.t,Ge=Xe.l,tn=hTree(Me,15),en=tn.t,an=tn.l,Ye=lc(We),Ze=Ye.c,St=Ye.n,Qe=lc(en),Je=Qe.c,on=Qe.n,hn=new u16(19),dn=0;dn<Ze.length;++dn)++hn[Ze[dn]&31];for(var dn=0;dn<Je.length;++dn)++hn[Je[dn]&31];for(var sn=hTree(hn,7),kn=sn.t,Pn=sn.l,_n=19;_n>4&&!kn[clim[_n-1]];--_n);var Mn=$e+5<<3,yn=clen(Re,flt)+clen(Me,fdt)+Ue,zn=clen(Re,We)+clen(Me,en)+Ue+14+3*_n+clen(hn,kn)+2*hn[16]+3*hn[17]+7*hn[18];if(qe>=0&&Mn<=yn&&Mn<=zn)return wfblk(Ee,ze,Ce.subarray(qe,qe+$e));var Ln,Vn,On,Un;if(wbits(Ee,ze,1+(zn<yn)),ze+=2,zn<yn){Ln=hMap(We,Ge,0),Vn=We,On=hMap(en,an,0),Un=en;var jn=hMap(kn,Pn,0);wbits(Ee,ze,St-257),wbits(Ee,ze+5,on-1),wbits(Ee,ze+10,_n-4),ze+=14;for(var dn=0;dn<_n;++dn)wbits(Ee,ze+3*dn,kn[clim[dn]]);ze+=3*_n;for(var Gn=[Ze,Je],An=0;An<2;++An)for(var $n=Gn[An],dn=0;dn<$n.length;++dn){var Nn=$n[dn]&31;wbits(Ee,ze,jn[Nn]),ze+=kn[Nn],Nn>15&&(wbits(Ee,ze,$n[dn]>>5&127),ze+=$n[dn]>>12)}}else Ln=flm,Vn=flt,On=fdm,Un=fdt;for(var dn=0;dn<De;++dn){var En=Be[dn];if(En>255){var Nn=En>>18&31;wbits16(Ee,ze,Ln[Nn+257]),ze+=Vn[Nn+257],Nn>7&&(wbits(Ee,ze,En>>23&31),ze+=fleb[Nn]);var Sn=En&31;wbits16(Ee,ze,On[Sn]),ze+=Un[Sn],Sn>3&&(wbits16(Ee,ze,En>>5&8191),ze+=fdeb[Sn])}else wbits16(Ee,ze,Ln[En]),ze+=Vn[En]}return wbits16(Ee,ze,Ln[256]),ze+Vn[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Ce,Ee,Te,Be,Re,Me){var Ue=Me.z||Ce.length,De=new u8(Be+Ue+5*(1+Math.ceil(Ue/7e3))+Re),qe=De.subarray(Be,De.length-Re),$e=Me.l,ze=(Me.r||0)&7;if(Ee){ze&&(qe[0]=Me.r>>3);for(var Xe=deo[Ee-1],We=Xe>>13,Ge=Xe&8191,tn=(1<<Te)-1,en=Me.p||new u16(32768),an=Me.h||new u16(tn+1),Ye=Math.ceil(Te/3),Ze=2*Ye,St=function(vn){return(Ce[vn]^Ce[vn+1]<<Ye^Ce[vn+2]<<Ze)&tn},Qe=new i32(25e3),Je=new u16(288),on=new u16(32),hn=0,dn=0,sn=Me.i||0,kn=0,Pn=Me.w||0,_n=0;sn+2<Ue;++sn){var Mn=St(sn),yn=sn&32767,zn=an[Mn];if(en[yn]=zn,an[Mn]=yn,Pn<=sn){var Ln=Ue-sn;if((hn>7e3||kn>24576)&&(Ln>423||!$e)){ze=wblk(Ce,qe,0,Qe,Je,on,dn,kn,_n,sn-_n,ze),kn=hn=dn=0,_n=sn;for(var Vn=0;Vn<286;++Vn)Je[Vn]=0;for(var Vn=0;Vn<30;++Vn)on[Vn]=0}var On=2,Un=0,jn=Ge,Gn=yn-zn&32767;if(Ln>2&&Mn==St(sn-Gn))for(var An=Math.min(We,Ln)-1,$n=Math.min(32767,sn),Nn=Math.min(258,Ln);Gn<=$n&&--jn&&yn!=zn;){if(Ce[sn+On]==Ce[sn+On-Gn]){for(var En=0;En<Nn&&Ce[sn+En]==Ce[sn+En-Gn];++En);if(En>On){if(On=En,Un=Gn,En>An)break;for(var Sn=Math.min(Gn,En-2),pn=0,Vn=0;Vn<Sn;++Vn){var mn=sn-Gn+Vn&32767,un=en[mn],wn=mn-un&32767;wn>pn&&(pn=wn,zn=mn)}}}yn=zn,zn=en[yn],Gn+=yn-zn&32767}if(Un){Qe[kn++]=268435456|revfl[On]<<18|revfd[Un];var xn=revfl[On]&31,Rn=revfd[Un]&31;dn+=fleb[xn]+fdeb[Rn],++Je[257+xn],++on[Rn],Pn=sn+On,++hn}else Qe[kn++]=Ce[sn],++Je[Ce[sn]]}}for(sn=Math.max(sn,Pn);sn<Ue;++sn)Qe[kn++]=Ce[sn],++Je[Ce[sn]];ze=wblk(Ce,qe,$e,Qe,Je,on,dn,kn,_n,sn-_n,ze),$e||(Me.r=ze&7|qe[ze/8|0]<<3,ze-=7,Me.h=an,Me.p=en,Me.i=sn,Me.w=Pn)}else{for(var sn=Me.w||0;sn<Ue+$e;sn+=65535){var Hn=sn+65535;Hn>=Ue&&(qe[ze/8|0]=$e,Hn=Ue),ze=wfblk(qe,ze+1,Ce.subarray(sn,Hn))}Me.i=Ue}return slc(De,0,Be+shft(ze)+Re)},adler=function(){var Ce=1,Ee=0;return{p:function(Te){for(var Be=Ce,Re=Ee,Me=Te.length|0,Ue=0;Ue!=Me;){for(var De=Math.min(Ue+2655,Me);Ue<De;++Ue)Re+=Be+=Te[Ue];Be=(Be&65535)+15*(Be>>16),Re=(Re&65535)+15*(Re>>16)}Ce=Be,Ee=Re},d:function(){return Ce%=65521,Ee%=65521,(Ce&255)<<24|(Ce&65280)<<8|(Ee&255)<<8|Ee>>8}}},dopt=function(Ce,Ee,Te,Be,Re){if(!Re&&(Re={l:1},Ee.dictionary)){var Me=Ee.dictionary.subarray(-32768),Ue=new u8(Me.length+Ce.length);Ue.set(Me),Ue.set(Ce,Me.length),Ce=Ue,Re.w=Me.length}return dflt(Ce,Ee.level==null?6:Ee.level,Ee.mem==null?Re.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Ce.length)))*1.5):20:12+Ee.mem,Te,Be,Re)},wbytes=function(Ce,Ee,Te){for(;Te;++Ee)Ce[Ee]=Te,Te>>>=8},zlh=function(Ce,Ee){var Te=Ee.level,Be=Te==0?0:Te<6?1:Te==9?3:2;if(Ce[0]=120,Ce[1]=Be<<6|(Ee.dictionary&&32),Ce[1]|=31-(Ce[0]<<8|Ce[1])%31,Ee.dictionary){var Re=adler();Re.p(Ee.dictionary),wbytes(Ce,2,Re.d())}};function zlibSync(Ce,Ee){Ee||(Ee={});var Te=adler();Te.p(Ce);var Be=dopt(Ce,Ee,Ee.dictionary?6:2,4);return zlh(Be,Ee),wbytes(Be,Be.length-4,Te.d()),Be}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Ce){}function _arrayWithHoles(Ce){if(Array.isArray(Ce))return Ce}function _iterableToArrayLimit(Ce,Ee){var Te=Ce==null?null:typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(Te!=null){var Be,Re,Me,Ue,De=[],qe=!0,$e=!1;try{if(Me=(Te=Te.call(Ce)).next,Ee!==0)for(;!(qe=(Be=Me.call(Te)).done)&&(De.push(Be.value),De.length!==Ee);qe=!0);}catch(ze){$e=!0,Re=ze}finally{try{if(!qe&&Te.return!=null&&(Ue=Te.return(),Object(Ue)!==Ue))return}finally{if($e)throw Re}}return De}}function _arrayLikeToArray(Ce,Ee){(Ee==null||Ee>Ce.length)&&(Ee=Ce.length);for(var Te=0,Be=Array(Ee);Te<Ee;Te++)Be[Te]=Ce[Te];return Be}function _unsupportedIterableToArray(Ce,Ee){if(Ce){if(typeof Ce=="string")return _arrayLikeToArray(Ce,Ee);var Te={}.toString.call(Ce).slice(8,-1);return Te==="Object"&&Ce.constructor&&(Te=Ce.constructor.name),Te==="Map"||Te==="Set"?Array.from(Ce):Te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te)?_arrayLikeToArray(Ce,Ee):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Ce,Ee){return _arrayWithHoles(Ce)||_iterableToArrayLimit(Ce,Ee)||_unsupportedIterableToArray(Ce,Ee)||_nonIterableRest()}function decode$1(Ce,Ee="utf8"){return new TextDecoder(Ee).decode(Ce)}const encoder=new TextEncoder;function encode(Ce){return encoder.encode(Ce)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const Ce=new Uint8Array(4),Ee=new Uint32Array(Ce.buffer);return!((Ee[0]=1)&Ce[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(Ee=defaultByteLength,Te={}){wi(this,"buffer");wi(this,"byteLength");wi(this,"byteOffset");wi(this,"length");wi(this,"offset");wi(this,"lastWrittenByte");wi(this,"littleEndian");wi(this,"_data");wi(this,"_mark");wi(this,"_marks");let Be=!1;typeof Ee=="number"?Ee=new ArrayBuffer(Ee):(Be=!0,this.lastWrittenByte=Ee.byteLength);const Re=Te.offset?Te.offset>>>0:0,Me=Ee.byteLength-Re;let Ue=Re;(ArrayBuffer.isView(Ee)||Ee instanceof IOBuffer)&&(Ee.byteLength!==Ee.buffer.byteLength&&(Ue=Ee.byteOffset+Re),Ee=Ee.buffer),Be?this.lastWrittenByte=Me:this.lastWrittenByte=0,this.buffer=Ee,this.length=Me,this.byteLength=Me,this.byteOffset=Ue,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Ue,Me),this._mark=0,this._marks=[]}available(Ee=1){return this.offset+Ee<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(Ee=1){return this.offset+=Ee,this}back(Ee=1){return this.offset-=Ee,this}seek(Ee){return this.offset=Ee,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const Ee=this._marks.pop();if(Ee===void 0)throw new Error("Mark stack empty");return this.seek(Ee),this}rewind(){return this.offset=0,this}ensureAvailable(Ee=1){if(!this.available(Ee)){const Be=(this.offset+Ee)*2,Re=new Uint8Array(Be);Re.set(new Uint8Array(this.buffer)),this.buffer=Re.buffer,this.length=Be,this.byteLength=Be,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(Ee=1){return this.readArray(Ee,"uint8")}readArray(Ee,Te){const Be=typedArrays[Te].BYTES_PER_ELEMENT*Ee,Re=this.byteOffset+this.offset,Me=this.buffer.slice(Re,Re+Be);if(this.littleEndian===hostBigEndian&&Te!=="uint8"&&Te!=="int8"){const De=new Uint8Array(this.buffer.slice(Re,Re+Be));De.reverse();const qe=new typedArrays[Te](De.buffer);return this.offset+=Be,qe.reverse(),qe}const Ue=new typedArrays[Te](Me);return this.offset+=Be,Ue}readInt16(){const Ee=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,Ee}readUint16(){const Ee=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,Ee}readInt32(){const Ee=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,Ee}readUint32(){const Ee=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,Ee}readFloat32(){const Ee=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,Ee}readFloat64(){const Ee=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,Ee}readBigInt64(){const Ee=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,Ee}readBigUint64(){const Ee=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,Ee}readChar(){return String.fromCharCode(this.readInt8())}readChars(Ee=1){let Te="";for(let Be=0;Be<Ee;Be++)Te+=this.readChar();return Te}readUtf8(Ee=1){return decode$1(this.readBytes(Ee))}decodeText(Ee=1,Te="utf8"){return decode$1(this.readBytes(Ee),Te)}writeBoolean(Ee){return this.writeUint8(Ee?255:0),this}writeInt8(Ee){return this.ensureAvailable(1),this._data.setInt8(this.offset++,Ee),this._updateLastWrittenByte(),this}writeUint8(Ee){return this.ensureAvailable(1),this._data.setUint8(this.offset++,Ee),this._updateLastWrittenByte(),this}writeByte(Ee){return this.writeUint8(Ee)}writeBytes(Ee){this.ensureAvailable(Ee.length);for(let Te=0;Te<Ee.length;Te++)this._data.setUint8(this.offset++,Ee[Te]);return this._updateLastWrittenByte(),this}writeInt16(Ee){return this.ensureAvailable(2),this._data.setInt16(this.offset,Ee,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(Ee){return this.ensureAvailable(2),this._data.setUint16(this.offset,Ee,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(Ee){return this.ensureAvailable(4),this._data.setInt32(this.offset,Ee,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(Ee){return this.ensureAvailable(4),this._data.setUint32(this.offset,Ee,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(Ee){return this.ensureAvailable(4),this._data.setFloat32(this.offset,Ee,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(Ee){return this.ensureAvailable(8),this._data.setFloat64(this.offset,Ee,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(Ee){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,Ee,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(Ee){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,Ee,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(Ee){return this.writeUint8(Ee.charCodeAt(0))}writeChars(Ee){for(let Te=0;Te<Ee.length;Te++)this.writeUint8(Ee.charCodeAt(Te));return this}writeUtf8(Ee){return this.writeBytes(encode(Ee))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zero$1(Ce){let Ee=Ce.length;for(;--Ee>=0;)Ce[Ee]=0}const MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);const adler32=(Ce,Ee,Te,Be)=>{let Re=Ce&65535|0,Me=Ce>>>16&65535|0,Ue=0;for(;Te!==0;){Ue=Te>2e3?2e3:Te,Te-=Ue;do Re=Re+Ee[Be++]|0,Me=Me+Re|0;while(--Ue);Re%=65521,Me%=65521}return Re|Me<<16|0};var adler32_1=adler32;const makeTable=()=>{let Ce,Ee=[];for(var Te=0;Te<256;Te++){Ce=Te;for(var Be=0;Be<8;Be++)Ce=Ce&1?3988292384^Ce>>>1:Ce>>>1;Ee[Te]=Ce}return Ee},crcTable$1=new Uint32Array(makeTable()),crc32=(Ce,Ee,Te,Be)=>{const Re=crcTable$1,Me=Be+Te;Ce^=-1;for(let Ue=Be;Ue<Me;Ue++)Ce=Ce>>>8^Re[(Ce^Ee[Ue])&255];return Ce^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _has=(Ce,Ee)=>Object.prototype.hasOwnProperty.call(Ce,Ee);var assign=function(Ce){const Ee=Array.prototype.slice.call(arguments,1);for(;Ee.length;){const Te=Ee.shift();if(Te){if(typeof Te!="object")throw new TypeError(Te+"must be non-object");for(const Be in Te)_has(Te,Be)&&(Ce[Be]=Te[Be])}}return Ce},flattenChunks=Ce=>{let Ee=0;for(let Be=0,Re=Ce.length;Be<Re;Be++)Ee+=Ce[Be].length;const Te=new Uint8Array(Ee);for(let Be=0,Re=0,Me=Ce.length;Be<Me;Be++){let Ue=Ce[Be];Te.set(Ue,Re),Re+=Ue.length}return Te},common$2={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ce){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let Ce=0;Ce<256;Ce++)_utf8len[Ce]=Ce>=252?6:Ce>=248?5:Ce>=240?4:Ce>=224?3:Ce>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=Ce=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ce);let Ee,Te,Be,Re,Me,Ue=Ce.length,De=0;for(Re=0;Re<Ue;Re++)Te=Ce.charCodeAt(Re),(Te&64512)===55296&&Re+1<Ue&&(Be=Ce.charCodeAt(Re+1),(Be&64512)===56320&&(Te=65536+(Te-55296<<10)+(Be-56320),Re++)),De+=Te<128?1:Te<2048?2:Te<65536?3:4;for(Ee=new Uint8Array(De),Me=0,Re=0;Me<De;Re++)Te=Ce.charCodeAt(Re),(Te&64512)===55296&&Re+1<Ue&&(Be=Ce.charCodeAt(Re+1),(Be&64512)===56320&&(Te=65536+(Te-55296<<10)+(Be-56320),Re++)),Te<128?Ee[Me++]=Te:Te<2048?(Ee[Me++]=192|Te>>>6,Ee[Me++]=128|Te&63):Te<65536?(Ee[Me++]=224|Te>>>12,Ee[Me++]=128|Te>>>6&63,Ee[Me++]=128|Te&63):(Ee[Me++]=240|Te>>>18,Ee[Me++]=128|Te>>>12&63,Ee[Me++]=128|Te>>>6&63,Ee[Me++]=128|Te&63);return Ee};const buf2binstring=(Ce,Ee)=>{if(Ee<65534&&Ce.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,Ce.length===Ee?Ce:Ce.subarray(0,Ee));let Te="";for(let Be=0;Be<Ee;Be++)Te+=String.fromCharCode(Ce[Be]);return Te};var buf2string=(Ce,Ee)=>{const Te=Ee||Ce.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ce.subarray(0,Ee));let Be,Re;const Me=new Array(Te*2);for(Re=0,Be=0;Be<Te;){let Ue=Ce[Be++];if(Ue<128){Me[Re++]=Ue;continue}let De=_utf8len[Ue];if(De>4){Me[Re++]=65533,Be+=De-1;continue}for(Ue&=De===2?31:De===3?15:7;De>1&&Be<Te;)Ue=Ue<<6|Ce[Be++]&63,De--;if(De>1){Me[Re++]=65533;continue}Ue<65536?Me[Re++]=Ue:(Ue-=65536,Me[Re++]=55296|Ue>>10&1023,Me[Re++]=56320|Ue&1023)}return buf2binstring(Me,Re)},utf8border=(Ce,Ee)=>{Ee=Ee||Ce.length,Ee>Ce.length&&(Ee=Ce.length);let Te=Ee-1;for(;Te>=0&&(Ce[Te]&192)===128;)Te--;return Te<0||Te===0?Ee:Te+_utf8len[Ce[Te]]>Ee?Te:Ee},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const BAD$1=16209,TYPE$1=16191;var inffast=function Ce(Ee,Te){let Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en,an,Ye,Ze,St,Qe,Je,on,hn,dn,sn,kn;const Pn=Ee.state;Be=Ee.next_in,sn=Ee.input,Re=Be+(Ee.avail_in-5),Me=Ee.next_out,kn=Ee.output,Ue=Me-(Te-Ee.avail_out),De=Me+(Ee.avail_out-257),qe=Pn.dmax,$e=Pn.wsize,ze=Pn.whave,Xe=Pn.wnext,We=Pn.window,Ge=Pn.hold,tn=Pn.bits,en=Pn.lencode,an=Pn.distcode,Ye=(1<<Pn.lenbits)-1,Ze=(1<<Pn.distbits)-1;e:do{tn<15&&(Ge+=sn[Be++]<<tn,tn+=8,Ge+=sn[Be++]<<tn,tn+=8),St=en[Ge&Ye];t:for(;;){if(Qe=St>>>24,Ge>>>=Qe,tn-=Qe,Qe=St>>>16&255,Qe===0)kn[Me++]=St&65535;else if(Qe&16){Je=St&65535,Qe&=15,Qe&&(tn<Qe&&(Ge+=sn[Be++]<<tn,tn+=8),Je+=Ge&(1<<Qe)-1,Ge>>>=Qe,tn-=Qe),tn<15&&(Ge+=sn[Be++]<<tn,tn+=8,Ge+=sn[Be++]<<tn,tn+=8),St=an[Ge&Ze];n:for(;;){if(Qe=St>>>24,Ge>>>=Qe,tn-=Qe,Qe=St>>>16&255,Qe&16){if(on=St&65535,Qe&=15,tn<Qe&&(Ge+=sn[Be++]<<tn,tn+=8,tn<Qe&&(Ge+=sn[Be++]<<tn,tn+=8)),on+=Ge&(1<<Qe)-1,on>qe){Ee.msg="invalid distance too far back",Pn.mode=BAD$1;break e}if(Ge>>>=Qe,tn-=Qe,Qe=Me-Ue,on>Qe){if(Qe=on-Qe,Qe>ze&&Pn.sane){Ee.msg="invalid distance too far back",Pn.mode=BAD$1;break e}if(hn=0,dn=We,Xe===0){if(hn+=$e-Qe,Qe<Je){Je-=Qe;do kn[Me++]=We[hn++];while(--Qe);hn=Me-on,dn=kn}}else if(Xe<Qe){if(hn+=$e+Xe-Qe,Qe-=Xe,Qe<Je){Je-=Qe;do kn[Me++]=We[hn++];while(--Qe);if(hn=0,Xe<Je){Qe=Xe,Je-=Qe;do kn[Me++]=We[hn++];while(--Qe);hn=Me-on,dn=kn}}}else if(hn+=Xe-Qe,Qe<Je){Je-=Qe;do kn[Me++]=We[hn++];while(--Qe);hn=Me-on,dn=kn}for(;Je>2;)kn[Me++]=dn[hn++],kn[Me++]=dn[hn++],kn[Me++]=dn[hn++],Je-=3;Je&&(kn[Me++]=dn[hn++],Je>1&&(kn[Me++]=dn[hn++]))}else{hn=Me-on;do kn[Me++]=kn[hn++],kn[Me++]=kn[hn++],kn[Me++]=kn[hn++],Je-=3;while(Je>2);Je&&(kn[Me++]=kn[hn++],Je>1&&(kn[Me++]=kn[hn++]))}}else if((Qe&64)===0){St=an[(St&65535)+(Ge&(1<<Qe)-1)];continue n}else{Ee.msg="invalid distance code",Pn.mode=BAD$1;break e}break}}else if((Qe&64)===0){St=en[(St&65535)+(Ge&(1<<Qe)-1)];continue t}else if(Qe&32){Pn.mode=TYPE$1;break e}else{Ee.msg="invalid literal/length code",Pn.mode=BAD$1;break e}break}}while(Be<Re&&Me<De);Je=tn>>3,Be-=Je,tn-=Je<<3,Ge&=(1<<tn)-1,Ee.next_in=Be,Ee.next_out=Me,Ee.avail_in=Be<Re?5+(Re-Be):5-(Be-Re),Ee.avail_out=Me<De?257+(De-Me):257-(Me-De),Pn.hold=Ge,Pn.bits=tn};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(Ce,Ee,Te,Be,Re,Me,Ue,De)=>{const qe=De.bits;let $e=0,ze=0,Xe=0,We=0,Ge=0,tn=0,en=0,an=0,Ye=0,Ze=0,St,Qe,Je,on,hn,dn=null,sn;const kn=new Uint16Array(MAXBITS+1),Pn=new Uint16Array(MAXBITS+1);let _n=null,Mn,yn,zn;for($e=0;$e<=MAXBITS;$e++)kn[$e]=0;for(ze=0;ze<Be;ze++)kn[Ee[Te+ze]]++;for(Ge=qe,We=MAXBITS;We>=1&&kn[We]===0;We--);if(Ge>We&&(Ge=We),We===0)return Re[Me++]=1<<24|64<<16|0,Re[Me++]=1<<24|64<<16|0,De.bits=1,0;for(Xe=1;Xe<We&&kn[Xe]===0;Xe++);for(Ge<Xe&&(Ge=Xe),an=1,$e=1;$e<=MAXBITS;$e++)if(an<<=1,an-=kn[$e],an<0)return-1;if(an>0&&(Ce===CODES$1||We!==1))return-1;for(Pn[1]=0,$e=1;$e<MAXBITS;$e++)Pn[$e+1]=Pn[$e]+kn[$e];for(ze=0;ze<Be;ze++)Ee[Te+ze]!==0&&(Ue[Pn[Ee[Te+ze]]++]=ze);if(Ce===CODES$1?(dn=_n=Ue,sn=20):Ce===LENS$1?(dn=lbase,_n=lext,sn=257):(dn=dbase,_n=dext,sn=0),Ze=0,ze=0,$e=Xe,hn=Me,tn=Ge,en=0,Je=-1,Ye=1<<Ge,on=Ye-1,Ce===LENS$1&&Ye>ENOUGH_LENS$1||Ce===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;for(;;){Mn=$e-en,Ue[ze]+1<sn?(yn=0,zn=Ue[ze]):Ue[ze]>=sn?(yn=_n[Ue[ze]-sn],zn=dn[Ue[ze]-sn]):(yn=96,zn=0),St=1<<$e-en,Qe=1<<tn,Xe=Qe;do Qe-=St,Re[hn+(Ze>>en)+Qe]=Mn<<24|yn<<16|zn|0;while(Qe!==0);for(St=1<<$e-1;Ze&St;)St>>=1;if(St!==0?(Ze&=St-1,Ze+=St):Ze=0,ze++,--kn[$e]===0){if($e===We)break;$e=Ee[Te+Ue[ze]]}if($e>Ge&&(Ze&on)!==Je){for(en===0&&(en=Ge),hn+=Xe,tn=$e-en,an=1<<tn;tn+en<We&&(an-=kn[tn+en],!(an<=0));)tn++,an<<=1;if(Ye+=1<<tn,Ce===LENS$1&&Ye>ENOUGH_LENS$1||Ce===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;Je=Ze&on,Re[Je]=Ge<<24|tn<<16|hn-Me|0}}return Ze!==0&&(Re[hn+Ze]=$e-en<<24|64<<16|0),De.bits=Ge,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=Ce=>(Ce>>>24&255)+(Ce>>>8&65280)+((Ce&65280)<<8)+((Ce&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=Ce=>{if(!Ce)return 1;const Ee=Ce.state;return!Ee||Ee.strm!==Ce||Ee.mode<HEAD||Ee.mode>SYNC?1:0},inflateResetKeep=Ce=>{if(inflateStateCheck(Ce))return Z_STREAM_ERROR$1;const Ee=Ce.state;return Ce.total_in=Ce.total_out=Ee.total=0,Ce.msg="",Ee.wrap&&(Ce.adler=Ee.wrap&1),Ee.mode=HEAD,Ee.last=0,Ee.havedict=0,Ee.flags=-1,Ee.dmax=32768,Ee.head=null,Ee.hold=0,Ee.bits=0,Ee.lencode=Ee.lendyn=new Int32Array(ENOUGH_LENS),Ee.distcode=Ee.distdyn=new Int32Array(ENOUGH_DISTS),Ee.sane=1,Ee.back=-1,Z_OK$1},inflateReset=Ce=>{if(inflateStateCheck(Ce))return Z_STREAM_ERROR$1;const Ee=Ce.state;return Ee.wsize=0,Ee.whave=0,Ee.wnext=0,inflateResetKeep(Ce)},inflateReset2=(Ce,Ee)=>{let Te;if(inflateStateCheck(Ce))return Z_STREAM_ERROR$1;const Be=Ce.state;return Ee<0?(Te=0,Ee=-Ee):(Te=(Ee>>4)+5,Ee<48&&(Ee&=15)),Ee&&(Ee<8||Ee>15)?Z_STREAM_ERROR$1:(Be.window!==null&&Be.wbits!==Ee&&(Be.window=null),Be.wrap=Te,Be.wbits=Ee,inflateReset(Ce))},inflateInit2=(Ce,Ee)=>{if(!Ce)return Z_STREAM_ERROR$1;const Te=new InflateState;Ce.state=Te,Te.strm=Ce,Te.window=null,Te.mode=HEAD;const Be=inflateReset2(Ce,Ee);return Be!==Z_OK$1&&(Ce.state=null),Be},inflateInit=Ce=>inflateInit2(Ce,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=Ce=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let Ee=0;for(;Ee<144;)Ce.lens[Ee++]=8;for(;Ee<256;)Ce.lens[Ee++]=9;for(;Ee<280;)Ce.lens[Ee++]=7;for(;Ee<288;)Ce.lens[Ee++]=8;for(inftrees(LENS,Ce.lens,0,288,lenfix,0,Ce.work,{bits:9}),Ee=0;Ee<32;)Ce.lens[Ee++]=5;inftrees(DISTS,Ce.lens,0,32,distfix,0,Ce.work,{bits:5}),virgin=!1}Ce.lencode=lenfix,Ce.lenbits=9,Ce.distcode=distfix,Ce.distbits=5},updatewindow=(Ce,Ee,Te,Be)=>{let Re;const Me=Ce.state;return Me.window===null&&(Me.wsize=1<<Me.wbits,Me.wnext=0,Me.whave=0,Me.window=new Uint8Array(Me.wsize)),Be>=Me.wsize?(Me.window.set(Ee.subarray(Te-Me.wsize,Te),0),Me.wnext=0,Me.whave=Me.wsize):(Re=Me.wsize-Me.wnext,Re>Be&&(Re=Be),Me.window.set(Ee.subarray(Te-Be,Te-Be+Re),Me.wnext),Be-=Re,Be?(Me.window.set(Ee.subarray(Te-Be,Te),0),Me.wnext=Be,Me.whave=Me.wsize):(Me.wnext+=Re,Me.wnext===Me.wsize&&(Me.wnext=0),Me.whave<Me.wsize&&(Me.whave+=Re))),0},inflate$2=(Ce,Ee)=>{let Te,Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en,an=0,Ye,Ze,St,Qe,Je,on,hn,dn;const sn=new Uint8Array(4);let kn,Pn;const _n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(Ce)||!Ce.output||!Ce.input&&Ce.avail_in!==0)return Z_STREAM_ERROR$1;Te=Ce.state,Te.mode===TYPE&&(Te.mode=TYPEDO),Ue=Ce.next_out,Re=Ce.output,qe=Ce.avail_out,Me=Ce.next_in,Be=Ce.input,De=Ce.avail_in,$e=Te.hold,ze=Te.bits,Xe=De,We=qe,dn=Z_OK$1;e:for(;;)switch(Te.mode){case HEAD:if(Te.wrap===0){Te.mode=TYPEDO;break}for(;ze<16;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Te.wrap&2&&$e===35615){Te.wbits===0&&(Te.wbits=15),Te.check=0,sn[0]=$e&255,sn[1]=$e>>>8&255,Te.check=crc32_1(Te.check,sn,2,0),$e=0,ze=0,Te.mode=FLAGS;break}if(Te.head&&(Te.head.done=!1),!(Te.wrap&1)||((($e&255)<<8)+($e>>8))%31){Ce.msg="incorrect header check",Te.mode=BAD;break}if(($e&15)!==Z_DEFLATED){Ce.msg="unknown compression method",Te.mode=BAD;break}if($e>>>=4,ze-=4,hn=($e&15)+8,Te.wbits===0&&(Te.wbits=hn),hn>15||hn>Te.wbits){Ce.msg="invalid window size",Te.mode=BAD;break}Te.dmax=1<<Te.wbits,Te.flags=0,Ce.adler=Te.check=1,Te.mode=$e&512?DICTID:TYPE,$e=0,ze=0;break;case FLAGS:for(;ze<16;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Te.flags=$e,(Te.flags&255)!==Z_DEFLATED){Ce.msg="unknown compression method",Te.mode=BAD;break}if(Te.flags&57344){Ce.msg="unknown header flags set",Te.mode=BAD;break}Te.head&&(Te.head.text=$e>>8&1),Te.flags&512&&Te.wrap&4&&(sn[0]=$e&255,sn[1]=$e>>>8&255,Te.check=crc32_1(Te.check,sn,2,0)),$e=0,ze=0,Te.mode=TIME;case TIME:for(;ze<32;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.head&&(Te.head.time=$e),Te.flags&512&&Te.wrap&4&&(sn[0]=$e&255,sn[1]=$e>>>8&255,sn[2]=$e>>>16&255,sn[3]=$e>>>24&255,Te.check=crc32_1(Te.check,sn,4,0)),$e=0,ze=0,Te.mode=OS;case OS:for(;ze<16;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.head&&(Te.head.xflags=$e&255,Te.head.os=$e>>8),Te.flags&512&&Te.wrap&4&&(sn[0]=$e&255,sn[1]=$e>>>8&255,Te.check=crc32_1(Te.check,sn,2,0)),$e=0,ze=0,Te.mode=EXLEN;case EXLEN:if(Te.flags&1024){for(;ze<16;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.length=$e,Te.head&&(Te.head.extra_len=$e),Te.flags&512&&Te.wrap&4&&(sn[0]=$e&255,sn[1]=$e>>>8&255,Te.check=crc32_1(Te.check,sn,2,0)),$e=0,ze=0}else Te.head&&(Te.head.extra=null);Te.mode=EXTRA;case EXTRA:if(Te.flags&1024&&(Ge=Te.length,Ge>De&&(Ge=De),Ge&&(Te.head&&(hn=Te.head.extra_len-Te.length,Te.head.extra||(Te.head.extra=new Uint8Array(Te.head.extra_len)),Te.head.extra.set(Be.subarray(Me,Me+Ge),hn)),Te.flags&512&&Te.wrap&4&&(Te.check=crc32_1(Te.check,Be,Ge,Me)),De-=Ge,Me+=Ge,Te.length-=Ge),Te.length))break e;Te.length=0,Te.mode=NAME;case NAME:if(Te.flags&2048){if(De===0)break e;Ge=0;do hn=Be[Me+Ge++],Te.head&&hn&&Te.length<65536&&(Te.head.name+=String.fromCharCode(hn));while(hn&&Ge<De);if(Te.flags&512&&Te.wrap&4&&(Te.check=crc32_1(Te.check,Be,Ge,Me)),De-=Ge,Me+=Ge,hn)break e}else Te.head&&(Te.head.name=null);Te.length=0,Te.mode=COMMENT;case COMMENT:if(Te.flags&4096){if(De===0)break e;Ge=0;do hn=Be[Me+Ge++],Te.head&&hn&&Te.length<65536&&(Te.head.comment+=String.fromCharCode(hn));while(hn&&Ge<De);if(Te.flags&512&&Te.wrap&4&&(Te.check=crc32_1(Te.check,Be,Ge,Me)),De-=Ge,Me+=Ge,hn)break e}else Te.head&&(Te.head.comment=null);Te.mode=HCRC;case HCRC:if(Te.flags&512){for(;ze<16;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Te.wrap&4&&$e!==(Te.check&65535)){Ce.msg="header crc mismatch",Te.mode=BAD;break}$e=0,ze=0}Te.head&&(Te.head.hcrc=Te.flags>>9&1,Te.head.done=!0),Ce.adler=Te.check=0,Te.mode=TYPE;break;case DICTID:for(;ze<32;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Ce.adler=Te.check=zswap32($e),$e=0,ze=0,Te.mode=DICT;case DICT:if(Te.havedict===0)return Ce.next_out=Ue,Ce.avail_out=qe,Ce.next_in=Me,Ce.avail_in=De,Te.hold=$e,Te.bits=ze,Z_NEED_DICT$1;Ce.adler=Te.check=1,Te.mode=TYPE;case TYPE:if(Ee===Z_BLOCK||Ee===Z_TREES)break e;case TYPEDO:if(Te.last){$e>>>=ze&7,ze-=ze&7,Te.mode=CHECK;break}for(;ze<3;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}switch(Te.last=$e&1,$e>>>=1,ze-=1,$e&3){case 0:Te.mode=STORED;break;case 1:if(fixedtables(Te),Te.mode=LEN_,Ee===Z_TREES){$e>>>=2,ze-=2;break e}break;case 2:Te.mode=TABLE;break;case 3:Ce.msg="invalid block type",Te.mode=BAD}$e>>>=2,ze-=2;break;case STORED:for($e>>>=ze&7,ze-=ze&7;ze<32;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(($e&65535)!==($e>>>16^65535)){Ce.msg="invalid stored block lengths",Te.mode=BAD;break}if(Te.length=$e&65535,$e=0,ze=0,Te.mode=COPY_,Ee===Z_TREES)break e;case COPY_:Te.mode=COPY;case COPY:if(Ge=Te.length,Ge){if(Ge>De&&(Ge=De),Ge>qe&&(Ge=qe),Ge===0)break e;Re.set(Be.subarray(Me,Me+Ge),Ue),De-=Ge,Me+=Ge,qe-=Ge,Ue+=Ge,Te.length-=Ge;break}Te.mode=TYPE;break;case TABLE:for(;ze<14;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Te.nlen=($e&31)+257,$e>>>=5,ze-=5,Te.ndist=($e&31)+1,$e>>>=5,ze-=5,Te.ncode=($e&15)+4,$e>>>=4,ze-=4,Te.nlen>286||Te.ndist>30){Ce.msg="too many length or distance symbols",Te.mode=BAD;break}Te.have=0,Te.mode=LENLENS;case LENLENS:for(;Te.have<Te.ncode;){for(;ze<3;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.lens[_n[Te.have++]]=$e&7,$e>>>=3,ze-=3}for(;Te.have<19;)Te.lens[_n[Te.have++]]=0;if(Te.lencode=Te.lendyn,Te.lenbits=7,kn={bits:Te.lenbits},dn=inftrees(CODES,Te.lens,0,19,Te.lencode,0,Te.work,kn),Te.lenbits=kn.bits,dn){Ce.msg="invalid code lengths set",Te.mode=BAD;break}Te.have=0,Te.mode=CODELENS;case CODELENS:for(;Te.have<Te.nlen+Te.ndist;){for(;an=Te.lencode[$e&(1<<Te.lenbits)-1],Ye=an>>>24,Ze=an>>>16&255,St=an&65535,!(Ye<=ze);){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(St<16)$e>>>=Ye,ze-=Ye,Te.lens[Te.have++]=St;else{if(St===16){for(Pn=Ye+2;ze<Pn;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if($e>>>=Ye,ze-=Ye,Te.have===0){Ce.msg="invalid bit length repeat",Te.mode=BAD;break}hn=Te.lens[Te.have-1],Ge=3+($e&3),$e>>>=2,ze-=2}else if(St===17){for(Pn=Ye+3;ze<Pn;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}$e>>>=Ye,ze-=Ye,hn=0,Ge=3+($e&7),$e>>>=3,ze-=3}else{for(Pn=Ye+7;ze<Pn;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}$e>>>=Ye,ze-=Ye,hn=0,Ge=11+($e&127),$e>>>=7,ze-=7}if(Te.have+Ge>Te.nlen+Te.ndist){Ce.msg="invalid bit length repeat",Te.mode=BAD;break}for(;Ge--;)Te.lens[Te.have++]=hn}}if(Te.mode===BAD)break;if(Te.lens[256]===0){Ce.msg="invalid code -- missing end-of-block",Te.mode=BAD;break}if(Te.lenbits=9,kn={bits:Te.lenbits},dn=inftrees(LENS,Te.lens,0,Te.nlen,Te.lencode,0,Te.work,kn),Te.lenbits=kn.bits,dn){Ce.msg="invalid literal/lengths set",Te.mode=BAD;break}if(Te.distbits=6,Te.distcode=Te.distdyn,kn={bits:Te.distbits},dn=inftrees(DISTS,Te.lens,Te.nlen,Te.ndist,Te.distcode,0,Te.work,kn),Te.distbits=kn.bits,dn){Ce.msg="invalid distances set",Te.mode=BAD;break}if(Te.mode=LEN_,Ee===Z_TREES)break e;case LEN_:Te.mode=LEN;case LEN:if(De>=6&&qe>=258){Ce.next_out=Ue,Ce.avail_out=qe,Ce.next_in=Me,Ce.avail_in=De,Te.hold=$e,Te.bits=ze,inffast(Ce,We),Ue=Ce.next_out,Re=Ce.output,qe=Ce.avail_out,Me=Ce.next_in,Be=Ce.input,De=Ce.avail_in,$e=Te.hold,ze=Te.bits,Te.mode===TYPE&&(Te.back=-1);break}for(Te.back=0;an=Te.lencode[$e&(1<<Te.lenbits)-1],Ye=an>>>24,Ze=an>>>16&255,St=an&65535,!(Ye<=ze);){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Ze&&(Ze&240)===0){for(Qe=Ye,Je=Ze,on=St;an=Te.lencode[on+(($e&(1<<Qe+Je)-1)>>Qe)],Ye=an>>>24,Ze=an>>>16&255,St=an&65535,!(Qe+Ye<=ze);){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}$e>>>=Qe,ze-=Qe,Te.back+=Qe}if($e>>>=Ye,ze-=Ye,Te.back+=Ye,Te.length=St,Ze===0){Te.mode=LIT;break}if(Ze&32){Te.back=-1,Te.mode=TYPE;break}if(Ze&64){Ce.msg="invalid literal/length code",Te.mode=BAD;break}Te.extra=Ze&15,Te.mode=LENEXT;case LENEXT:if(Te.extra){for(Pn=Te.extra;ze<Pn;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.length+=$e&(1<<Te.extra)-1,$e>>>=Te.extra,ze-=Te.extra,Te.back+=Te.extra}Te.was=Te.length,Te.mode=DIST;case DIST:for(;an=Te.distcode[$e&(1<<Te.distbits)-1],Ye=an>>>24,Ze=an>>>16&255,St=an&65535,!(Ye<=ze);){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if((Ze&240)===0){for(Qe=Ye,Je=Ze,on=St;an=Te.distcode[on+(($e&(1<<Qe+Je)-1)>>Qe)],Ye=an>>>24,Ze=an>>>16&255,St=an&65535,!(Qe+Ye<=ze);){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}$e>>>=Qe,ze-=Qe,Te.back+=Qe}if($e>>>=Ye,ze-=Ye,Te.back+=Ye,Ze&64){Ce.msg="invalid distance code",Te.mode=BAD;break}Te.offset=St,Te.extra=Ze&15,Te.mode=DISTEXT;case DISTEXT:if(Te.extra){for(Pn=Te.extra;ze<Pn;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}Te.offset+=$e&(1<<Te.extra)-1,$e>>>=Te.extra,ze-=Te.extra,Te.back+=Te.extra}if(Te.offset>Te.dmax){Ce.msg="invalid distance too far back",Te.mode=BAD;break}Te.mode=MATCH;case MATCH:if(qe===0)break e;if(Ge=We-qe,Te.offset>Ge){if(Ge=Te.offset-Ge,Ge>Te.whave&&Te.sane){Ce.msg="invalid distance too far back",Te.mode=BAD;break}Ge>Te.wnext?(Ge-=Te.wnext,tn=Te.wsize-Ge):tn=Te.wnext-Ge,Ge>Te.length&&(Ge=Te.length),en=Te.window}else en=Re,tn=Ue-Te.offset,Ge=Te.length;Ge>qe&&(Ge=qe),qe-=Ge,Te.length-=Ge;do Re[Ue++]=en[tn++];while(--Ge);Te.length===0&&(Te.mode=LEN);break;case LIT:if(qe===0)break e;Re[Ue++]=Te.length,qe--,Te.mode=LEN;break;case CHECK:if(Te.wrap){for(;ze<32;){if(De===0)break e;De--,$e|=Be[Me++]<<ze,ze+=8}if(We-=qe,Ce.total_out+=We,Te.total+=We,Te.wrap&4&&We&&(Ce.adler=Te.check=Te.flags?crc32_1(Te.check,Re,We,Ue-We):adler32_1(Te.check,Re,We,Ue-We)),We=qe,Te.wrap&4&&(Te.flags?$e:zswap32($e))!==Te.check){Ce.msg="incorrect data check",Te.mode=BAD;break}$e=0,ze=0}Te.mode=LENGTH;case LENGTH:if(Te.wrap&&Te.flags){for(;ze<32;){if(De===0)break e;De--,$e+=Be[Me++]<<ze,ze+=8}if(Te.wrap&4&&$e!==(Te.total&4294967295)){Ce.msg="incorrect length check",Te.mode=BAD;break}$e=0,ze=0}Te.mode=DONE;case DONE:dn=Z_STREAM_END$1;break e;case BAD:dn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return Ce.next_out=Ue,Ce.avail_out=qe,Ce.next_in=Me,Ce.avail_in=De,Te.hold=$e,Te.bits=ze,(Te.wsize||We!==Ce.avail_out&&Te.mode<BAD&&(Te.mode<CHECK||Ee!==Z_FINISH$1))&&updatewindow(Ce,Ce.output,Ce.next_out,We-Ce.avail_out),Xe-=Ce.avail_in,We-=Ce.avail_out,Ce.total_in+=Xe,Ce.total_out+=We,Te.total+=We,Te.wrap&4&&We&&(Ce.adler=Te.check=Te.flags?crc32_1(Te.check,Re,We,Ce.next_out-We):adler32_1(Te.check,Re,We,Ce.next_out-We)),Ce.data_type=Te.bits+(Te.last?64:0)+(Te.mode===TYPE?128:0)+(Te.mode===LEN_||Te.mode===COPY_?256:0),(Xe===0&&We===0||Ee===Z_FINISH$1)&&dn===Z_OK$1&&(dn=Z_BUF_ERROR),dn},inflateEnd=Ce=>{if(inflateStateCheck(Ce))return Z_STREAM_ERROR$1;let Ee=Ce.state;return Ee.window&&(Ee.window=null),Ce.state=null,Z_OK$1},inflateGetHeader=(Ce,Ee)=>{if(inflateStateCheck(Ce))return Z_STREAM_ERROR$1;const Te=Ce.state;return(Te.wrap&2)===0?Z_STREAM_ERROR$1:(Te.head=Ee,Ee.done=!1,Z_OK$1)},inflateSetDictionary=(Ce,Ee)=>{const Te=Ee.length;let Be,Re,Me;return inflateStateCheck(Ce)||(Be=Ce.state,Be.wrap!==0&&Be.mode!==DICT)?Z_STREAM_ERROR$1:Be.mode===DICT&&(Re=1,Re=adler32_1(Re,Ee,Te,0),Re!==Be.check)?Z_DATA_ERROR$1:(Me=updatewindow(Ce,Ee,Te,Te),Me?(Be.mode=MEM,Z_MEM_ERROR$1):(Be.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(Ce){this.options=common$2.assign({chunkSize:1024*64,windowBits:15,to:""},Ce||{});const Ee=this.options;Ee.raw&&Ee.windowBits>=0&&Ee.windowBits<16&&(Ee.windowBits=-Ee.windowBits,Ee.windowBits===0&&(Ee.windowBits=-15)),Ee.windowBits>=0&&Ee.windowBits<16&&!(Ce&&Ce.windowBits)&&(Ee.windowBits+=32),Ee.windowBits>15&&Ee.windowBits<48&&(Ee.windowBits&15)===0&&(Ee.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let Te=inflate_1$2.inflateInit2(this.strm,Ee.windowBits);if(Te!==Z_OK)throw new Error(messages[Te]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),Ee.dictionary&&(typeof Ee.dictionary=="string"?Ee.dictionary=strings.string2buf(Ee.dictionary):toString.call(Ee.dictionary)==="[object ArrayBuffer]"&&(Ee.dictionary=new Uint8Array(Ee.dictionary)),Ee.raw&&(Te=inflate_1$2.inflateSetDictionary(this.strm,Ee.dictionary),Te!==Z_OK)))throw new Error(messages[Te])}Inflate$1.prototype.push=function(Ce,Ee){const Te=this.strm,Be=this.options.chunkSize,Re=this.options.dictionary;let Me,Ue,De;if(this.ended)return!1;for(Ee===~~Ee?Ue=Ee:Ue=Ee===!0?Z_FINISH:Z_NO_FLUSH,toString.call(Ce)==="[object ArrayBuffer]"?Te.input=new Uint8Array(Ce):Te.input=Ce,Te.next_in=0,Te.avail_in=Te.input.length;;){for(Te.avail_out===0&&(Te.output=new Uint8Array(Be),Te.next_out=0,Te.avail_out=Be),Me=inflate_1$2.inflate(Te,Ue),Me===Z_NEED_DICT&&Re&&(Me=inflate_1$2.inflateSetDictionary(Te,Re),Me===Z_OK?Me=inflate_1$2.inflate(Te,Ue):Me===Z_DATA_ERROR&&(Me=Z_NEED_DICT));Te.avail_in>0&&Me===Z_STREAM_END&&Te.state.wrap>0&&Ce[Te.next_in]!==0;)inflate_1$2.inflateReset(Te),Me=inflate_1$2.inflate(Te,Ue);switch(Me){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(Me),this.ended=!0,!1}if(De=Te.avail_out,Te.next_out&&(Te.avail_out===0||Me===Z_STREAM_END))if(this.options.to==="string"){let qe=strings.utf8border(Te.output,Te.next_out),$e=Te.next_out-qe,ze=strings.buf2string(Te.output,qe);Te.next_out=$e,Te.avail_out=Be-$e,$e&&Te.output.set(Te.output.subarray(qe,qe+$e),0),this.onData(ze)}else this.onData(Te.output.length===Te.next_out?Te.output:Te.output.subarray(0,Te.next_out));if(!(Me===Z_OK&&De===0)){if(Me===Z_STREAM_END)return Me=inflate_1$2.inflateEnd(this.strm),this.onEnd(Me),this.ended=!0,!0;if(Te.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(Ce){this.chunks.push(Ce)};Inflate$1.prototype.onEnd=function(Ce){Ce===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$2.flattenChunks(this.chunks)),this.chunks=[],this.err=Ce,this.msg=this.strm.msg};function inflate$1(Ce,Ee){const Te=new Inflate$1(Ee);if(Te.push(Ce),Te.err)throw Te.msg||messages[Te.err];return Te.result}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2};const{Inflate,inflate}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const crcTable=[];for(let Ce=0;Ce<256;Ce++){let Ee=Ce;for(let Te=0;Te<8;Te++)Ee&1?Ee=3988292384^Ee>>>1:Ee=Ee>>>1;crcTable[Ce]=Ee}const initialCrc=4294967295;function updateCrc(Ce,Ee,Te){let Be=Ce;for(let Re=0;Re<Te;Re++)Be=crcTable[(Be^Ee[Re])&255]^Be>>>8;return Be}function crc(Ce,Ee){return(updateCrc(initialCrc,Ce,Ee)^initialCrc)>>>0}function checkCrc(Ce,Ee,Te){const Be=Ce.readUint32(),Re=crc(new Uint8Array(Ce.buffer,Ce.byteOffset+Ce.offset-Ee-4,Ee),Ee);if(Re!==Be)throw new Error(`CRC mismatch for chunk ${Te}. Expected ${Be}, found ${Re}`)}function unfilterNone(Ce,Ee,Te){for(let Be=0;Be<Te;Be++)Ee[Be]=Ce[Be]}function unfilterSub(Ce,Ee,Te,Be){let Re=0;for(;Re<Be;Re++)Ee[Re]=Ce[Re];for(;Re<Te;Re++)Ee[Re]=Ce[Re]+Ee[Re-Be]&255}function unfilterUp(Ce,Ee,Te,Be){let Re=0;if(Te.length===0)for(;Re<Be;Re++)Ee[Re]=Ce[Re];else for(;Re<Be;Re++)Ee[Re]=Ce[Re]+Te[Re]&255}function unfilterAverage(Ce,Ee,Te,Be,Re){let Me=0;if(Te.length===0){for(;Me<Re;Me++)Ee[Me]=Ce[Me];for(;Me<Be;Me++)Ee[Me]=Ce[Me]+(Ee[Me-Re]>>1)&255}else{for(;Me<Re;Me++)Ee[Me]=Ce[Me]+(Te[Me]>>1)&255;for(;Me<Be;Me++)Ee[Me]=Ce[Me]+(Ee[Me-Re]+Te[Me]>>1)&255}}function unfilterPaeth(Ce,Ee,Te,Be,Re){let Me=0;if(Te.length===0){for(;Me<Re;Me++)Ee[Me]=Ce[Me];for(;Me<Be;Me++)Ee[Me]=Ce[Me]+Ee[Me-Re]&255}else{for(;Me<Re;Me++)Ee[Me]=Ce[Me]+Te[Me]&255;for(;Me<Be;Me++)Ee[Me]=Ce[Me]+paethPredictor(Ee[Me-Re],Te[Me],Te[Me-Re])&255}}function paethPredictor(Ce,Ee,Te){const Be=Ce+Ee-Te,Re=Math.abs(Be-Ce),Me=Math.abs(Be-Ee),Ue=Math.abs(Be-Te);return Re<=Me&&Re<=Ue?Ce:Me<=Ue?Ee:Te}function applyUnfilter(Ce,Ee,Te,Be,Re,Me){switch(Ce){case 0:unfilterNone(Ee,Te,Re);break;case 1:unfilterSub(Ee,Te,Re,Me);break;case 2:unfilterUp(Ee,Te,Be,Re);break;case 3:unfilterAverage(Ee,Te,Be,Re,Me);break;case 4:unfilterPaeth(Ee,Te,Be,Re,Me);break;default:throw new Error(`Unsupported filter: ${Ce}`)}}const uint16$1=new Uint16Array([255]),uint8$1=new Uint8Array(uint16$1.buffer),osIsLittleEndian$1=uint8$1[0]===255;function decodeInterlaceAdam7(Ce){const{data:Ee,width:Te,height:Be,channels:Re,depth:Me}=Ce,Ue=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],De=Math.ceil(Me/8)*Re,qe=new Uint8Array(Be*Te*De);let $e=0;for(let ze=0;ze<7;ze++){const Xe=Ue[ze],We=Math.ceil((Te-Xe.x)/Xe.xStep),Ge=Math.ceil((Be-Xe.y)/Xe.yStep);if(We<=0||Ge<=0)continue;const tn=We*De,en=new Uint8Array(tn);for(let an=0;an<Ge;an++){const Ye=Ee[$e++],Ze=Ee.subarray($e,$e+tn);$e+=tn;const St=new Uint8Array(tn);applyUnfilter(Ye,Ze,St,en,tn,De),en.set(St);for(let Qe=0;Qe<We;Qe++){const Je=Xe.x+Qe*Xe.xStep,on=Xe.y+an*Xe.yStep;if(!(Je>=Te||on>=Be))for(let hn=0;hn<De;hn++)qe[(on*Te+Je)*De+hn]=St[Qe*De+hn]}}}if(Me===16){const ze=new Uint16Array(qe.buffer);if(osIsLittleEndian$1)for(let Xe=0;Xe<ze.length;Xe++)ze[Xe]=swap16$1(ze[Xe]);return ze}else return qe}function swap16$1(Ce){return(Ce&255)<<8|Ce>>8&255}const uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255,empty=new Uint8Array(0);function decodeInterlaceNull(Ce){const{data:Ee,width:Te,height:Be,channels:Re,depth:Me}=Ce,Ue=Math.ceil(Me/8)*Re,De=Math.ceil(Me/8*Re*Te),qe=new Uint8Array(Be*De);let $e=empty,ze=0,Xe,We;for(let Ge=0;Ge<Be;Ge++){switch(Xe=Ee.subarray(ze+1,ze+1+De),We=qe.subarray(Ge*De,(Ge+1)*De),Ee[ze]){case 0:unfilterNone(Xe,We,De);break;case 1:unfilterSub(Xe,We,De,Ue);break;case 2:unfilterUp(Xe,We,$e,De);break;case 3:unfilterAverage(Xe,We,$e,De,Ue);break;case 4:unfilterPaeth(Xe,We,$e,De,Ue);break;default:throw new Error(`Unsupported filter: ${Ee[ze]}`)}$e=We,ze+=De+1}if(Me===16){const Ge=new Uint16Array(qe.buffer);if(osIsLittleEndian)for(let tn=0;tn<Ge.length;tn++)Ge[tn]=swap16(Ge[tn]);return Ge}else return qe}function swap16(Ce){return(Ce&255)<<8|Ce>>8&255}const pngSignature=Uint8Array.of(137,80,78,71,13,10,26,10);function checkSignature(Ce){if(!hasPngSignature(Ce.readBytes(pngSignature.length)))throw new Error("wrong PNG signature")}function hasPngSignature(Ce){if(Ce.length<pngSignature.length)return!1;for(let Ee=0;Ee<pngSignature.length;Ee++)if(Ce[Ee]!==pngSignature[Ee])return!1;return!0}const textChunkName="tEXt",NULL=0,latin1Decoder=new TextDecoder("latin1");function validateKeyword(Ce){if(validateLatin1(Ce),Ce.length===0||Ce.length>79)throw new Error("keyword length must be between 1 and 79")}const latin1Regex=/^[\u0000-\u00FF]*$/;function validateLatin1(Ce){if(!latin1Regex.test(Ce))throw new Error("invalid latin1 text")}function decodetEXt(Ce,Ee,Te){const Be=readKeyword(Ee);Ce[Be]=readLatin1(Ee,Te-Be.length-1)}function readKeyword(Ce){for(Ce.mark();Ce.readByte()!==NULL;);const Ee=Ce.offset;Ce.reset();const Te=latin1Decoder.decode(Ce.readBytes(Ee-Ce.offset-1));return Ce.skip(1),validateKeyword(Te),Te}function readLatin1(Ce,Ee){return latin1Decoder.decode(Ce.readBytes(Ee))}const ColorType={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CompressionMethod={UNKNOWN:-1,DEFLATE:0},FilterMethod={UNKNOWN:-1,ADAPTIVE:0},InterlaceMethod={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},DisposeOpType={NONE:0,BACKGROUND:1,PREVIOUS:2},BlendOpType={SOURCE:0,OVER:1};class PngDecoder extends IOBuffer{constructor(Te,Be={}){super(Te);wi(this,"_checkCrc");wi(this,"_inflator");wi(this,"_png");wi(this,"_apng");wi(this,"_end");wi(this,"_hasPalette");wi(this,"_palette");wi(this,"_hasTransparency");wi(this,"_transparency");wi(this,"_compressionMethod");wi(this,"_filterMethod");wi(this,"_interlaceMethod");wi(this,"_colorType");wi(this,"_isAnimated");wi(this,"_numberOfFrames");wi(this,"_numberOfPlays");wi(this,"_frames");wi(this,"_writingDataChunks");const{checkCrc:Re=!1}=Be;this._checkCrc=Re,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(checkSignature(this);!this._end;){const Te=this.readUint32(),Be=this.readChars(4);this.decodeChunk(Te,Be)}return this.decodeImage(),this._png}decodeApng(){for(checkSignature(this);!this._end;){const Te=this.readUint32(),Be=this.readChars(4);this.decodeApngChunk(Te,Be)}return this.decodeApngImage(),this._apng}decodeChunk(Te,Be){const Re=this.offset;switch(Be){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(Te);break;case"IDAT":this.decodeIDAT(Te);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(Te);break;case"iCCP":this.decodeiCCP(Te);break;case textChunkName:decodetEXt(this._png.text,this,Te);break;case"pHYs":this.decodepHYs();break;default:this.skip(Te);break}if(this.offset-Re!==Te)throw new Error(`Length mismatch while decoding chunk ${Be}`);this._checkCrc?checkCrc(this,Te+4,Be):this.skip(4)}decodeApngChunk(Te,Be){const Re=this.offset;switch(Be!=="fdAT"&&Be!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),Be){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(Te);break;default:this.decodeChunk(Te,Be),this.offset=Re+Te;break}if(this.offset-Re!==Te)throw new Error(`Length mismatch while decoding chunk ${Be}`);this._checkCrc?checkCrc(this,Te+4,Be):this.skip(4)}decodeIHDR(){const Te=this._png;Te.width=this.readUint32(),Te.height=this.readUint32(),Te.depth=checkBitDepth(this.readUint8());const Be=this.readUint8();this._colorType=Be;let Re;switch(Be){case ColorType.GREYSCALE:Re=1;break;case ColorType.TRUECOLOUR:Re=3;break;case ColorType.INDEXED_COLOUR:Re=1;break;case ColorType.GREYSCALE_ALPHA:Re=2;break;case ColorType.TRUECOLOUR_ALPHA:Re=4;break;case ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${Be}`)}if(this._png.channels=Re,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const Te={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(Te)}decodePLTE(Te){if(Te%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${Te}`);const Be=Te/3;this._hasPalette=!0;const Re=[];this._palette=Re;for(let Me=0;Me<Be;Me++)Re.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(Te){this._writingDataChunks=!0;const Be=Te,Re=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,Re,Be)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Te)}decodeFDAT(Te){this._writingDataChunks=!0;let Be=Te,Re=this.offset+this.byteOffset;if(Re+=4,Be-=4,this._inflator.push(new Uint8Array(this.buffer,Re,Be)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Te)}decodetRNS(Te){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(Te%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${Te}`);if(Te/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${Te/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(Te/2);for(let Be=0;Be<Te/2;Be++)this._transparency[Be]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(Te>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${Te} vs ${this._palette.length})`);let Be=0;for(;Be<Te;Be++){const Re=this.readByte();this._palette[Be].push(Re)}for(;Be<this._palette.length;Be++)this._palette[Be].push(255);break}case ColorType.UNKNOWN:case ColorType.GREYSCALE_ALPHA:case ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(Te){const Be=readKeyword(this),Re=this.readUint8();if(Re!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Re}`);const Me=this.readBytes(Te-Be.length-2);this._png.iccEmbeddedProfile={name:Be,profile:inflate_1(Me)}}decodepHYs(){const Te=this.readUint32(),Be=this.readUint32(),Re=this.readByte();this._png.resolution={x:Te,y:Be,unit:Re}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let Te=0;Te<this._numberOfFrames;Te++){const Be={sequenceNumber:this._frames[Te].sequenceNumber,delayNumber:this._frames[Te].delayNumber,delayDenominator:this._frames[Te].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},Re=this._frames.at(Te);if(Re){if(Re.data=decodeInterlaceNull({data:Re.data,width:Re.width,height:Re.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),Te===0||Re.xOffset===0&&Re.yOffset===0&&Re.width===this._png.width&&Re.height===this._png.height)Be.data=Re.data;else{const Me=this._apng.frames.at(Te-1);this.disposeFrame(Re,Me,Be),this.addFrameDataToCanvas(Be,Re)}this._apng.frames.push(Be)}}return this._apng}disposeFrame(Te,Be,Re){switch(Te.disposeOp){case DisposeOpType.NONE:break;case DisposeOpType.BACKGROUND:for(let Me=0;Me<this._png.height;Me++)for(let Ue=0;Ue<this._png.width;Ue++){const De=(Me*Te.width+Ue)*this._png.channels;for(let qe=0;qe<this._png.channels;qe++)Re.data[De+qe]=0}break;case DisposeOpType.PREVIOUS:Re.data.set(Be.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(Te,Be){const Re=1<<this._png.depth,Me=(Ue,De)=>{const qe=((Ue+Be.yOffset)*this._png.width+Be.xOffset+De)*this._png.channels,$e=(Ue*Be.width+De)*this._png.channels;return{index:qe,frameIndex:$e}};switch(Be.blendOp){case BlendOpType.SOURCE:for(let Ue=0;Ue<Be.height;Ue++)for(let De=0;De<Be.width;De++){const{index:qe,frameIndex:$e}=Me(Ue,De);for(let ze=0;ze<this._png.channels;ze++)Te.data[qe+ze]=Be.data[$e+ze]}break;case BlendOpType.OVER:for(let Ue=0;Ue<Be.height;Ue++)for(let De=0;De<Be.width;De++){const{index:qe,frameIndex:$e}=Me(Ue,De);for(let ze=0;ze<this._png.channels;ze++){const Xe=Be.data[$e+this._png.channels-1]/Re,We=ze%(this._png.channels-1)===0?1:Be.data[$e+ze],Ge=Math.floor(Xe*We+(1-Xe)*Te.data[qe+ze]);Te.data[qe+ze]+=Ge}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var Be;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const Te=this._isAnimated?((Be=this._frames)==null?void 0:Be.at(0)).data:this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this._png.data=decodeInterlaceNull({data:Te,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===InterlaceMethod.ADAM7)this._png.data=decodeInterlaceAdam7({data:Te,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const Te=this._inflator.result,Be=this._frames.at(-1);Be?Be.data=Te:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:DisposeOpType.NONE,blendOp:BlendOpType.SOURCE,data:Te}),this._inflator=new Inflate_1,this._writingDataChunks=!1}}function checkBitDepth(Ce){if(Ce!==1&&Ce!==2&&Ce!==4&&Ce!==8&&Ce!==16)throw new Error(`invalid bit depth: ${Ce}`);return Ce}var ResolutionUnitSpecifier;(function(Ce){Ce[Ce.UNKNOWN=0]="UNKNOWN",Ce[Ce.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(Ce,Ee){return new PngDecoder(Ce,Ee).decode()}var i$5=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function a$2(){i$5.console&&typeof i$5.console.log=="function"&&i$5.console.log.apply(i$5.console,arguments)}var o$5={log:a$2,warn:function(Ce){i$5.console&&(typeof i$5.console.warn=="function"?i$5.console.warn.apply(i$5.console,arguments):a$2.call(null,arguments))},error:function(Ce){i$5.console&&(typeof i$5.console.error=="function"?i$5.console.error.apply(i$5.console,arguments):a$2(Ce))}};function s$3(Ce,Ee,Te){var Be=new XMLHttpRequest;Be.open("GET",Ce),Be.responseType="blob",Be.onload=function(){l$2(Be.response,Ee,Te)},Be.onerror=function(){o$5.error("could not download file")},Be.send()}function u$2(Ce){var Ee=new XMLHttpRequest;Ee.open("HEAD",Ce,!1);try{Ee.send()}catch{}return Ee.status>=200&&Ee.status<=299}function c$3(Ce){try{Ce.dispatchEvent(new MouseEvent("click"))}catch{var Ee=document.createEvent("MouseEvents");Ee.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Ce.dispatchEvent(Ee)}}var l$2=i$5.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==i$5?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Ce,Ee,Te){var Be=i$5.URL||i$5.webkitURL,Re=document.createElement("a");Ee=Ee||Ce.name||"download",Re.download=Ee,Re.rel="noopener",typeof Ce=="string"?(Re.href=Ce,Re.origin!==location.origin?u$2(Re.href)?s$3(Ce,Ee,Te):c$3(Re,Re.target="_blank"):c$3(Re)):(Re.href=Be.createObjectURL(Ce),setTimeout(function(){Be.revokeObjectURL(Re.href)},4e4),setTimeout(function(){c$3(Re)},0))}:"msSaveOrOpenBlob"in navigator?function(Ce,Ee,Te){if(Ee=Ee||Ce.name||"download",typeof Ce=="string")if(u$2(Ce))s$3(Ce,Ee,Te);else{var Be=document.createElement("a");Be.href=Ce,Be.target="_blank",setTimeout(function(){c$3(Be)})}else navigator.msSaveOrOpenBlob((function(Re,Me){return Me===void 0?Me={autoBom:!1}:_typeof(Me)!=="object"&&(o$5.warn("Deprecated: Expected third argument to be a object"),Me={autoBom:!Me}),Me.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Re.type)?new Blob(["\uFEFF",Re],{type:Re.type}):Re})(Ce,Te),Ee)}:function(Ce,Ee,Te,Be){if((Be=Be||open("","_blank"))&&(Be.document.title=Be.document.body.innerText="downloading..."),typeof Ce=="string")return s$3(Ce,Ee,Te);var Re=Ce.type==="application/octet-stream",Me=/constructor/i.test(i$5.HTMLElement)||i$5.safari,Ue=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ue||Re&&Me)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var De=new FileReader;De.onloadend=function(){var ze=De.result;ze=Ue?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),Be?Be.location.href=ze:location=ze,Be=null},De.readAsDataURL(Ce)}else{var qe=i$5.URL||i$5.webkitURL,$e=qe.createObjectURL(Ce);Be?Be.location=$e:location.href=$e,Be=null,setTimeout(function(){qe.revokeObjectURL($e)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function h$2(Ce){var Ee;Ce=Ce||"",this.ok=!1,Ce.charAt(0)=="#"&&(Ce=Ce.substr(1,6)),Ce={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Ce=(Ce=Ce.replace(/ /g,"")).toLowerCase()]||Ce;for(var Te=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(De){return[parseInt(De[1]),parseInt(De[2]),parseInt(De[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(De){return[parseInt(De[1],16),parseInt(De[2],16),parseInt(De[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(De){return[parseInt(De[1]+De[1],16),parseInt(De[2]+De[2],16),parseInt(De[3]+De[3],16)]}}],Be=0;Be<Te.length;Be++){var Re=Te[Be].re,Me=Te[Be].process,Ue=Re.exec(Ce);Ue&&(Ee=Me(Ue),this.r=Ee[0],this.g=Ee[1],this.b=Ee[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var De=this.r.toString(16),qe=this.g.toString(16),$e=this.b.toString(16);return De.length==1&&(De="0"+De),qe.length==1&&(qe="0"+qe),$e.length==1&&($e="0"+$e),"#"+De+qe+$e}}var f$2=i$5.atob.bind(i$5),d$2=i$5.btoa.bind(i$5);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p$2(Ce,Ee){var Te=Ce[0],Be=Ce[1],Re=Ce[2],Me=Ce[3];Te=m$1(Te,Be,Re,Me,Ee[0],7,-680876936),Me=m$1(Me,Te,Be,Re,Ee[1],12,-389564586),Re=m$1(Re,Me,Te,Be,Ee[2],17,606105819),Be=m$1(Be,Re,Me,Te,Ee[3],22,-1044525330),Te=m$1(Te,Be,Re,Me,Ee[4],7,-176418897),Me=m$1(Me,Te,Be,Re,Ee[5],12,1200080426),Re=m$1(Re,Me,Te,Be,Ee[6],17,-1473231341),Be=m$1(Be,Re,Me,Te,Ee[7],22,-45705983),Te=m$1(Te,Be,Re,Me,Ee[8],7,1770035416),Me=m$1(Me,Te,Be,Re,Ee[9],12,-1958414417),Re=m$1(Re,Me,Te,Be,Ee[10],17,-42063),Be=m$1(Be,Re,Me,Te,Ee[11],22,-1990404162),Te=m$1(Te,Be,Re,Me,Ee[12],7,1804603682),Me=m$1(Me,Te,Be,Re,Ee[13],12,-40341101),Re=m$1(Re,Me,Te,Be,Ee[14],17,-1502002290),Te=v$1(Te,Be=m$1(Be,Re,Me,Te,Ee[15],22,1236535329),Re,Me,Ee[1],5,-165796510),Me=v$1(Me,Te,Be,Re,Ee[6],9,-1069501632),Re=v$1(Re,Me,Te,Be,Ee[11],14,643717713),Be=v$1(Be,Re,Me,Te,Ee[0],20,-373897302),Te=v$1(Te,Be,Re,Me,Ee[5],5,-701558691),Me=v$1(Me,Te,Be,Re,Ee[10],9,38016083),Re=v$1(Re,Me,Te,Be,Ee[15],14,-660478335),Be=v$1(Be,Re,Me,Te,Ee[4],20,-405537848),Te=v$1(Te,Be,Re,Me,Ee[9],5,568446438),Me=v$1(Me,Te,Be,Re,Ee[14],9,-1019803690),Re=v$1(Re,Me,Te,Be,Ee[3],14,-187363961),Be=v$1(Be,Re,Me,Te,Ee[8],20,1163531501),Te=v$1(Te,Be,Re,Me,Ee[13],5,-1444681467),Me=v$1(Me,Te,Be,Re,Ee[2],9,-51403784),Re=v$1(Re,Me,Te,Be,Ee[7],14,1735328473),Te=b$1(Te,Be=v$1(Be,Re,Me,Te,Ee[12],20,-1926607734),Re,Me,Ee[5],4,-378558),Me=b$1(Me,Te,Be,Re,Ee[8],11,-2022574463),Re=b$1(Re,Me,Te,Be,Ee[11],16,1839030562),Be=b$1(Be,Re,Me,Te,Ee[14],23,-35309556),Te=b$1(Te,Be,Re,Me,Ee[1],4,-1530992060),Me=b$1(Me,Te,Be,Re,Ee[4],11,1272893353),Re=b$1(Re,Me,Te,Be,Ee[7],16,-155497632),Be=b$1(Be,Re,Me,Te,Ee[10],23,-1094730640),Te=b$1(Te,Be,Re,Me,Ee[13],4,681279174),Me=b$1(Me,Te,Be,Re,Ee[0],11,-358537222),Re=b$1(Re,Me,Te,Be,Ee[3],16,-722521979),Be=b$1(Be,Re,Me,Te,Ee[6],23,76029189),Te=b$1(Te,Be,Re,Me,Ee[9],4,-640364487),Me=b$1(Me,Te,Be,Re,Ee[12],11,-421815835),Re=b$1(Re,Me,Te,Be,Ee[15],16,530742520),Te=y$2(Te,Be=b$1(Be,Re,Me,Te,Ee[2],23,-995338651),Re,Me,Ee[0],6,-198630844),Me=y$2(Me,Te,Be,Re,Ee[7],10,1126891415),Re=y$2(Re,Me,Te,Be,Ee[14],15,-1416354905),Be=y$2(Be,Re,Me,Te,Ee[5],21,-57434055),Te=y$2(Te,Be,Re,Me,Ee[12],6,1700485571),Me=y$2(Me,Te,Be,Re,Ee[3],10,-1894986606),Re=y$2(Re,Me,Te,Be,Ee[10],15,-1051523),Be=y$2(Be,Re,Me,Te,Ee[1],21,-2054922799),Te=y$2(Te,Be,Re,Me,Ee[8],6,1873313359),Me=y$2(Me,Te,Be,Re,Ee[15],10,-30611744),Re=y$2(Re,Me,Te,Be,Ee[6],15,-1560198380),Be=y$2(Be,Re,Me,Te,Ee[13],21,1309151649),Te=y$2(Te,Be,Re,Me,Ee[4],6,-145523070),Me=y$2(Me,Te,Be,Re,Ee[11],10,-1120210379),Re=y$2(Re,Me,Te,Be,Ee[2],15,718787259),Be=y$2(Be,Re,Me,Te,Ee[9],21,-343485551),Ce[0]=P$1(Te,Ce[0]),Ce[1]=P$1(Be,Ce[1]),Ce[2]=P$1(Re,Ce[2]),Ce[3]=P$1(Me,Ce[3])}function g$1(Ce,Ee,Te,Be,Re,Me){return Ee=P$1(P$1(Ee,Ce),P$1(Be,Me)),P$1(Ee<<Re|Ee>>>32-Re,Te)}function m$1(Ce,Ee,Te,Be,Re,Me,Ue){return g$1(Ee&Te|~Ee&Be,Ce,Ee,Re,Me,Ue)}function v$1(Ce,Ee,Te,Be,Re,Me,Ue){return g$1(Ee&Be|Te&~Be,Ce,Ee,Re,Me,Ue)}function b$1(Ce,Ee,Te,Be,Re,Me,Ue){return g$1(Ee^Te^Be,Ce,Ee,Re,Me,Ue)}function y$2(Ce,Ee,Te,Be,Re,Me,Ue){return g$1(Te^(Ee|~Be),Ce,Ee,Re,Me,Ue)}function w(Ce){var Ee,Te=Ce.length,Be=[1732584193,-271733879,-1732584194,271733878];for(Ee=64;Ee<=Ce.length;Ee+=64)p$2(Be,N$1(Ce.substring(Ee-64,Ee)));Ce=Ce.substring(Ee-64);var Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Ee=0;Ee<Ce.length;Ee++)Re[Ee>>2]|=Ce.charCodeAt(Ee)<<(Ee%4<<3);if(Re[Ee>>2]|=128<<(Ee%4<<3),Ee>55)for(p$2(Be,Re),Ee=0;Ee<16;Ee++)Re[Ee]=0;return Re[14]=8*Te,p$2(Be,Re),Be}function N$1(Ce){var Ee,Te=[];for(Ee=0;Ee<64;Ee+=4)Te[Ee>>2]=Ce.charCodeAt(Ee)+(Ce.charCodeAt(Ee+1)<<8)+(Ce.charCodeAt(Ee+2)<<16)+(Ce.charCodeAt(Ee+3)<<24);return Te}var L$1="0123456789abcdef".split("");function x$1(Ce){for(var Ee="",Te=0;Te<4;Te++)Ee+=L$1[Ce>>8*Te+4&15]+L$1[Ce>>8*Te&15];return Ee}function A$1(Ce){return String.fromCharCode(255&Ce,(65280&Ce)>>8,(16711680&Ce)>>16,(4278190080&Ce)>>24)}function S$2(Ce){return w(Ce).map(A$1).join("")}var _$1=(function(Ce){for(var Ee=0;Ee<Ce.length;Ee++)Ce[Ee]=x$1(Ce[Ee]);return Ce.join("")})(w("hello"))!="5d41402abc4b2a76b9719d911017c592";function P$1(Ce,Ee){if(_$1){var Te=(65535&Ce)+(65535&Ee);return(Ce>>16)+(Ee>>16)+(Te>>16)<<16|65535&Te}return Ce+Ee&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k$1(Ce,Ee){var Te,Be,Re,Me;if(Ce!==Te){for(var Ue=(Re=Ce,Me=1+(256/Ce.length|0),new Array(Me+1).join(Re)),De=[],qe=0;qe<256;qe++)De[qe]=qe;var $e=0;for(qe=0;qe<256;qe++){var ze=De[qe];$e=($e+ze+Ue.charCodeAt(qe))%256,De[qe]=De[$e],De[$e]=ze}Te=Ce,Be=De}else De=Be;var Xe=Ee.length,We=0,Ge=0,tn="";for(qe=0;qe<Xe;qe++)Ge=(Ge+(ze=De[We=(We+1)%256]))%256,De[We]=De[Ge],De[Ge]=ze,Ue=De[(De[We]+De[Ge])%256],tn+=String.fromCharCode(Ee.charCodeAt(qe)^Ue);return tn}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F={print:4,modify:8,copy:16,"annot-forms":32};function I$1(Ce,Ee,Te,Be){this.v=1,this.r=2;var Re=192;Ce.forEach(function(De){if(F.perm!==void 0)throw new Error("Invalid permission: "+De);Re+=F[De]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var Me=(Ee+this.padding).substr(0,32),Ue=(Te+this.padding).substr(0,32);this.O=this.processOwnerPassword(Me,Ue),this.P=-(1+(255^Re)),this.encryptionKey=S$2(Me+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Be)).substr(0,5),this.U=k$1(this.encryptionKey,this.padding)}function j$1(Ce){if(/[^\u0000-\u00ff]/.test(Ce))throw new Error("Invalid PDF Name Object: "+Ce+", Only accept ASCII characters.");for(var Ee="",Te=Ce.length,Be=0;Be<Te;Be++){var Re=Ce.charCodeAt(Be);Ee+=Re<33||Re===35||Re===37||Re===40||Re===41||Re===47||Re===60||Re===62||Re===91||Re===93||Re===123||Re===125||Re>126?"#"+("0"+Re.toString(16)).slice(-2):Ce[Be]}return Ee}function C$1(Ce){if(_typeof(Ce)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var Ee={};this.subscribe=function(Te,Be,Re){if(Re=Re||!1,typeof Te!="string"||typeof Be!="function"||typeof Re!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");Ee.hasOwnProperty(Te)||(Ee[Te]={});var Me=Math.random().toString(35);return Ee[Te][Me]=[Be,!!Re],Me},this.unsubscribe=function(Te){for(var Be in Ee)if(Ee[Be][Te])return delete Ee[Be][Te],Object.keys(Ee[Be]).length===0&&delete Ee[Be],!0;return!1},this.publish=function(Te){if(Ee.hasOwnProperty(Te)){var Be=Array.prototype.slice.call(arguments,1),Re=[];for(var Me in Ee[Te]){var Ue=Ee[Te][Me];try{Ue[0].apply(Ce,Be)}catch(De){i$5.console&&o$5.error("jsPDF PubSub Error",De.message,De)}Ue[1]&&Re.push(Me)}Re.length&&Re.forEach(this.unsubscribe)}},this.getTopics=function(){return Ee}}function O(Ce){if(!(this instanceof O))return new O(Ce);var Ee="opacity,stroke-opacity".split(",");for(var Te in Ce)Ce.hasOwnProperty(Te)&&Ee.indexOf(Te)>=0&&(this[Te]=Ce[Te]);this.id="",this.objectNumber=-1}function B$1(Ce,Ee){this.gState=Ce,this.matrix=Ee,this.id="",this.objectNumber=-1}function M$1(Ce,Ee,Te,Be,Re){if(!(this instanceof M$1))return new M$1(Ce,Ee,Te,Be,Re);this.type=Ce==="axial"?2:3,this.coords=Ee,this.colors=Te,B$1.call(this,Be,Re)}function q(Ce,Ee,Te,Be,Re){if(!(this instanceof q))return new q(Ce,Ee,Te,Be,Re);this.boundingBox=Ce,this.xStep=Ee,this.yStep=Te,this.stream="",this.cloneIndex=0,B$1.call(this,Be,Re)}function E$1(Ce){var Ee,Te=typeof arguments[0]=="string"?arguments[0]:"p",Be=arguments[1],Re=arguments[2],Me=arguments[3],Ue=[],De=1,qe=16,$e="S",ze=null;_typeof(Ce=Ce||{})==="object"&&(Te=Ce.orientation,Be=Ce.unit||Be,Re=Ce.format||Re,Me=Ce.compress||Ce.compressPdf||Me,(ze=Ce.encryption||null)!==null&&(ze.userPassword=ze.userPassword||"",ze.ownerPassword=ze.ownerPassword||"",ze.userPermissions=ze.userPermissions||[]),De=typeof Ce.userUnit=="number"?Math.abs(Ce.userUnit):1,Ce.precision!==void 0&&(Ee=Ce.precision),Ce.floatPrecision!==void 0&&(qe=Ce.floatPrecision),$e=Ce.defaultPathOperation||"S"),Ue=Ce.filters||(Me===!0?["FlateEncode"]:Ue),Be=Be||"mm",Te=(""+(Te||"P")).toLowerCase();var Xe=Ce.putOnlyUsedFonts||!1,We={},Ge={internal:{},__private__:{}};Ge.__private__.PubSub=C$1;var tn="1.3",en=Ge.__private__.getPdfVersion=function(){return tn};Ge.__private__.setPdfVersion=function(Dn){tn=Dn};var an={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Ge.__private__.getPageFormats=function(){return an};var Ye=Ge.__private__.getPageFormat=function(Dn){return an[Dn]};Re=Re||"a4";var Ze="compat",St="advanced",Qe=Ze;function Je(){this.saveGraphicsState(),qn(new oa(Dr,0,0,-Dr,0,Ls()*Dr).toString()+" cm"),this.setFontSize(this.getFontSize()/Dr),$e="n",Qe=St}function on(){this.restoreGraphicsState(),$e="S",Qe=Ze}var hn=Ge.__private__.combineFontStyleAndFontWeight=function(Dn,Qn){if(Dn=="bold"&&Qn=="normal"||Dn=="bold"&&Qn==400||Dn=="normal"&&Qn=="italic"||Dn=="bold"&&Qn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Qn&&(Dn=Qn==400||Qn==="normal"?Dn==="italic"?"italic":"normal":Qn!=700&&Qn!=="bold"||Dn!=="normal"?(Qn==700?"bold":Qn)+""+Dn:"bold"),Dn};Ge.advancedAPI=function(Dn){var Qn=Qe===Ze;return Qn&&Je.call(this),typeof Dn!="function"||(Dn(this),Qn&&on.call(this)),this},Ge.compatAPI=function(Dn){var Qn=Qe===St;return Qn&&on.call(this),typeof Dn!="function"||(Dn(this),Qn&&Je.call(this)),this},Ge.isAdvancedAPI=function(){return Qe===St};var dn,sn=function(Dn){if(Qe!==St)throw new Error(Dn+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},kn=Ge.roundToPrecision=Ge.__private__.roundToPrecision=function(Dn,Qn){var cr=Ee||Qn;if(isNaN(Dn)||isNaN(cr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Dn.toFixed(cr).replace(/0+$/,"")};dn=Ge.hpf=Ge.__private__.hpf=typeof qe=="number"?function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(Dn,qe)}:qe==="smart"?function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(Dn,Dn>-1&&Dn<1?16:5)}:function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.hpf");return kn(Dn,16)};var Pn=Ge.f2=Ge.__private__.f2=function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.f2");return kn(Dn,2)},_n=Ge.__private__.f3=function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.f3");return kn(Dn,3)},Mn=Ge.scale=Ge.__private__.scale=function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.scale");return Qe===Ze?Dn*Dr:Qe===St?Dn:void 0},yn=function(Dn){return Mn((function(Qn){return Qe===Ze?Ls()-Qn:Qe===St?Qn:void 0})(Dn))};Ge.__private__.setPrecision=Ge.setPrecision=function(Dn){typeof parseInt(Dn,10)=="number"&&(Ee=parseInt(Dn,10))};var zn,Ln="00000000000000000000000000000000",Vn=Ge.__private__.getFileId=function(){return Ln},On=Ge.__private__.setFileId=function(Dn){return Ln=Dn!==void 0&&/^[a-fA-F0-9]{32}$/.test(Dn)?Dn.toUpperCase():Ln.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ze!==null&&(Ga=new I$1(ze.userPermissions,ze.userPassword,ze.ownerPassword,Ln)),Ln};Ge.setFileId=function(Dn){return On(Dn),this},Ge.getFileId=function(){return Vn()};var Un=Ge.__private__.convertDateToPDFDate=function(Dn){var Qn=Dn.getTimezoneOffset(),cr=Qn<0?"+":"-",wr=Math.floor(Math.abs(Qn/60)),Br=Math.abs(Qn%60),Wr=[cr,Nn(wr),"'",Nn(Br),"'"].join("");return["D:",Dn.getFullYear(),Nn(Dn.getMonth()+1),Nn(Dn.getDate()),Nn(Dn.getHours()),Nn(Dn.getMinutes()),Nn(Dn.getSeconds()),Wr].join("")},jn=Ge.__private__.convertPDFDateToDate=function(Dn){var Qn=parseInt(Dn.substr(2,4),10),cr=parseInt(Dn.substr(6,2),10)-1,wr=parseInt(Dn.substr(8,2),10),Br=parseInt(Dn.substr(10,2),10),Wr=parseInt(Dn.substr(12,2),10),ea=parseInt(Dn.substr(14,2),10);return new Date(Qn,cr,wr,Br,Wr,ea,0)},Gn=Ge.__private__.setCreationDate=function(Dn){var Qn;if(Dn===void 0&&(Dn=new Date),Dn instanceof Date)Qn=Un(Dn);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Dn))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Qn=Dn}return zn=Qn},An=Ge.__private__.getCreationDate=function(Dn){var Qn=zn;return Dn==="jsDate"&&(Qn=jn(zn)),Qn};Ge.setCreationDate=function(Dn){return Gn(Dn),this},Ge.getCreationDate=function(Dn){return An(Dn)};var $n,Nn=Ge.__private__.padd2=function(Dn){return("0"+parseInt(Dn)).slice(-2)},En=Ge.__private__.padd2Hex=function(Dn){return("00"+(Dn=Dn.toString())).substr(Dn.length)},Sn=0,pn=[],mn=[],un=0,wn=[],xn=[],Rn=!1,Hn=mn;Ge.__private__.setCustomOutputDestination=function(Dn){Rn=!0,Hn=Dn};var vn=function(Dn){Rn||(Hn=Dn)};Ge.__private__.resetCustomOutputDestination=function(){Rn=!1,Hn=mn};var qn=Ge.__private__.out=function(Dn){return Dn=Dn.toString(),un+=Dn.length+1,Hn.push(Dn),Hn},In=Ge.__private__.write=function(Dn){return qn(arguments.length===1?Dn.toString():Array.prototype.join.call(arguments," "))},cn=Ge.__private__.getArrayBuffer=function(Dn){for(var Qn=Dn.length,cr=new ArrayBuffer(Qn),wr=new Uint8Array(cr);Qn--;)wr[Qn]=Dn.charCodeAt(Qn);return cr},bn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Ge.__private__.getStandardFonts=function(){return bn};var Cn=Ce.fontSize||16;Ge.__private__.setFontSize=Ge.setFontSize=function(Dn){return Cn=Qe===St?Dn/Dr:Dn,this};var Yn,Jn=Ge.__private__.getFontSize=Ge.getFontSize=function(){return Qe===Ze?Cn:Cn*Dr},er=Ce.R2L||!1;Ge.__private__.setR2L=Ge.setR2L=function(Dn){return er=Dn,this},Ge.__private__.getR2L=Ge.getR2L=function(){return er};var ur,dr=Ge.__private__.setZoomMode=function(Dn){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Dn))Yn=Dn;else if(isNaN(Dn)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Dn)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Dn+'" is not recognized.');Yn=Dn}else Yn=parseInt(Dn,10)};Ge.__private__.getZoomMode=function(){return Yn};var br,yr=Ge.__private__.setPageMode=function(Dn){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Dn)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Dn+'" is not recognized.');ur=Dn};Ge.__private__.getPageMode=function(){return ur};var jr=Ge.__private__.setLayoutMode=function(Dn){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Dn)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Dn+'" is not recognized.');br=Dn};Ge.__private__.getLayoutMode=function(){return br},Ge.__private__.setDisplayMode=Ge.setDisplayMode=function(Dn,Qn,cr){return dr(Dn),jr(Qn),yr(cr),this};var Gr={title:"",subject:"",author:"",keywords:"",creator:""};Ge.__private__.getDocumentProperty=function(Dn){if(Object.keys(Gr).indexOf(Dn)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Gr[Dn]},Ge.__private__.getDocumentProperties=function(){return Gr},Ge.__private__.setDocumentProperties=Ge.setProperties=Ge.setDocumentProperties=function(Dn){for(var Qn in Gr)Gr.hasOwnProperty(Qn)&&Dn[Qn]&&(Gr[Qn]=Dn[Qn]);return this},Ge.__private__.setDocumentProperty=function(Dn,Qn){if(Object.keys(Gr).indexOf(Dn)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Gr[Dn]=Qn};var $r,Dr,hr,Ur,Qr,ia={},Er={},Kr=[],na={},Pr={},fr={},gr={},Mr=null,sa=0,aa=[],Rr=new C$1(Ge),Tr=Ce.hotfixes||[],Xr={},ca={},Sa=[],oa=function Dn(Qn,cr,wr,Br,Wr,ea){if(!(this instanceof Dn))return new Dn(Qn,cr,wr,Br,Wr,ea);isNaN(Qn)&&(Qn=1),isNaN(cr)&&(cr=0),isNaN(wr)&&(wr=0),isNaN(Br)&&(Br=1),isNaN(Wr)&&(Wr=0),isNaN(ea)&&(ea=0),this._matrix=[Qn,cr,wr,Br,Wr,ea]};Object.defineProperty(oa.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Dn){this._matrix[0]=Dn}}),Object.defineProperty(oa.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Dn){this._matrix[1]=Dn}}),Object.defineProperty(oa.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Dn){this._matrix[2]=Dn}}),Object.defineProperty(oa.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Dn){this._matrix[3]=Dn}}),Object.defineProperty(oa.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Dn){this._matrix[4]=Dn}}),Object.defineProperty(oa.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Dn){this._matrix[5]=Dn}}),Object.defineProperty(oa.prototype,"a",{get:function(){return this._matrix[0]},set:function(Dn){this._matrix[0]=Dn}}),Object.defineProperty(oa.prototype,"b",{get:function(){return this._matrix[1]},set:function(Dn){this._matrix[1]=Dn}}),Object.defineProperty(oa.prototype,"c",{get:function(){return this._matrix[2]},set:function(Dn){this._matrix[2]=Dn}}),Object.defineProperty(oa.prototype,"d",{get:function(){return this._matrix[3]},set:function(Dn){this._matrix[3]=Dn}}),Object.defineProperty(oa.prototype,"e",{get:function(){return this._matrix[4]},set:function(Dn){this._matrix[4]=Dn}}),Object.defineProperty(oa.prototype,"f",{get:function(){return this._matrix[5]},set:function(Dn){this._matrix[5]=Dn}}),Object.defineProperty(oa.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(oa.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(oa.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(oa.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),oa.prototype.join=function(Dn){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(dn).join(Dn)},oa.prototype.multiply=function(Dn){var Qn=Dn.sx*this.sx+Dn.shy*this.shx,cr=Dn.sx*this.shy+Dn.shy*this.sy,wr=Dn.shx*this.sx+Dn.sy*this.shx,Br=Dn.shx*this.shy+Dn.sy*this.sy,Wr=Dn.tx*this.sx+Dn.ty*this.shx+this.tx,ea=Dn.tx*this.shy+Dn.ty*this.sy+this.ty;return new oa(Qn,cr,wr,Br,Wr,ea)},oa.prototype.decompose=function(){var Dn=this.sx,Qn=this.shy,cr=this.shx,wr=this.sy,Br=this.tx,Wr=this.ty,ea=Math.sqrt(Dn*Dn+Qn*Qn),ga=(Dn/=ea)*cr+(Qn/=ea)*wr;cr-=Dn*ga,wr-=Qn*ga;var Pa=Math.sqrt(cr*cr+wr*wr);return ga/=Pa,Dn*(wr/=Pa)<Qn*(cr/=Pa)&&(Dn=-Dn,Qn=-Qn,ga=-ga,ea=-ea),{scale:new oa(ea,0,0,Pa,0,0),translate:new oa(1,0,0,1,Br,Wr),rotate:new oa(Dn,Qn,-Qn,Dn,0,0),skew:new oa(1,0,ga,1,0,0)}},oa.prototype.toString=function(Dn){return this.join(" ")},oa.prototype.inversed=function(){var Dn=this.sx,Qn=this.shy,cr=this.shx,wr=this.sy,Br=this.tx,Wr=this.ty,ea=1/(Dn*wr-Qn*cr),ga=wr*ea,Pa=-Qn*ea,Ba=-cr*ea,Ua=Dn*ea;return new oa(ga,Pa,Ba,Ua,-ga*Br-Ba*Wr,-Pa*Br-Ua*Wr)},oa.prototype.applyToPoint=function(Dn){var Qn=Dn.x*this.sx+Dn.y*this.shx+this.tx,cr=Dn.x*this.shy+Dn.y*this.sy+this.ty;return new Pl(Qn,cr)},oa.prototype.applyToRectangle=function(Dn){var Qn=this.applyToPoint(Dn),cr=this.applyToPoint(new Pl(Dn.x+Dn.w,Dn.y+Dn.h));return new Kl(Qn.x,Qn.y,cr.x-Qn.x,cr.y-Qn.y)},oa.prototype.clone=function(){var Dn=this.sx,Qn=this.shy,cr=this.shx,wr=this.sy,Br=this.tx,Wr=this.ty;return new oa(Dn,Qn,cr,wr,Br,Wr)},Ge.Matrix=oa;var ma=Ge.matrixMult=function(Dn,Qn){return Qn.multiply(Dn)},da=new oa(1,0,0,1,0,0);Ge.unitMatrix=Ge.identityMatrix=da;var fa=function(Dn,Qn){if(!Pr[Dn]){var cr=(Qn instanceof M$1?"Sh":"P")+(Object.keys(na).length+1).toString(10);Qn.id=cr,Pr[Dn]=cr,na[cr]=Qn,Rr.publish("addPattern",Qn)}};Ge.ShadingPattern=M$1,Ge.TilingPattern=q,Ge.addShadingPattern=function(Dn,Qn){return sn("addShadingPattern()"),fa(Dn,Qn),this},Ge.beginTilingPattern=function(Dn){sn("beginTilingPattern()"),rl(Dn.boundingBox[0],Dn.boundingBox[1],Dn.boundingBox[2]-Dn.boundingBox[0],Dn.boundingBox[3]-Dn.boundingBox[1],Dn.matrix)},Ge.endTilingPattern=function(Dn,Qn){sn("endTilingPattern()"),Qn.stream=xn[$n].join(`
`),fa(Dn,Qn),Rr.publish("endTilingPattern",Qn),Sa.pop().restore()};var Ca,Na=Ge.__private__.newObject=function(){var Dn=Ta();return Ia(Dn,!0),Dn},Ta=Ge.__private__.newObjectDeferred=function(){return Sn++,pn[Sn]=function(){return un},Sn},Ia=function(Dn,Qn){return Qn=typeof Qn=="boolean"&&Qn,pn[Dn]=un,Qn&&qn(Dn+" 0 obj"),Dn},hi=Ge.__private__.newAdditionalObject=function(){var Dn={objId:Ta(),content:""};return wn.push(Dn),Dn},Ha=Ta(),ri=Ta(),ja=Ge.__private__.decodeColorString=function(Dn){var Qn=Dn.split(" ");if(Qn.length!==2||Qn[1]!=="g"&&Qn[1]!=="G")Qn.length!==5||Qn[4]!=="k"&&Qn[4]!=="K"||(Qn=[(1-Qn[0])*(1-Qn[3]),(1-Qn[1])*(1-Qn[3]),(1-Qn[2])*(1-Qn[3]),"r"]);else{var cr=parseFloat(Qn[0]);Qn=[cr,cr,cr,"r"]}for(var wr="#",Br=0;Br<3;Br++)wr+=("0"+Math.floor(255*parseFloat(Qn[Br])).toString(16)).slice(-2);return wr},pi=Ge.__private__.encodeColorString=function(Dn){var Qn;typeof Dn=="string"&&(Dn={ch1:Dn});var cr=Dn.ch1,wr=Dn.ch2,Br=Dn.ch3,Wr=Dn.ch4,ea=Dn.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof cr=="string"&&cr.charAt(0)!=="#"){var ga=new h$2(cr);if(ga.ok)cr=ga.toHex();else if(!/^\d*\.?\d*$/.test(cr))throw new Error('Invalid color "'+cr+'" passed to jsPDF.encodeColorString.')}if(typeof cr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(cr)&&(cr="#"+cr[1]+cr[1]+cr[2]+cr[2]+cr[3]+cr[3]),typeof cr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(cr)){var Pa=parseInt(cr.substr(1),16);cr=Pa>>16&255,wr=Pa>>8&255,Br=255&Pa}if(wr===void 0||Wr===void 0&&cr===wr&&wr===Br)Qn=typeof cr=="string"?cr+" "+ea[0]:Dn.precision===2?Pn(cr/255)+" "+ea[0]:_n(cr/255)+" "+ea[0];else if(Wr===void 0||_typeof(Wr)==="object"){if(Wr&&!isNaN(Wr.a)&&Wr.a===0)return["1.","1.","1.",ea[1]].join(" ");Qn=typeof cr=="string"?[cr,wr,Br,ea[1]].join(" "):Dn.precision===2?[Pn(cr/255),Pn(wr/255),Pn(Br/255),ea[1]].join(" "):[_n(cr/255),_n(wr/255),_n(Br/255),ea[1]].join(" ")}else Qn=typeof cr=="string"?[cr,wr,Br,Wr,ea[2]].join(" "):Dn.precision===2?[Pn(cr),Pn(wr),Pn(Br),Pn(Wr),ea[2]].join(" "):[_n(cr),_n(wr),_n(Br),_n(Wr),ea[2]].join(" ");return Qn},Ri=Ge.__private__.getFilters=function(){return Ue},li=Ge.__private__.putStream=function(Dn){var Qn=(Dn=Dn||{}).data||"",cr=Dn.filters||Ri(),wr=Dn.alreadyAppliedFilters||[],Br=Dn.addLength1||!1,Wr=Qn.length,ea=Dn.objectId,ga=function(Ti){return Ti};if(ze!==null&&ea===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ze!==null&&(ga=Ga.encryptor(ea,0));var Pa={};cr===!0&&(cr=["FlateEncode"]);var Ba=Dn.additionalKeyValues||[],Ua=(Pa=E$1.API.processDataByFilters!==void 0?E$1.API.processDataByFilters(Qn,cr):{data:Qn,reverseChain:[]}).reverseChain+(Array.isArray(wr)?wr.join(" "):wr.toString());if(Pa.data.length!==0&&(Ba.push({key:"Length",value:Pa.data.length}),Br===!0&&Ba.push({key:"Length1",value:Wr})),Ua.length!=0)if(Ua.split("/").length-1==1)Ba.push({key:"Filter",value:Ua});else{Ba.push({key:"Filter",value:"["+Ua+"]"});for(var qa=0;qa<Ba.length;qa+=1)if(Ba[qa].key==="DecodeParms"){for(var Ei=[],Li=0;Li<Pa.reverseChain.split("/").length-1;Li+=1)Ei.push("null");Ei.push(Ba[qa].value),Ba[qa].value="["+Ei.join(" ")+"]"}}qn("<<");for(var ui=0;ui<Ba.length;ui++)qn("/"+Ba[ui].key+" "+Ba[ui].value);qn(">>"),Pa.data.length!==0&&(qn("stream"),qn(ga(Pa.data)),qn("endstream"))},ii=Ge.__private__.putPage=function(Dn){var Qn=Dn.number,cr=Dn.data,wr=Dn.objId,Br=Dn.contentsObjId;Ia(wr,!0),qn("<</Type /Page"),qn("/Parent "+Dn.rootDictionaryObjId+" 0 R"),qn("/Resources "+Dn.resourceDictionaryObjId+" 0 R"),qn("/MediaBox ["+parseFloat(dn(Dn.mediaBox.bottomLeftX))+" "+parseFloat(dn(Dn.mediaBox.bottomLeftY))+" "+dn(Dn.mediaBox.topRightX)+" "+dn(Dn.mediaBox.topRightY)+"]"),Dn.cropBox!==null&&qn("/CropBox ["+dn(Dn.cropBox.bottomLeftX)+" "+dn(Dn.cropBox.bottomLeftY)+" "+dn(Dn.cropBox.topRightX)+" "+dn(Dn.cropBox.topRightY)+"]"),Dn.bleedBox!==null&&qn("/BleedBox ["+dn(Dn.bleedBox.bottomLeftX)+" "+dn(Dn.bleedBox.bottomLeftY)+" "+dn(Dn.bleedBox.topRightX)+" "+dn(Dn.bleedBox.topRightY)+"]"),Dn.trimBox!==null&&qn("/TrimBox ["+dn(Dn.trimBox.bottomLeftX)+" "+dn(Dn.trimBox.bottomLeftY)+" "+dn(Dn.trimBox.topRightX)+" "+dn(Dn.trimBox.topRightY)+"]"),Dn.artBox!==null&&qn("/ArtBox ["+dn(Dn.artBox.bottomLeftX)+" "+dn(Dn.artBox.bottomLeftY)+" "+dn(Dn.artBox.topRightX)+" "+dn(Dn.artBox.topRightY)+"]"),typeof Dn.userUnit=="number"&&Dn.userUnit!==1&&qn("/UserUnit "+Dn.userUnit),Rr.publish("putPage",{objId:wr,pageContext:aa[Qn],pageNumber:Qn,page:cr}),qn("/Contents "+Br+" 0 R"),qn(">>"),qn("endobj");var Wr=cr.join(`
`);return Qe===St&&(Wr+=`
Q`),Ia(Br,!0),li({data:Wr,filters:Ri(),objectId:Br}),qn("endobj"),wr},ys=Ge.__private__.putPages=function(){var Dn,Qn,cr=[];for(Dn=1;Dn<=sa;Dn++)aa[Dn].objId=Ta(),aa[Dn].contentsObjId=Ta();for(Dn=1;Dn<=sa;Dn++)cr.push(ii({number:Dn,data:xn[Dn],objId:aa[Dn].objId,contentsObjId:aa[Dn].contentsObjId,mediaBox:aa[Dn].mediaBox,cropBox:aa[Dn].cropBox,bleedBox:aa[Dn].bleedBox,trimBox:aa[Dn].trimBox,artBox:aa[Dn].artBox,userUnit:aa[Dn].userUnit,rootDictionaryObjId:Ha,resourceDictionaryObjId:ri}));Ia(Ha,!0),qn("<</Type /Pages");var wr="/Kids [";for(Qn=0;Qn<sa;Qn++)wr+=cr[Qn]+" 0 R ";qn(wr+"]"),qn("/Count "+sa),qn(">>"),qn("endobj"),Rr.publish("postPutPages")},Is=function(Dn){Rr.publish("putFont",{font:Dn,out:qn,newObject:Na,putStream:li}),Dn.isAlreadyPutted!==!0&&(Dn.objectNumber=Na(),qn("<<"),qn("/Type /Font"),qn("/BaseFont /"+j$1(Dn.postScriptName)),qn("/Subtype /Type1"),typeof Dn.encoding=="string"&&qn("/Encoding /"+Dn.encoding),qn("/FirstChar 32"),qn("/LastChar 255"),qn(">>"),qn("endobj"))},xi=function(Dn){Dn.objectNumber=Na();var Qn=[];Qn.push({key:"Type",value:"/XObject"}),Qn.push({key:"Subtype",value:"/Form"}),Qn.push({key:"BBox",value:"["+[dn(Dn.x),dn(Dn.y),dn(Dn.x+Dn.width),dn(Dn.y+Dn.height)].join(" ")+"]"}),Qn.push({key:"Matrix",value:"["+Dn.matrix.toString()+"]"});var cr=Dn.pages[1].join(`
`);li({data:cr,additionalKeyValues:Qn,objectId:Dn.objectNumber}),qn("endobj")},$i=function(Dn,Qn){Qn||(Qn=21);var cr=Na(),wr=(function(ea,ga){var Pa,Ba=[],Ua=1/(ga-1);for(Pa=0;Pa<1;Pa+=Ua)Ba.push(Pa);if(Ba.push(1),ea[0].offset!=0){var qa={offset:0,color:ea[0].color};ea.unshift(qa)}if(ea[ea.length-1].offset!=1){var Ei={offset:1,color:ea[ea.length-1].color};ea.push(Ei)}for(var Li="",ui=0,Ti=0;Ti<Ba.length;Ti++){for(Pa=Ba[Ti];Pa>ea[ui+1].offset;)ui++;var Vi=ea[ui].offset,mi=(Pa-Vi)/(ea[ui+1].offset-Vi),Cs=ea[ui].color,El=ea[ui+1].color;Li+=En(Math.round((1-mi)*Cs[0]+mi*El[0]).toString(16))+En(Math.round((1-mi)*Cs[1]+mi*El[1]).toString(16))+En(Math.round((1-mi)*Cs[2]+mi*El[2]).toString(16))}return Li.trim()})(Dn.colors,Qn),Br=[];Br.push({key:"FunctionType",value:"0"}),Br.push({key:"Domain",value:"[0.0 1.0]"}),Br.push({key:"Size",value:"["+Qn+"]"}),Br.push({key:"BitsPerSample",value:"8"}),Br.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Br.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),li({data:wr,additionalKeyValues:Br,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:cr}),qn("endobj"),Dn.objectNumber=Na(),qn("<< /ShadingType "+Dn.type),qn("/ColorSpace /DeviceRGB");var Wr="/Coords ["+dn(parseFloat(Dn.coords[0]))+" "+dn(parseFloat(Dn.coords[1]))+" ";Dn.type===2?Wr+=dn(parseFloat(Dn.coords[2]))+" "+dn(parseFloat(Dn.coords[3])):Wr+=dn(parseFloat(Dn.coords[2]))+" "+dn(parseFloat(Dn.coords[3]))+" "+dn(parseFloat(Dn.coords[4]))+" "+dn(parseFloat(Dn.coords[5])),qn(Wr+="]"),Dn.matrix&&qn("/Matrix ["+Dn.matrix.toString()+"]"),qn("/Function "+cr+" 0 R"),qn("/Extend [true true]"),qn(">>"),qn("endobj")},lo=function(Dn,Qn){var cr=Ta(),wr=Na();Qn.push({resourcesOid:cr,objectOid:wr}),Dn.objectNumber=wr;var Br=[];Br.push({key:"Type",value:"/Pattern"}),Br.push({key:"PatternType",value:"1"}),Br.push({key:"PaintType",value:"1"}),Br.push({key:"TilingType",value:"1"}),Br.push({key:"BBox",value:"["+Dn.boundingBox.map(dn).join(" ")+"]"}),Br.push({key:"XStep",value:dn(Dn.xStep)}),Br.push({key:"YStep",value:dn(Dn.yStep)}),Br.push({key:"Resources",value:cr+" 0 R"}),Dn.matrix&&Br.push({key:"Matrix",value:"["+Dn.matrix.toString()+"]"}),li({data:Dn.stream,additionalKeyValues:Br,objectId:Dn.objectNumber}),qn("endobj")},hu=function(Dn){for(var Qn in Dn.objectNumber=Na(),qn("<<"),Dn)switch(Qn){case"opacity":qn("/ca "+Pn(Dn[Qn]));break;case"stroke-opacity":qn("/CA "+Pn(Dn[Qn]))}qn(">>"),qn("endobj")},uo=function(Dn){Ia(Dn.resourcesOid,!0),qn("<<"),qn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Qn in qn("/Font <<"),ia)ia.hasOwnProperty(Qn)&&(Xe===!1||Xe===!0&&We.hasOwnProperty(Qn))&&qn("/"+Qn+" "+ia[Qn].objectNumber+" 0 R");qn(">>")})(),(function(){if(Object.keys(na).length>0){for(var Qn in qn("/Shading <<"),na)na.hasOwnProperty(Qn)&&na[Qn]instanceof M$1&&na[Qn].objectNumber>=0&&qn("/"+Qn+" "+na[Qn].objectNumber+" 0 R");Rr.publish("putShadingPatternDict"),qn(">>")}})(),(function(Qn){if(Object.keys(na).length>0){for(var cr in qn("/Pattern <<"),na)na.hasOwnProperty(cr)&&na[cr]instanceof Ge.TilingPattern&&na[cr].objectNumber>=0&&na[cr].objectNumber<Qn&&qn("/"+cr+" "+na[cr].objectNumber+" 0 R");Rr.publish("putTilingPatternDict"),qn(">>")}})(Dn.objectOid),(function(){if(Object.keys(fr).length>0){var Qn;for(Qn in qn("/ExtGState <<"),fr)fr.hasOwnProperty(Qn)&&fr[Qn].objectNumber>=0&&qn("/"+Qn+" "+fr[Qn].objectNumber+" 0 R");Rr.publish("putGStateDict"),qn(">>")}})(),(function(){for(var Qn in qn("/XObject <<"),Xr)Xr.hasOwnProperty(Qn)&&Xr[Qn].objectNumber>=0&&qn("/"+Qn+" "+Xr[Qn].objectNumber+" 0 R");Rr.publish("putXobjectDict"),qn(">>")})(),qn(">>"),qn("endobj")},Ru=function(Dn){Er[Dn.fontName]=Er[Dn.fontName]||{},Er[Dn.fontName][Dn.fontStyle]=Dn.id},Jo=function(Dn,Qn,cr,wr,Br){var Wr={id:"F"+(Object.keys(ia).length+1).toString(10),postScriptName:Dn,fontName:Qn,fontStyle:cr,encoding:wr,isStandardFont:Br||!1,metadata:{}};return Rr.publish("addFont",{font:Wr,instance:this}),ia[Wr.id]=Wr,Ru(Wr),Wr.id},vs=Ge.__private__.pdfEscape=Ge.pdfEscape=function(Dn,Qn){return(function(cr,wr){var Br,Wr,ea,ga,Pa,Ba,Ua,qa,Ei;if(ea=(wr=wr||{}).sourceEncoding||"Unicode",Pa=wr.outputEncoding,(wr.autoencode||Pa)&&ia[$r].metadata&&ia[$r].metadata[ea]&&ia[$r].metadata[ea].encoding&&(ga=ia[$r].metadata[ea].encoding,!Pa&&ia[$r].encoding&&(Pa=ia[$r].encoding),!Pa&&ga.codePages&&(Pa=ga.codePages[0]),typeof Pa=="string"&&(Pa=ga[Pa]),Pa)){for(Ua=!1,Ba=[],Br=0,Wr=cr.length;Br<Wr;Br++)(qa=Pa[cr.charCodeAt(Br)])?Ba.push(String.fromCharCode(qa)):Ba.push(cr[Br]),Ba[Br].charCodeAt(0)>>8&&(Ua=!0);cr=Ba.join("")}for(Br=cr.length;Ua===void 0&&Br!==0;)cr.charCodeAt(Br-1)>>8&&(Ua=!0),Br--;if(!Ua)return cr;for(Ba=wr.noBOM?[]:[254,255],Br=0,Wr=cr.length;Br<Wr;Br++){if((Ei=(qa=cr.charCodeAt(Br))>>8)>>8)throw new Error("Character at position "+Br+" of string '"+cr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ba.push(Ei),Ba.push(qa-(Ei<<8))}return String.fromCharCode.apply(void 0,Ba)})(Dn,Qn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bs=Ge.__private__.beginPage=function(Dn){xn[++sa]=[],aa[sa]={objId:0,contentsObjId:0,userUnit:Number(De),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Dn[0]),topRightY:Number(Dn[1])}},No(sa),vn(xn[$n])},$l=function(Dn,Qn){var cr,wr,Br;switch(Te=Qn||Te,typeof Dn=="string"&&(cr=Ye(Dn.toLowerCase()),Array.isArray(cr)&&(wr=cr[0],Br=cr[1])),Array.isArray(Dn)&&(wr=Dn[0]*Dr,Br=Dn[1]*Dr),isNaN(wr)&&(wr=Re[0],Br=Re[1]),(wr>14400||Br>14400)&&(o$5.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),wr=Math.min(14400,wr),Br=Math.min(14400,Br)),Re=[wr,Br],Te.substr(0,1)){case"l":Br>wr&&(Re=[Br,wr]);break;case"p":wr>Br&&(Re=[Br,wr])}bs(Re),mu(Ao),qn(Xs),To!==0&&qn(To+" J"),Sl!==0&&qn(Sl+" j"),Rr.publish("addPage",{pageNumber:sa})},jl=function(Dn){Dn>0&&Dn<=sa&&(xn.splice(Dn,1),aa.splice(Dn,1),sa--,$n>sa&&($n=sa),this.setPage($n))},No=function(Dn){Dn>0&&Dn<=sa&&($n=Dn)},zl=Ge.__private__.getNumberOfPages=Ge.getNumberOfPages=function(){return xn.length-1},Hl=function(Dn,Qn,cr){var wr,Br=void 0;return cr=cr||{},Dn=Dn!==void 0?Dn:ia[$r].fontName,Qn=Qn!==void 0?Qn:ia[$r].fontStyle,wr=Dn.toLowerCase(),Er[wr]!==void 0&&Er[wr][Qn]!==void 0?Br=Er[wr][Qn]:Er[Dn]!==void 0&&Er[Dn][Qn]!==void 0?Br=Er[Dn][Qn]:cr.disableWarning===!1&&o$5.warn("Unable to look up font label for font '"+Dn+"', '"+Qn+"'. Refer to getFontList() for available fonts."),Br||cr.noFallback||(Br=Er.times[Qn])==null&&(Br=Er.times.normal),Br},xl=Ge.__private__.putInfo=function(){var Dn=Na(),Qn=function(wr){return wr};for(var cr in ze!==null&&(Qn=Ga.encryptor(Dn,0)),qn("<<"),qn("/Producer ("+vs(Qn("jsPDF "+E$1.version))+")"),Gr)Gr.hasOwnProperty(cr)&&Gr[cr]&&qn("/"+cr.substr(0,1).toUpperCase()+cr.substr(1)+" ("+vs(Qn(Gr[cr]))+")");qn("/CreationDate ("+vs(Qn(zn))+")"),qn(">>"),qn("endobj")},du=Ge.__private__.putCatalog=function(Dn){var Qn=(Dn=Dn||{}).rootDictionaryObjId||Ha;switch(Na(),qn("<<"),qn("/Type /Catalog"),qn("/Pages "+Qn+" 0 R"),Yn||(Yn="fullwidth"),Yn){case"fullwidth":qn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":qn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":qn("/OpenAction [3 0 R /Fit]");break;case"original":qn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var cr=""+Yn;cr.substr(cr.length-1)==="%"&&(Yn=parseInt(Yn)/100),typeof Yn=="number"&&qn("/OpenAction [3 0 R /XYZ null null "+Pn(Yn)+"]")}switch(br||(br="continuous"),br){case"continuous":qn("/PageLayout /OneColumn");break;case"single":qn("/PageLayout /SinglePage");break;case"two":case"twoleft":qn("/PageLayout /TwoColumnLeft");break;case"tworight":qn("/PageLayout /TwoColumnRight")}ur&&qn("/PageMode /"+ur),Rr.publish("putCatalog"),qn(">>"),qn("endobj")},ei=Ge.__private__.putTrailer=function(){qn("trailer"),qn("<<"),qn("/Size "+(Sn+1)),qn("/Root "+Sn+" 0 R"),qn("/Info "+(Sn-1)+" 0 R"),ze!==null&&qn("/Encrypt "+Ga.oid+" 0 R"),qn("/ID [ <"+Ln+"> <"+Ln+"> ]"),qn(">>")},Vu=Ge.__private__.putHeader=function(){qn("%PDF-"+tn),qn("%ºß¬à")},ec=Ge.__private__.putXRef=function(){var Dn="0000000000";qn("xref"),qn("0 "+(Sn+1)),qn("0000000000 65535 f ");for(var Qn=1;Qn<=Sn;Qn++)typeof pn[Qn]=="function"?qn((Dn+pn[Qn]()).slice(-10)+" 00000 n "):pn[Qn]!==void 0?qn((Dn+pn[Qn]).slice(-10)+" 00000 n "):qn("0000000000 00000 n ")},co=Ge.__private__.buildDocument=function(){var Dn;Sn=0,un=0,mn=[],pn=[],wn=[],Ha=Ta(),ri=Ta(),vn(mn),Rr.publish("buildDocument"),Vu(),ys(),(function(){Rr.publish("putAdditionalObjects");for(var cr=0;cr<wn.length;cr++){var wr=wn[cr];Ia(wr.objId,!0),qn(wr.content),qn("endobj")}Rr.publish("postPutAdditionalObjects")})(),Dn=[],(function(){for(var cr in ia)ia.hasOwnProperty(cr)&&(Xe===!1||Xe===!0&&We.hasOwnProperty(cr))&&Is(ia[cr])})(),(function(){var cr;for(cr in fr)fr.hasOwnProperty(cr)&&hu(fr[cr])})(),(function(){for(var cr in Xr)Xr.hasOwnProperty(cr)&&xi(Xr[cr])})(),(function(cr){var wr;for(wr in na)na.hasOwnProperty(wr)&&(na[wr]instanceof M$1?$i(na[wr]):na[wr]instanceof q&&lo(na[wr],cr))})(Dn),Rr.publish("putResources"),Dn.forEach(uo),uo({resourcesOid:ri,objectOid:Number.MAX_SAFE_INTEGER}),Rr.publish("postPutResources"),ze!==null&&(Ga.oid=Na(),qn("<<"),qn("/Filter /Standard"),qn("/V "+Ga.v),qn("/R "+Ga.r),qn("/U <"+Ga.toHexString(Ga.U)+">"),qn("/O <"+Ga.toHexString(Ga.O)+">"),qn("/P "+Ga.P),qn(">>"),qn("endobj")),xl(),du();var Qn=un;return ec(),ei(),qn("startxref"),qn(""+Qn),qn("%%EOF"),vn(xn[$n]),mn.join(`
`)},Zo=Ge.__private__.getBlob=function(Dn){return new Blob([cn(Dn)],{type:"application/pdf"})},ji=Ge.output=Ge.__private__.output=(Ca=function(Dn,Qn){switch(typeof(Qn=Qn||{})=="string"?Qn={filename:Qn}:Qn.filename=Qn.filename||"generated.pdf",Dn){case void 0:return co();case"save":Ge.save(Qn.filename);break;case"arraybuffer":return cn(co());case"blob":return Zo(co());case"bloburi":case"bloburl":if(i$5.URL!==void 0&&typeof i$5.URL.createObjectURL=="function")return i$5.URL&&i$5.URL.createObjectURL(Zo(co()))||void 0;o$5.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var cr="",wr=co();try{cr=d$2(wr)}catch{cr=d$2(unescape(encodeURIComponent(wr)))}return"data:application/pdf;filename="+Qn.filename+";base64,"+cr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(i$5)==="[object Window]"){var Br="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Wr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Qn.pdfObjectUrl&&(Br=Qn.pdfObjectUrl,Wr="");var ea='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Br+'"'+Wr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Qn)+");<\/script></body></html>",ga=i$5.open();return ga!==null&&ga.document.write(ea),ga}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(i$5)==="[object Window]"){var Pa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Qn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Qn.filename+'" width="500px" height="400px" /></body></html>',Ba=i$5.open();if(Ba!==null){Ba.document.write(Pa);var Ua=this;Ba.document.documentElement.querySelector("#pdfViewer").onload=function(){Ba.document.title=Qn.filename,Ba.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ua.output("bloburl"))}}return Ba}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(i$5)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Qn)+'"></iframe></body></html>',Ei=i$5.open();if(Ei!==null&&(Ei.document.write(qa),Ei.document.title=Qn.filename),Ei||typeof safari>"u")return Ei;break;case"datauri":case"dataurl":return i$5.document.location.href=this.output("datauristring",Qn);default:return null}},Ca.foo=function(){try{return Ca.apply(this,arguments)}catch(cr){var Dn=cr.stack||"";~Dn.indexOf(" at ")&&(Dn=Dn.split(" at ")[1]);var Qn="Error in function "+Dn.split(`
`)[0].split("<")[0]+": "+cr.message;if(!i$5.console)throw new Error(Qn);i$5.console.error(Qn,cr),i$5.alert&&alert(Qn)}},Ca.foo.bar=Ca,Ca.foo),Gl=function(Dn){return Array.isArray(Tr)===!0&&Tr.indexOf(Dn)>-1};switch(Be){case"pt":Dr=1;break;case"mm":Dr=72/25.4;break;case"cm":Dr=72/2.54;break;case"in":Dr=72;break;case"px":Dr=Gl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dr=12;break;case"ex":Dr=6;break;default:if(typeof Be!="number")throw new Error("Invalid unit: "+Be);Dr=Be}var Ga=null;Gn(),On();var So=Ge.__private__.getPageInfo=Ge.getPageInfo=function(Dn){if(isNaN(Dn)||Dn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:aa[Dn].objId,pageNumber:Dn,pageContext:aa[Dn]}},Wl=Ge.__private__.getPageInfoByObjId=function(Dn){if(isNaN(Dn)||Dn%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Qn in aa)if(aa[Qn].objId===Dn)break;return So(Qn)},ws=Ge.__private__.getCurrentPageInfo=Ge.getCurrentPageInfo=function(){return{objId:aa[$n].objId,pageNumber:$n,pageContext:aa[$n]}};Ge.addPage=function(){return $l.apply(this,arguments),this},Ge.setPage=function(){return No.apply(this,arguments),vn.call(this,xn[$n]),this},Ge.insertPage=function(Dn){return this.addPage(),this.movePage($n,Dn),this},Ge.movePage=function(Dn,Qn){var cr,wr;if(Dn>Qn){cr=xn[Dn],wr=aa[Dn];for(var Br=Dn;Br>Qn;Br--)xn[Br]=xn[Br-1],aa[Br]=aa[Br-1];xn[Qn]=cr,aa[Qn]=wr,this.setPage(Qn)}else if(Dn<Qn){cr=xn[Dn],wr=aa[Dn];for(var Wr=Dn;Wr<Qn;Wr++)xn[Wr]=xn[Wr+1],aa[Wr]=aa[Wr+1];xn[Qn]=cr,aa[Qn]=wr,this.setPage(Qn)}return this},Ge.deletePage=function(){return jl.apply(this,arguments),this},Ge.__private__.text=Ge.text=function(Dn,Qn,cr,wr,Br){var Wr,ea,ga,Pa,Ba,Ua,qa,Ei,Li,ui=(wr=wr||{}).scope||this;if(typeof Dn=="number"&&typeof Qn=="number"&&(typeof cr=="string"||Array.isArray(cr))){var Ti=cr;cr=Qn,Qn=Dn,Dn=Ti}if(arguments[3]instanceof oa==0?(ga=arguments[4],Pa=arguments[5],_typeof(qa=arguments[3])==="object"&&qa!==null||(typeof ga=="string"&&(Pa=ga,ga=null),typeof qa=="string"&&(Pa=qa,qa=null),typeof qa=="number"&&(ga=qa,qa=null),wr={flags:qa,angle:ga,align:Pa})):(sn("The transform parameter of text() with a Matrix value"),Li=Br),isNaN(Qn)||isNaN(cr)||Dn==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Dn.length===0)return ui;var Vi,mi="",Cs=typeof wr.lineHeightFactor=="number"?wr.lineHeightFactor:Gs,El=ui.internal.scaleFactor;function nc(ti){return ti=ti.split("	").join(Array(wr.TabLen||9).join(" ")),vs(ti,qa)}function rc(ti){for(var ci,gi=ti.concat(),_i=[],is=gi.length;is--;)typeof(ci=gi.shift())=="string"?_i.push(ci):Array.isArray(ti)&&(ci.length===1||ci[1]===void 0&&ci[2]===void 0)?_i.push(ci[0]):_i.push([ci[0],ci[1],ci[2]]);return _i}function Zl(ti,ci){var gi;if(typeof ti=="string")gi=ci(ti)[0];else if(Array.isArray(ti)){for(var _i,is,Rs=ti.concat(),Xi=[],Vl=Rs.length;Vl--;)typeof(_i=Rs.shift())=="string"?Xi.push(ci(_i)[0]):Array.isArray(_i)&&typeof _i[0]=="string"&&(is=ci(_i[0],_i[1],_i[2]),Xi.push([is[0],is[1],is[2]]));gi=Xi}return gi}var po=!1,Du=!0;if(typeof Dn=="string")po=!0;else if(Array.isArray(Dn)){var al=Dn.concat();ea=[];for(var Ks,zi=al.length;zi--;)(typeof(Ks=al.shift())!="string"||Array.isArray(Ks)&&typeof Ks[0]!="string")&&(Du=!1);po=Du}if(po===!1)throw new Error('Type of text must be string or Array. "'+Dn+'" is not recognized.');typeof Dn=="string"&&(Dn=Dn.match(/[\r?\n]/)?Dn.split(/\r\n|\r|\n/g):[Dn]);var Bs=Cn/ui.internal.scaleFactor,mo=Bs*(Cs-1);switch(wr.baseline){case"bottom":cr-=mo;break;case"top":cr+=Bs-mo;break;case"hanging":cr+=Bs-2*mo;break;case"middle":cr+=Bs/2-mo}if((Ua=wr.maxWidth||0)>0&&(typeof Dn=="string"?Dn=ui.splitTextToSize(Dn,Ua):Object.prototype.toString.call(Dn)==="[object Array]"&&(Dn=Dn.reduce(function(ti,ci){return ti.concat(ui.splitTextToSize(ci,Ua))},[]))),Wr={text:Dn,x:Qn,y:cr,options:wr,mutex:{pdfEscape:vs,activeFontKey:$r,fonts:ia,activeFontSize:Cn}},Rr.publish("preProcessText",Wr),Dn=Wr.text,ga=(wr=Wr.options).angle,Li instanceof oa==0&&ga&&typeof ga=="number"){ga*=Math.PI/180,wr.rotationDirection===0&&(ga=-ga),Qe===St&&(ga=-ga);var Tl=Math.cos(ga),yu=Math.sin(ga);Li=new oa(Tl,yu,-yu,Tl,0,0)}else ga&&ga instanceof oa&&(Li=ga);Qe!==St||Li||(Li=da),(Ba=wr.charSpace||Yl)!==void 0&&(mi+=dn(Mn(Ba))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ei=wr.horizontalScale)!==void 0&&(mi+=dn(100*Ei)+` Tz
`),wr.lang;var Hi=-1,il=wr.renderingMode!==void 0?wr.renderingMode:wr.stroke,vu=ui.internal.getCurrentPageInfo().pageContext;switch(il){case 0:case!1:case"fill":Hi=0;break;case 1:case!0:case"stroke":Hi=1;break;case 2:case"fillThenStroke":Hi=2;break;case 3:case"invisible":Hi=3;break;case 4:case"fillAndAddForClipping":Hi=4;break;case 5:case"strokeAndAddPathForClipping":Hi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hi=6;break;case 7:case"addToPathForClipping":Hi=7}var Lu=vu.usedRenderingMode!==void 0?vu.usedRenderingMode:-1;Hi!==-1?mi+=Hi+` Tr
`:Lu!==-1&&(mi+=`0 Tr
`),Hi!==-1&&(vu.usedRenderingMode=Hi),Pa=wr.align||"left";var Gi,_s=Cn*Cs,Lo=ui.internal.pageSize.getWidth(),sl=ia[$r];Ba=wr.charSpace||Yl,Ua=wr.maxWidth||0,qa=Object.assign({autoencode:!0,noBOM:!0},wr.flags);var go=[],Cl=function(ti){return ui.getStringUnitWidth(ti,{font:sl,charSpace:Ba,fontSize:Cn,doKerning:!1})*Cn/El};if(Object.prototype.toString.call(Dn)==="[object Array]"){var ns;ea=rc(Dn),Pa!=="left"&&(Gi=ea.map(Cl));var rs,Fo=0;if(Pa==="right"){Qn-=Gi[0],Dn=[],zi=ea.length;for(var as=0;as<zi;as++)as===0?(rs=ho(Qn),ns=Ws(cr)):(rs=Mn(Fo-Gi[as]),ns=-_s),Dn.push([ea[as],rs,ns]),Fo=Gi[as]}else if(Pa==="center"){Qn-=Gi[0]/2,Dn=[],zi=ea.length;for(var Fs=0;Fs<zi;Fs++)Fs===0?(rs=ho(Qn),ns=Ws(cr)):(rs=Mn((Fo-Gi[Fs])/2),ns=-_s),Dn.push([ea[Fs],rs,ns]),Fo=Gi[Fs]}else if(Pa==="left"){Dn=[],zi=ea.length;for(var ol=0;ol<zi;ol++)Dn.push(ea[ol])}else if(Pa==="justify"&&sl.encoding==="Identity-H"){Dn=[],zi=ea.length,Ua=Ua!==0?Ua:Lo;for(var Oo=0,ki=0;ki<zi;ki++)if(ns=ki===0?Ws(cr):-_s,rs=ki===0?ho(Qn):Oo,ki<zi-1){var Fu=Mn((Ua-Gi[ki])/(ea[ki].split(" ").length-1)),Uo=ea[ki].split(" ");Dn.push([Uo[0]+" ",rs,ns]),Oo=0;for(var Bo=1;Bo<Uo.length;Bo++){var ll=(Cl(Uo[Bo-1]+" "+Uo[Bo])-Cl(Uo[Bo]))*El+Fu;Bo==Uo.length-1?Dn.push([Uo[Bo],ll,0]):Dn.push([Uo[Bo]+" ",ll,0]),Oo-=ll}}else Dn.push([ea[ki],rs,ns]);Dn.push(["",Oo,0])}else{if(Pa!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Dn=[],zi=ea.length,Ua=Ua!==0?Ua:Lo,ki=0;ki<zi;ki++)ns=ki===0?Ws(cr):-_s,rs=ki===0?ho(Qn):0,ki<zi-1?go.push(dn(Mn((Ua-Gi[ki])/(ea[ki].split(" ").length-1)))):go.push(0),Dn.push([ea[ki],rs,ns])}}(typeof wr.R2L=="boolean"?wr.R2L:er)===!0&&(Dn=Zl(Dn,function(ti,ci,gi){return[ti.split("").reverse().join(""),ci,gi]})),Wr={text:Dn,x:Qn,y:cr,options:wr,mutex:{pdfEscape:vs,activeFontKey:$r,fonts:ia,activeFontSize:Cn}},Rr.publish("postProcessText",Wr),Dn=Wr.text,Vi=Wr.mutex.isHex||!1;var Ql=ia[$r].encoding;Ql!=="WinAnsiEncoding"&&Ql!=="StandardEncoding"||(Dn=Zl(Dn,function(ti,ci,gi){return[nc(ti),ci,gi]})),ea=rc(Dn),Dn=[];for(var Wi,Ro,Bl,Rl=Array.isArray(ea[0])?1:0,yo="",bu=function(ti,ci,gi){var _i="";return gi instanceof oa?(gi=typeof wr.angle=="number"?ma(gi,new oa(1,0,0,1,ti,ci)):ma(new oa(1,0,0,1,ti,ci),gi),Qe===St&&(gi=ma(new oa(1,0,0,-1,0,0),gi)),_i=gi.join(" ")+` Tm
`):_i=dn(ti)+" "+dn(ci)+` Td
`,_i},fs=0;fs<ea.length;fs++){switch(yo="",Rl){case 1:Bl=(Vi?"<":"(")+ea[fs][0]+(Vi?">":")"),Wi=parseFloat(ea[fs][1]),Ro=parseFloat(ea[fs][2]);break;case 0:Bl=(Vi?"<":"(")+ea[fs]+(Vi?">":")"),Wi=ho(Qn),Ro=Ws(cr)}go!==void 0&&go[fs]!==void 0&&(yo=go[fs]+` Tw
`),fs===0?Dn.push(yo+bu(Wi,Ro,Li)+Bl):Rl===0?Dn.push(yo+Bl):Rl===1&&Dn.push(yo+bu(Wi,Ro,Li)+Bl)}Dn=Rl===0?Dn.join(` Tj
T* `):Dn.join(` Tj
`),Dn+=` Tj
`;var qo=`BT
/`;return qo+=$r+" "+Cn+` Tf
`,qo+=dn(Cn*Cs)+` TL
`,qo+=Ys+`
`,qo+=mi,qo+=Dn,qn(qo+="ET"),We[$r]=!0,ui};var Qo=Ge.__private__.clip=Ge.clip=function(Dn){return qn(Dn==="evenodd"?"W*":"W"),this};Ge.clipEvenOdd=function(){return Qo("evenodd")},Ge.__private__.discardPath=Ge.discardPath=function(){return qn("n"),this};var Hs=Ge.__private__.isValidStyle=function(Dn){var Qn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Dn)!==-1&&(Qn=!0),Qn};Ge.__private__.setDefaultPathOperation=Ge.setDefaultPathOperation=function(Dn){return Hs(Dn)&&($e=Dn),this};var pu=Ge.__private__.getStyle=Ge.getStyle=function(Dn){var Qn=$e;switch(Dn){case"D":case"S":Qn="S";break;case"F":Qn="f";break;case"FD":case"DF":Qn="B";break;case"f":case"f*":case"B":case"B*":Qn=Dn}return Qn},fo=Ge.close=function(){return qn("h"),this};Ge.stroke=function(){return qn("S"),this},Ge.fill=function(Dn){return Po("f",Dn),this},Ge.fillEvenOdd=function(Dn){return Po("f*",Dn),this},Ge.fillStroke=function(Dn){return Po("B",Dn),this},Ge.fillStrokeEvenOdd=function(Dn){return Po("B*",Dn),this};var Po=function(Dn,Qn){_typeof(Qn)==="object"?ku(Qn,Dn):qn(Dn)},Xl=function(Dn){Dn===null||Qe===St&&Dn===void 0||(Dn=pu(Dn),qn(Dn))};function tc(Dn,Qn,cr,wr,Br){var Wr=new q(Qn||this.boundingBox,cr||this.xStep,wr||this.yStep,this.gState,Br||this.matrix);Wr.stream=this.stream;var ea=Dn+"$$"+this.cloneIndex+++"$$";return fa(ea,Wr),Wr}var ku=function(Dn,Qn){var cr=Pr[Dn.key],wr=na[cr];if(wr instanceof M$1)qn("q"),qn(Mu(Qn)),wr.gState&&Ge.setGState(wr.gState),qn(Dn.matrix.toString()+" cm"),qn("/"+cr+" sh"),qn("Q");else if(wr instanceof q){var Br=new oa(1,0,0,-1,0,Ls());Dn.matrix&&(Br=Br.multiply(Dn.matrix||da),cr=tc.call(wr,Dn.key,Dn.boundingBox,Dn.xStep,Dn.yStep,Br).id),qn("q"),qn("/Pattern cs"),qn("/"+cr+" scn"),wr.gState&&Ge.setGState(wr.gState),qn(Qn),qn("Q")}},Mu=function(Dn){switch(Dn){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},el=Ge.moveTo=function(Dn,Qn){return qn(dn(Mn(Dn))+" "+dn(yn(Qn))+" m"),this},Io=Ge.lineTo=function(Dn,Qn){return qn(dn(Mn(Dn))+" "+dn(yn(Qn))+" l"),this},Do=Ge.curveTo=function(Dn,Qn,cr,wr,Br,Wr){return qn([dn(Mn(Dn)),dn(yn(Qn)),dn(Mn(cr)),dn(yn(wr)),dn(Mn(Br)),dn(yn(Wr)),"c"].join(" ")),this};Ge.__private__.line=Ge.line=function(Dn,Qn,cr,wr,Br){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||isNaN(wr)||!Hs(Br))throw new Error("Invalid arguments passed to jsPDF.line");return Qe===Ze?this.lines([[cr-Dn,wr-Qn]],Dn,Qn,[1,1],Br||"S"):this.lines([[cr-Dn,wr-Qn]],Dn,Qn,[1,1]).stroke()},Ge.__private__.lines=Ge.lines=function(Dn,Qn,cr,wr,Br,Wr){var ea,ga,Pa,Ba,Ua,qa,Ei,Li,ui,Ti,Vi,mi;if(typeof Dn=="number"&&(mi=cr,cr=Qn,Qn=Dn,Dn=mi),wr=wr||[1,1],Wr=Wr||!1,isNaN(Qn)||isNaN(cr)||!Array.isArray(Dn)||!Array.isArray(wr)||!Hs(Br)||typeof Wr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(el(Qn,cr),ea=wr[0],ga=wr[1],Ba=Dn.length,Ti=Qn,Vi=cr,Pa=0;Pa<Ba;Pa++)(Ua=Dn[Pa]).length===2?(Ti=Ua[0]*ea+Ti,Vi=Ua[1]*ga+Vi,Io(Ti,Vi)):(qa=Ua[0]*ea+Ti,Ei=Ua[1]*ga+Vi,Li=Ua[2]*ea+Ti,ui=Ua[3]*ga+Vi,Ti=Ua[4]*ea+Ti,Vi=Ua[5]*ga+Vi,Do(qa,Ei,Li,ui,Ti,Vi));return Wr&&fo(),Xl(Br),this},Ge.path=function(Dn){for(var Qn=0;Qn<Dn.length;Qn++){var cr=Dn[Qn],wr=cr.c;switch(cr.op){case"m":el(wr[0],wr[1]);break;case"l":Io(wr[0],wr[1]);break;case"c":Do.apply(this,wr);break;case"h":fo()}}return this},Ge.__private__.rect=Ge.rect=function(Dn,Qn,cr,wr,Br){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||isNaN(wr)||!Hs(Br))throw new Error("Invalid arguments passed to jsPDF.rect");return Qe===Ze&&(wr=-wr),qn([dn(Mn(Dn)),dn(yn(Qn)),dn(Mn(cr)),dn(Mn(wr)),"re"].join(" ")),Xl(Br),this},Ge.__private__.triangle=Ge.triangle=function(Dn,Qn,cr,wr,Br,Wr,ea){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||isNaN(wr)||isNaN(Br)||isNaN(Wr)||!Hs(ea))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[cr-Dn,wr-Qn],[Br-cr,Wr-wr],[Dn-Br,Qn-Wr]],Dn,Qn,[1,1],ea,!0),this},Ge.__private__.roundedRect=Ge.roundedRect=function(Dn,Qn,cr,wr,Br,Wr,ea){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||isNaN(wr)||isNaN(Br)||isNaN(Wr)||!Hs(ea))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ga=4/3*(Math.SQRT2-1);return Br=Math.min(Br,.5*cr),Wr=Math.min(Wr,.5*wr),this.lines([[cr-2*Br,0],[Br*ga,0,Br,Wr-Wr*ga,Br,Wr],[0,wr-2*Wr],[0,Wr*ga,-Br*ga,Wr,-Br,Wr],[2*Br-cr,0],[-Br*ga,0,-Br,-Wr*ga,-Br,-Wr],[0,2*Wr-wr],[0,-Wr*ga,Br*ga,-Wr,Br,-Wr]],Dn+Br,Qn,[1,1],ea,!0),this},Ge.__private__.ellipse=Ge.ellipse=function(Dn,Qn,cr,wr,Br){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||isNaN(wr)||!Hs(Br))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Wr=4/3*(Math.SQRT2-1)*cr,ea=4/3*(Math.SQRT2-1)*wr;return el(Dn+cr,Qn),Do(Dn+cr,Qn-ea,Dn+Wr,Qn-wr,Dn,Qn-wr),Do(Dn-Wr,Qn-wr,Dn-cr,Qn-ea,Dn-cr,Qn),Do(Dn-cr,Qn+ea,Dn-Wr,Qn+wr,Dn,Qn+wr),Do(Dn+Wr,Qn+wr,Dn+cr,Qn+ea,Dn+cr,Qn),Xl(Br),this},Ge.__private__.circle=Ge.circle=function(Dn,Qn,cr,wr){if(isNaN(Dn)||isNaN(Qn)||isNaN(cr)||!Hs(wr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Dn,Qn,cr,cr,wr)},Ge.setFont=function(Dn,Qn,cr){return cr&&(Qn=hn(Qn,cr)),$r=Hl(Dn,Qn,{disableWarning:!1}),this};var Nu=Ge.__private__.getFont=Ge.getFont=function(){return ia[Hl.apply(Ge,arguments)]};Ge.__private__.getFontList=Ge.getFontList=function(){var Dn,Qn,cr={};for(Dn in Er)if(Er.hasOwnProperty(Dn))for(Qn in cr[Dn]=[],Er[Dn])Er[Dn].hasOwnProperty(Qn)&&cr[Dn].push(Qn);return cr},Ge.addFont=function(Dn,Qn,cr,wr,Br){var Wr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Wr.indexOf(arguments[3])!==-1?Br=arguments[3]:arguments[3]&&Wr.indexOf(arguments[3])==-1&&(cr=hn(cr,wr)),Jo.call(this,Dn,Qn,cr,Br=Br||"Identity-H")};var Gs,Ao=Ce.lineWidth||.200025,ka=Ge.__private__.getLineWidth=Ge.getLineWidth=function(){return Ao},mu=Ge.__private__.setLineWidth=Ge.setLineWidth=function(Dn){return Ao=Dn,qn(dn(Mn(Dn))+" w"),this};Ge.__private__.setLineDash=E$1.API.setLineDash=E$1.API.setLineDashPattern=function(Dn,Qn){if(Dn=Dn||[],Qn=Qn||0,isNaN(Qn)||!Array.isArray(Dn))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Dn=Dn.map(function(cr){return dn(Mn(cr))}).join(" "),Qn=dn(Mn(Qn)),qn("["+Dn+"] "+Qn+" d"),this};var gu=Ge.__private__.getLineHeight=Ge.getLineHeight=function(){return Cn*Gs};Ge.__private__.getLineHeight=Ge.getLineHeight=function(){return Cn*Gs};var Ds=Ge.__private__.setLineHeightFactor=Ge.setLineHeightFactor=function(Dn){return typeof(Dn=Dn||1.15)=="number"&&(Gs=Dn),this},us=Ge.__private__.getLineHeightFactor=Ge.getLineHeightFactor=function(){return Gs};Ds(Ce.lineHeight);var ho=Ge.__private__.getHorizontalCoordinate=function(Dn){return Mn(Dn)},Ws=Ge.__private__.getVerticalCoordinate=function(Dn){return Qe===St?Dn:aa[$n].mediaBox.topRightY-aa[$n].mediaBox.bottomLeftY-Mn(Dn)},Eo=Ge.__private__.getHorizontalCoordinateString=Ge.getHorizontalCoordinateString=function(Dn){return dn(ho(Dn))},_l=Ge.__private__.getVerticalCoordinateString=Ge.getVerticalCoordinateString=function(Dn){return dn(Ws(Dn))},Xs=Ce.strokeColor||"0 G";Ge.__private__.getStrokeColor=Ge.getDrawColor=function(){return ja(Xs)},Ge.__private__.setStrokeColor=Ge.setDrawColor=function(Dn,Qn,cr,wr){return Xs=pi({ch1:Dn,ch2:Qn,ch3:cr,ch4:wr,pdfColorType:"draw",precision:2}),qn(Xs),this};var tl=Ce.fillColor||"0 g";Ge.__private__.getFillColor=Ge.getFillColor=function(){return ja(tl)},Ge.__private__.setFillColor=Ge.setFillColor=function(Dn,Qn,cr,wr){return tl=pi({ch1:Dn,ch2:Qn,ch3:cr,ch4:wr,pdfColorType:"fill",precision:2}),qn(tl),this};var Ys=Ce.textColor||"0 g",nl=Ge.__private__.getTextColor=Ge.getTextColor=function(){return ja(Ys)};Ge.__private__.setTextColor=Ge.setTextColor=function(Dn,Qn,cr,wr){return Ys=pi({ch1:Dn,ch2:Qn,ch3:cr,ch4:wr,pdfColorType:"text",precision:3}),this};var Yl=Ce.charSpace,xs=Ge.__private__.getCharSpace=Ge.getCharSpace=function(){return parseFloat(Yl||0)};Ge.__private__.setCharSpace=Ge.setCharSpace=function(Dn){if(isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yl=Dn,this};var To=0;Ge.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ge.__private__.setLineCap=Ge.setLineCap=function(Dn){var Qn=Ge.CapJoinStyles[Dn];if(Qn===void 0)throw new Error("Line cap style of '"+Dn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=Qn,qn(Qn+" J"),this};var Sl=0;Ge.__private__.setLineJoin=Ge.setLineJoin=function(Dn){var Qn=Ge.CapJoinStyles[Dn];if(Qn===void 0)throw new Error("Line join style of '"+Dn+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=Qn,qn(Qn+" j"),this},Ge.__private__.setLineMiterLimit=Ge.__private__.setMiterLimit=Ge.setLineMiterLimit=Ge.setMiterLimit=function(Dn){if(Dn=Dn||0,isNaN(Dn))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return qn(dn(Mn(Dn))+" M"),this},Ge.GState=O,Ge.setGState=function(Dn){(Dn=typeof Dn=="string"?fr[gr[Dn]]:Co(null,Dn)).equals(Mr)||(qn("/"+Dn.id+" gs"),Mr=Dn)};var Co=function(Dn,Qn){if(!Dn||!gr[Dn]){var cr=!1;for(var wr in fr)if(fr.hasOwnProperty(wr)&&fr[wr].equals(Qn)){cr=!0;break}if(cr)Qn=fr[wr];else{var Br="GS"+(Object.keys(fr).length+1).toString(10);fr[Br]=Qn,Qn.id=Br}return Dn&&(gr[Dn]=Qn.id),Rr.publish("addGState",Qn),Qn}};Ge.addGState=function(Dn,Qn){return Co(Dn,Qn),this},Ge.saveGraphicsState=function(){return qn("q"),Kr.push({key:$r,size:Cn,color:Ys}),this},Ge.restoreGraphicsState=function(){qn("Q");var Dn=Kr.pop();return $r=Dn.key,Cn=Dn.size,Ys=Dn.color,Mr=null,this},Ge.setCurrentTransformationMatrix=function(Dn){return qn(Dn.toString()+" cm"),this},Ge.comment=function(Dn){return qn("#"+Dn),this};var Pl=function(Dn,Qn){var cr=Dn||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return cr},set:function(Wr){isNaN(Wr)||(cr=parseFloat(Wr))}});var wr=Qn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return wr},set:function(Wr){isNaN(Wr)||(wr=parseFloat(Wr))}});var Br="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Br},set:function(Wr){Br=Wr.toString()}}),this},Kl=function(Dn,Qn,cr,wr){Pl.call(this,Dn,Qn),this.type="rect";var Br=cr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Br},set:function(ea){isNaN(ea)||(Br=parseFloat(ea))}});var Wr=wr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Wr},set:function(ea){isNaN(ea)||(Wr=parseFloat(ea))}}),this},Al=function(){this.page=sa,this.currentPage=$n,this.pages=xn.slice(0),this.pagesContext=aa.slice(0),this.x=hr,this.y=Ur,this.matrix=Qr,this.width=Jl($n),this.height=Ls($n),this.outputDestination=Hn,this.id="",this.objectNumber=-1};Al.prototype.restore=function(){sa=this.page,$n=this.currentPage,aa=this.pagesContext,xn=this.pages,hr=this.x,Ur=this.y,Qr=this.matrix,Iu($n,this.width),Ts($n,this.height),Hn=this.outputDestination};var rl=function(Dn,Qn,cr,wr,Br){Sa.push(new Al),sa=$n=0,xn=[],hr=Dn,Ur=Qn,Qr=Br,bs([cr,wr])};for(var cs in Ge.beginFormObject=function(Dn,Qn,cr,wr,Br){return rl(Dn,Qn,cr,wr,Br),this},Ge.endFormObject=function(Dn){return(function(Qn){if(ca[Qn])Sa.pop().restore();else{var cr=new Al,wr="Xo"+(Object.keys(Xr).length+1).toString(10);cr.id=wr,ca[Qn]=wr,Xr[wr]=cr,Rr.publish("addFormObject",cr),Sa.pop().restore()}})(Dn),this},Ge.doFormObject=function(Dn,Qn){var cr=Xr[ca[Dn]];return qn("q"),qn(Qn.toString()+" cm"),qn("/"+cr.id+" Do"),qn("Q"),this},Ge.getFormObject=function(Dn){var Qn=Xr[ca[Dn]];return{x:Qn.x,y:Qn.y,width:Qn.width,height:Qn.height,matrix:Qn.matrix}},Ge.save=function(Dn,Qn){return Dn=Dn||"generated.pdf",(Qn=Qn||{}).returnPromise=Qn.returnPromise||!1,Qn.returnPromise===!1?(l$2(Zo(co()),Dn),typeof l$2.unload=="function"&&i$5.setTimeout&&setTimeout(l$2.unload,911),this):new Promise(function(cr,wr){try{var Br=l$2(Zo(co()),Dn);typeof l$2.unload=="function"&&i$5.setTimeout&&setTimeout(l$2.unload,911),cr(Br)}catch(Wr){wr(Wr.message)}})},E$1.API)E$1.API.hasOwnProperty(cs)&&(cs==="events"&&E$1.API.events.length?(function(Dn,Qn){var cr,wr,Br;for(Br=Qn.length-1;Br!==-1;Br--)cr=Qn[Br][0],wr=Qn[Br][1],Dn.subscribe.apply(Dn,[cr].concat(typeof wr=="function"?[wr]:wr))})(Rr,E$1.API.events):Ge[cs]=E$1.API[cs]);var Jl=Ge.getPageWidth=function(Dn){return(aa[Dn=Dn||$n].mediaBox.topRightX-aa[Dn].mediaBox.bottomLeftX)/Dr},Iu=Ge.setPageWidth=function(Dn,Qn){aa[Dn].mediaBox.topRightX=Qn*Dr+aa[Dn].mediaBox.bottomLeftX},Ls=Ge.getPageHeight=function(Dn){return(aa[Dn=Dn||$n].mediaBox.topRightY-aa[Dn].mediaBox.bottomLeftY)/Dr},Ts=Ge.setPageHeight=function(Dn,Qn){aa[Dn].mediaBox.topRightY=Qn*Dr+aa[Dn].mediaBox.bottomLeftY};return Ge.internal={pdfEscape:vs,getStyle:pu,getFont:Nu,getFontSize:Jn,getCharSpace:xs,getTextColor:nl,getLineHeight:gu,getLineHeightFactor:us,getLineWidth:ka,write:In,getHorizontalCoordinate:ho,getVerticalCoordinate:Ws,getCoordinateString:Eo,getVerticalCoordinateString:_l,collections:{},newObject:Na,newAdditionalObject:hi,newObjectDeferred:Ta,newObjectDeferredBegin:Ia,getFilters:Ri,putStream:li,events:Rr,scaleFactor:Dr,pageSize:{getWidth:function(){return Jl($n)},setWidth:function(Dn){Iu($n,Dn)},getHeight:function(){return Ls($n)},setHeight:function(Dn){Ts($n,Dn)}},encryptionOptions:ze,encryption:Ga,getEncryptor:function(Dn){return ze!==null?Ga.encryptor(Dn,0):function(Qn){return Qn}},output:ji,getNumberOfPages:zl,pages:xn,out:qn,f2:Pn,f3:_n,getPageInfo:So,getPageInfoByObjId:Wl,getCurrentPageInfo:ws,getPDFVersion:en,Point:Pl,Rectangle:Kl,Matrix:oa,hasHotfix:Gl},Object.defineProperty(Ge.internal.pageSize,"width",{get:function(){return Jl($n)},set:function(Dn){Iu($n,Dn)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.internal.pageSize,"height",{get:function(){return Ls($n)},set:function(Dn){Ts($n,Dn)},enumerable:!0,configurable:!0}),(function(Dn){for(var Qn=0,cr=bn.length;Qn<cr;Qn++){var wr=Jo.call(this,Dn[Qn][0],Dn[Qn][1],Dn[Qn][2],bn[Qn][3],!0);Xe===!1&&(We[wr]=!0);var Br=Dn[Qn][0].split("-");Ru({id:wr,fontName:Br[0],fontStyle:Br[1]||""})}Rr.publish("addFonts",{fonts:ia,dictionary:Er})}).call(Ge,bn),$r="F1",$l(Re,Te),Rr.publish("initialized"),Ge}I$1.prototype.lsbFirstWord=function(Ce){return String.fromCharCode(255&Ce,Ce>>8&255,Ce>>16&255,Ce>>24&255)},I$1.prototype.toHexString=function(Ce){return Ce.split("").map(function(Ee){return("0"+(255&Ee.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I$1.prototype.hexToBytes=function(Ce){for(var Ee=[],Te=0;Te<Ce.length;Te+=2)Ee.push(String.fromCharCode(parseInt(Ce.substr(Te,2),16)));return Ee.join("")},I$1.prototype.processOwnerPassword=function(Ce,Ee){return k$1(S$2(Ee).substr(0,5),Ce)},I$1.prototype.encryptor=function(Ce,Ee){var Te=S$2(this.encryptionKey+String.fromCharCode(255&Ce,Ce>>8&255,Ce>>16&255,255&Ee,Ee>>8&255)).substr(0,10);return function(Be){return k$1(Te,Be)}},O.prototype.equals=function(Ce){var Ee,Te="id,objectNumber,equals";if(!Ce||_typeof(Ce)!==_typeof(this))return!1;var Be=0;for(Ee in this)if(!(Te.indexOf(Ee)>=0)){if(this.hasOwnProperty(Ee)&&!Ce.hasOwnProperty(Ee)||this[Ee]!==Ce[Ee])return!1;Be++}for(Ee in Ce)Ce.hasOwnProperty(Ee)&&Te.indexOf(Ee)<0&&Be--;return Be===0},E$1.API={events:[]},E$1.version="3.0.2";var R$1=E$1.API,D=1,T$1=function(Ce){return Ce.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},z$1=function(Ce){return Ce.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Ce){return Ce.toFixed(2)},H$1=function(Ce){return Ce.toFixed(5)};R$1.__acroform__={};var W=function(Ce,Ee){Ce.prototype=Object.create(Ee.prototype),Ce.prototype.constructor=Ce},V$1=function(Ce){return Ce*D},G=function(Ce){var Ee=new ct,Te=xt.internal.getHeight(Ce)||0,Be=xt.internal.getWidth(Ce)||0;return Ee.BBox=[0,0,Number(U(Be)),Number(U(Te))],Ee},Y=R$1.__acroform__.setBit=function(Ce,Ee){if(Ce=Ce||0,Ee=Ee||0,isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Ce|1<<Ee},J=R$1.__acroform__.clearBit=function(Ce,Ee){if(Ce=Ce||0,Ee=Ee||0,isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Ce&~(1<<Ee)},X=R$1.__acroform__.getBit=function(Ce,Ee){if(isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Ce&1<<Ee?1:0},K=R$1.__acroform__.getBitForPdf=function(Ce,Ee){if(isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X(Ce,Ee-1)},Z=R$1.__acroform__.setBitForPdf=function(Ce,Ee){if(isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y(Ce,Ee-1)},$$1=R$1.__acroform__.clearBitForPdf=function(Ce,Ee){if(isNaN(Ce)||isNaN(Ee))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J(Ce,Ee-1)},Q=R$1.__acroform__.calculateCoordinates=function(Ce,Ee){var Te=Ee.internal.getHorizontalCoordinate,Be=Ee.internal.getVerticalCoordinate,Re=Ce[0],Me=Ce[1],Ue=Ce[2],De=Ce[3],qe={};return qe.lowerLeft_X=Te(Re)||0,qe.lowerLeft_Y=Be(Me+De)||0,qe.upperRight_X=Te(Re+Ue)||0,qe.upperRight_Y=Be(Me)||0,[Number(U(qe.lowerLeft_X)),Number(U(qe.lowerLeft_Y)),Number(U(qe.upperRight_X)),Number(U(qe.upperRight_Y))]},tt=function(Ce){if(Ce.appearanceStreamContent)return Ce.appearanceStreamContent;if(Ce.V||Ce.DV){var Ee=[],Te=Ce._V||Ce.DV,Be=et(Ce,Te),Re=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id;Ee.push("/Tx BMC"),Ee.push("q"),Ee.push("BT"),Ee.push(Ce.scope.__private__.encodeColorString(Ce.color)),Ee.push("/"+Re+" "+U(Be.fontSize)+" Tf"),Ee.push("1 0 0 1 0 0 Tm"),Ee.push(Be.text),Ee.push("ET"),Ee.push("Q"),Ee.push("EMC");var Me=G(Ce);return Me.scope=Ce.scope,Me.stream=Ee.join(`
`),Me}},et=function(Ce,Ee){var Te=Ce.fontSize===0?Ce.maxFontSize:Ce.fontSize,Be={text:"",fontSize:""},Re=(Ee=(Ee=Ee.substr(0,1)=="("?Ee.substr(1):Ee).substr(Ee.length-1)==")"?Ee.substr(0,Ee.length-1):Ee).split(" ");Re=Ce.multiline?Re.map(function(Pn){return Pn.split(`
`)}):Re.map(function(Pn){return[Pn]});var Me=Te,Ue=xt.internal.getHeight(Ce)||0;Ue=Ue<0?-Ue:Ue;var De=xt.internal.getWidth(Ce)||0;De=De<0?-De:De;var qe=function(Pn,_n,Mn){if(Pn+1<Re.length){var yn=_n+" "+Re[Pn+1][0];return nt(yn,Ce,Mn).width<=De-4}return!1};Me++;e:for(;Me>0;){Ee="",Me--;var $e,ze,Xe=nt("3",Ce,Me).height,We=Ce.multiline?Ue-Me:(Ue-Xe)/2,Ge=We+=2,tn=0,en=0,an=0;if(Me<=0){Ee=`(...) Tj
`,Ee+="% Width of Text: "+nt(Ee,Ce,Me=12).width+", FieldWidth:"+De+`
`;break}for(var Ye="",Ze=0,St=0;St<Re.length;St++)if(Re.hasOwnProperty(St)){var Qe=!1;if(Re[St].length!==1&&an!==Re[St].length-1){if((Xe+2)*(Ze+2)+2>Ue)continue e;Ye+=Re[St][an],Qe=!0,en=St,St--}else{Ye=(Ye+=Re[St][an]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var Je=parseInt(St),on=qe(Je,Ye,Me),hn=St>=Re.length-1;if(on&&!hn){Ye+=" ",an=0;continue}if(on||hn){if(hn)en=Je;else if(Ce.multiline&&(Xe+2)*(Ze+2)+2>Ue)continue e}else{if(!Ce.multiline||(Xe+2)*(Ze+2)+2>Ue)continue e;en=Je}}for(var dn="",sn=tn;sn<=en;sn++){var kn=Re[sn];if(Ce.multiline){if(sn===en){dn+=kn[an]+" ",an=(an+1)%kn.length;continue}if(sn===tn){dn+=kn[kn.length-1]+" ";continue}}dn+=kn[0]+" "}switch(dn=dn.substr(dn.length-1)==" "?dn.substr(0,dn.length-1):dn,ze=nt(dn,Ce,Me).width,Ce.textAlign){case"right":$e=De-ze-2;break;case"center":$e=(De-ze)/2;break;default:$e=2}Ee+=U($e)+" "+U(Ge)+` Td
`,Ee+="("+T$1(dn)+`) Tj
`,Ee+=-U($e)+` 0 Td
`,Ge=-(Me+2),ze=0,tn=Qe?en:en+1,Ze++,Ye=""}break}return Be.text=Ee,Be.fontSize=Me,Be},nt=function(Ce,Ee,Te){var Be=Ee.scope.internal.getFont(Ee.fontName,Ee.fontStyle),Re=Ee.scope.getStringUnitWidth(Ce,{font:Be,fontSize:parseFloat(Te),charSpace:0})*parseFloat(Te);return{height:Ee.scope.getStringUnitWidth("3",{font:Be,fontSize:parseFloat(Te),charSpace:0})*parseFloat(Te)*1.5,width:Re}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},it=function(Ce,Ee){var Te={type:"reference",object:Ce};Ee.internal.getPageInfo(Ce.page).pageContext.annotations.find(function(Be){return Be.type===Te.type&&Be.object===Te.object})===void 0&&Ee.internal.getPageInfo(Ce.page).pageContext.annotations.push(Te)},at=function(Ce,Ee){if(Ee.scope=Ce,Ce.internal!==void 0&&(Ce.internal.acroformPlugin===void 0||Ce.internal.acroformPlugin.isInitialized===!1)){if(ht.FieldNum=0,Ce.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Ce.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Ce.internal.scaleFactor,Ce.internal.acroformPlugin.acroFormDictionaryRoot=new lt,Ce.internal.acroformPlugin.acroFormDictionaryRoot.scope=Ce,Ce.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Ce.internal.events.subscribe("postPutResources",function(){(function(Te){Te.internal.events.unsubscribe(Te.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Te.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Te.internal.acroformPlugin.printedOut=!0})(Ce)}),Ce.internal.events.subscribe("buildDocument",function(){(function(Te){Te.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Be=Te.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Re in Be)if(Be.hasOwnProperty(Re)){var Me=Be[Re];Me.objId=void 0,Me.hasAnnotation&&it(Me,Te)}})(Ce)}),Ce.internal.events.subscribe("putCatalog",function(){(function(Te){if(Te.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Te.internal.write("/AcroForm "+Te.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Ce)}),Ce.internal.events.subscribe("postPutPages",function(Te){(function(Be,Re){var Me=!Be;for(var Ue in Be||(Re.internal.newObjectDeferredBegin(Re.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Re.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Be=Be||Re.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Be.hasOwnProperty(Ue)){var De=Be[Ue],qe=[],$e=De.Rect;if(De.Rect&&(De.Rect=Q(De.Rect,Re)),Re.internal.newObjectDeferredBegin(De.objId,!0),De.DA=xt.createDefaultAppearanceStream(De),_typeof(De)==="object"&&typeof De.getKeyValueListForStream=="function"&&(qe=De.getKeyValueListForStream()),De.Rect=$e,De.hasAppearanceStream&&!De.appearanceStreamContent){var ze=tt(De);qe.push({key:"AP",value:"<</N "+ze+">>"}),Re.internal.acroformPlugin.xForms.push(ze)}if(De.appearanceStreamContent){var Xe="";for(var We in De.appearanceStreamContent)if(De.appearanceStreamContent.hasOwnProperty(We)){var Ge=De.appearanceStreamContent[We];if(Xe+="/"+We+" ",Xe+="<<",Object.keys(Ge).length>=1||Array.isArray(Ge)){for(var Ue in Ge)if(Ge.hasOwnProperty(Ue)){var tn=Ge[Ue];typeof tn=="function"&&(tn=tn.call(Re,De)),Xe+="/"+Ue+" "+tn+" ",Re.internal.acroformPlugin.xForms.indexOf(tn)>=0||Re.internal.acroformPlugin.xForms.push(tn)}}else typeof(tn=Ge)=="function"&&(tn=tn.call(Re,De)),Xe+="/"+Ue+" "+tn,Re.internal.acroformPlugin.xForms.indexOf(tn)>=0||Re.internal.acroformPlugin.xForms.push(tn);Xe+=">>"}qe.push({key:"AP",value:`<<
`+Xe+">>"})}Re.internal.putStream({additionalKeyValues:qe,objectId:De.objId}),Re.internal.out("endobj")}Me&&(function(en,an){for(var Ye in en)if(en.hasOwnProperty(Ye)){var Ze=Ye,St=en[Ye];an.internal.newObjectDeferredBegin(St.objId,!0),_typeof(St)==="object"&&typeof St.putStream=="function"&&St.putStream(),delete en[Ze]}})(Re.internal.acroformPlugin.xForms,Re)})(Te,Ce)}),Ce.internal.acroformPlugin.isInitialized=!0}},ot=R$1.__acroform__.arrayToPdfArray=function(Ce,Ee,Te){var Be=function(Ue){return Ue};if(Array.isArray(Ce)){for(var Re="[",Me=0;Me<Ce.length;Me++)switch(Me!==0&&(Re+=" "),_typeof(Ce[Me])){case"boolean":case"number":case"object":Re+=Ce[Me].toString();break;case"string":Ce[Me].substr(0,1)!=="/"?(Ee!==void 0&&Te&&(Be=Te.internal.getEncryptor(Ee)),Re+="("+T$1(Be(Ce[Me].toString()))+")"):Re+=Ce[Me].toString()}return Re+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Ce,Ee,Te){var Be=function(Re){return Re};return Ee!==void 0&&Te&&(Be=Te.internal.getEncryptor(Ee)),(Ce=Ce||"").toString(),"("+T$1(Be(Ce))+")"},ut=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Ce){this._objId=Ce}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ut.prototype.toString=function(){return this.objId+" 0 R"},ut.prototype.putStream=function(){var Ce=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Ce,objectId:this.objId}),this.scope.internal.out("endobj")},ut.prototype.getKeyValueListForStream=function(){var Ce=[],Ee=Object.getOwnPropertyNames(this).filter(function(Me){return Me!="content"&&Me!="appearanceStreamContent"&&Me!="scope"&&Me!="objId"&&Me.substring(0,1)!="_"});for(var Te in Ee)if(Object.getOwnPropertyDescriptor(this,Ee[Te]).configurable===!1){var Be=Ee[Te],Re=this[Be];Re&&(Array.isArray(Re)?Ce.push({key:Be,value:ot(Re,this.objId,this.scope)}):Re instanceof ut?(Re.scope=this.scope,Ce.push({key:Be,value:Re.objId+" 0 R"})):typeof Re!="function"&&Ce.push({key:Be,value:Re}))}return Ce};var ct=function(){ut.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Ce,Ee=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return Ee},set:function(Te){Ee=Te}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Te){Ce=Te.trim()},get:function(){return Ce||null}})};W(ct,ut);var lt=function(){ut.call(this);var Ce,Ee=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return Ee.length>0?Ee:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Ee}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Ce){var Te=function(Be){return Be};return this.scope&&(Te=this.scope.internal.getEncryptor(this.objId)),"("+T$1(Te(Ce))+")"}},set:function(Te){Ce=Te}})};W(lt,ut);var ht=function Ce(){ut.call(this);var Ee=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');Ee=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!K(Ee,3)},set:function(Ye){Ye?this.F=Z(Ee,3):this.F=$$1(Ee,3)}});var Te=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Te},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');Te=Ye}});var Be=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Be.length!==0)return Be},set:function(Ye){Be=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[0])?0:Be[0]},set:function(Ye){Be[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[1])?0:Be[1]},set:function(Ye){Be[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[2])?0:Be[2]},set:function(Ye){Be[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[3])?0:Be[3]},set:function(Ye){Be[3]=Ye}});var Re="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Re=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var Me=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Me||Me.length<1){if(this instanceof yt)return;Me="FieldObject"+Ce.FieldNum++}var Ye=function(Ze){return Ze};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+T$1(Ye(Me))+")"},set:function(Ye){Me=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var Ue="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ue},set:function(Ye){Ue=Ye}});var De="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return De},set:function(Ye){De=Ye}});var qe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return qe},set:function(Ye){qe=Ye}});var $e=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return $e===void 0?50/D:$e},set:function(Ye){$e=Ye}});var ze="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ze},set:function(Ye){ze=Ye}});var Xe="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Xe||this instanceof yt||this instanceof Nt))return st(Xe,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),Xe=Ye}});var We=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(We)return this instanceof mt==0?st(We,this.objId,this.scope):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt==0?Ye.substr(0,1)==="("?z$1(Ye.substr(1,Ye.length-2)):z$1(Ye):Ye}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z$1(We.substr(1,We.length-1)):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt==1?"/"+Ye:Ye}});var Ge=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Ge)return Ge},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Ge)return this instanceof mt==0?st(Ge,this.objId,this.scope):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==0?Ye.substr(0,1)==="("?z$1(Ye.substr(1,Ye.length-2)):z$1(Ye):Ye}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z$1(Ge.substr(1,Ge.length-1)):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var tn,en=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return en},set:function(Ye){Ye=!!Ye,en=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(tn)return tn},set:function(Ye){tn=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,1)},set:function(Ye){Ye?this.Ff=Z(this.Ff,1):this.Ff=$$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,2)},set:function(Ye){Ye?this.Ff=Z(this.Ff,2):this.Ff=$$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,3)},set:function(Ye){Ye?this.Ff=Z(this.Ff,3):this.Ff=$$1(this.Ff,3)}});var an=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(an!==null)return an},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');an=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(an){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:an=2;break;case"center":case 1:an=1;break;default:an=0}}})};W(ht,ut);var ft=function(){ht.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Ce=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Te){Ce=Te}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Te){Ce=Te}});var Ee=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(Ee,this.objId,this.scope)},set:function(Te){var Be,Re;Re=[],typeof(Be=Te)=="string"&&(Re=(function(Me,Ue,De){De||(De=1);for(var qe,$e=[];qe=Ue.exec(Me);)$e.push(qe[De]);return $e})(Be,/\((.*?)\)/g)),Ee=Re}}),this.getOptions=function(){return Ee},this.setOptions=function(Te){Ee=Te,this.sort&&Ee.sort()},this.addOption=function(Te){Te=(Te=Te||"").toString(),Ee.push(Te),this.sort&&Ee.sort()},this.removeOption=function(Te,Be){for(Be=Be||!1,Te=(Te=Te||"").toString();Ee.indexOf(Te)!==-1&&(Ee.splice(Ee.indexOf(Te),1),Be!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,18)},set:function(Te){Te?this.Ff=Z(this.Ff,18):this.Ff=$$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,19)},set:function(Te){this.combo===!0&&(Te?this.Ff=Z(this.Ff,19):this.Ff=$$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,20)},set:function(Te){Te?(this.Ff=Z(this.Ff,20),Ee.sort()):this.Ff=$$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,22)},set:function(Te){Te?this.Ff=Z(this.Ff,22):this.Ff=$$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(Te){Te?this.Ff=Z(this.Ff,23):this.Ff=$$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,27)},set:function(Te){Te?this.Ff=Z(this.Ff,27):this.Ff=$$1(this.Ff,27)}}),this.hasAppearanceStream=!1};W(ft,ht);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};W(dt,ft);var pt=function(){dt.call(this),this.combo=!0};W(pt,dt);var gt=function(){pt.call(this),this.edit=!0};W(gt,pt);var mt=function(){ht.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,15)},set:function(Te){Te?this.Ff=Z(this.Ff,15):this.Ff=$$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,16)},set:function(Te){Te?this.Ff=Z(this.Ff,16):this.Ff=$$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,17)},set:function(Te){Te?this.Ff=Z(this.Ff,17):this.Ff=$$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(Te){Te?this.Ff=Z(this.Ff,26):this.Ff=$$1(this.Ff,26)}});var Ce,Ee={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Te=function(Me){return Me};if(this.scope&&(Te=this.scope.internal.getEncryptor(this.objId)),Object.keys(Ee).length!==0){var Be,Re=[];for(Be in Re.push("<<"),Ee)Re.push("/"+Be+" ("+T$1(Te(Ee[Be]))+")");return Re.push(">>"),Re.join(`
`)}},set:function(Te){_typeof(Te)==="object"&&(Ee=Te)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ee.CA||""},set:function(Te){typeof Te=="string"&&(Ee.CA=Te)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Te){Ce=Te}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ce.substr(1,Ce.length-1)},set:function(Te){Ce="/"+Te}})};W(mt,ht);var vt=function(){mt.call(this),this.pushButton=!0};W(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Ce=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Ee){Ce=Ee!==void 0?Ee:[]}})};W(bt,mt);var yt=function(){var Ce,Ee;ht.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Re){Ce=Re}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Ee},set:function(Re){Ee=Re}});var Te,Be={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Re=function(De){return De};this.scope&&(Re=this.scope.internal.getEncryptor(this.objId));var Me,Ue=[];for(Me in Ue.push("<<"),Be)Ue.push("/"+Me+" ("+T$1(Re(Be[Me]))+")");return Ue.push(">>"),Ue.join(`
`)},set:function(Re){_typeof(Re)==="object"&&(Be=Re)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Be.CA||""},set:function(Re){typeof Re=="string"&&(Be.CA=Re)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Te},set:function(Re){Te=Re}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Te.substr(1,Te.length-1)},set:function(Re){Te="/"+Re}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};W(yt,ht),bt.prototype.setAppearance=function(Ce){if(!("createAppearanceStream"in Ce)||!("getCA"in Ce))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Ee in this.Kids)if(this.Kids.hasOwnProperty(Ee)){var Te=this.Kids[Ee];Te.appearanceStreamContent=Ce.createAppearanceStream(Te.optionName),Te.caption=Ce.getCA()}},bt.prototype.createOption=function(Ce){var Ee=new yt;return Ee.Parent=this,Ee.optionName=Ce,this.Kids.push(Ee),At.call(this.scope,Ee),Ee};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};W(wt,mt);var Nt=function(){ht.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,13)},set:function(Ee){Ee?this.Ff=Z(this.Ff,13):this.Ff=$$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,21)},set:function(Ee){Ee?this.Ff=Z(this.Ff,21):this.Ff=$$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(Ee){Ee?this.Ff=Z(this.Ff,23):this.Ff=$$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,24)},set:function(Ee){Ee?this.Ff=Z(this.Ff,24):this.Ff=$$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,25)},set:function(Ee){Ee?this.Ff=Z(this.Ff,25):this.Ff=$$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(Ee){Ee?this.Ff=Z(this.Ff,26):this.Ff=$$1(this.Ff,26)}});var Ce=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Ce},set:function(Ee){Ce=Ee}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(Ee){Number.isInteger(Ee)&&(Ce=Ee)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};W(Nt,ht);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,14)},set:function(Ce){Ce?this.Ff=Z(this.Ff,14):this.Ff=$$1(this.Ff,14)}}),this.password=!0};W(Lt,Nt);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[],Be=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Re=Ce.scope.__private__.encodeColorString(Ce.color),Me=et(Ce,Ce.caption);return Te.push("0.749023 g"),Te.push("0 0 "+U(xt.internal.getWidth(Ce))+" "+U(xt.internal.getHeight(Ce))+" re"),Te.push("f"),Te.push("BMC"),Te.push("q"),Te.push("0 0 1 rg"),Te.push("/"+Be+" "+U(Me.fontSize)+" Tf "+Re),Te.push("BT"),Te.push(Me.text),Te.push("ET"),Te.push("Q"),Te.push("EMC"),Ee.stream=Te.join(`
`),Ee},YesNormal:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Be=Ce.scope.__private__.encodeColorString(Ce.color),Re=[],Me=xt.internal.getHeight(Ce),Ue=xt.internal.getWidth(Ce),De=et(Ce,Ce.caption);return Re.push("1 g"),Re.push("0 0 "+U(Ue)+" "+U(Me)+" re"),Re.push("f"),Re.push("q"),Re.push("0 0 1 rg"),Re.push("0 0 "+U(Ue-1)+" "+U(Me-1)+" re"),Re.push("W"),Re.push("n"),Re.push("0 g"),Re.push("BT"),Re.push("/"+Te+" "+U(De.fontSize)+" Tf "+Be),Re.push(De.text),Re.push("ET"),Re.push("Q"),Ee.stream=Re.join(`
`),Ee},OffPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[];return Te.push("0.749023 g"),Te.push("0 0 "+U(xt.internal.getWidth(Ce))+" "+U(xt.internal.getHeight(Ce))+" re"),Te.push("f"),Ee.stream=Te.join(`
`),Ee}},RadioButton:{Circle:{createAppearanceStream:function(Ce){var Ee={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return Ee.N[Ce]=xt.RadioButton.Circle.YesNormal,Ee.D[Ce]=xt.RadioButton.Circle.YesPushDown,Ee},getCA:function(){return"l"},YesNormal:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[],Be=xt.internal.getWidth(Ce)<=xt.internal.getHeight(Ce)?xt.internal.getWidth(Ce)/4:xt.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var Re=xt.internal.Bezier_C,Me=Number((Be*Re).toFixed(5));return Te.push("q"),Te.push("1 0 0 1 "+H$1(xt.internal.getWidth(Ce)/2)+" "+H$1(xt.internal.getHeight(Ce)/2)+" cm"),Te.push(Be+" 0 m"),Te.push(Be+" "+Me+" "+Me+" "+Be+" 0 "+Be+" c"),Te.push("-"+Me+" "+Be+" -"+Be+" "+Me+" -"+Be+" 0 c"),Te.push("-"+Be+" -"+Me+" -"+Me+" -"+Be+" 0 -"+Be+" c"),Te.push(Me+" -"+Be+" "+Be+" -"+Me+" "+Be+" 0 c"),Te.push("f"),Te.push("Q"),Ee.stream=Te.join(`
`),Ee},YesPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[],Be=xt.internal.getWidth(Ce)<=xt.internal.getHeight(Ce)?xt.internal.getWidth(Ce)/4:xt.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var Re=Number((2*Be).toFixed(5)),Me=Number((Re*xt.internal.Bezier_C).toFixed(5)),Ue=Number((Be*xt.internal.Bezier_C).toFixed(5));return Te.push("0.749023 g"),Te.push("q"),Te.push("1 0 0 1 "+H$1(xt.internal.getWidth(Ce)/2)+" "+H$1(xt.internal.getHeight(Ce)/2)+" cm"),Te.push(Re+" 0 m"),Te.push(Re+" "+Me+" "+Me+" "+Re+" 0 "+Re+" c"),Te.push("-"+Me+" "+Re+" -"+Re+" "+Me+" -"+Re+" 0 c"),Te.push("-"+Re+" -"+Me+" -"+Me+" -"+Re+" 0 -"+Re+" c"),Te.push(Me+" -"+Re+" "+Re+" -"+Me+" "+Re+" 0 c"),Te.push("f"),Te.push("Q"),Te.push("0 g"),Te.push("q"),Te.push("1 0 0 1 "+H$1(xt.internal.getWidth(Ce)/2)+" "+H$1(xt.internal.getHeight(Ce)/2)+" cm"),Te.push(Be+" 0 m"),Te.push(Be+" "+Ue+" "+Ue+" "+Be+" 0 "+Be+" c"),Te.push("-"+Ue+" "+Be+" -"+Be+" "+Ue+" -"+Be+" 0 c"),Te.push("-"+Be+" -"+Ue+" -"+Ue+" -"+Be+" 0 -"+Be+" c"),Te.push(Ue+" -"+Be+" "+Be+" -"+Ue+" "+Be+" 0 c"),Te.push("f"),Te.push("Q"),Ee.stream=Te.join(`
`),Ee},OffPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[],Be=xt.internal.getWidth(Ce)<=xt.internal.getHeight(Ce)?xt.internal.getWidth(Ce)/4:xt.internal.getHeight(Ce)/4;Be=Number((.9*Be).toFixed(5));var Re=Number((2*Be).toFixed(5)),Me=Number((Re*xt.internal.Bezier_C).toFixed(5));return Te.push("0.749023 g"),Te.push("q"),Te.push("1 0 0 1 "+H$1(xt.internal.getWidth(Ce)/2)+" "+H$1(xt.internal.getHeight(Ce)/2)+" cm"),Te.push(Re+" 0 m"),Te.push(Re+" "+Me+" "+Me+" "+Re+" 0 "+Re+" c"),Te.push("-"+Me+" "+Re+" -"+Re+" "+Me+" -"+Re+" 0 c"),Te.push("-"+Re+" -"+Me+" -"+Me+" -"+Re+" 0 -"+Re+" c"),Te.push(Me+" -"+Re+" "+Re+" -"+Me+" "+Re+" 0 c"),Te.push("f"),Te.push("Q"),Ee.stream=Te.join(`
`),Ee}},Cross:{createAppearanceStream:function(Ce){var Ee={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return Ee.N[Ce]=xt.RadioButton.Cross.YesNormal,Ee.D[Ce]=xt.RadioButton.Cross.YesPushDown,Ee},getCA:function(){return"8"},YesNormal:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[],Be=xt.internal.calculateCross(Ce);return Te.push("q"),Te.push("1 1 "+U(xt.internal.getWidth(Ce)-2)+" "+U(xt.internal.getHeight(Ce)-2)+" re"),Te.push("W"),Te.push("n"),Te.push(U(Be.x1.x)+" "+U(Be.x1.y)+" m"),Te.push(U(Be.x2.x)+" "+U(Be.x2.y)+" l"),Te.push(U(Be.x4.x)+" "+U(Be.x4.y)+" m"),Te.push(U(Be.x3.x)+" "+U(Be.x3.y)+" l"),Te.push("s"),Te.push("Q"),Ee.stream=Te.join(`
`),Ee},YesPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=xt.internal.calculateCross(Ce),Be=[];return Be.push("0.749023 g"),Be.push("0 0 "+U(xt.internal.getWidth(Ce))+" "+U(xt.internal.getHeight(Ce))+" re"),Be.push("f"),Be.push("q"),Be.push("1 1 "+U(xt.internal.getWidth(Ce)-2)+" "+U(xt.internal.getHeight(Ce)-2)+" re"),Be.push("W"),Be.push("n"),Be.push(U(Te.x1.x)+" "+U(Te.x1.y)+" m"),Be.push(U(Te.x2.x)+" "+U(Te.x2.y)+" l"),Be.push(U(Te.x4.x)+" "+U(Te.x4.y)+" m"),Be.push(U(Te.x3.x)+" "+U(Te.x3.y)+" l"),Be.push("s"),Be.push("Q"),Ee.stream=Be.join(`
`),Ee},OffPushDown:function(Ce){var Ee=G(Ce);Ee.scope=Ce.scope;var Te=[];return Te.push("0.749023 g"),Te.push("0 0 "+U(xt.internal.getWidth(Ce))+" "+U(xt.internal.getHeight(Ce))+" re"),Te.push("f"),Ee.stream=Te.join(`
`),Ee}}},createDefaultAppearanceStream:function(Ce){var Ee=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle).id,Te=Ce.scope.__private__.encodeColorString(Ce.color);return"/"+Ee+" "+Ce.fontSize+" Tf "+Te}};xt.internal={Bezier_C:.551915024494,calculateCross:function(Ce){var Ee=xt.internal.getWidth(Ce),Te=xt.internal.getHeight(Ce),Be=Math.min(Ee,Te);return{x1:{x:(Ee-Be)/2,y:(Te-Be)/2+Be},x2:{x:(Ee-Be)/2+Be,y:(Te-Be)/2},x3:{x:(Ee-Be)/2,y:(Te-Be)/2},x4:{x:(Ee-Be)/2+Be,y:(Te-Be)/2+Be}}}},xt.internal.getWidth=function(Ce){var Ee=0;return _typeof(Ce)==="object"&&(Ee=V$1(Ce.Rect[2])),Ee},xt.internal.getHeight=function(Ce){var Ee=0;return _typeof(Ce)==="object"&&(Ee=V$1(Ce.Rect[3])),Ee};var At=R$1.addField=function(Ce){if(at(this,Ce),!(Ce instanceof ht))throw new Error("Invalid argument passed to jsPDF.addField.");var Ee;return(Ee=Ce).scope.internal.acroformPlugin.printedOut&&(Ee.scope.internal.acroformPlugin.printedOut=!1,Ee.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),Ee.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Ee),Ce.page=Ce.scope.internal.getCurrentPageInfo().pageNumber,this};R$1.AcroFormChoiceField=ft,R$1.AcroFormListBox=dt,R$1.AcroFormComboBox=pt,R$1.AcroFormEditBox=gt,R$1.AcroFormButton=mt,R$1.AcroFormPushButton=vt,R$1.AcroFormRadioButton=bt,R$1.AcroFormCheckBox=wt,R$1.AcroFormTextField=Nt,R$1.AcroFormPasswordField=Lt,R$1.AcroFormAppearance=xt,R$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt},E$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt};E$1.AcroForm;function _t(Ce){return Ce.reduce(function(Ee,Te,Be){return Ee[Te]=Be,Ee},{})}(function(Ce){var Ee="addImage_";Ce.__addimage__={};var Te="UNKNOWN",Be={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Re=Ce.__addimage__.getImageFileTypeByImageData=function(Pn,_n){var Mn,yn,zn,Ln,Vn,On=Te;if((_n=_n||Te)==="RGBA"||Pn.data!==void 0&&Pn.data instanceof Uint8ClampedArray&&"height"in Pn&&"width"in Pn)return"RGBA";if(on(Pn))for(Vn in Be)for(zn=Be[Vn],Mn=0;Mn<zn.length;Mn+=1){for(Ln=!0,yn=0;yn<zn[Mn].length;yn+=1)if(zn[Mn][yn]!==void 0&&zn[Mn][yn]!==Pn[yn]){Ln=!1;break}if(Ln===!0){On=Vn;break}}else for(Vn in Be)for(zn=Be[Vn],Mn=0;Mn<zn.length;Mn+=1){for(Ln=!0,yn=0;yn<zn[Mn].length;yn+=1)if(zn[Mn][yn]!==void 0&&zn[Mn][yn]!==Pn.charCodeAt(yn)){Ln=!1;break}if(Ln===!0){On=Vn;break}}return On===Te&&_n!==Te&&(On=_n),On},Me=function Pn(_n){for(var Mn=this.internal.write,yn=this.internal.putStream,zn=(0,this.internal.getFilters)();zn.indexOf("FlateEncode")!==-1;)zn.splice(zn.indexOf("FlateEncode"),1);_n.objectId=this.internal.newObject();var Ln=[];if(Ln.push({key:"Type",value:"/XObject"}),Ln.push({key:"Subtype",value:"/Image"}),Ln.push({key:"Width",value:_n.width}),Ln.push({key:"Height",value:_n.height}),_n.colorSpace===Ye.INDEXED?Ln.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_n.palette.length/3-1)+" "+("sMask"in _n&&_n.sMask!==void 0?_n.objectId+2:_n.objectId+1)+" 0 R]"}):(Ln.push({key:"ColorSpace",value:"/"+_n.colorSpace}),_n.colorSpace===Ye.DEVICE_CMYK&&Ln.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ln.push({key:"BitsPerComponent",value:_n.bitsPerComponent}),"decodeParameters"in _n&&_n.decodeParameters!==void 0&&Ln.push({key:"DecodeParms",value:"<<"+_n.decodeParameters+">>"}),"transparency"in _n&&Array.isArray(_n.transparency)){for(var Vn="",On=0,Un=_n.transparency.length;On<Un;On++)Vn+=_n.transparency[On]+" "+_n.transparency[On]+" ";Ln.push({key:"Mask",value:"["+Vn+"]"})}_n.sMask!==void 0&&Ln.push({key:"SMask",value:_n.objectId+1+" 0 R"});var jn=_n.filter!==void 0?["/"+_n.filter]:void 0;if(yn({data:_n.data,additionalKeyValues:Ln,alreadyAppliedFilters:jn,objectId:_n.objectId}),Mn("endobj"),"sMask"in _n&&_n.sMask!==void 0){var Gn=(_n.predictor!=null?"/Predictor "+_n.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+_n.width,An={width:_n.width,height:_n.height,colorSpace:"DeviceGray",bitsPerComponent:_n.bitsPerComponent,decodeParameters:Gn,data:_n.sMask};"filter"in _n&&(An.filter=_n.filter),Pn.call(this,An)}if(_n.colorSpace===Ye.INDEXED){var $n=this.internal.newObject();yn({data:dn(new Uint8Array(_n.palette)),objectId:$n}),Mn("endobj")}},Ue=function(){var Pn=this.internal.collections[Ee+"images"];for(var _n in Pn)Me.call(this,Pn[_n])},De=function(){var Pn,_n=this.internal.collections[Ee+"images"],Mn=this.internal.write;for(var yn in _n)Mn("/I"+(Pn=_n[yn]).index,Pn.objectId,"0","R")},qe=function(){this.internal.collections[Ee+"images"]||(this.internal.collections[Ee+"images"]={},this.internal.events.subscribe("putResources",Ue),this.internal.events.subscribe("putXobjectDict",De))},$e=function(){var Pn=this.internal.collections[Ee+"images"];return qe.call(this),Pn},ze=function(){return Object.keys(this.internal.collections[Ee+"images"]).length},Xe=function(Pn){return typeof Ce["process"+Pn.toUpperCase()]=="function"},We=function(Pn){return _typeof(Pn)==="object"&&Pn.nodeType===1},Ge=function(Pn,_n){if(Pn.nodeName==="IMG"&&Pn.hasAttribute("src")){var Mn=""+Pn.getAttribute("src");if(Mn.indexOf("data:image/")===0)return f$2(unescape(Mn).split("base64,").pop());var yn=Ce.loadFile(Mn,!0);if(yn!==void 0)return yn}if(Pn.nodeName==="CANVAS"){if(Pn.width===0||Pn.height===0)throw new Error("Given canvas must have data. Canvas width: "+Pn.width+", height: "+Pn.height);var zn;switch(_n){case"PNG":zn="image/png";break;case"WEBP":zn="image/webp";break;default:zn="image/jpeg"}return f$2(Pn.toDataURL(zn,1).split("base64,").pop())}},tn=function(Pn){var _n=this.internal.collections[Ee+"images"];if(_n){for(var Mn in _n)if(Pn===_n[Mn].alias)return _n[Mn]}},en=function(Pn,_n,Mn){return Pn||_n||(Pn=-96,_n=-96),Pn<0&&(Pn=-1*Mn.width*72/Pn/this.internal.scaleFactor),_n<0&&(_n=-1*Mn.height*72/_n/this.internal.scaleFactor),Pn===0&&(Pn=_n*Mn.width/Mn.height),_n===0&&(_n=Pn*Mn.height/Mn.width),[Pn,_n]},an=function(Pn,_n,Mn,yn,zn,Ln){var Vn=en.call(this,Mn,yn,zn),On=this.internal.getCoordinateString,Un=this.internal.getVerticalCoordinateString,jn=$e.call(this);if(Mn=Vn[0],yn=Vn[1],jn[zn.index]=zn,Ln){Ln*=Math.PI/180;var Gn=Math.cos(Ln),An=Math.sin(Ln),$n=function(En){return En.toFixed(4)},Nn=[$n(Gn),$n(An),$n(-1*An),$n(Gn),0,0,"cm"]}this.internal.write("q"),Ln?(this.internal.write([1,"0","0",1,On(Pn),Un(_n+yn),"cm"].join(" ")),this.internal.write(Nn.join(" ")),this.internal.write([On(Mn),"0","0",On(yn),"0","0","cm"].join(" "))):this.internal.write([On(Mn),"0","0",On(yn),On(Pn),Un(_n+yn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+zn.index+" Do"),this.internal.write("Q")},Ye=Ce.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Ce.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ze=Ce.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},St=Ce.__addimage__.sHashCode=function(Pn){var _n,Mn,yn=0;if(typeof Pn=="string")for(Mn=Pn.length,_n=0;_n<Mn;_n++)yn=(yn<<5)-yn+Pn.charCodeAt(_n),yn|=0;else if(on(Pn))for(Mn=Pn.byteLength/2,_n=0;_n<Mn;_n++)yn=(yn<<5)-yn+Pn[_n],yn|=0;return yn},Qe=Ce.__addimage__.validateStringAsBase64=function(Pn){(Pn=Pn||"").toString().trim();var _n=!0;return Pn.length===0&&(_n=!1),Pn.length%4!=0&&(_n=!1),/^[A-Za-z0-9+/]+$/.test(Pn.substr(0,Pn.length-2))===!1&&(_n=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Pn.substr(-2))===!1&&(_n=!1),_n},Je=Ce.__addimage__.extractImageFromDataUrl=function(Pn){if(Pn==null||!(Pn=Pn.trim()).startsWith("data:"))return null;var _n=Pn.indexOf(",");return _n<0?null:Pn.substring(0,_n).trim().endsWith("base64")?Pn.substring(_n+1):null};Ce.__addimage__.isArrayBuffer=function(Pn){return Pn instanceof ArrayBuffer};var on=Ce.__addimage__.isArrayBufferView=function(Pn){return Pn instanceof Int8Array||Pn instanceof Uint8Array||Pn instanceof Uint8ClampedArray||Pn instanceof Int16Array||Pn instanceof Uint16Array||Pn instanceof Int32Array||Pn instanceof Uint32Array||Pn instanceof Float32Array||Pn instanceof Float64Array},hn=Ce.__addimage__.binaryStringToUint8Array=function(Pn){for(var _n=Pn.length,Mn=new Uint8Array(_n),yn=0;yn<_n;yn++)Mn[yn]=Pn.charCodeAt(yn);return Mn},dn=Ce.__addimage__.arrayBufferToBinaryString=function(Pn){for(var _n="",Mn=on(Pn)?Pn:new Uint8Array(Pn),yn=0;yn<Mn.length;yn+=8192)_n+=String.fromCharCode.apply(null,Mn.subarray(yn,yn+8192));return _n};Ce.addImage=function(){var Pn,_n,Mn,yn,zn,Ln,Vn,On,Un;if(typeof arguments[1]=="number"?(_n=Te,Mn=arguments[1],yn=arguments[2],zn=arguments[3],Ln=arguments[4],Vn=arguments[5],On=arguments[6],Un=arguments[7]):(_n=arguments[1],Mn=arguments[2],yn=arguments[3],zn=arguments[4],Ln=arguments[5],Vn=arguments[6],On=arguments[7],Un=arguments[8]),_typeof(Pn=arguments[0])==="object"&&!We(Pn)&&"imageData"in Pn){var jn=Pn;Pn=jn.imageData,_n=jn.format||_n||Te,Mn=jn.x||Mn||0,yn=jn.y||yn||0,zn=jn.w||jn.width||zn,Ln=jn.h||jn.height||Ln,Vn=jn.alias||Vn,On=jn.compression||On,Un=jn.rotation||jn.angle||Un}var Gn=this.internal.getFilters();if(On===void 0&&Gn.indexOf("FlateEncode")!==-1&&(On="SLOW"),isNaN(Mn)||isNaN(yn))throw new Error("Invalid coordinates passed to jsPDF.addImage");qe.call(this);var An=sn.call(this,Pn,_n,Vn,On);return an.call(this,Mn,yn,zn,Ln,An,Un),this};var sn=function(Pn,_n,Mn,yn){var zn,Ln,Vn;if(typeof Pn=="string"&&Re(Pn)===Te){Pn=unescape(Pn);var On=kn(Pn,!1);(On!==""||(On=Ce.loadFile(Pn,!0))!==void 0)&&(Pn=On)}if(We(Pn)&&(Pn=Ge(Pn,_n)),_n=Re(Pn,_n),!Xe(_n))throw new Error("addImage does not support files of type '"+_n+"', please ensure that a plugin for '"+_n+"' support is added.");if(((Vn=Mn)==null||Vn.length===0)&&(Mn=(function(Un){return typeof Un=="string"||on(Un)?St(Un):on(Un.data)?St(Un.data):null})(Pn)),(zn=tn.call(this,Mn))||(Pn instanceof Uint8Array||_n==="RGBA"||(Ln=Pn,Pn=hn(Pn)),zn=this["process"+_n.toUpperCase()](Pn,ze.call(this),Mn,(function(Un){return Un&&typeof Un=="string"&&(Un=Un.toUpperCase()),Un in Ce.image_compression?Un:Ze.NONE})(yn),Ln)),!zn)throw new Error("An unknown error occurred whilst processing the image.");return zn},kn=Ce.__addimage__.convertBase64ToBinaryString=function(Pn,_n){_n=typeof _n!="boolean"||_n;var Mn,yn="";if(typeof Pn=="string"){var zn;Mn=(zn=Je(Pn))!==null&&zn!==void 0?zn:Pn;try{yn=f$2(Mn)}catch(Ln){if(_n)throw Qe(Mn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ln.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return yn};Ce.getImageProperties=function(Pn){var _n,Mn,yn="";if(We(Pn)&&(Pn=Ge(Pn)),typeof Pn=="string"&&Re(Pn)===Te&&((yn=kn(Pn,!1))===""&&(yn=Ce.loadFile(Pn)||""),Pn=yn),Mn=Re(Pn),!Xe(Mn))throw new Error("addImage does not support files of type '"+Mn+"', please ensure that a plugin for '"+Mn+"' support is added.");if(Pn instanceof Uint8Array||(Pn=hn(Pn)),!(_n=this["process"+Mn.toUpperCase()](Pn)))throw new Error("An unknown error occurred whilst processing the image");return _n.fileType=Mn,_n}})(E$1.API),(function(Ce){var Ee=function(Te){if(Te!==void 0&&Te!="")return!0};E$1.API.events.push(["addPage",function(Te){this.internal.getPageInfo(Te.pageNumber).pageContext.annotations=[]}]),Ce.events.push(["putPage",function(Te){for(var Be,Re,Me,Ue=this.internal.getCoordinateString,De=this.internal.getVerticalCoordinateString,qe=this.internal.getPageInfoByObjId(Te.objId),$e=Te.pageContext.annotations,ze=!1,Xe=0;Xe<$e.length&&!ze;Xe++)switch((Be=$e[Xe]).type){case"link":(Ee(Be.options.url)||Ee(Be.options.pageNumber))&&(ze=!0);break;case"reference":case"text":case"freetext":ze=!0}if(ze!=0){this.internal.write("/Annots [");for(var We=0;We<$e.length;We++){Be=$e[We];var Ge=this.internal.pdfEscape,tn=this.internal.getEncryptor(Te.objId);switch(Be.type){case"reference":this.internal.write(" "+Be.object.objId+" 0 R ");break;case"text":var en=this.internal.newAdditionalObject(),an=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(en.objId),Ze=Be.title||"Note";Me="<</Type /Annot /Subtype /Text "+(Re="/Rect ["+Ue(Be.bounds.x)+" "+De(Be.bounds.y+Be.bounds.h)+" "+Ue(Be.bounds.x+Be.bounds.w)+" "+De(Be.bounds.y)+"] ")+"/Contents ("+Ge(Ye(Be.contents))+")",Me+=" /Popup "+an.objId+" 0 R",Me+=" /P "+qe.objId+" 0 R",Me+=" /T ("+Ge(Ye(Ze))+") >>",en.content=Me;var St=en.objId+" 0 R";Me="<</Type /Annot /Subtype /Popup "+(Re="/Rect ["+Ue(Be.bounds.x+30)+" "+De(Be.bounds.y+Be.bounds.h)+" "+Ue(Be.bounds.x+Be.bounds.w+30)+" "+De(Be.bounds.y)+"] ")+" /Parent "+St,Be.open&&(Me+=" /Open true"),Me+=" >>",an.content=Me,this.internal.write(en.objId,"0 R",an.objId,"0 R");break;case"freetext":Re="/Rect ["+Ue(Be.bounds.x)+" "+De(Be.bounds.y)+" "+Ue(Be.bounds.x+Be.bounds.w)+" "+De(Be.bounds.y+Be.bounds.h)+"] ";var Qe=Be.color||"#000000";Me="<</Type /Annot /Subtype /FreeText "+Re+"/Contents ("+Ge(tn(Be.contents))+")",Me+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Qe+")",Me+=" /Border [0 0 0]",Me+=" >>",this.internal.write(Me);break;case"link":if(Be.options.name){var Je=this.annotations._nameMap[Be.options.name];Be.options.pageNumber=Je.page,Be.options.top=Je.y}else Be.options.top||(Be.options.top=0);if(Re="/Rect ["+Be.finalBounds.x+" "+Be.finalBounds.y+" "+Be.finalBounds.w+" "+Be.finalBounds.h+"] ",Me="",Be.options.url)Me="<</Type /Annot /Subtype /Link "+Re+"/Border [0 0 0] /A <</S /URI /URI ("+Ge(tn(Be.options.url))+") >>";else if(Be.options.pageNumber)switch(Me="<</Type /Annot /Subtype /Link "+Re+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Be.options.pageNumber).objId+" 0 R",Be.options.magFactor=Be.options.magFactor||"XYZ",Be.options.magFactor){case"Fit":Me+=" /Fit]";break;case"FitH":Me+=" /FitH "+Be.options.top+"]";break;case"FitV":Be.options.left=Be.options.left||0,Me+=" /FitV "+Be.options.left+"]";break;default:var on=De(Be.options.top);Be.options.left=Be.options.left||0,Be.options.zoom===void 0&&(Be.options.zoom=0),Me+=" /XYZ "+Be.options.left+" "+on+" "+Be.options.zoom+"]"}Me!=""&&(Me+=" >>",this.internal.write(Me))}}this.internal.write("]")}}]),Ce.createAnnotation=function(Te){var Be=this.internal.getCurrentPageInfo();switch(Te.type){case"link":this.link(Te.bounds.x,Te.bounds.y,Te.bounds.w,Te.bounds.h,Te);break;case"text":case"freetext":Be.pageContext.annotations.push(Te)}},Ce.link=function(Te,Be,Re,Me,Ue){var De=this.internal.getCurrentPageInfo(),qe=this.internal.getCoordinateString,$e=this.internal.getVerticalCoordinateString;De.pageContext.annotations.push({finalBounds:{x:qe(Te),y:$e(Be),w:qe(Te+Re),h:$e(Be+Me)},options:Ue,type:"link"})},Ce.textWithLink=function(Te,Be,Re,Me){var Ue,De,qe=this.getTextWidth(Te),$e=this.internal.getLineHeight()/this.internal.scaleFactor;if(Me.maxWidth!==void 0){De=Me.maxWidth;var ze=this.splitTextToSize(Te,De).length;Ue=Math.ceil($e*ze)}else De=qe,Ue=$e;return this.text(Te,Be,Re,Me),Re+=.2*$e,Me.align==="center"&&(Be-=qe/2),Me.align==="right"&&(Be-=qe),this.link(Be,Re-$e,De,Ue,Me),qe},Ce.getTextWidth=function(Te){var Be=this.internal.getFontSize();return this.getStringUnitWidth(Te)*Be/this.internal.scaleFactor}})(E$1.API),(function(Ce){var Ee={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Te={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Be={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Re=[1570,1571,1573,1575];Ce.__arabicParser__={};var Me=Ce.__arabicParser__.isInArabicSubstitutionA=function(en){return Ee[en.charCodeAt(0)]!==void 0},Ue=Ce.__arabicParser__.isArabicLetter=function(en){return typeof en=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(en)},De=Ce.__arabicParser__.isArabicEndLetter=function(en){return Ue(en)&&Me(en)&&Ee[en.charCodeAt(0)].length<=2},qe=Ce.__arabicParser__.isArabicAlfLetter=function(en){return Ue(en)&&Re.indexOf(en.charCodeAt(0))>=0};Ce.__arabicParser__.arabicLetterHasIsolatedForm=function(en){return Ue(en)&&Me(en)&&Ee[en.charCodeAt(0)].length>=1};var $e=Ce.__arabicParser__.arabicLetterHasFinalForm=function(en){return Ue(en)&&Me(en)&&Ee[en.charCodeAt(0)].length>=2};Ce.__arabicParser__.arabicLetterHasInitialForm=function(en){return Ue(en)&&Me(en)&&Ee[en.charCodeAt(0)].length>=3};var ze=Ce.__arabicParser__.arabicLetterHasMedialForm=function(en){return Ue(en)&&Me(en)&&Ee[en.charCodeAt(0)].length==4},Xe=Ce.__arabicParser__.resolveLigatures=function(en){var an=0,Ye=Te,Ze="",St=0;for(an=0;an<en.length;an+=1)Ye[en.charCodeAt(an)]!==void 0?(St++,typeof(Ye=Ye[en.charCodeAt(an)])=="number"&&(Ze+=String.fromCharCode(Ye),Ye=Te,St=0),an===en.length-1&&(Ye=Te,Ze+=en.charAt(an-(St-1)),an-=St-1,St=0)):(Ye=Te,Ze+=en.charAt(an-St),an-=St,St=0);return Ze};Ce.__arabicParser__.isArabicDiacritic=function(en){return en!==void 0&&Be[en.charCodeAt(0)]!==void 0};var We=Ce.__arabicParser__.getCorrectForm=function(en,an,Ye){return Ue(en)?Me(en)===!1?-1:!$e(en)||!Ue(an)&&!Ue(Ye)||!Ue(Ye)&&De(an)||De(en)&&!Ue(an)||De(en)&&qe(an)||De(en)&&De(an)?0:ze(en)&&Ue(an)&&!De(an)&&Ue(Ye)&&$e(Ye)?3:De(en)||!Ue(Ye)?1:2:-1},Ge=function(en){var an=0,Ye=0,Ze=0,St="",Qe="",Je="",on=(en=en||"").split("\\s+"),hn=[];for(an=0;an<on.length;an+=1){for(hn.push(""),Ye=0;Ye<on[an].length;Ye+=1)St=on[an][Ye],Qe=on[an][Ye-1],Je=on[an][Ye+1],Ue(St)?(Ze=We(St,Qe,Je),hn[an]+=Ze!==-1?String.fromCharCode(Ee[St.charCodeAt(0)][Ze]):St):hn[an]+=St;hn[an]=Xe(hn[an])}return hn.join(" ")},tn=Ce.__arabicParser__.processArabic=Ce.processArabic=function(){var en,an=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(an)){var Ze=0;for(Ye=[],Ze=0;Ze<an.length;Ze+=1)Array.isArray(an[Ze])?Ye.push([Ge(an[Ze][0]),an[Ze][1],an[Ze][2]]):Ye.push([Ge(an[Ze])]);en=Ye}else en=Ge(an);return typeof arguments[0]=="string"?en:(arguments[0].text=en,arguments[0])};Ce.events.push(["preProcessText",tn])})(E$1.API),E$1.API.autoPrint=function(Ce){var Ee;return(Ce=Ce||{}).variant=Ce.variant||"non-conform",Ce.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){Ee=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+Ee+" 0 R")})),this},(function(Ce){var Ee=function(){var Te=void 0;Object.defineProperty(this,"pdf",{get:function(){return Te},set:function(De){Te=De}});var Be=150;Object.defineProperty(this,"width",{get:function(){return Be},set:function(De){Be=isNaN(De)||Number.isInteger(De)===!1||De<0?150:De,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Be+1)}});var Re=300;Object.defineProperty(this,"height",{get:function(){return Re},set:function(De){Re=isNaN(De)||Number.isInteger(De)===!1||De<0?300:De,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Re+1)}});var Me=[];Object.defineProperty(this,"childNodes",{get:function(){return Me},set:function(De){Me=De}});var Ue={};Object.defineProperty(this,"style",{get:function(){return Ue},set:function(De){Ue=De}}),Object.defineProperty(this,"parentNode",{})};Ee.prototype.getContext=function(Te,Be){var Re;if((Te=Te||"2d")!=="2d")return null;for(Re in Be)this.pdf.context2d.hasOwnProperty(Re)&&(this.pdf.context2d[Re]=Be[Re]);return this.pdf.context2d._canvas=this,this.pdf.context2d},Ee.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Ce.events.push(["initialized",function(){this.canvas=new Ee,this.canvas.pdf=this}])})(E$1.API),(function(Ce){var Ee={left:0,top:0,bottom:0,right:0},Te=!1,Be=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},Ee),this.internal.__cell__.margins.width=this.getPageWidth(),Re.call(this))},Re=function(){this.internal.__cell__.lastCell=new Me,this.internal.__cell__.pages=1},Me=function(){var qe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(en){qe=en}});var $e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(en){$e=en}});var ze=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ze},set:function(en){ze=en}});var Xe=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Xe},set:function(en){Xe=en}});var We=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return We},set:function(en){We=en}});var Ge=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Ge},set:function(en){Ge=en}});var tn=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return tn},set:function(en){tn=en}}),this};Me.prototype.clone=function(){return new Me(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Me.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Ce.setHeaderFunction=function(qe){return Be.call(this),this.internal.__cell__.headerFunction=typeof qe=="function"?qe:void 0,this},Ce.getTextDimensions=function(qe,$e){Be.call(this);var ze=($e=$e||{}).fontSize||this.getFontSize(),Xe=$e.font||this.getFont(),We=$e.scaleFactor||this.internal.scaleFactor,Ge=0,tn=0,en=0,an=this;if(!Array.isArray(qe)&&typeof qe!="string"){if(typeof qe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");qe=String(qe)}var Ye=$e.maxWidth;Ye>0?typeof qe=="string"?qe=this.splitTextToSize(qe,Ye):Object.prototype.toString.call(qe)==="[object Array]"&&(qe=qe.reduce(function(St,Qe){return St.concat(an.splitTextToSize(Qe,Ye))},[])):qe=Array.isArray(qe)?qe:[qe];for(var Ze=0;Ze<qe.length;Ze++)Ge<(en=this.getStringUnitWidth(qe[Ze],{font:Xe})*ze)&&(Ge=en);return Ge!==0&&(tn=qe.length),{w:Ge/=We,h:Math.max((tn*ze*this.getLineHeightFactor()-ze*(this.getLineHeightFactor()-1))/We,0)}},Ce.cellAddPage=function(){Be.call(this),this.addPage();var qe=this.internal.__cell__.margins||Ee;return this.internal.__cell__.lastCell=new Me(qe.left,qe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ue=Ce.cell=function(){var qe;qe=arguments[0]instanceof Me?arguments[0]:new Me(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Be.call(this);var $e=this.internal.__cell__.lastCell,ze=this.internal.__cell__.padding,Xe=this.internal.__cell__.margins||Ee,We=this.internal.__cell__.tableHeaderRow,Ge=this.internal.__cell__.printHeaders;return $e.lineNumber!==void 0&&($e.lineNumber===qe.lineNumber?(qe.x=($e.x||0)+($e.width||0),qe.y=$e.y||0):$e.y+$e.height+qe.height+Xe.bottom>this.getPageHeight()?(this.cellAddPage(),qe.y=Xe.top,Ge&&We&&(this.printHeaderRow(qe.lineNumber,!0),qe.y+=We[0].height)):qe.y=$e.y+$e.height||qe.y),qe.text[0]!==void 0&&(this.rect(qe.x,qe.y,qe.width,qe.height,Te===!0?"FD":void 0),qe.align==="right"?this.text(qe.text,qe.x+qe.width-ze,qe.y+ze,{align:"right",baseline:"top"}):qe.align==="center"?this.text(qe.text,qe.x+qe.width/2,qe.y+ze,{align:"center",baseline:"top",maxWidth:qe.width-ze-ze}):this.text(qe.text,qe.x+ze,qe.y+ze,{align:"left",baseline:"top",maxWidth:qe.width-ze-ze})),this.internal.__cell__.lastCell=qe,this};Ce.table=function(qe,$e,ze,Xe,We){if(Be.call(this),!ze)throw new Error("No data for PDF table.");var Ge,tn,en,an,Ye=[],Ze=[],St=[],Qe={},Je={},on=[],hn=[],dn=(We=We||{}).autoSize||!1,sn=We.printHeaders!==!1,kn=We.css&&We.css["font-size"]!==void 0?16*We.css["font-size"]:We.fontSize||12,Pn=We.margins||Object.assign({width:this.getPageWidth()},Ee),_n=typeof We.padding=="number"?We.padding:3,Mn=We.headerBackgroundColor||"#c8c8c8",yn=We.headerTextColor||"#000";if(Re.call(this),this.internal.__cell__.printHeaders=sn,this.internal.__cell__.margins=Pn,this.internal.__cell__.table_font_size=kn,this.internal.__cell__.padding=_n,this.internal.__cell__.headerBackgroundColor=Mn,this.internal.__cell__.headerTextColor=yn,this.setFontSize(kn),Xe==null)Ze=Ye=Object.keys(ze[0]),St=Ye.map(function(){return"left"});else if(Array.isArray(Xe)&&_typeof(Xe[0])==="object")for(Ye=Xe.map(function(jn){return jn.name}),Ze=Xe.map(function(jn){return jn.prompt||jn.name||""}),St=Xe.map(function(jn){return jn.align||"left"}),Ge=0;Ge<Xe.length;Ge+=1)Je[Xe[Ge].name]=.7499990551181103*Xe[Ge].width;else Array.isArray(Xe)&&typeof Xe[0]=="string"&&(Ze=Ye=Xe,St=Ye.map(function(){return"left"}));if(dn||Array.isArray(Xe)&&typeof Xe[0]=="string")for(Ge=0;Ge<Ye.length;Ge+=1){for(Qe[an=Ye[Ge]]=ze.map(function(jn){return jn[an]}),this.setFont(void 0,"bold"),on.push(this.getTextDimensions(Ze[Ge],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),tn=Qe[an],this.setFont(void 0,"normal"),en=0;en<tn.length;en+=1)on.push(this.getTextDimensions(tn[en],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Je[an]=Math.max.apply(null,on)+_n+_n,on=[]}if(sn){var zn={};for(Ge=0;Ge<Ye.length;Ge+=1)zn[Ye[Ge]]={},zn[Ye[Ge]].text=Ze[Ge],zn[Ye[Ge]].align=St[Ge];var Ln=De.call(this,zn,Je);hn=Ye.map(function(jn){return new Me(qe,$e,Je[jn],Ln,zn[jn].text,void 0,zn[jn].align)}),this.setTableHeaderRow(hn),this.printHeaderRow(1,!1)}var Vn=Xe.reduce(function(jn,Gn){return jn[Gn.name]=Gn.align,jn},{});for(Ge=0;Ge<ze.length;Ge+=1){"rowStart"in We&&We.rowStart instanceof Function&&We.rowStart({row:Ge,data:ze[Ge]},this);var On=De.call(this,ze[Ge],Je);for(en=0;en<Ye.length;en+=1){var Un=ze[Ge][Ye[en]];"cellStart"in We&&We.cellStart instanceof Function&&We.cellStart({row:Ge,col:en,data:Un},this),Ue.call(this,new Me(qe,$e,Je[Ye[en]],On,Un,Ge+2,Vn[Ye[en]]))}}return this.internal.__cell__.table_x=qe,this.internal.__cell__.table_y=$e,this};var De=function(qe,$e){var ze=this.internal.__cell__.padding,Xe=this.internal.__cell__.table_font_size,We=this.internal.scaleFactor;return Object.keys(qe).map(function(Ge){var tn=qe[Ge];return this.splitTextToSize(tn.hasOwnProperty("text")?tn.text:tn,$e[Ge]-ze-ze)},this).map(function(Ge){return this.getLineHeightFactor()*Ge.length*Xe/We+ze+ze},this).reduce(function(Ge,tn){return Math.max(Ge,tn)},0)};Ce.setTableHeaderRow=function(qe){Be.call(this),this.internal.__cell__.tableHeaderRow=qe},Ce.printHeaderRow=function(qe,$e){if(Be.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ze;if(Te=!0,typeof this.internal.__cell__.headerFunction=="function"){var Xe=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Me(Xe[0],Xe[1],Xe[2],Xe[3],void 0,-1)}this.setFont(void 0,"bold");for(var We=[],Ge=0;Ge<this.internal.__cell__.tableHeaderRow.length;Ge+=1){ze=this.internal.__cell__.tableHeaderRow[Ge].clone(),$e&&(ze.y=this.internal.__cell__.margins.top||0,We.push(ze)),ze.lineNumber=qe;var tn=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ue.call(this,ze),this.setTextColor(tn)}We.length>0&&this.setTableHeaderRow(We),this.setFont(void 0,"normal"),Te=!1}})(E$1.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ft=_t(kt),It=[100,200,300,400,500,600,700,800,900],jt=_t(It);function Ct(Ce){var Ee=Ce.family.replace(/"|'/g,"").toLowerCase(),Te=(function(Me){return Pt[Me=Me||"normal"]?Me:"normal"})(Ce.style),Be=(function(Me){return Me?typeof Me=="number"?Me>=100&&Me<=900&&Me%100==0?Me:400:/^\d00$/.test(Me)?parseInt(Me):Me==="bold"?700:400:400})(Ce.weight),Re=(function(Me){return typeof Ft[Me=Me||"normal"]=="number"?Me:"normal"})(Ce.stretch);return{family:Ee,style:Te,weight:Be,stretch:Re,src:Ce.src||[],ref:Ce.ref||{name:Ee,style:[Re,Te,Be].join(" ")}}}function Ot(Ce,Ee,Te,Be){var Re;for(Re=Te;Re>=0&&Re<Ee.length;Re+=Be)if(Ce[Ee[Re]])return Ce[Ee[Re]];for(Re=Te;Re>=0&&Re<Ee.length;Re-=Be)if(Ce[Ee[Re]])return Ce[Ee[Re]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qt(Ce){return[Ce.stretch,Ce.style,Ce.weight,Ce.family].join(" ")}function Et(Ce){return Ce.trimLeft()}function Rt(Ce,Ee){for(var Te=0;Te<Ce.length;){if(Ce.charAt(Te)===Ee)return[Ce.substring(0,Te),Ce.substring(Te+1)];Te+=1}return null}function Dt(Ce){var Ee=Ce.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return Ee===null?null:[Ee[0],Ce.substring(Ee[0].length)]}var Tt,zt,Ut,Ht,Wt,Vt,Gt,Yt,Jt=["times"];function Xt(Ce,Ee,Te,Be){var Re=4,Me=$t;switch(Be){case E$1.API.image_compression.FAST:Re=1,Me=Zt;break;case E$1.API.image_compression.MEDIUM:Re=6,Me=Qt;break;case E$1.API.image_compression.SLOW:Re=9,Me=te}Ce=(function(De,qe,$e,ze){for(var Xe,We=De.length/qe,Ge=new Uint8Array(De.length+We),tn=[Kt,Zt,$t,Qt,te],en=0;en<We;en+=1){var an=en*qe,Ye=De.subarray(an,an+qe);if(ze)Ge.set(ze(Ye,$e,Xe),an+en);else{for(var Ze=tn.length,St=[],Qe=0;Qe<Ze;Qe+=1)St[Qe]=tn[Qe](Ye,$e,Xe);var Je=ne(St.concat());Ge.set(St[Je],an+en)}Xe=Ye}return Ge})(Ce,Ee,Te,Me);var Ue=zlibSync(Ce,{level:Re});return E$1.API.__addimage__.arrayBufferToBinaryString(Ue)}function Kt(Ce){var Ee=Array.apply([],Ce);return Ee.unshift(0),Ee}function Zt(Ce,Ee){var Te=Ce.length,Be=[];Be[0]=1;for(var Re=0;Re<Te;Re+=1){var Me=Ce[Re-Ee]||0;Be[Re+1]=Ce[Re]-Me+256&255}return Be}function $t(Ce,Ee,Te){var Be=Ce.length,Re=[];Re[0]=2;for(var Me=0;Me<Be;Me+=1){var Ue=Te&&Te[Me]||0;Re[Me+1]=Ce[Me]-Ue+256&255}return Re}function Qt(Ce,Ee,Te){var Be=Ce.length,Re=[];Re[0]=3;for(var Me=0;Me<Be;Me+=1){var Ue=Ce[Me-Ee]||0,De=Te&&Te[Me]||0;Re[Me+1]=Ce[Me]+256-(Ue+De>>>1)&255}return Re}function te(Ce,Ee,Te){var Be=Ce.length,Re=[];Re[0]=4;for(var Me=0;Me<Be;Me+=1){var Ue=ee(Ce[Me-Ee]||0,Te&&Te[Me]||0,Te&&Te[Me-Ee]||0);Re[Me+1]=Ce[Me]-Ue+256&255}return Re}function ee(Ce,Ee,Te){if(Ce===Ee&&Ee===Te)return Ce;var Be=Math.abs(Ee-Te),Re=Math.abs(Ce-Te),Me=Math.abs(Ce+Ee-Te-Te);return Be<=Re&&Be<=Me?Ce:Re<=Me?Ee:Te}function ne(Ce){var Ee=Ce.map(function(Te){return Te.reduce(function(Be,Re){return Be+Math.abs(Re)},0)});return Ee.indexOf(Math.min.apply(null,Ee))}function re(Ce,Ee,Te){var Be=Ee*Te,Re=Math.floor(Be/8),Me=16-(Be-8*Re+Te),Ue=(1<<Te)-1;return ae(Ce,Re)>>Me&Ue}function ie(Ce,Ee,Te,Be){var Re=Te*Be,Me=Math.floor(Re/8),Ue=16-(Re-8*Me+Be),De=(1<<Be)-1,qe=(Ee&De)<<Ue;(function($e,ze,Xe){if(ze+1<$e.byteLength)$e.setUint16(ze,Xe,!1);else{var We=Xe>>8&255;$e.setUint8(ze,We)}})(Ce,Me,ae(Ce,Me)&~(De<<Ue)&65535|qe)}function ae(Ce,Ee){return Ee+1<Ce.byteLength?Ce.getUint16(Ee,!1):Ce.getUint8(Ee)<<8}function oe(Ce){var Ee=0;if(Ce[Ee++]!==71||Ce[Ee++]!==73||Ce[Ee++]!==70||Ce[Ee++]!==56||(Ce[Ee++]+1&253)!=56||Ce[Ee++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Te=Ce[Ee++]|Ce[Ee++]<<8,Be=Ce[Ee++]|Ce[Ee++]<<8,Re=Ce[Ee++],Me=Re>>7,Ue=1<<1+(7&Re);Ce[Ee++],Ce[Ee++];var De=null,qe=null;Me&&(De=Ee,qe=Ue,Ee+=3*Ue);var $e=!0,ze=[],Xe=0,We=null,Ge=0,tn=null;for(this.width=Te,this.height=Be;$e&&Ee<Ce.length;)switch(Ce[Ee++]){case 33:switch(Ce[Ee++]){case 255:if(Ce[Ee]!==11||Ce[Ee+1]==78&&Ce[Ee+2]==69&&Ce[Ee+3]==84&&Ce[Ee+4]==83&&Ce[Ee+5]==67&&Ce[Ee+6]==65&&Ce[Ee+7]==80&&Ce[Ee+8]==69&&Ce[Ee+9]==50&&Ce[Ee+10]==46&&Ce[Ee+11]==48&&Ce[Ee+12]==3&&Ce[Ee+13]==1&&Ce[Ee+16]==0)Ee+=14,tn=Ce[Ee++]|Ce[Ee++]<<8,Ee++;else for(Ee+=12;;){if(!((Pn=Ce[Ee++])>=0))throw Error("Invalid block size");if(Pn===0)break;Ee+=Pn}break;case 249:if(Ce[Ee++]!==4||Ce[Ee+4]!==0)throw new Error("Invalid graphics extension block.");var en=Ce[Ee++];Xe=Ce[Ee++]|Ce[Ee++]<<8,We=Ce[Ee++],1&en||(We=null),Ge=en>>2&7,Ee++;break;case 254:for(;;){if(!((Pn=Ce[Ee++])>=0))throw Error("Invalid block size");if(Pn===0)break;Ee+=Pn}break;default:throw new Error("Unknown graphic control label: 0x"+Ce[Ee-1].toString(16))}break;case 44:var an=Ce[Ee++]|Ce[Ee++]<<8,Ye=Ce[Ee++]|Ce[Ee++]<<8,Ze=Ce[Ee++]|Ce[Ee++]<<8,St=Ce[Ee++]|Ce[Ee++]<<8,Qe=Ce[Ee++],Je=Qe>>6&1,on=1<<1+(7&Qe),hn=De,dn=qe,sn=!1;Qe>>7&&(sn=!0,hn=Ee,dn=on,Ee+=3*on);var kn=Ee;for(Ee++;;){var Pn;if(!((Pn=Ce[Ee++])>=0))throw Error("Invalid block size");if(Pn===0)break;Ee+=Pn}ze.push({x:an,y:Ye,width:Ze,height:St,has_local_palette:sn,palette_offset:hn,palette_size:dn,data_offset:kn,data_length:Ee-kn,transparent_index:We,interlaced:!!Je,delay:Xe,disposal:Ge});break;case 59:$e=!1;break;default:throw new Error("Unknown gif block: 0x"+Ce[Ee-1].toString(16))}this.numFrames=function(){return ze.length},this.loopCount=function(){return tn},this.frameInfo=function(_n){if(_n<0||_n>=ze.length)throw new Error("Frame index out of range.");return ze[_n]},this.decodeAndBlitFrameBGRA=function(_n,Mn){var yn=this.frameInfo(_n),zn=yn.width*yn.height,Ln=new Uint8Array(zn);se(Ce,yn.data_offset,Ln,zn);var Vn=yn.palette_offset,On=yn.transparent_index;On===null&&(On=256);var Un=yn.width,jn=Te-Un,Gn=Un,An=4*(yn.y*Te+yn.x),$n=4*((yn.y+yn.height)*Te+yn.x),Nn=An,En=4*jn;yn.interlaced===!0&&(En+=4*Te*7);for(var Sn=8,pn=0,mn=Ln.length;pn<mn;++pn){var un=Ln[pn];if(Gn===0&&(Gn=Un,(Nn+=En)>=$n&&(En=4*jn+4*Te*(Sn-1),Nn=An+(Un+jn)*(Sn<<1),Sn>>=1)),un===On)Nn+=4;else{var wn=Ce[Vn+3*un],xn=Ce[Vn+3*un+1],Rn=Ce[Vn+3*un+2];Mn[Nn++]=Rn,Mn[Nn++]=xn,Mn[Nn++]=wn,Mn[Nn++]=255}--Gn}},this.decodeAndBlitFrameRGBA=function(_n,Mn){var yn=this.frameInfo(_n),zn=yn.width*yn.height,Ln=new Uint8Array(zn);se(Ce,yn.data_offset,Ln,zn);var Vn=yn.palette_offset,On=yn.transparent_index;On===null&&(On=256);var Un=yn.width,jn=Te-Un,Gn=Un,An=4*(yn.y*Te+yn.x),$n=4*((yn.y+yn.height)*Te+yn.x),Nn=An,En=4*jn;yn.interlaced===!0&&(En+=4*Te*7);for(var Sn=8,pn=0,mn=Ln.length;pn<mn;++pn){var un=Ln[pn];if(Gn===0&&(Gn=Un,(Nn+=En)>=$n&&(En=4*jn+4*Te*(Sn-1),Nn=An+(Un+jn)*(Sn<<1),Sn>>=1)),un===On)Nn+=4;else{var wn=Ce[Vn+3*un],xn=Ce[Vn+3*un+1],Rn=Ce[Vn+3*un+2];Mn[Nn++]=wn,Mn[Nn++]=xn,Mn[Nn++]=Rn,Mn[Nn++]=255}--Gn}}}function se(Ce,Ee,Te,Be){for(var Re=Ce[Ee++],Me=1<<Re,Ue=Me+1,De=Ue+1,qe=Re+1,$e=(1<<qe)-1,ze=0,Xe=0,We=0,Ge=Ce[Ee++],tn=new Int32Array(4096),en=null;;){for(;ze<16&&Ge!==0;)Xe|=Ce[Ee++]<<ze,ze+=8,Ge===1?Ge=Ce[Ee++]:--Ge;if(ze<qe)break;var an=Xe&$e;if(Xe>>=qe,ze-=qe,an!==Me){if(an===Ue)break;for(var Ye=an<De?an:en,Ze=0,St=Ye;St>Me;)St=tn[St]>>8,++Ze;var Qe=St;if(We+Ze+(Ye!==an?1:0)>Be)return void o$5.log("Warning, gif stream longer than expected.");Te[We++]=Qe;var Je=We+=Ze;for(Ye!==an&&(Te[We++]=Qe),St=Ye;Ze--;)St=tn[St],Te[--Je]=255&St,St>>=8;en!==null&&De<4096&&(tn[De++]=en<<8|Qe,De>=$e+1&&qe<12&&(++qe,$e=$e<<1|1)),en=an}else De=Ue+1,$e=(1<<(qe=Re+1))-1,en=null}return We!==Be&&o$5.log("Warning, gif stream shorter than expected."),Te}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ue(Ce){var Ee,Te,Be,Re,Me,Ue=Math.floor,De=new Array(64),qe=new Array(64),$e=new Array(64),ze=new Array(64),Xe=new Array(65535),We=new Array(65535),Ge=new Array(64),tn=new Array(64),en=[],an=0,Ye=7,Ze=new Array(64),St=new Array(64),Qe=new Array(64),Je=new Array(256),on=new Array(2048),hn=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],dn=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],sn=[0,1,2,3,4,5,6,7,8,9,10,11],kn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Pn=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_n=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Mn=[0,1,2,3,4,5,6,7,8,9,10,11],yn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],zn=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ln(An,$n){for(var Nn=0,En=0,Sn=new Array,pn=1;pn<=16;pn++){for(var mn=1;mn<=An[pn];mn++)Sn[$n[En]]=[],Sn[$n[En]][0]=Nn,Sn[$n[En]][1]=pn,En++,Nn++;Nn*=2}return Sn}function Vn(An){for(var $n=An[0],Nn=An[1]-1;Nn>=0;)$n&1<<Nn&&(an|=1<<Ye),Nn--,--Ye<0&&(an==255?(On(255),On(0)):On(an),Ye=7,an=0)}function On(An){en.push(An)}function Un(An){On(An>>8&255),On(255&An)}function jn(An,$n,Nn,En,Sn){for(var pn,mn=Sn[0],un=Sn[240],wn=(function(Cn,Yn){var Jn,er,ur,dr,br,yr,jr,Gr,$r,Dr,hr=0;for($r=0;$r<8;++$r){Jn=Cn[hr],er=Cn[hr+1],ur=Cn[hr+2],dr=Cn[hr+3],br=Cn[hr+4],yr=Cn[hr+5],jr=Cn[hr+6];var Ur=Jn+(Gr=Cn[hr+7]),Qr=Jn-Gr,ia=er+jr,Er=er-jr,Kr=ur+yr,na=ur-yr,Pr=dr+br,fr=dr-br,gr=Ur+Pr,Mr=Ur-Pr,sa=ia+Kr,aa=ia-Kr;Cn[hr]=gr+sa,Cn[hr+4]=gr-sa;var Rr=.707106781*(aa+Mr);Cn[hr+2]=Mr+Rr,Cn[hr+6]=Mr-Rr;var Tr=.382683433*((gr=fr+na)-(aa=Er+Qr)),Xr=.5411961*gr+Tr,ca=1.306562965*aa+Tr,Sa=.707106781*(sa=na+Er),oa=Qr+Sa,ma=Qr-Sa;Cn[hr+5]=ma+Xr,Cn[hr+3]=ma-Xr,Cn[hr+1]=oa+ca,Cn[hr+7]=oa-ca,hr+=8}for(hr=0,$r=0;$r<8;++$r){Jn=Cn[hr],er=Cn[hr+8],ur=Cn[hr+16],dr=Cn[hr+24],br=Cn[hr+32],yr=Cn[hr+40],jr=Cn[hr+48];var da=Jn+(Gr=Cn[hr+56]),fa=Jn-Gr,Ca=er+jr,Na=er-jr,Ta=ur+yr,Ia=ur-yr,hi=dr+br,Ha=dr-br,ri=da+hi,ja=da-hi,pi=Ca+Ta,Ri=Ca-Ta;Cn[hr]=ri+pi,Cn[hr+32]=ri-pi;var li=.707106781*(Ri+ja);Cn[hr+16]=ja+li,Cn[hr+48]=ja-li;var ii=.382683433*((ri=Ha+Ia)-(Ri=Na+fa)),ys=.5411961*ri+ii,Is=1.306562965*Ri+ii,xi=.707106781*(pi=Ia+Na),$i=fa+xi,lo=fa-xi;Cn[hr+40]=lo+ys,Cn[hr+24]=lo-ys,Cn[hr+8]=$i+Is,Cn[hr+56]=$i-Is,hr++}for($r=0;$r<64;++$r)Dr=Cn[$r]*Yn[$r],Ge[$r]=Dr>0?Dr+.5|0:Dr-.5|0;return Ge})(An,$n),xn=0;xn<64;++xn)tn[hn[xn]]=wn[xn];var Rn=tn[0]-Nn;Nn=tn[0],Rn==0?Vn(En[0]):(Vn(En[We[pn=32767+Rn]]),Vn(Xe[pn]));for(var Hn=63;Hn>0&&tn[Hn]==0;)Hn--;if(Hn==0)return Vn(mn),Nn;for(var vn,qn=1;qn<=Hn;){for(var In=qn;tn[qn]==0&&qn<=Hn;)++qn;var cn=qn-In;if(cn>=16){vn=cn>>4;for(var bn=1;bn<=vn;++bn)Vn(un);cn&=15}pn=32767+tn[qn],Vn(Sn[(cn<<4)+We[pn]]),Vn(Xe[pn]),qn++}return Hn!=63&&Vn(mn),Nn}function Gn(An){An=Math.min(Math.max(An,1),100),Me!=An&&((function($n){for(var Nn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],En=0;En<64;En++){var Sn=Ue((Nn[En]*$n+50)/100);Sn=Math.min(Math.max(Sn,1),255),De[hn[En]]=Sn}for(var pn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],mn=0;mn<64;mn++){var un=Ue((pn[mn]*$n+50)/100);un=Math.min(Math.max(un,1),255),qe[hn[mn]]=un}for(var wn=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xn=0,Rn=0;Rn<8;Rn++)for(var Hn=0;Hn<8;Hn++)$e[xn]=1/(De[hn[xn]]*wn[Rn]*wn[Hn]*8),ze[xn]=1/(qe[hn[xn]]*wn[Rn]*wn[Hn]*8),xn++})(An<50?Math.floor(5e3/An):Math.floor(200-2*An)),Me=An)}this.encode=function(An,$n){$n&&Gn($n),en=new Array,an=0,Ye=7,Un(65496),Un(65504),Un(16),On(74),On(70),On(73),On(70),On(0),On(1),On(1),On(0),Un(1),Un(1),On(0),On(0),(function(){Un(65499),Un(132),On(0);for(var er=0;er<64;er++)On(De[er]);On(1);for(var ur=0;ur<64;ur++)On(qe[ur])})(),(function(er,ur){Un(65472),Un(17),On(8),Un(ur),Un(er),On(3),On(1),On(17),On(0),On(2),On(17),On(1),On(3),On(17),On(1)})(An.width,An.height),(function(){Un(65476),Un(418),On(0);for(var er=0;er<16;er++)On(dn[er+1]);for(var ur=0;ur<=11;ur++)On(sn[ur]);On(16);for(var dr=0;dr<16;dr++)On(kn[dr+1]);for(var br=0;br<=161;br++)On(Pn[br]);On(1);for(var yr=0;yr<16;yr++)On(_n[yr+1]);for(var jr=0;jr<=11;jr++)On(Mn[jr]);On(17);for(var Gr=0;Gr<16;Gr++)On(yn[Gr+1]);for(var $r=0;$r<=161;$r++)On(zn[$r])})(),Un(65498),Un(12),On(3),On(1),On(0),On(2),On(17),On(3),On(17),On(0),On(63),On(0);var Nn=0,En=0,Sn=0;an=0,Ye=7,this.encode.displayName="_encode_";for(var pn,mn,un,wn,xn,Rn,Hn,vn,qn,In=An.data,cn=An.width,bn=An.height,Cn=4*cn,Yn=0;Yn<bn;){for(pn=0;pn<Cn;){for(xn=Cn*Yn+pn,Hn=-1,vn=0,qn=0;qn<64;qn++)Rn=xn+(vn=qn>>3)*Cn+(Hn=4*(7&qn)),Yn+vn>=bn&&(Rn-=Cn*(Yn+1+vn-bn)),pn+Hn>=Cn&&(Rn-=pn+Hn-Cn+4),mn=In[Rn++],un=In[Rn++],wn=In[Rn++],Ze[qn]=(on[mn]+on[un+256|0]+on[wn+512|0]>>16)-128,St[qn]=(on[mn+768|0]+on[un+1024|0]+on[wn+1280|0]>>16)-128,Qe[qn]=(on[mn+1280|0]+on[un+1536|0]+on[wn+1792|0]>>16)-128;Nn=jn(Ze,$e,Nn,Ee,Be),En=jn(St,ze,En,Te,Re),Sn=jn(Qe,ze,Sn,Te,Re),pn+=32}Yn+=8}if(Ye>=0){var Jn=[];Jn[1]=Ye+1,Jn[0]=(1<<Ye+1)-1,Vn(Jn)}return Un(65497),new Uint8Array(en)},Ce=Ce||50,(function(){for(var An=String.fromCharCode,$n=0;$n<256;$n++)Je[$n]=An($n)})(),Ee=Ln(dn,sn),Te=Ln(_n,Mn),Be=Ln(kn,Pn),Re=Ln(yn,zn),(function(){for(var An=1,$n=2,Nn=1;Nn<=15;Nn++){for(var En=An;En<$n;En++)We[32767+En]=Nn,Xe[32767+En]=[],Xe[32767+En][1]=Nn,Xe[32767+En][0]=En;for(var Sn=-($n-1);Sn<=-An;Sn++)We[32767+Sn]=Nn,Xe[32767+Sn]=[],Xe[32767+Sn][1]=Nn,Xe[32767+Sn][0]=$n-1+Sn;An<<=1,$n<<=1}})(),(function(){for(var An=0;An<256;An++)on[An]=19595*An,on[An+256|0]=38470*An,on[An+512|0]=7471*An+32768,on[An+768|0]=-11059*An,on[An+1024|0]=-21709*An,on[An+1280|0]=32768*An+8421375,on[An+1536|0]=-27439*An,on[An+1792|0]=-5329*An})(),Gn(Ce)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ce(Ce,Ee){if(this.pos=0,this.buffer=Ce,this.datav=new DataView(Ce.buffer),this.is_with_alpha=!!Ee,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function le(Ce){function Ee(sn){if(!sn)throw Error("assert :P")}function Te(sn,kn,Pn){for(var _n=0;4>_n;_n++)if(sn[kn+_n]!=Pn.charCodeAt(_n))return!0;return!1}function Be(sn,kn,Pn,_n,Mn){for(var yn=0;yn<Mn;yn++)sn[kn+yn]=Pn[_n+yn]}function Re(sn,kn,Pn,_n){for(var Mn=0;Mn<_n;Mn++)sn[kn+Mn]=Pn}function Me(sn){return new Int32Array(sn)}function Ue(sn,kn){for(var Pn=[],_n=0;_n<sn;_n++)Pn.push(new kn);return Pn}function De(sn,kn){var Pn=[];return(function _n(Mn,yn,zn){for(var Ln=zn[yn],Vn=0;Vn<Ln&&(Mn.push(zn.length>yn+1?[]:new kn),!(zn.length<yn+1));Vn++)_n(Mn[Vn],yn+1,zn)})(Pn,0,sn),Pn}var qe=function(){var sn=this;function kn(rn,gn){for(var Fn=1<<gn-1>>>0;rn&Fn;)Fn>>>=1;return Fn?(rn&Fn-1)+Fn:rn}function Pn(rn,gn,Fn,Wn,Zn){Ee(!(Wn%Fn));do rn[gn+(Wn-=Fn)]=Zn;while(0<Wn)}function _n(rn,gn,Fn,Wn,Zn){if(Ee(2328>=Zn),512>=Zn)var tr=Me(512);else if((tr=Me(Zn))==null)return 0;return(function(nr,rr,sr,lr,_r,Cr){var ir,vr,Ar=rr,qr=1<<sr,kr=Me(16),zr=Me(16);for(Ee(_r!=0),Ee(lr!=null),Ee(nr!=null),Ee(0<sr),vr=0;vr<_r;++vr){if(15<lr[vr])return 0;++kr[lr[vr]]}if(kr[0]==_r)return 0;for(zr[1]=0,ir=1;15>ir;++ir){if(kr[ir]>1<<ir)return 0;zr[ir+1]=zr[ir]+kr[ir]}for(vr=0;vr<_r;++vr)ir=lr[vr],0<lr[vr]&&(Cr[zr[ir]++]=vr);if(zr[15]==1)return(lr=new Mn).g=0,lr.value=Cr[0],Pn(nr,Ar,1,qr,lr),qr;var Hr,ra=-1,Zr=qr-1,Aa=0,pa=1,Fa=1,ya=1<<sr;for(vr=0,ir=1,_r=2;ir<=sr;++ir,_r<<=1){if(pa+=Fa<<=1,0>(Fa-=kr[ir]))return 0;for(;0<kr[ir];--kr[ir])(lr=new Mn).g=ir,lr.value=Cr[vr++],Pn(nr,Ar+Aa,_r,ya,lr),Aa=kn(Aa,ir)}for(ir=sr+1,_r=2;15>=ir;++ir,_r<<=1){if(pa+=Fa<<=1,0>(Fa-=kr[ir]))return 0;for(;0<kr[ir];--kr[ir]){if(lr=new Mn,(Aa&Zr)!=ra){for(Ar+=ya,Hr=1<<(ra=ir)-sr;15>ra&&!(0>=(Hr-=kr[ra]));)++ra,Hr<<=1;qr+=ya=1<<(Hr=ra-sr),nr[rr+(ra=Aa&Zr)].g=Hr+sr,nr[rr+ra].value=Ar-rr-ra}lr.g=ir-sr,lr.value=Cr[vr++],Pn(nr,Ar+(Aa>>sr),_r,ya,lr),Aa=kn(Aa,ir)}}return pa!=2*zr[15]-1?0:qr})(rn,gn,Fn,Wn,Zn,tr)}function Mn(){this.value=this.g=0}function yn(){this.value=this.g=0}function zn(){this.G=Ue(5,Mn),this.H=Me(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ue(as,yn)}function Ln(rn,gn,Fn,Wn){Ee(rn!=null),Ee(gn!=null),Ee(2147483648>Wn),rn.Ca=254,rn.I=0,rn.b=-8,rn.Ka=0,rn.oa=gn,rn.pa=Fn,rn.Jd=gn,rn.Yc=Fn+Wn,rn.Zc=4<=Wn?Fn+Wn-4+1:Fn,mn(rn)}function Vn(rn,gn){for(var Fn=0;0<gn--;)Fn|=wn(rn,128)<<gn;return Fn}function On(rn,gn){var Fn=Vn(rn,gn);return un(rn)?-Fn:Fn}function Un(rn,gn,Fn,Wn){var Zn,tr=0;for(Ee(rn!=null),Ee(gn!=null),Ee(4294967288>Wn),rn.Sb=Wn,rn.Ra=0,rn.u=0,rn.h=0,4<Wn&&(Wn=4),Zn=0;Zn<Wn;++Zn)tr+=gn[Fn+Zn]<<8*Zn;rn.Ra=tr,rn.bb=Wn,rn.oa=gn,rn.pa=Fn}function jn(rn){for(;8<=rn.u&&rn.bb<rn.Sb;)rn.Ra>>>=8,rn.Ra+=rn.oa[rn.pa+rn.bb]<<Oo-8>>>0,++rn.bb,rn.u-=8;En(rn)&&(rn.h=1,rn.u=0)}function Gn(rn,gn){if(Ee(0<=gn),!rn.h&&gn<=ol){var Fn=Nn(rn)&Fs[gn];return rn.u+=gn,jn(rn),Fn}return rn.h=1,rn.u=0}function An(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $n(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Nn(rn){return rn.Ra>>>(rn.u&Oo-1)>>>0}function En(rn){return Ee(rn.bb<=rn.Sb),rn.h||rn.bb==rn.Sb&&rn.u>Oo}function Sn(rn,gn){rn.u=gn,rn.h=En(rn)}function pn(rn){rn.u>=ki&&(Ee(rn.u>=ki),jn(rn))}function mn(rn){Ee(rn!=null&&rn.oa!=null),rn.pa<rn.Zc?(rn.I=(rn.oa[rn.pa++]|rn.I<<8)>>>0,rn.b+=8):(Ee(rn!=null&&rn.oa!=null),rn.pa<rn.Yc?(rn.b+=8,rn.I=rn.oa[rn.pa++]|rn.I<<8):rn.Ka?rn.b=0:(rn.I<<=8,rn.b+=8,rn.Ka=1))}function un(rn){return Vn(rn,1)}function wn(rn,gn){var Fn=rn.Ca;0>rn.b&&mn(rn);var Wn=rn.b,Zn=Fn*gn>>>8,tr=(rn.I>>>Wn>Zn)+0;for(tr?(Fn-=Zn,rn.I-=Zn+1<<Wn>>>0):Fn=Zn+1,Wn=Fn,Zn=0;256<=Wn;)Zn+=8,Wn>>=8;return Wn=7^Zn+Fu[Wn],rn.b-=Wn,rn.Ca=(Fn<<Wn)-1,tr}function xn(rn,gn,Fn){rn[gn+0]=Fn>>24&255,rn[gn+1]=Fn>>16&255,rn[gn+2]=Fn>>8&255,rn[gn+3]=255&Fn}function Rn(rn,gn){return rn[gn+0]|rn[gn+1]<<8}function Hn(rn,gn){return Rn(rn,gn)|rn[gn+2]<<16}function vn(rn,gn){return Rn(rn,gn)|Rn(rn,gn+2)<<16}function qn(rn,gn){var Fn=1<<gn;return Ee(rn!=null),Ee(0<gn),rn.X=Me(Fn),rn.X==null?0:(rn.Mb=32-gn,rn.Xa=gn,1)}function In(rn,gn){Ee(rn!=null),Ee(gn!=null),Ee(rn.Xa==gn.Xa),Be(gn.X,0,rn.X,0,1<<gn.Xa)}function cn(){this.X=[],this.Xa=this.Mb=0}function bn(rn,gn,Fn,Wn){Ee(Fn!=null),Ee(Wn!=null);var Zn=Fn[0],tr=Wn[0];return Zn==0&&(Zn=(rn*tr+gn/2)/gn),tr==0&&(tr=(gn*Zn+rn/2)/rn),0>=Zn||0>=tr?0:(Fn[0]=Zn,Wn[0]=tr,1)}function Cn(rn,gn){return rn+(1<<gn)-1>>>gn}function Yn(rn,gn){return((4278255360&rn)+(4278255360&gn)>>>0&4278255360)+((16711935&rn)+(16711935&gn)>>>0&16711935)>>>0}function Jn(rn,gn){sn[gn]=function(Fn,Wn,Zn,tr,nr,rr,sr){var lr;for(lr=0;lr<nr;++lr){var _r=sn[rn](rr[sr+lr-1],Zn,tr+lr);rr[sr+lr]=Yn(Fn[Wn+lr],_r)}}}function er(){this.ud=this.hd=this.jd=0}function ur(rn,gn){return((4278124286&(rn^gn))>>>1)+(rn&gn)>>>0}function dr(rn){return 0<=rn&&256>rn?rn:0>rn?0:255<rn?255:void 0}function br(rn,gn){return dr(rn+(rn-gn+.5>>1))}function yr(rn,gn,Fn){return Math.abs(gn-Fn)-Math.abs(rn-Fn)}function jr(rn,gn,Fn,Wn,Zn,tr,nr){for(Wn=tr[nr-1],Fn=0;Fn<Zn;++Fn)tr[nr+Fn]=Wn=Yn(rn[gn+Fn],Wn)}function Gr(rn,gn,Fn,Wn,Zn){var tr;for(tr=0;tr<Fn;++tr){var nr=rn[gn+tr],rr=nr>>8&255,sr=16711935&(sr=(sr=16711935&nr)+((rr<<16)+rr));Wn[Zn+tr]=(4278255360&nr)+sr>>>0}}function $r(rn,gn){gn.jd=255&rn,gn.hd=rn>>8&255,gn.ud=rn>>16&255}function Dr(rn,gn,Fn,Wn,Zn,tr){var nr;for(nr=0;nr<Wn;++nr){var rr=gn[Fn+nr],sr=rr>>>8,lr=rr,_r=255&(_r=(_r=rr>>>16)+((rn.jd<<24>>24)*(sr<<24>>24)>>>5));lr=255&(lr=(lr+=(rn.hd<<24>>24)*(sr<<24>>24)>>>5)+((rn.ud<<24>>24)*(_r<<24>>24)>>>5)),Zn[tr+nr]=(4278255360&rr)+(_r<<16)+lr}}function hr(rn,gn,Fn,Wn,Zn){sn[gn]=function(tr,nr,rr,sr,lr,_r,Cr,ir,vr){for(sr=Cr;sr<ir;++sr)for(Cr=0;Cr<vr;++Cr)lr[_r++]=Zn(rr[Wn(tr[nr++])])},sn[rn]=function(tr,nr,rr,sr,lr,_r,Cr){var ir=8>>tr.b,vr=tr.Ea,Ar=tr.K[0],qr=tr.w;if(8>ir)for(tr=(1<<tr.b)-1,qr=(1<<ir)-1;nr<rr;++nr){var kr,zr=0;for(kr=0;kr<vr;++kr)kr&tr||(zr=Wn(sr[lr++])),_r[Cr++]=Zn(Ar[zr&qr]),zr>>=ir}else sn["VP8LMapColor"+Fn](sr,lr,Ar,qr,_r,Cr,nr,rr,vr)}}function Ur(rn,gn,Fn,Wn,Zn){for(Fn=gn+Fn;gn<Fn;){var tr=rn[gn++];Wn[Zn++]=tr>>16&255,Wn[Zn++]=tr>>8&255,Wn[Zn++]=255&tr}}function Qr(rn,gn,Fn,Wn,Zn){for(Fn=gn+Fn;gn<Fn;){var tr=rn[gn++];Wn[Zn++]=tr>>16&255,Wn[Zn++]=tr>>8&255,Wn[Zn++]=255&tr,Wn[Zn++]=tr>>24&255}}function ia(rn,gn,Fn,Wn,Zn){for(Fn=gn+Fn;gn<Fn;){var tr=(nr=rn[gn++])>>16&240|nr>>12&15,nr=240&nr|nr>>28&15;Wn[Zn++]=tr,Wn[Zn++]=nr}}function Er(rn,gn,Fn,Wn,Zn){for(Fn=gn+Fn;gn<Fn;){var tr=(nr=rn[gn++])>>16&248|nr>>13&7,nr=nr>>5&224|nr>>3&31;Wn[Zn++]=tr,Wn[Zn++]=nr}}function Kr(rn,gn,Fn,Wn,Zn){for(Fn=gn+Fn;gn<Fn;){var tr=rn[gn++];Wn[Zn++]=255&tr,Wn[Zn++]=tr>>8&255,Wn[Zn++]=tr>>16&255}}function na(rn,gn,Fn,Wn,Zn,tr){if(tr==0)for(Fn=gn+Fn;gn<Fn;)xn(Wn,((tr=rn[gn++])[0]>>24|tr[1]>>8&65280|tr[2]<<8&16711680|tr[3]<<24)>>>0),Zn+=32;else Be(Wn,Zn,rn,gn,Fn)}function Pr(rn,gn){sn[gn][0]=sn[rn+"0"],sn[gn][1]=sn[rn+"1"],sn[gn][2]=sn[rn+"2"],sn[gn][3]=sn[rn+"3"],sn[gn][4]=sn[rn+"4"],sn[gn][5]=sn[rn+"5"],sn[gn][6]=sn[rn+"6"],sn[gn][7]=sn[rn+"7"],sn[gn][8]=sn[rn+"8"],sn[gn][9]=sn[rn+"9"],sn[gn][10]=sn[rn+"10"],sn[gn][11]=sn[rn+"11"],sn[gn][12]=sn[rn+"12"],sn[gn][13]=sn[rn+"13"],sn[gn][14]=sn[rn+"0"],sn[gn][15]=sn[rn+"0"]}function fr(rn){return rn==Vs||rn==wo||rn==$o||rn==xo}function gr(){this.eb=[],this.size=this.A=this.fb=0}function Mr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gr,this.f.kb=new Mr,this.sd=null}function aa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tr(rn){return alert("todo:WebPSamplerProcessPlane"),rn.T}function Xr(rn,gn){var Fn=rn.T,Wn=gn.ba.f.RGBA,Zn=Wn.eb,tr=Wn.fb+rn.ka*Wn.A,nr=ss[gn.ba.S],rr=rn.y,sr=rn.O,lr=rn.f,_r=rn.N,Cr=rn.ea,ir=rn.W,vr=gn.cc,Ar=gn.dc,qr=gn.Mc,kr=gn.Nc,zr=rn.ka,Hr=rn.ka+rn.T,ra=rn.U,Zr=ra+1>>1;for(zr==0?nr(rr,sr,null,null,lr,_r,Cr,ir,lr,_r,Cr,ir,Zn,tr,null,null,ra):(nr(gn.ec,gn.fc,rr,sr,vr,Ar,qr,kr,lr,_r,Cr,ir,Zn,tr-Wn.A,Zn,tr,ra),++Fn);zr+2<Hr;zr+=2)vr=lr,Ar=_r,qr=Cr,kr=ir,_r+=rn.Rc,ir+=rn.Rc,tr+=2*Wn.A,nr(rr,(sr+=2*rn.fa)-rn.fa,rr,sr,vr,Ar,qr,kr,lr,_r,Cr,ir,Zn,tr-Wn.A,Zn,tr,ra);return sr+=rn.fa,rn.j+Hr<rn.o?(Be(gn.ec,gn.fc,rr,sr,ra),Be(gn.cc,gn.dc,lr,_r,Zr),Be(gn.Mc,gn.Nc,Cr,ir,Zr),Fn--):1&Hr||nr(rr,sr,null,null,lr,_r,Cr,ir,lr,_r,Cr,ir,Zn,tr+Wn.A,null,null,ra),Fn}function ca(rn,gn,Fn){var Wn=rn.F,Zn=[rn.J];if(Wn!=null){var tr=rn.U,nr=gn.ba.S,rr=nr==ul||nr==$o;gn=gn.ba.f.RGBA;var sr=[0],lr=rn.ka;sr[0]=rn.T,rn.Kb&&(lr==0?--sr[0]:(--lr,Zn[0]-=rn.width),rn.j+rn.ka+rn.T==rn.o&&(sr[0]=rn.o-rn.j-lr));var _r=gn.eb;lr=gn.fb+lr*gn.A,rn=Qs(Wn,Zn[0],rn.width,tr,sr,_r,lr+(rr?0:3),gn.A),Ee(Fn==sr),rn&&fr(nr)&&_u(_r,lr,rr,tr,sr,gn.A)}return 0}function Sa(rn){var gn=rn.ma,Fn=gn.ba.S,Wn=11>Fn,Zn=Fn==Ii||Fn==Su||Fn==ul||Fn==Ps||Fn==12||fr(Fn);if(gn.memory=null,gn.Ib=null,gn.Jb=null,gn.Nd=null,!ns(gn.Oa,rn,Zn?11:12))return 0;if(Zn&&fr(Fn)&&Du(),rn.da)alert("todo:use_scaling");else{if(Wn){if(gn.Ib=Tr,rn.Kb){if(Fn=rn.U+1>>1,gn.memory=Me(rn.U+2*Fn),gn.memory==null)return 0;gn.ec=gn.memory,gn.fc=0,gn.cc=gn.ec,gn.dc=gn.fc+rn.U,gn.Mc=gn.cc,gn.Nc=gn.dc+Fn,gn.Ib=Xr,Du()}}else alert("todo:EmitYUV");Zn&&(gn.Jb=ca,Wn&&Zl())}if(Wn&&!iu){for(rn=0;256>rn;++rn)Kc[rn]=89858*(rn-128)+Ji>>Xo,Xn[rn]=-22014*(rn-128)+Ji,Tn[rn]=-45773*(rn-128),nn[rn]=113618*(rn-128)+Ji>>Xo;for(rn=Dl;rn<au;++rn)gn=76283*(rn-16)+Ji>>Xo,or[rn-Dl]=Gi(gn,255),pr[rn-Dl]=Gi(gn+8>>4,15);iu=1}return 1}function oa(rn){var gn=rn.ma,Fn=rn.U,Wn=rn.T;return Ee(!(1&rn.ka)),0>=Fn||0>=Wn?0:(Fn=gn.Ib(rn,gn),gn.Jb!=null&&gn.Jb(rn,gn,Fn),gn.Dc+=Fn,1)}function ma(rn){rn.ma.memory=null}function da(rn,gn,Fn,Wn){return Gn(rn,8)!=47?0:(gn[0]=Gn(rn,14)+1,Fn[0]=Gn(rn,14)+1,Wn[0]=Gn(rn,1),Gn(rn,3)!=0?0:!rn.h)}function fa(rn,gn){if(4>rn)return rn+1;var Fn=rn-2>>1;return(2+(1&rn)<<Fn)+Gn(gn,Fn)+1}function Ca(rn,gn){return 120<gn?gn-120:1<=(Fn=((Fn=zo[gn-1])>>4)*rn+(8-(15&Fn)))?Fn:1;var Fn}function Na(rn,gn,Fn){var Wn=Nn(Fn),Zn=rn[gn+=255&Wn].g-8;return 0<Zn&&(Sn(Fn,Fn.u+8),Wn=Nn(Fn),gn+=rn[gn].value,gn+=Wn&(1<<Zn)-1),Sn(Fn,Fn.u+rn[gn].g),rn[gn].value}function Ta(rn,gn,Fn){return Fn.g+=rn.g,Fn.value+=rn.value<<gn>>>0,Ee(8>=Fn.g),rn.g}function Ia(rn,gn,Fn){var Wn=rn.xc;return Ee((gn=Wn==0?0:rn.vc[rn.md*(Fn>>Wn)+(gn>>Wn)])<rn.Wb),rn.Ya[gn]}function hi(rn,gn,Fn,Wn){var Zn=rn.ab,tr=rn.c*gn,nr=rn.C;gn=nr+gn;var rr=Fn,sr=Wn;for(Wn=rn.Ta,Fn=rn.Ua;0<Zn--;){var lr=rn.gc[Zn],_r=nr,Cr=gn,ir=rr,vr=sr,Ar=(sr=Wn,rr=Fn,lr.Ea);switch(Ee(_r<Cr),Ee(Cr<=lr.nc),lr.hc){case 2:ll(ir,vr,(Cr-_r)*Ar,sr,rr);break;case 0:var qr=_r,kr=Cr,zr=sr,Hr=rr,ra=(ya=lr).Ea;qr==0&&(Uo(ir,vr,null,null,1,zr,Hr),jr(ir,vr+1,0,0,ra-1,zr,Hr+1),vr+=ra,Hr+=ra,++qr);for(var Zr=1<<ya.b,Aa=Zr-1,pa=Cn(ra,ya.b),Fa=ya.K,ya=ya.w+(qr>>ya.b)*pa;qr<kr;){var Xa=Fa,os=ya,Da=1;for(Bo(ir,vr,zr,Hr-ra,1,zr,Hr);Da<ra;){var va=(Da&~Aa)+Zr;va>ra&&(va=ra),(0,Rl[Xa[os++]>>8&15])(ir,vr+ +Da,zr,Hr+Da-ra,va-Da,zr,Hr+Da),Da=va}vr+=ra,Hr+=ra,++qr&Aa||(ya+=pa)}Cr!=lr.nc&&Be(sr,rr-Ar,sr,rr+(Cr-_r-1)*Ar,Ar);break;case 1:for(Ar=ir,kr=vr,ra=(ir=lr.Ea)-(Hr=ir&~(zr=(vr=1<<lr.b)-1)),qr=Cn(ir,lr.b),Zr=lr.K,lr=lr.w+(_r>>lr.b)*qr;_r<Cr;){for(Aa=Zr,pa=lr,Fa=new er,ya=kr+Hr,Xa=kr+ir;kr<ya;)$r(Aa[pa++],Fa),yo(Fa,Ar,kr,vr,sr,rr),kr+=vr,rr+=vr;kr<Xa&&($r(Aa[pa++],Fa),yo(Fa,Ar,kr,ra,sr,rr),kr+=ra,rr+=ra),++_r&zr||(lr+=qr)}break;case 3:if(ir==sr&&vr==rr&&0<lr.b){for(kr=sr,ir=Ar=rr+(Cr-_r)*Ar-(Hr=(Cr-_r)*Cn(lr.Ea,lr.b)),vr=sr,zr=rr,qr=[],Hr=(ra=Hr)-1;0<=Hr;--Hr)qr[Hr]=vr[zr+Hr];for(Hr=ra-1;0<=Hr;--Hr)kr[ir+Hr]=qr[Hr];Ql(lr,_r,Cr,sr,Ar,sr,rr)}else Ql(lr,_r,Cr,ir,vr,sr,rr)}rr=Wn,sr=Fn}sr!=Fn&&Be(Wn,Fn,rr,sr,tr)}function Ha(rn,gn){var Fn=rn.V,Wn=rn.Ba+rn.c*rn.C,Zn=gn-rn.C;if(Ee(gn<=rn.l.o),Ee(16>=Zn),0<Zn){var tr=rn.l,nr=rn.Ta,rr=rn.Ua,sr=tr.width;if(hi(rn,Zn,Fn,Wn),Zn=rr=[rr],Ee((Fn=rn.C)<(Wn=gn)),Ee(tr.v<tr.va),Wn>tr.o&&(Wn=tr.o),Fn<tr.j){var lr=tr.j-Fn;Fn=tr.j,Zn[0]+=lr*sr}if(Fn>=Wn?Fn=0:(Zn[0]+=4*tr.v,tr.ka=Fn-tr.j,tr.U=tr.va-tr.v,tr.T=Wn-Fn,Fn=1),Fn){if(rr=rr[0],11>(Fn=rn.ca).S){var _r=Fn.f.RGBA,Cr=(Wn=Fn.S,Zn=tr.U,tr=tr.T,lr=_r.eb,_r.A),ir=tr;for(_r=_r.fb+rn.Ma*_r.A;0<ir--;){var vr=nr,Ar=rr,qr=Zn,kr=lr,zr=_r;switch(Wn){case Ss:bu(vr,Ar,qr,kr,zr);break;case Ii:fs(vr,Ar,qr,kr,zr);break;case Vs:fs(vr,Ar,qr,kr,zr),_u(kr,zr,0,qr,1,0);break;case Us:ci(vr,Ar,qr,kr,zr);break;case Su:na(vr,Ar,qr,kr,zr,1);break;case wo:na(vr,Ar,qr,kr,zr,1),_u(kr,zr,0,qr,1,0);break;case ul:na(vr,Ar,qr,kr,zr,0);break;case $o:na(vr,Ar,qr,kr,zr,0),_u(kr,zr,1,qr,1,0);break;case Ps:qo(vr,Ar,qr,kr,zr);break;case xo:qo(vr,Ar,qr,kr,zr),Zs(kr,zr,qr,1,0);break;case Vo:ti(vr,Ar,qr,kr,zr);break;default:Ee(0)}rr+=sr,_r+=Cr}rn.Ma+=tr}else alert("todo:EmitRescaledRowsYUVA");Ee(rn.Ma<=Fn.height)}}rn.C=gn,Ee(rn.C<=rn.i)}function ri(rn){var gn;if(0<rn.ua)return 0;for(gn=0;gn<rn.Wb;++gn){var Fn=rn.Ya[gn].G,Wn=rn.Ya[gn].H;if(0<Fn[1][Wn[1]+0].g||0<Fn[2][Wn[2]+0].g||0<Fn[3][Wn[3]+0].g)return 0}return 1}function ja(rn,gn,Fn,Wn,Zn,tr){if(rn.Z!=0){var nr=rn.qd,rr=rn.rd;for(Ee(Go[rn.Z]!=null);gn<Fn;++gn)Go[rn.Z](nr,rr,Wn,Zn,Wn,Zn,tr),nr=Wn,rr=Zn,Zn+=tr;rn.qd=nr,rn.rd=rr}}function pi(rn,gn){var Fn=rn.l.ma,Wn=Fn.Z==0||Fn.Z==1?rn.l.j:rn.C;if(Wn=rn.C<Wn?Wn:rn.C,Ee(gn<=rn.l.o),gn>Wn){var Zn=rn.l.width,tr=Fn.ca,nr=Fn.tb+Zn*Wn,rr=rn.V,sr=rn.Ba+rn.c*Wn,lr=rn.gc;Ee(rn.ab==1),Ee(lr[0].hc==3),Ro(lr[0],Wn,gn,rr,sr,tr,nr),ja(Fn,Wn,gn,tr,nr,Zn)}rn.C=rn.Ma=gn}function Ri(rn,gn,Fn,Wn,Zn,tr,nr){var rr=rn.$/Wn,sr=rn.$%Wn,lr=rn.m,_r=rn.s,Cr=Fn+rn.$,ir=Cr;Zn=Fn+Wn*Zn;var vr=Fn+Wn*tr,Ar=280+_r.ua,qr=rn.Pb?rr:16777216,kr=0<_r.ua?_r.Wa:null,zr=_r.wc,Hr=Cr<vr?Ia(_r,sr,rr):null;Ee(rn.C<tr),Ee(vr<=Zn);var ra=!1;e:for(;;){for(;ra||Cr<vr;){var Zr=0;if(rr>=qr){var Aa=Cr-Fn;Ee((qr=rn).Pb),qr.wd=qr.m,qr.xd=Aa,0<qr.s.ua&&In(qr.s.Wa,qr.s.vb),qr=rr+Mc}if(sr&zr||(Hr=Ia(_r,sr,rr)),Ee(Hr!=null),Hr.Qb&&(gn[Cr]=Hr.qb,ra=!0),!ra)if(pn(lr),Hr.jc){Zr=lr,Aa=gn;var pa=Cr,Fa=Hr.pd[Nn(Zr)&as-1];Ee(Hr.jc),256>Fa.g?(Sn(Zr,Zr.u+Fa.g),Aa[pa]=Fa.value,Zr=0):(Sn(Zr,Zr.u+Fa.g-256),Ee(256<=Fa.value),Zr=Fa.value),Zr==0&&(ra=!0)}else Zr=Na(Hr.G[0],Hr.H[0],lr);if(lr.h)break;if(ra||256>Zr){if(!ra)if(Hr.nd)gn[Cr]=(Hr.qb|Zr<<8)>>>0;else{if(pn(lr),ra=Na(Hr.G[1],Hr.H[1],lr),pn(lr),Aa=Na(Hr.G[2],Hr.H[2],lr),pa=Na(Hr.G[3],Hr.H[3],lr),lr.h)break;gn[Cr]=(pa<<24|ra<<16|Zr<<8|Aa)>>>0}if(ra=!1,++Cr,++sr>=Wn&&(sr=0,++rr,nr!=null&&rr<=tr&&!(rr%16)&&nr(rn,rr),kr!=null))for(;ir<Cr;)Zr=gn[ir++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr}else if(280>Zr){if(Zr=fa(Zr-256,lr),Aa=Na(Hr.G[4],Hr.H[4],lr),pn(lr),Aa=Ca(Wn,Aa=fa(Aa,lr)),lr.h)break;if(Cr-Fn<Aa||Zn-Cr<Zr)break e;for(pa=0;pa<Zr;++pa)gn[Cr+pa]=gn[Cr+pa-Aa];for(Cr+=Zr,sr+=Zr;sr>=Wn;)sr-=Wn,++rr,nr!=null&&rr<=tr&&!(rr%16)&&nr(rn,rr);if(Ee(Cr<=Zn),sr&zr&&(Hr=Ia(_r,sr,rr)),kr!=null)for(;ir<Cr;)Zr=gn[ir++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr}else{if(!(Zr<Ar))break e;for(ra=Zr-280,Ee(kr!=null);ir<Cr;)Zr=gn[ir++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr;Zr=Cr,Ee(!(ra>>>(Aa=kr).Xa)),gn[Zr]=Aa.X[ra],ra=!0}ra||Ee(lr.h==En(lr))}if(rn.Pb&&lr.h&&Cr<Zn)Ee(rn.m.h),rn.a=5,rn.m=rn.wd,rn.$=rn.xd,0<rn.s.ua&&In(rn.s.vb,rn.s.Wa);else{if(lr.h)break e;nr!=null&&nr(rn,rr>tr?tr:rr),rn.a=0,rn.$=Cr-Fn}return 1}return rn.a=3,0}function li(rn){Ee(rn!=null),rn.vc=null,rn.yc=null,rn.Ya=null;var gn=rn.Wa;gn!=null&&(gn.X=null),rn.vb=null,Ee(rn!=null)}function ii(){var rn=new Ei;return rn==null?null:(rn.a=0,rn.xb=hl,Pr("Predictor","VP8LPredictors"),Pr("Predictor","VP8LPredictors_C"),Pr("PredictorAdd","VP8LPredictorsAdd"),Pr("PredictorAdd","VP8LPredictorsAdd_C"),ll=Gr,yo=Dr,bu=Ur,fs=Qr,qo=ia,ti=Er,ci=Kr,sn.VP8LMapColor32b=Wi,sn.VP8LMapColor8b=Bl,rn)}function ys(rn,gn,Fn,Wn,Zn){var tr=1,nr=[rn],rr=[gn],sr=Wn.m,lr=Wn.s,_r=null,Cr=0;e:for(;;){if(Fn)for(;tr&&Gn(sr,1);){var ir=nr,vr=rr,Ar=Wn,qr=1,kr=Ar.m,zr=Ar.gc[Ar.ab],Hr=Gn(kr,2);if(Ar.Oc&1<<Hr)tr=0;else{switch(Ar.Oc|=1<<Hr,zr.hc=Hr,zr.Ea=ir[0],zr.nc=vr[0],zr.K=[null],++Ar.ab,Ee(4>=Ar.ab),Hr){case 0:case 1:zr.b=Gn(kr,3)+2,qr=ys(Cn(zr.Ea,zr.b),Cn(zr.nc,zr.b),0,Ar,zr.K),zr.K=zr.K[0];break;case 3:var ra,Zr=Gn(kr,8)+1,Aa=16<Zr?0:4<Zr?1:2<Zr?2:3;if(ir[0]=Cn(zr.Ea,Aa),zr.b=Aa,ra=qr=ys(Zr,1,0,Ar,zr.K)){var pa,Fa=Zr,ya=zr,Xa=1<<(8>>ya.b),os=Me(Xa);if(os==null)ra=0;else{var Da=ya.K[0],va=ya.w;for(os[0]=ya.K[0][0],pa=1;pa<1*Fa;++pa)os[pa]=Yn(Da[va+pa],os[pa-1]);for(;pa<4*Xa;++pa)os[pa]=0;ya.K[0]=null,ya.K[0]=os,ra=1}}qr=ra;break;case 2:break;default:Ee(0)}tr=qr}}if(nr=nr[0],rr=rr[0],tr&&Gn(sr,1)&&!(tr=1<=(Cr=Gn(sr,4))&&11>=Cr)){Wn.a=3;break e}var ha;if(ha=tr)t:{var Di,Oa,za,wa=Wn,$a=nr,Za=rr,Ci=Cr,Zi=Fn,Qi=wa.m,Fi=wa.s,Wa=[null],Qa=1,Oi=0,Ra=Ho[Ci];n:for(;;){if(Zi&&Gn(Qi,1)){var ds=Gn(Qi,3)+2,Mo=Cn($a,ds),Ui=Cn(Za,ds),no=Mo*Ui;if(!ys(Mo,Ui,0,wa,Wa))break n;for(Wa=Wa[0],Fi.xc=ds,Di=0;Di<no;++Di){var yi=Wa[Di]>>8&65535;Wa[Di]=yi,yi>=Qa&&(Qa=yi+1)}}if(Qi.h)break n;for(Oa=0;5>Oa;++Oa){var es=As[Oa];!Oa&&0<Ci&&(es+=1<<Ci),Oi<es&&(Oi=es)}var ro=Ue(Qa*Ra,Mn),ks=Qa,Si=Ue(ks,zn);if(Si==null)var si=null;else Ee(65536>=ks),si=Si;var qs=Me(Oi);if(si==null||qs==null||ro==null){wa.a=1;break n}var Ms=ro;for(Di=za=0;Di<Qa;++Di){var di=si[Di],ao=di.G,ps=di.H,Ll=0,pl=1,ms=0;for(Oa=0;5>Oa;++Oa){es=As[Oa],ao[Oa]=Ms,ps[Oa]=za,!Oa&&0<Ci&&(es+=1<<Ci);a:{var Lc,Jc=es,Fc=wa,fc=qs,Zf=Ms,Qf=za,Oc=0,su=Fc.m,jh=Gn(su,1);if(Re(fc,0,0,Jc),jh){var eh=Gn(su,1)+1,th=Gn(su,1),vf=Gn(su,th==0?1:8);fc[vf]=1,eh==2&&(fc[vf=Gn(su,8)]=1);var hc=1}else{var bf=Me(19),wf=Gn(su,4)+4;if(19<wf){Fc.a=3;var Uc=0;break a}for(Lc=0;Lc<wf;++Lc)bf[jo[Lc]]=Gn(su,3);var Zc=void 0,dc=void 0,nh=Fc,rh=bf,ou=Jc,qc=fc,Qc=0,ml=nh.m,pc=8,xf=Ue(128,Mn);r:for(;_n(xf,0,7,rh,19);){if(Gn(ml,1)){var ah=2+2*Gn(ml,3);if((Zc=2+Gn(ml,ah))>ou)break r}else Zc=ou;for(dc=0;dc<ou&&Zc--;){pn(ml);var _f=xf[0+(127&Nn(ml))];Sn(ml,ml.u+_f.g);var Hu=_f.value;if(16>Hu)qc[dc++]=Hu,Hu!=0&&(pc=Hu);else{var ih=Hu==16,Sf=Hu-16,Pf=eo[Sf],Af=Gn(ml,$u[Sf])+Pf;if(dc+Af>ou)break r;for(var sh=ih?pc:0;0<Af--;)qc[dc++]=sh}}Qc=1;break r}Qc||(nh.a=3),hc=Qc}(hc=hc&&!su.h)&&(Oc=_n(Zf,Qf,8,fc,Jc)),hc&&Oc!=0?Uc=Oc:(Fc.a=3,Uc=0)}if(Uc==0)break n;if(pl&&Ml[Oa]==1&&(pl=Ms[za].g==0),Ll+=Ms[za].g,za+=Uc,3>=Oa){var Gu,ef=qs[0];for(Gu=1;Gu<es;++Gu)qs[Gu]>ef&&(ef=qs[Gu]);ms+=ef}}if(di.nd=pl,di.Qb=0,pl&&(di.qb=(ao[3][ps[3]+0].value<<24|ao[1][ps[1]+0].value<<16|ao[2][ps[2]+0].value)>>>0,Ll==0&&256>ao[0][ps[0]+0].value&&(di.Qb=1,di.qb+=ao[0][ps[0]+0].value<<8)),di.jc=!di.Qb&&6>ms,di.jc){var $c,lu=di;for($c=0;$c<as;++$c){var Fl=$c,uu=lu.pd[Fl],jc=lu.G[0][lu.H[0]+Fl];256<=jc.value?(uu.g=jc.g+256,uu.value=jc.value):(uu.g=0,uu.value=0,Fl>>=Ta(jc,8,uu),Fl>>=Ta(lu.G[1][lu.H[1]+Fl],16,uu),Fl>>=Ta(lu.G[2][lu.H[2]+Fl],0,uu),Ta(lu.G[3][lu.H[3]+Fl],24,uu))}}}Fi.vc=Wa,Fi.Wb=Qa,Fi.Ya=si,Fi.yc=ro,ha=1;break t}ha=0}if(!(tr=ha)){Wn.a=3;break e}if(0<Cr){if(lr.ua=1<<Cr,!qn(lr.Wa,Cr)){Wn.a=1,tr=0;break e}}else lr.ua=0;var zc=Wn,Ef=nr,oh=rr,Tf=zc.s,Cf=Tf.xc;if(zc.c=Ef,zc.i=oh,Tf.md=Cn(Ef,Cf),Tf.wc=Cf==0?-1:(1<<Cf)-1,Fn){Wn.xb=cl;break e}if((_r=Me(nr*rr))==null){Wn.a=1,tr=0;break e}tr=(tr=Ri(Wn,_r,0,nr,rr,rr,null))&&!sr.h;break e}return tr?(Zn!=null?Zn[0]=_r:(Ee(_r==null),Ee(Fn)),Wn.$=0,Fn||li(lr)):li(lr),tr}function Is(rn,gn){var Fn=rn.c*rn.i,Wn=Fn+gn+16*gn;return Ee(rn.c<=gn),rn.V=Me(Wn),rn.V==null?(rn.Ta=null,rn.Ua=0,rn.a=1,0):(rn.Ta=rn.V,rn.Ua=rn.Ba+Fn+gn,1)}function xi(rn,gn){var Fn=rn.C,Wn=gn-Fn,Zn=rn.V,tr=rn.Ba+rn.c*Fn;for(Ee(gn<=rn.l.o);0<Wn;){var nr=16<Wn?16:Wn,rr=rn.l.ma,sr=rn.l.width,lr=sr*nr,_r=rr.ca,Cr=rr.tb+sr*Fn,ir=rn.Ta,vr=rn.Ua;hi(rn,nr,Zn,tr),tu(ir,vr,_r,Cr,lr),ja(rr,Fn,Fn+nr,_r,Cr,sr),Wn-=nr,Zn+=nr*rn.c,Fn+=nr}Ee(Fn==gn),rn.C=rn.Ma=gn}function $i(){this.ub=this.yd=this.td=this.Rb=0}function lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function hu(){this.Fb=this.Bb=this.Cb=0,this.Zb=Me(4),this.Lb=Me(4)}function uo(){this.Yb=(function(){var rn=[];return(function gn(Fn,Wn,Zn){for(var tr=Zn[Wn],nr=0;nr<tr&&(Fn.push(Zn.length>Wn+1?[]:0),!(Zn.length<Wn+1));nr++)gn(Fn[nr],Wn+1,Zn)})(rn,0,[3,11]),rn})()}function Ru(){this.jb=Me(3),this.Wc=De([4,8],uo),this.Xc=De([4,17],uo)}function Jo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Me(4),this.od=new Me(4)}function vs(){this.ld=this.La=this.dd=this.tc=0}function bs(){this.Na=this.la=0}function $l(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jl(){this.ad=Me(384),this.Za=0,this.Ob=Me(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function No(){this.uc=this.M=this.Nb=0,this.wa=Array(new vs),this.Y=0,this.ya=Array(new jl),this.aa=0,this.l=new xl}function zl(){this.y=Me(16),this.f=Me(8),this.ea=Me(8)}function Hl(){this.cb=this.a=0,this.sc="",this.m=new An,this.Od=new $i,this.Kc=new lo,this.ed=new Jo,this.Qa=new hu,this.Ic=this.$c=this.Aa=0,this.D=new No,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ue(8,An),this.ia=0,this.pb=Ue(4,$l),this.Pa=new Ru,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zl),this.Hd=0,this.rb=Array(new bs),this.sb=0,this.wa=Array(new vs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jl),this.L=this.aa=0,this.gd=De([4,2],vs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function du(){var rn=new Hl;return rn!=null&&(rn.a=0,rn.sc="OK",rn.cb=0,rn.Xb=0,Ki||(Ki=co)),rn}function ei(rn,gn,Fn){return rn.a==0&&(rn.a=gn,rn.sc=Fn,rn.cb=0),0}function Vu(rn,gn,Fn){return 3<=Fn&&rn[gn+0]==157&&rn[gn+1]==1&&rn[gn+2]==42}function ec(rn,gn){if(rn==null)return 0;if(rn.a=0,rn.sc="OK",gn==null)return ei(rn,2,"null VP8Io passed to VP8GetHeaders()");var Fn=gn.data,Wn=gn.w,Zn=gn.ha;if(4>Zn)return ei(rn,7,"Truncated header.");var tr=Fn[Wn+0]|Fn[Wn+1]<<8|Fn[Wn+2]<<16,nr=rn.Od;if(nr.Rb=!(1&tr),nr.td=tr>>1&7,nr.yd=tr>>4&1,nr.ub=tr>>5,3<nr.td)return ei(rn,3,"Incorrect keyframe parameters.");if(!nr.yd)return ei(rn,4,"Frame not displayable.");Wn+=3,Zn-=3;var rr=rn.Kc;if(nr.Rb){if(7>Zn)return ei(rn,7,"cannot parse picture header");if(!Vu(Fn,Wn,Zn))return ei(rn,3,"Bad code word");rr.c=16383&(Fn[Wn+4]<<8|Fn[Wn+3]),rr.Td=Fn[Wn+4]>>6,rr.i=16383&(Fn[Wn+6]<<8|Fn[Wn+5]),rr.Ud=Fn[Wn+6]>>6,Wn+=7,Zn-=7,rn.za=rr.c+15>>4,rn.Ub=rr.i+15>>4,gn.width=rr.c,gn.height=rr.i,gn.Da=0,gn.j=0,gn.v=0,gn.va=gn.width,gn.o=gn.height,gn.da=0,gn.ib=gn.width,gn.hb=gn.height,gn.U=gn.width,gn.T=gn.height,Re((tr=rn.Pa).jb,0,255,tr.jb.length),Ee((tr=rn.Qa)!=null),tr.Cb=0,tr.Bb=0,tr.Fb=1,Re(tr.Zb,0,0,tr.Zb.length),Re(tr.Lb,0,0,tr.Lb)}if(nr.ub>Zn)return ei(rn,7,"bad partition length");Ln(tr=rn.m,Fn,Wn,nr.ub),Wn+=nr.ub,Zn-=nr.ub,nr.Rb&&(rr.Ld=un(tr),rr.Kd=un(tr)),rr=rn.Qa;var sr,lr=rn.Pa;if(Ee(tr!=null),Ee(rr!=null),rr.Cb=un(tr),rr.Cb){if(rr.Bb=un(tr),un(tr)){for(rr.Fb=un(tr),sr=0;4>sr;++sr)rr.Zb[sr]=un(tr)?On(tr,7):0;for(sr=0;4>sr;++sr)rr.Lb[sr]=un(tr)?On(tr,6):0}if(rr.Bb)for(sr=0;3>sr;++sr)lr.jb[sr]=un(tr)?Vn(tr,8):255}else rr.Bb=0;if(tr.Ka)return ei(rn,3,"cannot parse segment header");if((rr=rn.ed).zd=un(tr),rr.Tb=Vn(tr,6),rr.wb=Vn(tr,3),rr.Pc=un(tr),rr.Pc&&un(tr)){for(lr=0;4>lr;++lr)un(tr)&&(rr.vd[lr]=On(tr,6));for(lr=0;4>lr;++lr)un(tr)&&(rr.od[lr]=On(tr,6))}if(rn.L=rr.Tb==0?0:rr.zd?1:2,tr.Ka)return ei(rn,3,"cannot parse filter header");var _r=Zn;if(Zn=sr=Wn,Wn=sr+_r,rr=_r,rn.Xb=(1<<Vn(rn.m,2))-1,_r<3*(lr=rn.Xb))Fn=7;else{for(sr+=3*lr,rr-=3*lr,_r=0;_r<lr;++_r){var Cr=Fn[Zn+0]|Fn[Zn+1]<<8|Fn[Zn+2]<<16;Cr>rr&&(Cr=rr),Ln(rn.Jc[+_r],Fn,sr,Cr),sr+=Cr,rr-=Cr,Zn+=3}Ln(rn.Jc[+lr],Fn,sr,rr),Fn=sr<Wn?0:5}if(Fn!=0)return ei(rn,Fn,"cannot parse partitions");for(Fn=Vn(sr=rn.m,7),Zn=un(sr)?On(sr,4):0,Wn=un(sr)?On(sr,4):0,rr=un(sr)?On(sr,4):0,lr=un(sr)?On(sr,4):0,sr=un(sr)?On(sr,4):0,_r=rn.Qa,Cr=0;4>Cr;++Cr){if(_r.Cb){var ir=_r.Zb[Cr];_r.Fb||(ir+=Fn)}else{if(0<Cr){rn.pb[Cr]=rn.pb[0];continue}ir=Fn}var vr=rn.pb[Cr];vr.Sc[0]=Pu[Gi(ir+Zn,127)],vr.Sc[1]=ju[Gi(ir+0,127)],vr.Eb[0]=2*Pu[Gi(ir+Wn,127)],vr.Eb[1]=101581*ju[Gi(ir+rr,127)]>>16,8>vr.Eb[1]&&(vr.Eb[1]=8),vr.Qc[0]=Pu[Gi(ir+lr,117)],vr.Qc[1]=ju[Gi(ir+sr,127)],vr.lc=ir+sr}if(!nr.Rb)return ei(rn,4,"Not a key frame.");for(un(tr),nr=rn.Pa,Fn=0;4>Fn;++Fn){for(Zn=0;8>Zn;++Zn)for(Wn=0;3>Wn;++Wn)for(rr=0;11>rr;++rr)lr=wn(tr,Il[Fn][Zn][Wn][rr])?Vn(tr,8):to[Fn][Zn][Wn][rr],nr.Wc[Fn][Zn].Yb[Wn][rr]=lr;for(Zn=0;17>Zn;++Zn)nr.Xc[Fn][Zn]=nr.Wc[Fn][Ic[Zn]]}return rn.kc=un(tr),rn.kc&&(rn.Bd=Vn(tr,8)),rn.cb=1}function co(rn,gn,Fn,Wn,Zn,tr,nr){var rr=gn[Zn].Yb[Fn];for(Fn=0;16>Zn;++Zn){if(!wn(rn,rr[Fn+0]))return Zn;for(;!wn(rn,rr[Fn+1]);)if(rr=gn[++Zn].Yb[0],Fn=0,Zn==16)return 16;var sr=gn[Zn+1].Yb;if(wn(rn,rr[Fn+2])){var lr=rn,_r=0;if(wn(lr,(ir=rr)[(Cr=Fn)+3]))if(wn(lr,ir[Cr+6])){for(rr=0,Cr=2*(_r=wn(lr,ir[Cr+8]))+(ir=wn(lr,ir[Cr+9+_r])),_r=0,ir=Mi[Cr];ir[rr];++rr)_r+=_r+wn(lr,ir[rr]);_r+=3+(8<<Cr)}else wn(lr,ir[Cr+7])?(_r=7+2*wn(lr,165),_r+=wn(lr,145)):_r=5+wn(lr,159);else _r=wn(lr,ir[Cr+4])?3+wn(lr,ir[Cr+5]):2;rr=sr[2]}else _r=1,rr=sr[1];sr=nr+ni[Zn],0>(lr=rn).b&&mn(lr);var Cr,ir=lr.b,vr=(Cr=lr.Ca>>1)-(lr.I>>ir)>>31;--lr.b,lr.Ca+=vr,lr.Ca|=1,lr.I-=(Cr+1&vr)<<ir,tr[sr]=((_r^vr)-vr)*Wn[(0<Zn)+0]}return 16}function Zo(rn){var gn=rn.rb[rn.sb-1];gn.la=0,gn.Na=0,Re(rn.zc,0,0,rn.zc.length),rn.ja=0}function ji(rn,gn,Fn,Wn,Zn){Zn=rn[gn+Fn+32*Wn]+(Zn>>3),rn[gn+Fn+32*Wn]=-256&Zn?0>Zn?0:255:Zn}function Gl(rn,gn,Fn,Wn,Zn,tr){ji(rn,gn,0,Fn,Wn+Zn),ji(rn,gn,1,Fn,Wn+tr),ji(rn,gn,2,Fn,Wn-tr),ji(rn,gn,3,Fn,Wn-Zn)}function Ga(rn){return(20091*rn>>16)+rn}function So(rn,gn,Fn,Wn){var Zn,tr=0,nr=Me(16);for(Zn=0;4>Zn;++Zn){var rr=rn[gn+0]+rn[gn+8],sr=rn[gn+0]-rn[gn+8],lr=(35468*rn[gn+4]>>16)-Ga(rn[gn+12]),_r=Ga(rn[gn+4])+(35468*rn[gn+12]>>16);nr[tr+0]=rr+_r,nr[tr+1]=sr+lr,nr[tr+2]=sr-lr,nr[tr+3]=rr-_r,tr+=4,gn++}for(Zn=tr=0;4>Zn;++Zn)rr=(rn=nr[tr+0]+4)+nr[tr+8],sr=rn-nr[tr+8],lr=(35468*nr[tr+4]>>16)-Ga(nr[tr+12]),ji(Fn,Wn,0,0,rr+(_r=Ga(nr[tr+4])+(35468*nr[tr+12]>>16))),ji(Fn,Wn,1,0,sr+lr),ji(Fn,Wn,2,0,sr-lr),ji(Fn,Wn,3,0,rr-_r),tr++,Wn+=32}function Wl(rn,gn,Fn,Wn){var Zn=rn[gn+0]+4,tr=35468*rn[gn+4]>>16,nr=Ga(rn[gn+4]),rr=35468*rn[gn+1]>>16;Gl(Fn,Wn,0,Zn+nr,rn=Ga(rn[gn+1]),rr),Gl(Fn,Wn,1,Zn+tr,rn,rr),Gl(Fn,Wn,2,Zn-tr,rn,rr),Gl(Fn,Wn,3,Zn-nr,rn,rr)}function ws(rn,gn,Fn,Wn,Zn){So(rn,gn,Fn,Wn),Zn&&So(rn,gn+16,Fn,Wn+4)}function Qo(rn,gn,Fn,Wn){_i(rn,gn+0,Fn,Wn,1),_i(rn,gn+32,Fn,Wn+128,1)}function Hs(rn,gn,Fn,Wn){var Zn;for(rn=rn[gn+0]+4,Zn=0;4>Zn;++Zn)for(gn=0;4>gn;++gn)ji(Fn,Wn,gn,Zn,rn)}function pu(rn,gn,Fn,Wn){rn[gn+0]&&Xi(rn,gn+0,Fn,Wn),rn[gn+16]&&Xi(rn,gn+16,Fn,Wn+4),rn[gn+32]&&Xi(rn,gn+32,Fn,Wn+128),rn[gn+48]&&Xi(rn,gn+48,Fn,Wn+128+4)}function fo(rn,gn,Fn,Wn){var Zn,tr=Me(16);for(Zn=0;4>Zn;++Zn){var nr=rn[gn+0+Zn]+rn[gn+12+Zn],rr=rn[gn+4+Zn]+rn[gn+8+Zn],sr=rn[gn+4+Zn]-rn[gn+8+Zn],lr=rn[gn+0+Zn]-rn[gn+12+Zn];tr[0+Zn]=nr+rr,tr[8+Zn]=nr-rr,tr[4+Zn]=lr+sr,tr[12+Zn]=lr-sr}for(Zn=0;4>Zn;++Zn)nr=(rn=tr[0+4*Zn]+3)+tr[3+4*Zn],rr=tr[1+4*Zn]+tr[2+4*Zn],sr=tr[1+4*Zn]-tr[2+4*Zn],lr=rn-tr[3+4*Zn],Fn[Wn+0]=nr+rr>>3,Fn[Wn+16]=lr+sr>>3,Fn[Wn+32]=nr-rr>>3,Fn[Wn+48]=lr-sr>>3,Wn+=64}function Po(rn,gn,Fn){var Wn,Zn=gn-32,tr=Yi,nr=255-rn[Zn-1];for(Wn=0;Wn<Fn;++Wn){var rr,sr=tr,lr=nr+rn[gn-1];for(rr=0;rr<Fn;++rr)rn[gn+rr]=sr[lr+rn[Zn+rr]];gn+=32}}function Xl(rn,gn){Po(rn,gn,4)}function tc(rn,gn){Po(rn,gn,8)}function ku(rn,gn){Po(rn,gn,16)}function Mu(rn,gn){var Fn;for(Fn=0;16>Fn;++Fn)Be(rn,gn+32*Fn,rn,gn-32,16)}function el(rn,gn){var Fn;for(Fn=16;0<Fn;--Fn)Re(rn,gn,rn[gn-1],16),gn+=32}function Io(rn,gn,Fn){var Wn;for(Wn=0;16>Wn;++Wn)Re(gn,Fn+32*Wn,rn,16)}function Do(rn,gn){var Fn,Wn=16;for(Fn=0;16>Fn;++Fn)Wn+=rn[gn-1+32*Fn]+rn[gn+Fn-32];Io(Wn>>5,rn,gn)}function Nu(rn,gn){var Fn,Wn=8;for(Fn=0;16>Fn;++Fn)Wn+=rn[gn-1+32*Fn];Io(Wn>>4,rn,gn)}function Gs(rn,gn){var Fn,Wn=8;for(Fn=0;16>Fn;++Fn)Wn+=rn[gn+Fn-32];Io(Wn>>4,rn,gn)}function Ao(rn,gn){Io(128,rn,gn)}function ka(rn,gn,Fn){return rn+2*gn+Fn+2>>2}function mu(rn,gn){var Fn,Wn=gn-32;for(Wn=new Uint8Array([ka(rn[Wn-1],rn[Wn+0],rn[Wn+1]),ka(rn[Wn+0],rn[Wn+1],rn[Wn+2]),ka(rn[Wn+1],rn[Wn+2],rn[Wn+3]),ka(rn[Wn+2],rn[Wn+3],rn[Wn+4])]),Fn=0;4>Fn;++Fn)Be(rn,gn+32*Fn,Wn,0,Wn.length)}function gu(rn,gn){var Fn=rn[gn-1],Wn=rn[gn-1+32],Zn=rn[gn-1+64],tr=rn[gn-1+96];xn(rn,gn+0,16843009*ka(rn[gn-1-32],Fn,Wn)),xn(rn,gn+32,16843009*ka(Fn,Wn,Zn)),xn(rn,gn+64,16843009*ka(Wn,Zn,tr)),xn(rn,gn+96,16843009*ka(Zn,tr,tr))}function Ds(rn,gn){var Fn,Wn=4;for(Fn=0;4>Fn;++Fn)Wn+=rn[gn+Fn-32]+rn[gn-1+32*Fn];for(Wn>>=3,Fn=0;4>Fn;++Fn)Re(rn,gn+32*Fn,Wn,4)}function us(rn,gn){var Fn=rn[gn-1+0],Wn=rn[gn-1+32],Zn=rn[gn-1+64],tr=rn[gn-1-32],nr=rn[gn+0-32],rr=rn[gn+1-32],sr=rn[gn+2-32],lr=rn[gn+3-32];rn[gn+0+96]=ka(Wn,Zn,rn[gn-1+96]),rn[gn+1+96]=rn[gn+0+64]=ka(Fn,Wn,Zn),rn[gn+2+96]=rn[gn+1+64]=rn[gn+0+32]=ka(tr,Fn,Wn),rn[gn+3+96]=rn[gn+2+64]=rn[gn+1+32]=rn[gn+0+0]=ka(nr,tr,Fn),rn[gn+3+64]=rn[gn+2+32]=rn[gn+1+0]=ka(rr,nr,tr),rn[gn+3+32]=rn[gn+2+0]=ka(sr,rr,nr),rn[gn+3+0]=ka(lr,sr,rr)}function ho(rn,gn){var Fn=rn[gn+1-32],Wn=rn[gn+2-32],Zn=rn[gn+3-32],tr=rn[gn+4-32],nr=rn[gn+5-32],rr=rn[gn+6-32],sr=rn[gn+7-32];rn[gn+0+0]=ka(rn[gn+0-32],Fn,Wn),rn[gn+1+0]=rn[gn+0+32]=ka(Fn,Wn,Zn),rn[gn+2+0]=rn[gn+1+32]=rn[gn+0+64]=ka(Wn,Zn,tr),rn[gn+3+0]=rn[gn+2+32]=rn[gn+1+64]=rn[gn+0+96]=ka(Zn,tr,nr),rn[gn+3+32]=rn[gn+2+64]=rn[gn+1+96]=ka(tr,nr,rr),rn[gn+3+64]=rn[gn+2+96]=ka(nr,rr,sr),rn[gn+3+96]=ka(rr,sr,sr)}function Ws(rn,gn){var Fn=rn[gn-1+0],Wn=rn[gn-1+32],Zn=rn[gn-1+64],tr=rn[gn-1-32],nr=rn[gn+0-32],rr=rn[gn+1-32],sr=rn[gn+2-32],lr=rn[gn+3-32];rn[gn+0+0]=rn[gn+1+64]=tr+nr+1>>1,rn[gn+1+0]=rn[gn+2+64]=nr+rr+1>>1,rn[gn+2+0]=rn[gn+3+64]=rr+sr+1>>1,rn[gn+3+0]=sr+lr+1>>1,rn[gn+0+96]=ka(Zn,Wn,Fn),rn[gn+0+64]=ka(Wn,Fn,tr),rn[gn+0+32]=rn[gn+1+96]=ka(Fn,tr,nr),rn[gn+1+32]=rn[gn+2+96]=ka(tr,nr,rr),rn[gn+2+32]=rn[gn+3+96]=ka(nr,rr,sr),rn[gn+3+32]=ka(rr,sr,lr)}function Eo(rn,gn){var Fn=rn[gn+0-32],Wn=rn[gn+1-32],Zn=rn[gn+2-32],tr=rn[gn+3-32],nr=rn[gn+4-32],rr=rn[gn+5-32],sr=rn[gn+6-32],lr=rn[gn+7-32];rn[gn+0+0]=Fn+Wn+1>>1,rn[gn+1+0]=rn[gn+0+64]=Wn+Zn+1>>1,rn[gn+2+0]=rn[gn+1+64]=Zn+tr+1>>1,rn[gn+3+0]=rn[gn+2+64]=tr+nr+1>>1,rn[gn+0+32]=ka(Fn,Wn,Zn),rn[gn+1+32]=rn[gn+0+96]=ka(Wn,Zn,tr),rn[gn+2+32]=rn[gn+1+96]=ka(Zn,tr,nr),rn[gn+3+32]=rn[gn+2+96]=ka(tr,nr,rr),rn[gn+3+64]=ka(nr,rr,sr),rn[gn+3+96]=ka(rr,sr,lr)}function _l(rn,gn){var Fn=rn[gn-1+0],Wn=rn[gn-1+32],Zn=rn[gn-1+64],tr=rn[gn-1+96];rn[gn+0+0]=Fn+Wn+1>>1,rn[gn+2+0]=rn[gn+0+32]=Wn+Zn+1>>1,rn[gn+2+32]=rn[gn+0+64]=Zn+tr+1>>1,rn[gn+1+0]=ka(Fn,Wn,Zn),rn[gn+3+0]=rn[gn+1+32]=ka(Wn,Zn,tr),rn[gn+3+32]=rn[gn+1+64]=ka(Zn,tr,tr),rn[gn+3+64]=rn[gn+2+64]=rn[gn+0+96]=rn[gn+1+96]=rn[gn+2+96]=rn[gn+3+96]=tr}function Xs(rn,gn){var Fn=rn[gn-1+0],Wn=rn[gn-1+32],Zn=rn[gn-1+64],tr=rn[gn-1+96],nr=rn[gn-1-32],rr=rn[gn+0-32],sr=rn[gn+1-32],lr=rn[gn+2-32];rn[gn+0+0]=rn[gn+2+32]=Fn+nr+1>>1,rn[gn+0+32]=rn[gn+2+64]=Wn+Fn+1>>1,rn[gn+0+64]=rn[gn+2+96]=Zn+Wn+1>>1,rn[gn+0+96]=tr+Zn+1>>1,rn[gn+3+0]=ka(rr,sr,lr),rn[gn+2+0]=ka(nr,rr,sr),rn[gn+1+0]=rn[gn+3+32]=ka(Fn,nr,rr),rn[gn+1+32]=rn[gn+3+64]=ka(Wn,Fn,nr),rn[gn+1+64]=rn[gn+3+96]=ka(Zn,Wn,Fn),rn[gn+1+96]=ka(tr,Zn,Wn)}function tl(rn,gn){var Fn;for(Fn=0;8>Fn;++Fn)Be(rn,gn+32*Fn,rn,gn-32,8)}function Ys(rn,gn){var Fn;for(Fn=0;8>Fn;++Fn)Re(rn,gn,rn[gn-1],8),gn+=32}function nl(rn,gn,Fn){var Wn;for(Wn=0;8>Wn;++Wn)Re(gn,Fn+32*Wn,rn,8)}function Yl(rn,gn){var Fn,Wn=8;for(Fn=0;8>Fn;++Fn)Wn+=rn[gn+Fn-32]+rn[gn-1+32*Fn];nl(Wn>>4,rn,gn)}function xs(rn,gn){var Fn,Wn=4;for(Fn=0;8>Fn;++Fn)Wn+=rn[gn+Fn-32];nl(Wn>>3,rn,gn)}function To(rn,gn){var Fn,Wn=4;for(Fn=0;8>Fn;++Fn)Wn+=rn[gn-1+32*Fn];nl(Wn>>3,rn,gn)}function Sl(rn,gn){nl(128,rn,gn)}function Co(rn,gn,Fn){var Wn=rn[gn-Fn],Zn=rn[gn+0],tr=3*(Zn-Wn)+oc[1020+rn[gn-2*Fn]-rn[gn+Fn]],nr=ru[112+(tr+4>>3)];rn[gn-Fn]=Yi[255+Wn+ru[112+(tr+3>>3)]],rn[gn+0]=Yi[255+Zn-nr]}function Pl(rn,gn,Fn,Wn){var Zn=rn[gn+0],tr=rn[gn+Fn];return bo[255+rn[gn-2*Fn]-rn[gn-Fn]]>Wn||bo[255+tr-Zn]>Wn}function Kl(rn,gn,Fn,Wn){return 4*bo[255+rn[gn-Fn]-rn[gn+0]]+bo[255+rn[gn-2*Fn]-rn[gn+Fn]]<=Wn}function Al(rn,gn,Fn,Wn,Zn){var tr=rn[gn-3*Fn],nr=rn[gn-2*Fn],rr=rn[gn-Fn],sr=rn[gn+0],lr=rn[gn+Fn],_r=rn[gn+2*Fn],Cr=rn[gn+3*Fn];return 4*bo[255+rr-sr]+bo[255+nr-lr]>Wn?0:bo[255+rn[gn-4*Fn]-tr]<=Zn&&bo[255+tr-nr]<=Zn&&bo[255+nr-rr]<=Zn&&bo[255+Cr-_r]<=Zn&&bo[255+_r-lr]<=Zn&&bo[255+lr-sr]<=Zn}function rl(rn,gn,Fn,Wn){var Zn=2*Wn+1;for(Wn=0;16>Wn;++Wn)Kl(rn,gn+Wn,Fn,Zn)&&Co(rn,gn+Wn,Fn)}function cs(rn,gn,Fn,Wn){var Zn=2*Wn+1;for(Wn=0;16>Wn;++Wn)Kl(rn,gn+Wn*Fn,1,Zn)&&Co(rn,gn+Wn*Fn,1)}function Jl(rn,gn,Fn,Wn){var Zn;for(Zn=3;0<Zn;--Zn)rl(rn,gn+=4*Fn,Fn,Wn)}function Iu(rn,gn,Fn,Wn){var Zn;for(Zn=3;0<Zn;--Zn)cs(rn,gn+=4,Fn,Wn)}function Ls(rn,gn,Fn,Wn,Zn,tr,nr,rr){for(tr=2*tr+1;0<Zn--;){if(Al(rn,gn,Fn,tr,nr))if(Pl(rn,gn,Fn,rr))Co(rn,gn,Fn);else{var sr=rn,lr=gn,_r=Fn,Cr=sr[lr-2*_r],ir=sr[lr-_r],vr=sr[lr+0],Ar=sr[lr+_r],qr=sr[lr+2*_r],kr=27*(Hr=oc[1020+3*(vr-ir)+oc[1020+Cr-Ar]])+63>>7,zr=18*Hr+63>>7,Hr=9*Hr+63>>7;sr[lr-3*_r]=Yi[255+sr[lr-3*_r]+Hr],sr[lr-2*_r]=Yi[255+Cr+zr],sr[lr-_r]=Yi[255+ir+kr],sr[lr+0]=Yi[255+vr-kr],sr[lr+_r]=Yi[255+Ar-zr],sr[lr+2*_r]=Yi[255+qr-Hr]}gn+=Wn}}function Ts(rn,gn,Fn,Wn,Zn,tr,nr,rr){for(tr=2*tr+1;0<Zn--;){if(Al(rn,gn,Fn,tr,nr))if(Pl(rn,gn,Fn,rr))Co(rn,gn,Fn);else{var sr=rn,lr=gn,_r=Fn,Cr=sr[lr-_r],ir=sr[lr+0],vr=sr[lr+_r],Ar=ru[112+(4+(qr=3*(ir-Cr))>>3)],qr=ru[112+(qr+3>>3)],kr=Ar+1>>1;sr[lr-2*_r]=Yi[255+sr[lr-2*_r]+kr],sr[lr-_r]=Yi[255+Cr+qr],sr[lr+0]=Yi[255+ir-Ar],sr[lr+_r]=Yi[255+vr-kr]}gn+=Wn}}function Dn(rn,gn,Fn,Wn,Zn,tr){Ls(rn,gn,Fn,1,16,Wn,Zn,tr)}function Qn(rn,gn,Fn,Wn,Zn,tr){Ls(rn,gn,1,Fn,16,Wn,Zn,tr)}function cr(rn,gn,Fn,Wn,Zn,tr){var nr;for(nr=3;0<nr;--nr)Ts(rn,gn+=4*Fn,Fn,1,16,Wn,Zn,tr)}function wr(rn,gn,Fn,Wn,Zn,tr){var nr;for(nr=3;0<nr;--nr)Ts(rn,gn+=4,1,Fn,16,Wn,Zn,tr)}function Br(rn,gn,Fn,Wn,Zn,tr,nr,rr){Ls(rn,gn,Zn,1,8,tr,nr,rr),Ls(Fn,Wn,Zn,1,8,tr,nr,rr)}function Wr(rn,gn,Fn,Wn,Zn,tr,nr,rr){Ls(rn,gn,1,Zn,8,tr,nr,rr),Ls(Fn,Wn,1,Zn,8,tr,nr,rr)}function ea(rn,gn,Fn,Wn,Zn,tr,nr,rr){Ts(rn,gn+4*Zn,Zn,1,8,tr,nr,rr),Ts(Fn,Wn+4*Zn,Zn,1,8,tr,nr,rr)}function ga(rn,gn,Fn,Wn,Zn,tr,nr,rr){Ts(rn,gn+4,1,Zn,8,tr,nr,rr),Ts(Fn,Wn+4,1,Zn,8,tr,nr,rr)}function Pa(){this.ba=new sa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ba(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ua(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qa(){this.ua=0,this.Wa=new cn,this.vb=new cn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new zn,this.yc=new Mn}function Ei(){this.xb=this.a=0,this.l=new xl,this.ca=new sa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $n,this.Pb=0,this.wd=new $n,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qa,this.ab=0,this.gc=Ue(4,Ua),this.Oc=0}function Li(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ui(rn,gn,Fn,Wn,Zn,tr,nr){for(rn=rn==null?0:rn[gn+0],gn=0;gn<nr;++gn)Zn[tr+gn]=rn+Fn[Wn+gn]&255,rn=Zn[tr+gn]}function Ti(rn,gn,Fn,Wn,Zn,tr,nr){var rr;if(rn==null)ui(null,null,Fn,Wn,Zn,tr,nr);else for(rr=0;rr<nr;++rr)Zn[tr+rr]=rn[gn+rr]+Fn[Wn+rr]&255}function Vi(rn,gn,Fn,Wn,Zn,tr,nr){if(rn==null)ui(null,null,Fn,Wn,Zn,tr,nr);else{var rr,sr=rn[gn+0],lr=sr,_r=sr;for(rr=0;rr<nr;++rr)lr=_r+(sr=rn[gn+rr])-lr,_r=Fn[Wn+rr]+(-256&lr?0>lr?0:255:lr)&255,lr=sr,Zn[tr+rr]=_r}}function mi(rn,gn,Fn,Wn){var Zn=gn.width,tr=gn.o;if(Ee(rn!=null&&gn!=null),0>Fn||0>=Wn||Fn+Wn>tr)return null;if(!rn.Cc){if(rn.ga==null){var nr;if(rn.ga=new Li,(nr=rn.ga==null)||(nr=gn.width*gn.o,Ee(rn.Gb.length==0),rn.Gb=Me(nr),rn.Uc=0,rn.Gb==null?nr=0:(rn.mb=rn.Gb,rn.nb=rn.Uc,rn.rc=null,nr=1),nr=!nr),!nr){nr=rn.ga;var rr=rn.Fa,sr=rn.P,lr=rn.qc,_r=rn.mb,Cr=rn.nb,ir=sr+1,vr=lr-1,Ar=nr.l;if(Ee(rr!=null&&_r!=null&&gn!=null),Go[0]=null,Go[1]=ui,Go[2]=Ti,Go[3]=Vi,nr.ca=_r,nr.tb=Cr,nr.c=gn.width,nr.i=gn.height,Ee(0<nr.c&&0<nr.i),1>=lr)gn=0;else if(nr.$a=3&rr[sr+0],nr.Z=rr[sr+0]>>2&3,nr.Lc=rr[sr+0]>>4&3,sr=rr[sr+0]>>6&3,0>nr.$a||1<nr.$a||4<=nr.Z||1<nr.Lc||sr)gn=0;else if(Ar.put=oa,Ar.ac=Sa,Ar.bc=ma,Ar.ma=nr,Ar.width=gn.width,Ar.height=gn.height,Ar.Da=gn.Da,Ar.v=gn.v,Ar.va=gn.va,Ar.j=gn.j,Ar.o=gn.o,nr.$a)e:{Ee(nr.$a==1),gn=ii();t:for(;;){if(gn==null){gn=0;break e}if(Ee(nr!=null),nr.mc=gn,gn.c=nr.c,gn.i=nr.i,gn.l=nr.l,gn.l.ma=nr,gn.l.width=nr.c,gn.l.height=nr.i,gn.a=0,Un(gn.m,rr,ir,vr),!ys(nr.c,nr.i,1,gn,null)||(gn.ab==1&&gn.gc[0].hc==3&&ri(gn.s)?(nr.ic=1,rr=gn.c*gn.i,gn.Ta=null,gn.Ua=0,gn.V=Me(rr),gn.Ba=0,gn.V==null?(gn.a=1,gn=0):gn=1):(nr.ic=0,gn=Is(gn,nr.c)),!gn))break t;gn=1;break e}nr.mc=null,gn=0}else gn=vr>=nr.c*nr.i;nr=!gn}if(nr)return null;rn.ga.Lc!=1?rn.Ga=0:Wn=tr-Fn}Ee(rn.ga!=null),Ee(Fn+Wn<=tr);e:{if(gn=(rr=rn.ga).c,tr=rr.l.o,rr.$a==0){if(ir=rn.rc,vr=rn.Vc,Ar=rn.Fa,sr=rn.P+1+Fn*gn,lr=rn.mb,_r=rn.nb+Fn*gn,Ee(sr<=rn.P+rn.qc),rr.Z!=0)for(Ee(Go[rr.Z]!=null),nr=0;nr<Wn;++nr)Go[rr.Z](ir,vr,Ar,sr,lr,_r,gn),ir=lr,vr=_r,_r+=gn,sr+=gn;else for(nr=0;nr<Wn;++nr)Be(lr,_r,Ar,sr,gn),ir=lr,vr=_r,_r+=gn,sr+=gn;rn.rc=ir,rn.Vc=vr}else{if(Ee(rr.mc!=null),gn=Fn+Wn,Ee((nr=rr.mc)!=null),Ee(gn<=nr.i),nr.C>=gn)gn=1;else if(rr.ic||Zl(),rr.ic){rr=nr.V,ir=nr.Ba,vr=nr.c;var qr=nr.i,kr=(Ar=1,sr=nr.$/vr,lr=nr.$%vr,_r=nr.m,Cr=nr.s,nr.$),zr=vr*qr,Hr=vr*gn,ra=Cr.wc,Zr=kr<Hr?Ia(Cr,lr,sr):null;Ee(kr<=zr),Ee(gn<=qr),Ee(ri(Cr));t:for(;;){for(;!_r.h&&kr<Hr;){if(lr&ra||(Zr=Ia(Cr,lr,sr)),Ee(Zr!=null),pn(_r),256>(qr=Na(Zr.G[0],Zr.H[0],_r)))rr[ir+kr]=qr,++kr,++lr>=vr&&(lr=0,++sr<=gn&&!(sr%16)&&pi(nr,sr));else{if(!(280>qr)){Ar=0;break t}qr=fa(qr-256,_r);var Aa,pa=Na(Zr.G[4],Zr.H[4],_r);if(pn(_r),!(kr>=(pa=Ca(vr,pa=fa(pa,_r)))&&zr-kr>=qr)){Ar=0;break t}for(Aa=0;Aa<qr;++Aa)rr[ir+kr+Aa]=rr[ir+kr+Aa-pa];for(kr+=qr,lr+=qr;lr>=vr;)lr-=vr,++sr<=gn&&!(sr%16)&&pi(nr,sr);kr<Hr&&lr&ra&&(Zr=Ia(Cr,lr,sr))}Ee(_r.h==En(_r))}pi(nr,sr>gn?gn:sr);break t}!Ar||_r.h&&kr<zr?(Ar=0,nr.a=_r.h?5:3):nr.$=kr,gn=Ar}else gn=Ri(nr,nr.V,nr.Ba,nr.c,nr.i,gn,xi);if(!gn){Wn=0;break e}}Fn+Wn>=tr&&(rn.Cc=1),Wn=1}if(!Wn)return null;if(rn.Cc&&((Wn=rn.ga)!=null&&(Wn.mc=null),rn.ga=null,0<rn.Ga))return alert("todo:WebPDequantizeLevels"),null}return rn.nb+Fn*Zn}function Cs(rn,gn,Fn,Wn,Zn,tr){for(;0<Zn--;){var nr,rr=rn,sr=gn+(Fn?1:0),lr=rn,_r=gn+(Fn?0:3);for(nr=0;nr<Wn;++nr){var Cr=lr[_r+4*nr];Cr!=255&&(Cr*=32897,rr[sr+4*nr+0]=rr[sr+4*nr+0]*Cr>>23,rr[sr+4*nr+1]=rr[sr+4*nr+1]*Cr>>23,rr[sr+4*nr+2]=rr[sr+4*nr+2]*Cr>>23)}gn+=tr}}function El(rn,gn,Fn,Wn,Zn){for(;0<Wn--;){var tr;for(tr=0;tr<Fn;++tr){var nr=rn[gn+2*tr+0],rr=15&(lr=rn[gn+2*tr+1]),sr=4369*rr,lr=(240&lr|lr>>4)*sr>>16;rn[gn+2*tr+0]=(240&nr|nr>>4)*sr>>16&240|(15&nr|nr<<4)*sr>>16>>4&15,rn[gn+2*tr+1]=240&lr|rr}gn+=Zn}}function nc(rn,gn,Fn,Wn,Zn,tr,nr,rr){var sr,lr,_r=255;for(lr=0;lr<Zn;++lr){for(sr=0;sr<Wn;++sr){var Cr=rn[gn+sr];tr[nr+4*sr]=Cr,_r&=Cr}gn+=Fn,nr+=rr}return _r!=255}function rc(rn,gn,Fn,Wn,Zn){var tr;for(tr=0;tr<Zn;++tr)Fn[Wn+tr]=rn[gn+tr]>>8}function Zl(){_u=Cs,Zs=El,Qs=nc,tu=rc}function po(rn,gn,Fn){sn[rn]=function(Wn,Zn,tr,nr,rr,sr,lr,_r,Cr,ir,vr,Ar,qr,kr,zr,Hr,ra){var Zr,Aa=ra-1>>1,pa=rr[sr+0]|lr[_r+0]<<16,Fa=Cr[ir+0]|vr[Ar+0]<<16;Ee(Wn!=null);var ya=3*pa+Fa+131074>>2;for(gn(Wn[Zn+0],255&ya,ya>>16,qr,kr),tr!=null&&(ya=3*Fa+pa+131074>>2,gn(tr[nr+0],255&ya,ya>>16,zr,Hr)),Zr=1;Zr<=Aa;++Zr){var Xa=rr[sr+Zr]|lr[_r+Zr]<<16,os=Cr[ir+Zr]|vr[Ar+Zr]<<16,Da=pa+Xa+Fa+os+524296,va=Da+2*(Xa+Fa)>>3;ya=va+pa>>1,pa=(Da=Da+2*(pa+os)>>3)+Xa>>1,gn(Wn[Zn+2*Zr-1],255&ya,ya>>16,qr,kr+(2*Zr-1)*Fn),gn(Wn[Zn+2*Zr-0],255&pa,pa>>16,qr,kr+(2*Zr-0)*Fn),tr!=null&&(ya=Da+Fa>>1,pa=va+os>>1,gn(tr[nr+2*Zr-1],255&ya,ya>>16,zr,Hr+(2*Zr-1)*Fn),gn(tr[nr+2*Zr+0],255&pa,pa>>16,zr,Hr+(2*Zr+0)*Fn)),pa=Xa,Fa=os}1&ra||(ya=3*pa+Fa+131074>>2,gn(Wn[Zn+ra-1],255&ya,ya>>16,qr,kr+(ra-1)*Fn),tr!=null&&(ya=3*Fa+pa+131074>>2,gn(tr[nr+ra-1],255&ya,ya>>16,zr,Hr+(ra-1)*Fn)))}}function Du(){ss[Ss]=_o,ss[Ii]=Wo,ss[Us]=dl,ss[Su]=zu,ss[ul]=uc,ss[Ps]=Au,ss[Vo]=cc,ss[Vs]=Wo,ss[wo]=zu,ss[$o]=uc,ss[xo]=Au}function al(rn){return rn&-16384?0>rn?0:255:rn>>Dc}function Ks(rn,gn){return al((19077*rn>>8)+(26149*gn>>8)-14234)}function zi(rn,gn,Fn){return al((19077*rn>>8)-(6419*gn>>8)-(13320*Fn>>8)+8708)}function Bs(rn,gn){return al((19077*rn>>8)+(33050*gn>>8)-17685)}function mo(rn,gn,Fn,Wn,Zn){Wn[Zn+0]=Ks(rn,Fn),Wn[Zn+1]=zi(rn,gn,Fn),Wn[Zn+2]=Bs(rn,gn)}function Tl(rn,gn,Fn,Wn,Zn){Wn[Zn+0]=Bs(rn,gn),Wn[Zn+1]=zi(rn,gn,Fn),Wn[Zn+2]=Ks(rn,Fn)}function yu(rn,gn,Fn,Wn,Zn){var tr=zi(rn,gn,Fn);gn=tr<<3&224|Bs(rn,gn)>>3,Wn[Zn+0]=248&Ks(rn,Fn)|tr>>5,Wn[Zn+1]=gn}function Hi(rn,gn,Fn,Wn,Zn){var tr=240&Bs(rn,gn)|15;Wn[Zn+0]=240&Ks(rn,Fn)|zi(rn,gn,Fn)>>4,Wn[Zn+1]=tr}function il(rn,gn,Fn,Wn,Zn){Wn[Zn+0]=255,mo(rn,gn,Fn,Wn,Zn+1)}function vu(rn,gn,Fn,Wn,Zn){Tl(rn,gn,Fn,Wn,Zn),Wn[Zn+3]=255}function Lu(rn,gn,Fn,Wn,Zn){mo(rn,gn,Fn,Wn,Zn),Wn[Zn+3]=255}function Gi(rn,gn){return 0>rn?0:rn>gn?gn:rn}function _s(rn,gn,Fn){sn[rn]=function(Wn,Zn,tr,nr,rr,sr,lr,_r,Cr){for(var ir=_r+(-2&Cr)*Fn;_r!=ir;)gn(Wn[Zn+0],tr[nr+0],rr[sr+0],lr,_r),gn(Wn[Zn+1],tr[nr+0],rr[sr+0],lr,_r+Fn),Zn+=2,++nr,++sr,_r+=2*Fn;1&Cr&&gn(Wn[Zn+0],tr[nr+0],rr[sr+0],lr,_r)}}function Lo(rn,gn,Fn){return Fn==0?rn==0?gn==0?6:5:gn==0?4:0:Fn}function sl(rn,gn,Fn,Wn,Zn){switch(rn>>>30){case 3:_i(gn,Fn,Wn,Zn,0);break;case 2:is(gn,Fn,Wn,Zn);break;case 1:Xi(gn,Fn,Wn,Zn)}}function go(rn,gn){var Fn,Wn,Zn=gn.M,tr=gn.Nb,nr=rn.oc,rr=rn.pc+40,sr=rn.oc,lr=rn.pc+584,_r=rn.oc,Cr=rn.pc+600;for(Fn=0;16>Fn;++Fn)nr[rr+32*Fn-1]=129;for(Fn=0;8>Fn;++Fn)sr[lr+32*Fn-1]=129,_r[Cr+32*Fn-1]=129;for(0<Zn?nr[rr-1-32]=sr[lr-1-32]=_r[Cr-1-32]=129:(Re(nr,rr-32-1,127,21),Re(sr,lr-32-1,127,9),Re(_r,Cr-32-1,127,9)),Wn=0;Wn<rn.za;++Wn){var ir=gn.ya[gn.aa+Wn];if(0<Wn){for(Fn=-1;16>Fn;++Fn)Be(nr,rr+32*Fn-4,nr,rr+32*Fn+12,4);for(Fn=-1;8>Fn;++Fn)Be(sr,lr+32*Fn-4,sr,lr+32*Fn+4,4),Be(_r,Cr+32*Fn-4,_r,Cr+32*Fn+4,4)}var vr=rn.Gd,Ar=rn.Hd+Wn,qr=ir.ad,kr=ir.Hc;if(0<Zn&&(Be(nr,rr-32,vr[Ar].y,0,16),Be(sr,lr-32,vr[Ar].f,0,8),Be(_r,Cr-32,vr[Ar].ea,0,8)),ir.Za){var zr=nr,Hr=rr-32+16;for(0<Zn&&(Wn>=rn.za-1?Re(zr,Hr,vr[Ar].y[15],4):Be(zr,Hr,vr[Ar+1].y,0,4)),Fn=0;4>Fn;Fn++)zr[Hr+128+Fn]=zr[Hr+256+Fn]=zr[Hr+384+Fn]=zr[Hr+0+Fn];for(Fn=0;16>Fn;++Fn,kr<<=2)zr=nr,Hr=rr+xr[Fn],hs[ir.Ob[Fn]](zr,Hr),sl(kr,qr,16*+Fn,zr,Hr)}else if(zr=Lo(Wn,Zn,ir.Ob[0]),ko[zr](nr,rr),kr!=0)for(Fn=0;16>Fn;++Fn,kr<<=2)sl(kr,qr,16*+Fn,nr,rr+xr[Fn]);for(Fn=ir.Gc,zr=Lo(Wn,Zn,ir.Dd),Es[zr](sr,lr),Es[zr](_r,Cr),kr=qr,zr=sr,Hr=lr,255&(ir=0|Fn)&&(170&ir?Rs(kr,256,zr,Hr):Vl(kr,256,zr,Hr)),ir=_r,kr=Cr,255&(Fn>>=8)&&(170&Fn?Rs(qr,320,ir,kr):Vl(qr,320,ir,kr)),Zn<rn.Ub-1&&(Be(vr[Ar].y,0,nr,rr+480,16),Be(vr[Ar].f,0,sr,lr+224,8),Be(vr[Ar].ea,0,_r,Cr+224,8)),Fn=8*tr*rn.B,vr=rn.sa,Ar=rn.ta+16*Wn+16*tr*rn.R,qr=rn.qa,ir=rn.ra+8*Wn+Fn,kr=rn.Ha,zr=rn.Ia+8*Wn+Fn,Fn=0;16>Fn;++Fn)Be(vr,Ar+Fn*rn.R,nr,rr+32*Fn,16);for(Fn=0;8>Fn;++Fn)Be(qr,ir+Fn*rn.B,sr,lr+32*Fn,8),Be(kr,zr+Fn*rn.B,_r,Cr+32*Fn,8)}}function Cl(rn,gn,Fn,Wn,Zn,tr,nr,rr,sr){var lr=[0],_r=[0],Cr=0,ir=sr!=null?sr.kd:0,vr=sr??new Ba;if(rn==null||12>Fn)return 7;vr.data=rn,vr.w=gn,vr.ha=Fn,gn=[gn],Fn=[Fn],vr.gb=[vr.gb];e:{var Ar=gn,qr=Fn,kr=vr.gb;if(Ee(rn!=null),Ee(qr!=null),Ee(kr!=null),kr[0]=0,12<=qr[0]&&!Te(rn,Ar[0],"RIFF")){if(Te(rn,Ar[0]+8,"WEBP")){kr=3;break e}var zr=vn(rn,Ar[0]+4);if(12>zr||4294967286<zr){kr=3;break e}if(ir&&zr>qr[0]-8){kr=7;break e}kr[0]=zr,Ar[0]+=12,qr[0]-=12}kr=0}if(kr!=0)return kr;for(zr=0<vr.gb[0],Fn=Fn[0];;){e:{var Hr=rn;qr=gn,kr=Fn;var ra=lr,Zr=_r,Aa=Ar=[0];if((ya=Cr=[Cr])[0]=0,8>kr[0])kr=7;else{if(!Te(Hr,qr[0],"VP8X")){if(vn(Hr,qr[0]+4)!=10){kr=3;break e}if(18>kr[0]){kr=7;break e}var pa=vn(Hr,qr[0]+8),Fa=1+Hn(Hr,qr[0]+12);if(2147483648<=Fa*(Hr=1+Hn(Hr,qr[0]+15))){kr=3;break e}Aa!=null&&(Aa[0]=pa),ra!=null&&(ra[0]=Fa),Zr!=null&&(Zr[0]=Hr),qr[0]+=18,kr[0]-=18,ya[0]=1}kr=0}}if(Cr=Cr[0],Ar=Ar[0],kr!=0)return kr;if(qr=!!(2&Ar),!zr&&Cr)return 3;if(tr!=null&&(tr[0]=!!(16&Ar)),nr!=null&&(nr[0]=qr),rr!=null&&(rr[0]=0),nr=lr[0],Ar=_r[0],Cr&&qr&&sr==null){kr=0;break}if(4>Fn){kr=7;break}if(zr&&Cr||!zr&&!Cr&&!Te(rn,gn[0],"ALPH")){Fn=[Fn],vr.na=[vr.na],vr.P=[vr.P],vr.Sa=[vr.Sa];e:{pa=rn,kr=gn,zr=Fn;var ya=vr.gb;ra=vr.na,Zr=vr.P,Aa=vr.Sa,Fa=22,Ee(pa!=null),Ee(zr!=null),Hr=kr[0];var Xa=zr[0];for(Ee(ra!=null),Ee(Aa!=null),ra[0]=null,Zr[0]=null,Aa[0]=0;;){if(kr[0]=Hr,zr[0]=Xa,8>Xa){kr=7;break e}var os=vn(pa,Hr+4);if(4294967286<os){kr=3;break e}var Da=8+os+1&-2;if(Fa+=Da,0<ya&&Fa>ya){kr=3;break e}if(!Te(pa,Hr,"VP8 ")||!Te(pa,Hr,"VP8L")){kr=0;break e}if(Xa[0]<Da){kr=7;break e}Te(pa,Hr,"ALPH")||(ra[0]=pa,Zr[0]=Hr+8,Aa[0]=os),Hr+=Da,Xa-=Da}}if(Fn=Fn[0],vr.na=vr.na[0],vr.P=vr.P[0],vr.Sa=vr.Sa[0],kr!=0)break}Fn=[Fn],vr.Ja=[vr.Ja],vr.xa=[vr.xa];e:if(ya=rn,kr=gn,zr=Fn,ra=vr.gb[0],Zr=vr.Ja,Aa=vr.xa,pa=kr[0],Hr=!Te(ya,pa,"VP8 "),Fa=!Te(ya,pa,"VP8L"),Ee(ya!=null),Ee(zr!=null),Ee(Zr!=null),Ee(Aa!=null),8>zr[0])kr=7;else{if(Hr||Fa){if(ya=vn(ya,pa+4),12<=ra&&ya>ra-12){kr=3;break e}if(ir&&ya>zr[0]-8){kr=7;break e}Zr[0]=ya,kr[0]+=8,zr[0]-=8,Aa[0]=Fa}else Aa[0]=5<=zr[0]&&ya[pa+0]==47&&!(ya[pa+4]>>5),Zr[0]=zr[0];kr=0}if(Fn=Fn[0],vr.Ja=vr.Ja[0],vr.xa=vr.xa[0],gn=gn[0],kr!=0)break;if(4294967286<vr.Ja)return 3;if(rr==null||qr||(rr[0]=vr.xa?2:1),nr=[nr],Ar=[Ar],vr.xa){if(5>Fn){kr=7;break}rr=nr,ir=Ar,qr=tr,rn==null||5>Fn?rn=0:5<=Fn&&rn[gn+0]==47&&!(rn[gn+4]>>5)?(zr=[0],ya=[0],ra=[0],Un(Zr=new $n,rn,gn,Fn),da(Zr,zr,ya,ra)?(rr!=null&&(rr[0]=zr[0]),ir!=null&&(ir[0]=ya[0]),qr!=null&&(qr[0]=ra[0]),rn=1):rn=0):rn=0}else{if(10>Fn){kr=7;break}rr=Ar,rn==null||10>Fn||!Vu(rn,gn+3,Fn-3)?rn=0:(ir=rn[gn+0]|rn[gn+1]<<8|rn[gn+2]<<16,qr=16383&(rn[gn+7]<<8|rn[gn+6]),rn=16383&(rn[gn+9]<<8|rn[gn+8]),1&ir||3<(ir>>1&7)||!(ir>>4&1)||ir>>5>=vr.Ja||!qr||!rn?rn=0:(nr&&(nr[0]=qr),rr&&(rr[0]=rn),rn=1))}if(!rn||(nr=nr[0],Ar=Ar[0],Cr&&(lr[0]!=nr||_r[0]!=Ar)))return 3;sr!=null&&(sr[0]=vr,sr.offset=gn-sr.w,Ee(4294967286>gn-sr.w),Ee(sr.offset==sr.ha-Fn));break}return kr==0||kr==7&&Cr&&sr==null?(tr!=null&&(tr[0]|=vr.na!=null&&0<vr.na.length),Wn!=null&&(Wn[0]=nr),Zn!=null&&(Zn[0]=Ar),0):kr}function ns(rn,gn,Fn){var Wn=gn.width,Zn=gn.height,tr=0,nr=0,rr=Wn,sr=Zn;if(gn.Da=rn!=null&&0<rn.Da,gn.Da&&(rr=rn.cd,sr=rn.bd,tr=rn.v,nr=rn.j,11>Fn||(tr&=-2,nr&=-2),0>tr||0>nr||0>=rr||0>=sr||tr+rr>Wn||nr+sr>Zn))return 0;if(gn.v=tr,gn.j=nr,gn.va=tr+rr,gn.o=nr+sr,gn.U=rr,gn.T=sr,gn.da=rn!=null&&0<rn.da,gn.da){if(!bn(rr,sr,Fn=[rn.ib],tr=[rn.hb]))return 0;gn.ib=Fn[0],gn.hb=tr[0]}return gn.ob=rn!=null&&rn.ob,gn.Kb=rn==null||!rn.Sd,gn.da&&(gn.ob=gn.ib<3*Wn/4&&gn.hb<3*Zn/4,gn.Kb=0),1}function rs(rn){if(rn==null)return 2;if(11>rn.S){var gn=rn.f.RGBA;gn.fb+=(rn.height-1)*gn.A,gn.A=-gn.A}else gn=rn.f.kb,rn=rn.height,gn.O+=(rn-1)*gn.fa,gn.fa=-gn.fa,gn.N+=(rn-1>>1)*gn.Ab,gn.Ab=-gn.Ab,gn.W+=(rn-1>>1)*gn.Db,gn.Db=-gn.Db,gn.F!=null&&(gn.J+=(rn-1)*gn.lb,gn.lb=-gn.lb);return 0}function Fo(rn,gn,Fn,Wn){if(Wn==null||0>=rn||0>=gn)return 2;if(Fn!=null){if(Fn.Da){var Zn=Fn.cd,tr=Fn.bd,nr=-2&Fn.v,rr=-2&Fn.j;if(0>nr||0>rr||0>=Zn||0>=tr||nr+Zn>rn||rr+tr>gn)return 2;rn=Zn,gn=tr}if(Fn.da){if(!bn(rn,gn,Zn=[Fn.ib],tr=[Fn.hb]))return 2;rn=Zn[0],gn=tr[0]}}Wn.width=rn,Wn.height=gn;e:{var sr=Wn.width,lr=Wn.height;if(rn=Wn.S,0>=sr||0>=lr||!(rn>=Ss&&13>rn))rn=2;else{if(0>=Wn.Rd&&Wn.sd==null){nr=tr=Zn=gn=0;var _r=(rr=sr*la[rn])*lr;if(11>rn||(tr=(lr+1)/2*(gn=(sr+1)/2),rn==12&&(nr=(Zn=sr)*lr)),(lr=Me(_r+2*tr+nr))==null){rn=1;break e}Wn.sd=lr,11>rn?((sr=Wn.f.RGBA).eb=lr,sr.fb=0,sr.A=rr,sr.size=_r):((sr=Wn.f.kb).y=lr,sr.O=0,sr.fa=rr,sr.Fd=_r,sr.f=lr,sr.N=0+_r,sr.Ab=gn,sr.Cd=tr,sr.ea=lr,sr.W=0+_r+tr,sr.Db=gn,sr.Ed=tr,rn==12&&(sr.F=lr,sr.J=0+_r+2*tr),sr.Tc=nr,sr.lb=Zn)}if(gn=1,Zn=Wn.S,tr=Wn.width,nr=Wn.height,Zn>=Ss&&13>Zn)if(11>Zn)rn=Wn.f.RGBA,gn&=(rr=Math.abs(rn.A))*(nr-1)+tr<=rn.size,gn&=rr>=tr*la[Zn],gn&=rn.eb!=null;else{rn=Wn.f.kb,rr=(tr+1)/2,_r=(nr+1)/2,sr=Math.abs(rn.fa),lr=Math.abs(rn.Ab);var Cr=Math.abs(rn.Db),ir=Math.abs(rn.lb),vr=ir*(nr-1)+tr;gn&=sr*(nr-1)+tr<=rn.Fd,gn&=lr*(_r-1)+rr<=rn.Cd,gn=(gn&=Cr*(_r-1)+rr<=rn.Ed)&sr>=tr&lr>=rr&Cr>=rr,gn&=rn.y!=null,gn&=rn.f!=null,gn&=rn.ea!=null,Zn==12&&(gn&=ir>=tr,gn&=vr<=rn.Tc,gn&=rn.F!=null)}else gn=0;rn=gn?0:2}}return rn!=0||Fn!=null&&Fn.fd&&(rn=rs(Wn)),rn}var as=64,Fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ol=24,Oo=32,ki=8,Fu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Jn("Predictor0","PredictorAdd0"),sn.Predictor0=function(){return 4278190080},sn.Predictor1=function(rn){return rn},sn.Predictor2=function(rn,gn,Fn){return gn[Fn+0]},sn.Predictor3=function(rn,gn,Fn){return gn[Fn+1]},sn.Predictor4=function(rn,gn,Fn){return gn[Fn-1]},sn.Predictor5=function(rn,gn,Fn){return ur(ur(rn,gn[Fn+1]),gn[Fn+0])},sn.Predictor6=function(rn,gn,Fn){return ur(rn,gn[Fn-1])},sn.Predictor7=function(rn,gn,Fn){return ur(rn,gn[Fn+0])},sn.Predictor8=function(rn,gn,Fn){return ur(gn[Fn-1],gn[Fn+0])},sn.Predictor9=function(rn,gn,Fn){return ur(gn[Fn+0],gn[Fn+1])},sn.Predictor10=function(rn,gn,Fn){return ur(ur(rn,gn[Fn-1]),ur(gn[Fn+0],gn[Fn+1]))},sn.Predictor11=function(rn,gn,Fn){var Wn=gn[Fn+0];return 0>=yr(Wn>>24&255,rn>>24&255,(gn=gn[Fn-1])>>24&255)+yr(Wn>>16&255,rn>>16&255,gn>>16&255)+yr(Wn>>8&255,rn>>8&255,gn>>8&255)+yr(255&Wn,255&rn,255&gn)?Wn:rn},sn.Predictor12=function(rn,gn,Fn){var Wn=gn[Fn+0];return(dr((rn>>24&255)+(Wn>>24&255)-((gn=gn[Fn-1])>>24&255))<<24|dr((rn>>16&255)+(Wn>>16&255)-(gn>>16&255))<<16|dr((rn>>8&255)+(Wn>>8&255)-(gn>>8&255))<<8|dr((255&rn)+(255&Wn)-(255&gn)))>>>0},sn.Predictor13=function(rn,gn,Fn){var Wn=gn[Fn-1];return(br((rn=ur(rn,gn[Fn+0]))>>24&255,Wn>>24&255)<<24|br(rn>>16&255,Wn>>16&255)<<16|br(rn>>8&255,Wn>>8&255)<<8|br(255&rn,255&Wn))>>>0};var Uo=sn.PredictorAdd0;sn.PredictorAdd1=jr,Jn("Predictor2","PredictorAdd2"),Jn("Predictor3","PredictorAdd3"),Jn("Predictor4","PredictorAdd4"),Jn("Predictor5","PredictorAdd5"),Jn("Predictor6","PredictorAdd6"),Jn("Predictor7","PredictorAdd7"),Jn("Predictor8","PredictorAdd8"),Jn("Predictor9","PredictorAdd9"),Jn("Predictor10","PredictorAdd10"),Jn("Predictor11","PredictorAdd11"),Jn("Predictor12","PredictorAdd12"),Jn("Predictor13","PredictorAdd13");var Bo=sn.PredictorAdd2;hr("ColorIndexInverseTransform","MapARGB","32b",function(rn){return rn>>8&255},function(rn){return rn}),hr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(rn){return rn},function(rn){return rn>>8&255});var ll,Ql=sn.ColorIndexInverseTransform,Wi=sn.MapARGB,Ro=sn.VP8LColorIndexInverseTransformAlpha,Bl=sn.MapAlpha,Rl=sn.VP8LPredictorsAdd=[];Rl.length=16,(sn.VP8LPredictors=[]).length=16,(sn.VP8LPredictorsAdd_C=[]).length=16,(sn.VP8LPredictors_C=[]).length=16;var yo,bu,fs,qo,ti,ci,gi,_i,is,Rs,Xi,Vl,wu,Os,kl,Js,Ou,Yc,eu,Vc,kc,xu,ac,vo,_u,Zs,Qs,tu,ic=Me(511),Uu=Me(2041),qu=Me(225),sc=Me(767),nu=0,oc=Uu,ru=qu,Yi=sc,bo=ic,Ss=0,Ii=1,Us=2,Su=3,ul=4,Ps=5,Vo=6,Vs=7,wo=8,$o=9,xo=10,$u=[2,3,7],eo=[3,3,11],As=[280,256,256,256,40],Ml=[0,1,1,1,0],jo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ho=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mc=8,Pu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ju=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ki=null,Mi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ni=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],to=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Il=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ic=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ko=[],hs=[],Es=[],cl=1,hl=2,Go=[],ss=[];po("UpsampleRgbLinePair",mo,3),po("UpsampleBgrLinePair",Tl,3),po("UpsampleRgbaLinePair",Lu,4),po("UpsampleBgraLinePair",vu,4),po("UpsampleArgbLinePair",il,4),po("UpsampleRgba4444LinePair",Hi,2),po("UpsampleRgb565LinePair",yu,2);var _o=sn.UpsampleRgbLinePair,dl=sn.UpsampleBgrLinePair,Wo=sn.UpsampleRgbaLinePair,zu=sn.UpsampleBgraLinePair,uc=sn.UpsampleArgbLinePair,Au=sn.UpsampleRgba4444LinePair,cc=sn.UpsampleRgb565LinePair,Xo=16,Ji=1<<Xo-1,Dl=-227,au=482,Dc=6,iu=0,Kc=Me(256),nn=Me(256),Tn=Me(256),Xn=Me(256),or=Me(au-Dl),pr=Me(au-Dl);_s("YuvToRgbRow",mo,3),_s("YuvToBgrRow",Tl,3),_s("YuvToRgbaRow",Lu,4),_s("YuvToBgraRow",vu,4),_s("YuvToArgbRow",il,4),_s("YuvToRgba4444Row",Hi,2),_s("YuvToRgb565Row",yu,2);var xr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lr=[0,2,8],ua=[8,7,6,4,4,2,2,2,1,1,1,1],ba=1;this.WebPDecodeRGBA=function(rn,gn,Fn,Wn,Zn){var tr=Ii,nr=new Pa,rr=new sa;nr.ba=rr,rr.S=tr,rr.width=[rr.width],rr.height=[rr.height];var sr=rr.width,lr=rr.height,_r=new aa;if(_r==null||rn==null)var Cr=2;else Ee(_r!=null),Cr=Cl(rn,gn,Fn,_r.width,_r.height,_r.Pd,_r.Qd,_r.format,null);if(Cr!=0?sr=0:(sr!=null&&(sr[0]=_r.width[0]),lr!=null&&(lr[0]=_r.height[0]),sr=1),sr){rr.width=rr.width[0],rr.height=rr.height[0],Wn!=null&&(Wn[0]=rr.width),Zn!=null&&(Zn[0]=rr.height);e:{if(Wn=new xl,(Zn=new Ba).data=rn,Zn.w=gn,Zn.ha=Fn,Zn.kd=1,gn=[0],Ee(Zn!=null),((rn=Cl(Zn.data,Zn.w,Zn.ha,null,null,null,gn,null,Zn))==0||rn==7)&&gn[0]&&(rn=4),(gn=rn)==0){if(Ee(nr!=null),Wn.data=Zn.data,Wn.w=Zn.w+Zn.offset,Wn.ha=Zn.ha-Zn.offset,Wn.put=oa,Wn.ac=Sa,Wn.bc=ma,Wn.ma=nr,Zn.xa){if((rn=ii())==null){nr=1;break e}if((function(ir,vr){var Ar=[0],qr=[0],kr=[0];t:for(;;){if(ir==null)return 0;if(vr==null)return ir.a=2,0;if(ir.l=vr,ir.a=0,Un(ir.m,vr.data,vr.w,vr.ha),!da(ir.m,Ar,qr,kr)){ir.a=3;break t}if(ir.xb=hl,vr.width=Ar[0],vr.height=qr[0],!ys(Ar[0],qr[0],1,ir,null))break t;return 1}return Ee(ir.a!=0),0})(rn,Wn)){if(Wn=(gn=Fo(Wn.width,Wn.height,nr.Oa,nr.ba))==0){t:{Wn=rn;n:for(;;){if(Wn==null){Wn=0;break t}if(Ee(Wn.s.yc!=null),Ee(Wn.s.Ya!=null),Ee(0<Wn.s.Wb),Ee((Fn=Wn.l)!=null),Ee((Zn=Fn.ma)!=null),Wn.xb!=0){if(Wn.ca=Zn.ba,Wn.tb=Zn.tb,Ee(Wn.ca!=null),!ns(Zn.Oa,Fn,Su)){Wn.a=2;break n}if(!Is(Wn,Fn.width)||Fn.da)break n;if((Fn.da||fr(Wn.ca.S))&&Zl(),11>Wn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Wn.ca.f.kb.F!=null&&Zl()),Wn.Pb&&0<Wn.s.ua&&Wn.s.vb.X==null&&!qn(Wn.s.vb,Wn.s.Wa.Xa)){Wn.a=1;break n}Wn.xb=0}if(!Ri(Wn,Wn.V,Wn.Ba,Wn.c,Wn.i,Fn.o,Ha))break n;Zn.Dc=Wn.Ma,Wn=1;break t}Ee(Wn.a!=0),Wn=0}Wn=!Wn}Wn&&(gn=rn.a)}else gn=rn.a}else{if((rn=new du)==null){nr=1;break e}if(rn.Fa=Zn.na,rn.P=Zn.P,rn.qc=Zn.Sa,ec(rn,Wn)){if((gn=Fo(Wn.width,Wn.height,nr.Oa,nr.ba))==0){if(rn.Aa=0,Fn=nr.Oa,Ee((Zn=rn)!=null),Fn!=null){if(0<(sr=0>(sr=Fn.Md)?0:100<sr?255:255*sr/100)){for(lr=_r=0;4>lr;++lr)12>(Cr=Zn.pb[lr]).lc&&(Cr.ia=sr*ua[0>Cr.lc?0:Cr.lc]>>3),_r|=Cr.ia;_r&&(alert("todo:VP8InitRandom"),Zn.ia=1)}Zn.Ga=Fn.Id,100<Zn.Ga?Zn.Ga=100:0>Zn.Ga&&(Zn.Ga=0)}(function(ir,vr){if(ir==null)return 0;if(vr==null)return ei(ir,2,"NULL VP8Io parameter in VP8Decode().");if(!ir.cb&&!ec(ir,vr))return 0;if(Ee(ir.cb),vr.ac==null||vr.ac(vr)){vr.ob&&(ir.L=0);var Ar=Lr[ir.L];if(ir.L==2?(ir.yb=0,ir.zb=0):(ir.yb=vr.v-Ar>>4,ir.zb=vr.j-Ar>>4,0>ir.yb&&(ir.yb=0),0>ir.zb&&(ir.zb=0)),ir.Va=vr.o+15+Ar>>4,ir.Hb=vr.va+15+Ar>>4,ir.Hb>ir.za&&(ir.Hb=ir.za),ir.Va>ir.Ub&&(ir.Va=ir.Ub),0<ir.L){var qr=ir.ed;for(Ar=0;4>Ar;++Ar){var kr;if(ir.Qa.Cb){var zr=ir.Qa.Lb[Ar];ir.Qa.Fb||(zr+=qr.Tb)}else zr=qr.Tb;for(kr=0;1>=kr;++kr){var Hr=ir.gd[Ar][kr],ra=zr;if(qr.Pc&&(ra+=qr.vd[0],kr&&(ra+=qr.od[0])),0<(ra=0>ra?0:63<ra?63:ra)){var Zr=ra;0<qr.wb&&(Zr=4<qr.wb?Zr>>2:Zr>>1)>9-qr.wb&&(Zr=9-qr.wb),1>Zr&&(Zr=1),Hr.dd=Zr,Hr.tc=2*ra+Zr,Hr.ld=40<=ra?2:15<=ra?1:0}else Hr.tc=0;Hr.La=kr}}}Ar=0}else ei(ir,6,"Frame setup failed"),Ar=ir.a;if(Ar=Ar==0){if(Ar){ir.$c=0,0<ir.Aa||(ir.Ic=ba);t:{Ar=ir.Ic,qr=4*(Zr=ir.za);var Aa=32*Zr,pa=Zr+1,Fa=0<ir.L?Zr*(0<ir.Aa?2:1):0,ya=(ir.Aa==2?2:1)*Zr;if((Hr=qr+832+(kr=3*(16*Ar+Lr[ir.L])/2*Aa)+(zr=ir.Fa!=null&&0<ir.Fa.length?ir.Kc.c*ir.Kc.i:0))!=Hr)Ar=0;else{if(Hr>ir.Vb){if(ir.Vb=0,ir.Ec=Me(Hr),ir.Fc=0,ir.Ec==null){Ar=ei(ir,1,"no memory during frame initialization.");break t}ir.Vb=Hr}Hr=ir.Ec,ra=ir.Fc,ir.Ac=Hr,ir.Bc=ra,ra+=qr,ir.Gd=Ue(Aa,zl),ir.Hd=0,ir.rb=Ue(pa+1,bs),ir.sb=1,ir.wa=Fa?Ue(Fa,vs):null,ir.Y=0,ir.D.Nb=0,ir.D.wa=ir.wa,ir.D.Y=ir.Y,0<ir.Aa&&(ir.D.Y+=Zr),Ee(!0),ir.oc=Hr,ir.pc=ra,ra+=832,ir.ya=Ue(ya,jl),ir.aa=0,ir.D.ya=ir.ya,ir.D.aa=ir.aa,ir.Aa==2&&(ir.D.aa+=Zr),ir.R=16*Zr,ir.B=8*Zr,Zr=(Aa=Lr[ir.L])*ir.R,Aa=Aa/2*ir.B,ir.sa=Hr,ir.ta=ra+Zr,ir.qa=ir.sa,ir.ra=ir.ta+16*Ar*ir.R+Aa,ir.Ha=ir.qa,ir.Ia=ir.ra+8*Ar*ir.B+Aa,ir.$c=0,ra+=kr,ir.mb=zr?Hr:null,ir.nb=zr?ra:null,Ee(ra+zr<=ir.Fc+ir.Vb),Zo(ir),Re(ir.Ac,ir.Bc,0,qr),Ar=1}}if(Ar){if(vr.ka=0,vr.y=ir.sa,vr.O=ir.ta,vr.f=ir.qa,vr.N=ir.ra,vr.ea=ir.Ha,vr.Vd=ir.Ia,vr.fa=ir.R,vr.Rc=ir.B,vr.F=null,vr.J=0,!nu){for(Ar=-255;255>=Ar;++Ar)ic[255+Ar]=0>Ar?-Ar:Ar;for(Ar=-1020;1020>=Ar;++Ar)Uu[1020+Ar]=-128>Ar?-128:127<Ar?127:Ar;for(Ar=-112;112>=Ar;++Ar)qu[112+Ar]=-16>Ar?-16:15<Ar?15:Ar;for(Ar=-255;510>=Ar;++Ar)sc[255+Ar]=0>Ar?0:255<Ar?255:Ar;nu=1}gi=fo,_i=ws,Rs=Qo,Xi=Hs,Vl=pu,is=Wl,wu=Dn,Os=Qn,kl=Br,Js=Wr,Ou=cr,Yc=wr,eu=ea,Vc=ga,kc=rl,xu=cs,ac=Jl,vo=Iu,hs[0]=Ds,hs[1]=Xl,hs[2]=mu,hs[3]=gu,hs[4]=us,hs[5]=Ws,hs[6]=ho,hs[7]=Eo,hs[8]=Xs,hs[9]=_l,ko[0]=Do,ko[1]=ku,ko[2]=Mu,ko[3]=el,ko[4]=Nu,ko[5]=Gs,ko[6]=Ao,Es[0]=Yl,Es[1]=tc,Es[2]=tl,Es[3]=Ys,Es[4]=To,Es[5]=xs,Es[6]=Sl,Ar=1}else Ar=0}Ar&&(Ar=(function(Xa,os){for(Xa.M=0;Xa.M<Xa.Va;++Xa.M){var Da,va=Xa.Jc[Xa.M&Xa.Xb],ha=Xa.m,Di=Xa;for(Da=0;Da<Di.za;++Da){var Oa=ha,za=Di,wa=za.Ac,$a=za.Bc+4*Da,Za=za.zc,Ci=za.ya[za.aa+Da];if(za.Qa.Bb?Ci.$b=wn(Oa,za.Pa.jb[0])?2+wn(Oa,za.Pa.jb[2]):wn(Oa,za.Pa.jb[1]):Ci.$b=0,za.kc&&(Ci.Ad=wn(Oa,za.Bd)),Ci.Za=!wn(Oa,145)+0,Ci.Za){var Zi=Ci.Ob,Qi=0;for(za=0;4>za;++za){var Fi,Wa=Za[0+za];for(Fi=0;4>Fi;++Fi){Wa=Nc[wa[$a+Fi]][Wa];for(var Qa=Nl[wn(Oa,Wa[0])];0<Qa;)Qa=Nl[2*Qa+wn(Oa,Wa[Qa])];Wa=-Qa,wa[$a+Fi]=Wa}Be(Zi,Qi,wa,$a,4),Qi+=4,Za[0+za]=Wa}}else Wa=wn(Oa,156)?wn(Oa,128)?1:3:wn(Oa,163)?2:0,Ci.Ob[0]=Wa,Re(wa,$a,Wa,4),Re(Za,0,Wa,4);Ci.Dd=wn(Oa,142)?wn(Oa,114)?wn(Oa,183)?1:3:2:0}if(Di.m.Ka)return ei(Xa,7,"Premature end-of-partition0 encountered.");for(;Xa.ja<Xa.za;++Xa.ja){if(Di=va,Oa=(ha=Xa).rb[ha.sb-1],wa=ha.rb[ha.sb+ha.ja],Da=ha.ya[ha.aa+ha.ja],$a=ha.kc?Da.Ad:0)Oa.la=wa.la=0,Da.Za||(Oa.Na=wa.Na=0),Da.Hc=0,Da.Gc=0,Da.ia=0;else{var Oi,Ra;if(Oa=wa,wa=Di,$a=ha.Pa.Xc,Za=ha.ya[ha.aa+ha.ja],Ci=ha.pb[Za.$b],za=Za.ad,Zi=0,Qi=ha.rb[ha.sb-1],Wa=Fi=0,Re(za,Zi,0,384),Za.Za)var ds=0,Mo=$a[3];else{Qa=Me(16);var Ui=Oa.Na+Qi.Na;if(Ui=Ki(wa,$a[1],Ui,Ci.Eb,0,Qa,0),Oa.Na=Qi.Na=(0<Ui)+0,1<Ui)gi(Qa,0,za,Zi);else{var no=Qa[0]+3>>3;for(Qa=0;256>Qa;Qa+=16)za[Zi+Qa]=no}ds=1,Mo=$a[0]}var yi=15&Oa.la,es=15&Qi.la;for(Qa=0;4>Qa;++Qa){var ro=1&es;for(no=Ra=0;4>no;++no)yi=yi>>1|(ro=(Ui=Ki(wa,Mo,Ui=ro+(1&yi),Ci.Sc,ds,za,Zi))>ds)<<7,Ra=Ra<<2|(3<Ui?3:1<Ui?2:za[Zi+0]!=0),Zi+=16;yi>>=4,es=es>>1|ro<<7,Fi=(Fi<<8|Ra)>>>0}for(Mo=yi,ds=es>>4,Oi=0;4>Oi;Oi+=2){for(Ra=0,yi=Oa.la>>4+Oi,es=Qi.la>>4+Oi,Qa=0;2>Qa;++Qa){for(ro=1&es,no=0;2>no;++no)Ui=ro+(1&yi),yi=yi>>1|(ro=0<(Ui=Ki(wa,$a[2],Ui,Ci.Qc,0,za,Zi)))<<3,Ra=Ra<<2|(3<Ui?3:1<Ui?2:za[Zi+0]!=0),Zi+=16;yi>>=2,es=es>>1|ro<<5}Wa|=Ra<<4*Oi,Mo|=yi<<4<<Oi,ds|=(240&es)<<Oi}Oa.la=Mo,Qi.la=ds,Za.Hc=Fi,Za.Gc=Wa,Za.ia=43690&Wa?0:Ci.ia,$a=!(Fi|Wa)}if(0<ha.L&&(ha.wa[ha.Y+ha.ja]=ha.gd[Da.$b][Da.Za],ha.wa[ha.Y+ha.ja].La|=!$a),Di.Ka)return ei(Xa,7,"Premature end-of-file encountered.")}if(Zo(Xa),ha=os,Di=1,Da=(va=Xa).D,Oa=0<va.L&&va.M>=va.zb&&va.M<=va.Va,va.Aa==0)t:{if(Da.M=va.M,Da.uc=Oa,go(va,Da),Di=1,Da=(Ra=va.D).Nb,Oa=(Wa=Lr[va.L])*va.R,wa=Wa/2*va.B,Qa=16*Da*va.R,no=8*Da*va.B,$a=va.sa,Za=va.ta-Oa+Qa,Ci=va.qa,za=va.ra-wa+no,Zi=va.Ha,Qi=va.Ia-wa+no,es=(yi=Ra.M)==0,Fi=yi>=va.Va-1,va.Aa==2&&go(va,Ra),Ra.uc)for(ro=(Ui=va).D.M,Ee(Ui.D.uc),Ra=Ui.yb;Ra<Ui.Hb;++Ra){ds=Ra,Mo=ro;var ks=(Si=(ms=Ui).D).Nb;Oi=ms.R;var Si=Si.wa[Si.Y+ds],si=ms.sa,qs=ms.ta+16*ks*Oi+16*ds,Ms=Si.dd,di=Si.tc;if(di!=0)if(Ee(3<=di),ms.L==1)0<ds&&xu(si,qs,Oi,di+4),Si.La&&vo(si,qs,Oi,di),0<Mo&&kc(si,qs,Oi,di+4),Si.La&&ac(si,qs,Oi,di);else{var ao=ms.B,ps=ms.qa,Ll=ms.ra+8*ks*ao+8*ds,pl=ms.Ha,ms=ms.Ia+8*ks*ao+8*ds;ks=Si.ld,0<ds&&(Os(si,qs,Oi,di+4,Ms,ks),Js(ps,Ll,pl,ms,ao,di+4,Ms,ks)),Si.La&&(Yc(si,qs,Oi,di,Ms,ks),Vc(ps,Ll,pl,ms,ao,di,Ms,ks)),0<Mo&&(wu(si,qs,Oi,di+4,Ms,ks),kl(ps,Ll,pl,ms,ao,di+4,Ms,ks)),Si.La&&(Ou(si,qs,Oi,di,Ms,ks),eu(ps,Ll,pl,ms,ao,di,Ms,ks))}}if(va.ia&&alert("todo:DitherRow"),ha.put!=null){if(Ra=16*yi,yi=16*(yi+1),es?(ha.y=va.sa,ha.O=va.ta+Qa,ha.f=va.qa,ha.N=va.ra+no,ha.ea=va.Ha,ha.W=va.Ia+no):(Ra-=Wa,ha.y=$a,ha.O=Za,ha.f=Ci,ha.N=za,ha.ea=Zi,ha.W=Qi),Fi||(yi-=Wa),yi>ha.o&&(yi=ha.o),ha.F=null,ha.J=null,va.Fa!=null&&0<va.Fa.length&&Ra<yi&&(ha.J=mi(va,ha,Ra,yi-Ra),ha.F=va.mb,ha.F==null&&ha.F.length==0)){Di=ei(va,3,"Could not decode alpha data.");break t}Ra<ha.j&&(Wa=ha.j-Ra,Ra=ha.j,Ee(!(1&Wa)),ha.O+=va.R*Wa,ha.N+=va.B*(Wa>>1),ha.W+=va.B*(Wa>>1),ha.F!=null&&(ha.J+=ha.width*Wa)),Ra<yi&&(ha.O+=ha.v,ha.N+=ha.v>>1,ha.W+=ha.v>>1,ha.F!=null&&(ha.J+=ha.v),ha.ka=Ra-ha.j,ha.U=ha.va-ha.v,ha.T=yi-Ra,Di=ha.put(ha))}Da+1!=va.Ic||Fi||(Be(va.sa,va.ta-Oa,$a,Za+16*va.R,Oa),Be(va.qa,va.ra-wa,Ci,za+8*va.B,wa),Be(va.Ha,va.Ia-wa,Zi,Qi+8*va.B,wa))}if(!Di)return ei(Xa,6,"Output aborted.")}return 1})(ir,vr)),vr.bc!=null&&vr.bc(vr),Ar&=1}return Ar?(ir.cb=0,Ar):0})(rn,Wn)||(gn=rn.a)}}else gn=rn.a}gn==0&&nr.Oa!=null&&nr.Oa.fd&&(gn=rs(nr.ba))}nr=gn}tr=nr!=0?null:11>tr?rr.f.RGBA.eb:rr.f.kb.y}else tr=null;return tr};var la=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function $e(sn,kn){for(var Pn="",_n=0;_n<4;_n++)Pn+=String.fromCharCode(sn[kn++]);return Pn}function ze(sn,kn){return sn[kn+0]|sn[kn+1]<<8}function Xe(sn,kn){return(sn[kn+0]|sn[kn+1]<<8|sn[kn+2]<<16)>>>0}function We(sn,kn){return(sn[kn+0]|sn[kn+1]<<8|sn[kn+2]<<16|sn[kn+3]<<24)>>>0}new qe;var Ge=[0],tn=[0],en=[],an=new qe,Ye=Ce,Ze=(function(sn,kn){var Pn={},_n=0,Mn=!1,yn=0,zn=0;if(Pn.frames=[],!(function(An,$n){for(var Nn=0;Nn<4;Nn++)if(An[$n+Nn]!="RIFF".charCodeAt(Nn))return!0;return!1})(sn,kn)){for(We(sn,kn+=4),kn+=8;kn<sn.length;){var Ln=$e(sn,kn),Vn=We(sn,kn+=4);kn+=4;var On=Vn+(1&Vn);switch(Ln){case"VP8 ":case"VP8L":Pn.frames[_n]===void 0&&(Pn.frames[_n]={}),(Gn=Pn.frames[_n]).src_off=Mn?zn:kn-8,Gn.src_size=yn+Vn+8,_n++,Mn&&(Mn=!1,yn=0,zn=0);break;case"VP8X":(Gn=Pn.header={}).feature_flags=sn[kn];var Un=kn+4;Gn.canvas_width=1+Xe(sn,Un),Un+=3,Gn.canvas_height=1+Xe(sn,Un),Un+=3;break;case"ALPH":Mn=!0,yn=On+8,zn=kn-8;break;case"ANIM":(Gn=Pn.header).bgcolor=We(sn,kn),Un=kn+4,Gn.loop_count=ze(sn,Un),Un+=2;break;case"ANMF":var jn,Gn;(Gn=Pn.frames[_n]={}).offset_x=2*Xe(sn,kn),kn+=3,Gn.offset_y=2*Xe(sn,kn),kn+=3,Gn.width=1+Xe(sn,kn),kn+=3,Gn.height=1+Xe(sn,kn),kn+=3,Gn.duration=Xe(sn,kn),kn+=3,jn=sn[kn++],Gn.dispose=1&jn,Gn.blend=jn>>1&1}Ln!="ANMF"&&(kn+=On)}return Pn}})(Ye,0);Ze.response=Ye,Ze.rgbaoutput=!0,Ze.dataurl=!1;var St=Ze.header?Ze.header:null,Qe=Ze.frames?Ze.frames:null;if(St){St.loop_counter=St.loop_count,Ge=[St.canvas_height],tn=[St.canvas_width];for(var Je=0;Je<Qe.length&&Qe[Je].blend!=0;Je++);}var on=Qe[0],hn=an.WebPDecodeRGBA(Ye,on.src_off,on.src_size,tn,Ge);on.rgba=hn,on.imgwidth=tn[0],on.imgheight=Ge[0];for(var dn=0;dn<tn[0]*Ge[0]*4;dn++)en[dn]=hn[dn];return this.width=tn,this.height=Ge,this.data=en,this}(function(Ce){var Ee,Te,Be,Re,Me,Ue,De,qe,$e,ze=function(An){return An=An||{},this.isStrokeTransparent=An.isStrokeTransparent||!1,this.strokeOpacity=An.strokeOpacity||1,this.strokeStyle=An.strokeStyle||"#000000",this.fillStyle=An.fillStyle||"#000000",this.isFillTransparent=An.isFillTransparent||!1,this.fillOpacity=An.fillOpacity||1,this.font=An.font||"10px sans-serif",this.textBaseline=An.textBaseline||"alphabetic",this.textAlign=An.textAlign||"left",this.lineWidth=An.lineWidth||1,this.lineJoin=An.lineJoin||"miter",this.lineCap=An.lineCap||"butt",this.path=An.path||[],this.transform=An.transform!==void 0?An.transform.clone():new qe,this.globalCompositeOperation=An.globalCompositeOperation||"normal",this.globalAlpha=An.globalAlpha||1,this.clip_path=An.clip_path||[],this.currentPoint=An.currentPoint||new Ue,this.miterLimit=An.miterLimit||10,this.lastPoint=An.lastPoint||new Ue,this.lineDashOffset=An.lineDashOffset||0,this.lineDash=An.lineDash||[],this.margin=An.margin||[0,0,0,0],this.prevPageLastElemOffset=An.prevPageLastElemOffset||0,this.ignoreClearRect=typeof An.ignoreClearRect!="boolean"||An.ignoreClearRect,this};Ce.events.push(["initialized",function(){this.context2d=new Xe(this),Ee=this.internal.f2,Te=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,Re=this.internal.getHorizontalCoordinate,Me=this.internal.getVerticalCoordinate,Ue=this.internal.Point,De=this.internal.Rectangle,qe=this.internal.Matrix,$e=new ze}]);var Xe=function(An){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $n=An;Object.defineProperty(this,"pdf",{get:function(){return $n}});var Nn=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Nn},set:function(vn){Nn=!!vn}});var En=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return En},set:function(vn){En=!!vn}});var Sn=0;Object.defineProperty(this,"posX",{get:function(){return Sn},set:function(vn){isNaN(vn)||(Sn=vn)}});var pn=0;Object.defineProperty(this,"posY",{get:function(){return pn},set:function(vn){isNaN(vn)||(pn=vn)}}),Object.defineProperty(this,"margin",{get:function(){return $e.margin},set:function(vn){var qn;typeof vn=="number"?qn=[vn,vn,vn,vn]:((qn=new Array(4))[0]=vn[0],qn[1]=vn.length>=2?vn[1]:qn[0],qn[2]=vn.length>=3?vn[2]:qn[0],qn[3]=vn.length>=4?vn[3]:qn[1]),$e.margin=qn}});var mn=!1;Object.defineProperty(this,"autoPaging",{get:function(){return mn},set:function(vn){mn=vn}});var un=0;Object.defineProperty(this,"lastBreak",{get:function(){return un},set:function(vn){un=vn}});var wn=[];Object.defineProperty(this,"pageBreaks",{get:function(){return wn},set:function(vn){wn=vn}}),Object.defineProperty(this,"ctx",{get:function(){return $e},set:function(vn){vn instanceof ze&&($e=vn)}}),Object.defineProperty(this,"path",{get:function(){return $e.path},set:function(vn){$e.path=vn}});var xn=[];Object.defineProperty(this,"ctxStack",{get:function(){return xn},set:function(vn){xn=vn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(vn){var qn;qn=We(vn),this.ctx.fillStyle=qn.style,this.ctx.isFillTransparent=qn.a===0,this.ctx.fillOpacity=qn.a,this.pdf.setFillColor(qn.r,qn.g,qn.b,{a:qn.a}),this.pdf.setTextColor(qn.r,qn.g,qn.b,{a:qn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(vn){var qn=We(vn);this.ctx.strokeStyle=qn.style,this.ctx.isStrokeTransparent=qn.a===0,this.ctx.strokeOpacity=qn.a,qn.a===0?this.pdf.setDrawColor(255,255,255):(qn.a,this.pdf.setDrawColor(qn.r,qn.g,qn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(vn){["butt","round","square"].indexOf(vn)!==-1&&(this.ctx.lineCap=vn,this.pdf.setLineCap(vn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(vn){isNaN(vn)||(this.ctx.lineWidth=vn,this.pdf.setLineWidth(vn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(vn){["bevel","round","miter"].indexOf(vn)!==-1&&(this.ctx.lineJoin=vn,this.pdf.setLineJoin(vn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(vn){isNaN(vn)||(this.ctx.miterLimit=vn,this.pdf.setMiterLimit(vn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(vn){this.ctx.textBaseline=vn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(vn){["right","end","center","left","start"].indexOf(vn)!==-1&&(this.ctx.textAlign=vn)}});var Rn=null,Hn=null;Object.defineProperty(this,"fontFaces",{get:function(){return Hn},set:function(vn){Rn=null,Hn=vn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(vn){var qn;if(this.ctx.font=vn,(qn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(vn))!==null){var In=qn[1];qn[2];var cn=qn[3],bn=qn[4];qn[5];var Cn=qn[6],Yn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bn)[2];bn=Math.floor(Yn==="px"?parseFloat(bn)*this.pdf.internal.scaleFactor:Yn==="em"?parseFloat(bn)*this.pdf.getFontSize():parseFloat(bn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bn);var Jn=(function(Dr){var hr,Ur,Qr=[],ia=Dr.trim();if(ia==="")return Jt;if(ia in Mt)return[Mt[ia]];for(;ia!=="";){switch(Ur=null,hr=(ia=Et(ia)).charAt(0)){case'"':case"'":Ur=Rt(ia.substring(1),hr);break;default:Ur=Dt(ia)}if(Ur===null||(Qr.push(Ur[0]),(ia=Et(Ur[1]))!==""&&ia.charAt(0)!==","))return Jt;ia=ia.replace(/^,/,"")}return Qr})(Cn);if(this.fontFaces){var er=(function(Dr,hr){if(Rn===null){var Ur=(function(Qr){var ia=[];return Object.keys(Qr).forEach(function(Er){Qr[Er].forEach(function(Kr){var na=null;switch(Kr){case"bold":na={family:Er,weight:"bold"};break;case"italic":na={family:Er,style:"italic"};break;case"bolditalic":na={family:Er,weight:"bold",style:"italic"};break;case"":case"normal":na={family:Er}}na!==null&&(na.ref={name:Er,style:Kr},ia.push(na))})}),ia})(Dr.getFontList());Rn=(function(Qr){for(var ia={},Er=0;Er<Qr.length;++Er){var Kr=Ct(Qr[Er]),na=Kr.family,Pr=Kr.stretch,fr=Kr.style,gr=Kr.weight;ia[na]=ia[na]||{},ia[na][Pr]=ia[na][Pr]||{},ia[na][Pr][fr]=ia[na][Pr][fr]||{},ia[na][Pr][fr][gr]=Kr}return ia})(Ur.concat(hr))}return Rn})(this.pdf,this.fontFaces),ur=Jn.map(function(Dr){return{family:Dr,stretch:"normal",weight:cn,style:In}}),dr=(function(Dr,hr,Ur){for(var Qr=(Ur=Ur||{}).defaultFontFamily||"times",ia=Object.assign({},Bt,Ur.genericFontFamilies||{}),Er=null,Kr=null,na=0;na<hr.length;++na)if(ia[(Er=Ct(hr[na])).family]&&(Er.family=ia[Er.family]),Dr.hasOwnProperty(Er.family)){Kr=Dr[Er.family];break}if(!(Kr=Kr||Dr[Qr]))throw new Error("Could not find a font-family for the rule '"+qt(Er)+"' and default family '"+Qr+"'.");if(Kr=(function(Pr,fr){if(fr[Pr])return fr[Pr];var gr=Ft[Pr],Mr=gr<=Ft.normal?-1:1,sa=Ot(fr,kt,gr,Mr);if(!sa)throw new Error("Could not find a matching font-stretch value for "+Pr);return sa})(Er.stretch,Kr),Kr=(function(Pr,fr){if(fr[Pr])return fr[Pr];for(var gr=Pt[Pr],Mr=0;Mr<gr.length;++Mr)if(fr[gr[Mr]])return fr[gr[Mr]];throw new Error("Could not find a matching font-style for "+Pr)})(Er.style,Kr),!(Kr=(function(Pr,fr){if(fr[Pr])return fr[Pr];if(Pr===400&&fr[500])return fr[500];if(Pr===500&&fr[400])return fr[400];var gr=jt[Pr],Mr=Ot(fr,It,gr,Pr<400?-1:1);if(!Mr)throw new Error("Could not find a matching font-weight for value "+Pr);return Mr})(Er.weight,Kr)))throw new Error("Failed to resolve a font for the rule '"+qt(Er)+"'.");return Kr})(er,ur);this.pdf.setFont(dr.ref.name,dr.ref.style)}else{var br="";(cn==="bold"||parseInt(cn,10)>=700||In==="bold")&&(br="bold"),In==="italic"&&(br+="italic"),br.length===0&&(br="normal");for(var yr="",jr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Gr=0;Gr<Jn.length;Gr++){if(this.pdf.internal.getFont(Jn[Gr],br,{noFallback:!0,disableWarning:!0})!==void 0){yr=Jn[Gr];break}if(br==="bolditalic"&&this.pdf.internal.getFont(Jn[Gr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yr=Jn[Gr],br="bold";else if(this.pdf.internal.getFont(Jn[Gr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yr=Jn[Gr],br="normal";break}}if(yr===""){for(var $r=0;$r<Jn.length;$r++)if(jr[Jn[$r]]){yr=jr[Jn[$r]];break}}yr=yr===""?"Times":yr,this.pdf.setFont(yr,br)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(vn){this.ctx.globalCompositeOperation=vn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(vn){this.ctx.globalAlpha=vn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(vn){this.ctx.lineDashOffset=vn,Gn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(vn){this.ctx.lineDash=vn,Gn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(vn){this.ctx.ignoreClearRect=!!vn}})};Xe.prototype.setLineDash=function(An){this.lineDash=An},Xe.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Xe.prototype.fill=function(){Qe.call(this,"fill",!1)},Xe.prototype.stroke=function(){Qe.call(this,"stroke",!1)},Xe.prototype.beginPath=function(){this.path=[{type:"begin"}]},Xe.prototype.moveTo=function(An,$n){if(isNaN(An)||isNaN($n))throw o$5.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Nn=this.ctx.transform.applyToPoint(new Ue(An,$n));this.path.push({type:"mt",x:Nn.x,y:Nn.y}),this.ctx.lastPoint=new Ue(An,$n)},Xe.prototype.closePath=function(){var An=new Ue(0,0),$n=0;for($n=this.path.length-1;$n!==-1;$n--)if(this.path[$n].type==="begin"&&_typeof(this.path[$n+1])==="object"&&typeof this.path[$n+1].x=="number"){An=new Ue(this.path[$n+1].x,this.path[$n+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ue(An.x,An.y)},Xe.prototype.lineTo=function(An,$n){if(isNaN(An)||isNaN($n))throw o$5.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Nn=this.ctx.transform.applyToPoint(new Ue(An,$n));this.path.push({type:"lt",x:Nn.x,y:Nn.y}),this.ctx.lastPoint=new Ue(Nn.x,Nn.y)},Xe.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Qe.call(this,null,!0)},Xe.prototype.quadraticCurveTo=function(An,$n,Nn,En){if(isNaN(Nn)||isNaN(En)||isNaN(An)||isNaN($n))throw o$5.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Sn=this.ctx.transform.applyToPoint(new Ue(Nn,En)),pn=this.ctx.transform.applyToPoint(new Ue(An,$n));this.path.push({type:"qct",x1:pn.x,y1:pn.y,x:Sn.x,y:Sn.y}),this.ctx.lastPoint=new Ue(Sn.x,Sn.y)},Xe.prototype.bezierCurveTo=function(An,$n,Nn,En,Sn,pn){if(isNaN(Sn)||isNaN(pn)||isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En))throw o$5.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var mn=this.ctx.transform.applyToPoint(new Ue(Sn,pn)),un=this.ctx.transform.applyToPoint(new Ue(An,$n)),wn=this.ctx.transform.applyToPoint(new Ue(Nn,En));this.path.push({type:"bct",x1:un.x,y1:un.y,x2:wn.x,y2:wn.y,x:mn.x,y:mn.y}),this.ctx.lastPoint=new Ue(mn.x,mn.y)},Xe.prototype.arc=function(An,$n,Nn,En,Sn,pn){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En)||isNaN(Sn))throw o$5.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pn=!!pn,!this.ctx.transform.isIdentity){var mn=this.ctx.transform.applyToPoint(new Ue(An,$n));An=mn.x,$n=mn.y;var un=this.ctx.transform.applyToPoint(new Ue(0,Nn)),wn=this.ctx.transform.applyToPoint(new Ue(0,0));Nn=Math.sqrt(Math.pow(un.x-wn.x,2)+Math.pow(un.y-wn.y,2))}Math.abs(Sn-En)>=2*Math.PI&&(En=0,Sn=2*Math.PI),this.path.push({type:"arc",x:An,y:$n,radius:Nn,startAngle:En,endAngle:Sn,counterclockwise:pn})},Xe.prototype.arcTo=function(An,$n,Nn,En,Sn){throw new Error("arcTo not implemented.")},Xe.prototype.rect=function(An,$n,Nn,En){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En))throw o$5.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(An,$n),this.lineTo(An+Nn,$n),this.lineTo(An+Nn,$n+En),this.lineTo(An,$n+En),this.lineTo(An,$n),this.lineTo(An+Nn,$n),this.lineTo(An,$n)},Xe.prototype.fillRect=function(An,$n,Nn,En){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En))throw o$5.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Ge.call(this)){var Sn={};this.lineCap!=="butt"&&(Sn.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Sn.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(An,$n,Nn,En),this.fill(),Sn.hasOwnProperty("lineCap")&&(this.lineCap=Sn.lineCap),Sn.hasOwnProperty("lineJoin")&&(this.lineJoin=Sn.lineJoin)}},Xe.prototype.strokeRect=function(An,$n,Nn,En){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En))throw o$5.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");tn.call(this)||(this.beginPath(),this.rect(An,$n,Nn,En),this.stroke())},Xe.prototype.clearRect=function(An,$n,Nn,En){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En))throw o$5.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(An,$n,Nn,En))},Xe.prototype.save=function(An){An=typeof An!="boolean"||An;for(var $n=this.pdf.internal.getCurrentPageInfo().pageNumber,Nn=0;Nn<this.pdf.internal.getNumberOfPages();Nn++)this.pdf.setPage(Nn+1),this.pdf.internal.out("q");if(this.pdf.setPage($n),An){this.ctx.fontSize=this.pdf.internal.getFontSize();var En=new ze(this.ctx);this.ctxStack.push(this.ctx),this.ctx=En}},Xe.prototype.restore=function(An){An=typeof An!="boolean"||An;for(var $n=this.pdf.internal.getCurrentPageInfo().pageNumber,Nn=0;Nn<this.pdf.internal.getNumberOfPages();Nn++)this.pdf.setPage(Nn+1),this.pdf.internal.out("Q");this.pdf.setPage($n),An&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Xe.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var We=function(An){var $n,Nn,En,Sn;if(An.isCanvasGradient===!0&&(An=An.getColor()),!An)return{r:0,g:0,b:0,a:0,style:An};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(An))$n=0,Nn=0,En=0,Sn=0;else{var pn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(An);if(pn!==null)$n=parseInt(pn[1]),Nn=parseInt(pn[2]),En=parseInt(pn[3]),Sn=1;else if((pn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(An))!==null)$n=parseInt(pn[1]),Nn=parseInt(pn[2]),En=parseInt(pn[3]),Sn=parseFloat(pn[4]);else{if(Sn=1,typeof An=="string"&&An.charAt(0)!=="#"){var mn=new h$2(An);An=mn.ok?mn.toHex():"#000000"}An.length===4?($n=An.substring(1,2),$n+=$n,Nn=An.substring(2,3),Nn+=Nn,En=An.substring(3,4),En+=En):($n=An.substring(1,3),Nn=An.substring(3,5),En=An.substring(5,7)),$n=parseInt($n,16),Nn=parseInt(Nn,16),En=parseInt(En,16)}}return{r:$n,g:Nn,b:En,a:Sn,style:An}},Ge=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},tn=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Xe.prototype.fillText=function(An,$n,Nn,En){if(isNaN($n)||isNaN(Nn)||typeof An!="string")throw o$5.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(En=isNaN(En)?void 0:En,!Ge.call(this)){var Sn=On(this.ctx.transform.rotation),pn=this.ctx.transform.scaleX;_n.call(this,{text:An,x:$n,y:Nn,scale:pn,angle:Sn,align:this.textAlign,maxWidth:En})}},Xe.prototype.strokeText=function(An,$n,Nn,En){if(isNaN($n)||isNaN(Nn)||typeof An!="string")throw o$5.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!tn.call(this)){En=isNaN(En)?void 0:En;var Sn=On(this.ctx.transform.rotation),pn=this.ctx.transform.scaleX;_n.call(this,{text:An,x:$n,y:Nn,scale:pn,renderingMode:"stroke",angle:Sn,align:this.textAlign,maxWidth:En})}},Xe.prototype.measureText=function(An){if(typeof An!="string")throw o$5.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $n=this.pdf,Nn=this.pdf.internal.scaleFactor,En=$n.internal.getFontSize(),Sn=$n.getStringUnitWidth(An)*En/$n.internal.scaleFactor;return new function(pn){var mn=(pn=pn||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return mn}}),this}({width:Sn*=Math.round(96*Nn/72*1e4)/1e4})},Xe.prototype.scale=function(An,$n){if(isNaN(An)||isNaN($n))throw o$5.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Nn=new qe(An,0,0,$n,0,0);this.ctx.transform=this.ctx.transform.multiply(Nn)},Xe.prototype.rotate=function(An){if(isNaN(An))throw o$5.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $n=new qe(Math.cos(An),Math.sin(An),-Math.sin(An),Math.cos(An),0,0);this.ctx.transform=this.ctx.transform.multiply($n)},Xe.prototype.translate=function(An,$n){if(isNaN(An)||isNaN($n))throw o$5.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Nn=new qe(1,0,0,1,An,$n);this.ctx.transform=this.ctx.transform.multiply(Nn)},Xe.prototype.transform=function(An,$n,Nn,En,Sn,pn){if(isNaN(An)||isNaN($n)||isNaN(Nn)||isNaN(En)||isNaN(Sn)||isNaN(pn))throw o$5.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var mn=new qe(An,$n,Nn,En,Sn,pn);this.ctx.transform=this.ctx.transform.multiply(mn)},Xe.prototype.setTransform=function(An,$n,Nn,En,Sn,pn){An=isNaN(An)?1:An,$n=isNaN($n)?0:$n,Nn=isNaN(Nn)?0:Nn,En=isNaN(En)?1:En,Sn=isNaN(Sn)?0:Sn,pn=isNaN(pn)?0:pn,this.ctx.transform=new qe(An,$n,Nn,En,Sn,pn)};var en=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Xe.prototype.drawImage=function(An,$n,Nn,En,Sn,pn,mn,un,wn){var xn=this.pdf.getImageProperties(An),Rn=1,Hn=1,vn=1,qn=1;En!==void 0&&un!==void 0&&(vn=un/En,qn=wn/Sn,Rn=xn.width/En*un/En,Hn=xn.height/Sn*wn/Sn),pn===void 0&&(pn=$n,mn=Nn,$n=0,Nn=0),En!==void 0&&un===void 0&&(un=En,wn=Sn),En===void 0&&un===void 0&&(un=xn.width,wn=xn.height);for(var In,cn=this.ctx.transform.decompose(),bn=On(cn.rotate.shx),Cn=new qe,Yn=(Cn=(Cn=(Cn=Cn.multiply(cn.translate)).multiply(cn.skew)).multiply(cn.scale)).applyToRectangle(new De(pn-$n*vn,mn-Nn*qn,En*Rn,Sn*Hn)),Jn=an.call(this,Yn),er=[],ur=0;ur<Jn.length;ur+=1)er.indexOf(Jn[ur])===-1&&er.push(Jn[ur]);if(St(er),this.autoPaging)for(var dr=er[0],br=er[er.length-1],yr=dr;yr<br+1;yr++){this.pdf.setPage(yr);var jr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gr=yr===1?this.posY+this.margin[0]:this.margin[0],$r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],hr=yr===1?0:$r+(yr-2)*Dr;if(this.ctx.clip_path.length!==0){var Ur=this.path;In=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(In,this.posX+this.margin[3],-hr+Gr+this.ctx.prevPageLastElemOffset),Je.call(this,"fill",!0),this.path=Ur}var Qr=JSON.parse(JSON.stringify(Yn));Qr=Ze([Qr],this.posX+this.margin[3],-hr+Gr+this.ctx.prevPageLastElemOffset)[0];var ia=(yr>dr||yr<br)&&en.call(this);ia&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jr,Dr,null).clip().discardPath()),this.pdf.addImage(An,"JPEG",Qr.x,Qr.y,Qr.w,Qr.h,null,null,bn),ia&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(An,"JPEG",Yn.x,Yn.y,Yn.w,Yn.h,null,null,bn)};var an=function(An,$n,Nn){var En=[];$n=$n||this.pdf.internal.pageSize.width,Nn=Nn||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Sn=this.posY+this.ctx.prevPageLastElemOffset;switch(An.type){default:case"mt":case"lt":En.push(Math.floor((An.y+Sn)/Nn)+1);break;case"arc":En.push(Math.floor((An.y+Sn-An.radius)/Nn)+1),En.push(Math.floor((An.y+Sn+An.radius)/Nn)+1);break;case"qct":var pn=Un(this.ctx.lastPoint.x,this.ctx.lastPoint.y,An.x1,An.y1,An.x,An.y);En.push(Math.floor((pn.y+Sn)/Nn)+1),En.push(Math.floor((pn.y+pn.h+Sn)/Nn)+1);break;case"bct":var mn=jn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,An.x1,An.y1,An.x2,An.y2,An.x,An.y);En.push(Math.floor((mn.y+Sn)/Nn)+1),En.push(Math.floor((mn.y+mn.h+Sn)/Nn)+1);break;case"rect":En.push(Math.floor((An.y+Sn)/Nn)+1),En.push(Math.floor((An.y+An.h+Sn)/Nn)+1)}for(var un=0;un<En.length;un+=1)for(;this.pdf.internal.getNumberOfPages()<En[un];)Ye.call(this);return En},Ye=function(){var An=this.fillStyle,$n=this.strokeStyle,Nn=this.font,En=this.lineCap,Sn=this.lineWidth,pn=this.lineJoin;this.pdf.addPage(),this.fillStyle=An,this.strokeStyle=$n,this.font=Nn,this.lineCap=En,this.lineWidth=Sn,this.lineJoin=pn},Ze=function(An,$n,Nn){for(var En=0;En<An.length;En++)switch(An[En].type){case"bct":An[En].x2+=$n,An[En].y2+=Nn;case"qct":An[En].x1+=$n,An[En].y1+=Nn;default:An[En].x+=$n,An[En].y+=Nn}return An},St=function(An){return An.sort(function($n,Nn){return $n-Nn})},Qe=function(An,$n){for(var Nn,En,Sn=this.fillStyle,pn=this.strokeStyle,mn=this.lineCap,un=this.lineWidth,wn=Math.abs(un*this.ctx.transform.scaleX),xn=this.lineJoin,Rn=JSON.parse(JSON.stringify(this.path)),Hn=JSON.parse(JSON.stringify(this.path)),vn=[],qn=0;qn<Hn.length;qn++)if(Hn[qn].x!==void 0)for(var In=an.call(this,Hn[qn]),cn=0;cn<In.length;cn+=1)vn.indexOf(In[cn])===-1&&vn.push(In[cn]);for(var bn=0;bn<vn.length;bn++)for(;this.pdf.internal.getNumberOfPages()<vn[bn];)Ye.call(this);if(St(vn),this.autoPaging)for(var Cn=vn[0],Yn=vn[vn.length-1],Jn=Cn;Jn<Yn+1;Jn++){this.pdf.setPage(Jn),this.fillStyle=Sn,this.strokeStyle=pn,this.lineCap=mn,this.lineWidth=wn,this.lineJoin=xn;var er=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ur=Jn===1?this.posY+this.margin[0]:this.margin[0],dr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],br=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yr=Jn===1?0:dr+(Jn-2)*br;if(this.ctx.clip_path.length!==0){var jr=this.path;Nn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Nn,this.posX+this.margin[3],-yr+ur+this.ctx.prevPageLastElemOffset),Je.call(this,An,!0),this.path=jr}if(En=JSON.parse(JSON.stringify(Rn)),this.path=Ze(En,this.posX+this.margin[3],-yr+ur+this.ctx.prevPageLastElemOffset),$n===!1||Jn===0){var Gr=(Jn>Cn||Jn<Yn)&&en.call(this);Gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],er,br,null).clip().discardPath()),Je.call(this,An,$n),Gr&&this.pdf.restoreGraphicsState()}this.lineWidth=un}else this.lineWidth=wn,Je.call(this,An,$n),this.lineWidth=un;this.path=Rn},Je=function(An,$n){if((An!=="stroke"||$n||!tn.call(this))&&(An==="stroke"||$n||!Ge.call(this))){for(var Nn,En,Sn=[],pn=this.path,mn=0;mn<pn.length;mn++){var un=pn[mn];switch(un.type){case"begin":Sn.push({begin:!0});break;case"close":Sn.push({close:!0});break;case"mt":Sn.push({start:un,deltas:[],abs:[]});break;case"lt":var wn=Sn.length;if(pn[mn-1]&&!isNaN(pn[mn-1].x)&&(Nn=[un.x-pn[mn-1].x,un.y-pn[mn-1].y],wn>0)){for(;wn>=0;wn--)if(Sn[wn-1].close!==!0&&Sn[wn-1].begin!==!0){Sn[wn-1].deltas.push(Nn),Sn[wn-1].abs.push(un);break}}break;case"bct":Nn=[un.x1-pn[mn-1].x,un.y1-pn[mn-1].y,un.x2-pn[mn-1].x,un.y2-pn[mn-1].y,un.x-pn[mn-1].x,un.y-pn[mn-1].y],Sn[Sn.length-1].deltas.push(Nn);break;case"qct":var xn=pn[mn-1].x+2/3*(un.x1-pn[mn-1].x),Rn=pn[mn-1].y+2/3*(un.y1-pn[mn-1].y),Hn=un.x+2/3*(un.x1-un.x),vn=un.y+2/3*(un.y1-un.y),qn=un.x,In=un.y;Nn=[xn-pn[mn-1].x,Rn-pn[mn-1].y,Hn-pn[mn-1].x,vn-pn[mn-1].y,qn-pn[mn-1].x,In-pn[mn-1].y],Sn[Sn.length-1].deltas.push(Nn);break;case"arc":Sn.push({deltas:[],abs:[],arc:!0}),Array.isArray(Sn[Sn.length-1].abs)&&Sn[Sn.length-1].abs.push(un)}}En=$n?null:An==="stroke"?"stroke":"fill";for(var cn=!1,bn=0;bn<Sn.length;bn++)if(Sn[bn].arc)for(var Cn=Sn[bn].abs,Yn=0;Yn<Cn.length;Yn++){var Jn=Cn[Yn];Jn.type==="arc"?dn.call(this,Jn.x,Jn.y,Jn.radius,Jn.startAngle,Jn.endAngle,Jn.counterclockwise,void 0,$n,!cn):Mn.call(this,Jn.x,Jn.y),cn=!0}else if(Sn[bn].close===!0)this.pdf.internal.out("h"),cn=!1;else if(Sn[bn].begin!==!0){var er=Sn[bn].start.x,ur=Sn[bn].start.y;yn.call(this,Sn[bn].deltas,er,ur),cn=!0}En&&sn.call(this,En),$n&&kn.call(this)}},on=function(An){var $n=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Nn=$n*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return An-Nn;case"top":return An+$n-Nn;case"hanging":return An+$n-2*Nn;case"middle":return An+$n/2-Nn;default:return An}},hn=function(An){return An+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Xe.prototype.createLinearGradient=function(){var An=function(){};return An.colorStops=[],An.addColorStop=function($n,Nn){this.colorStops.push([$n,Nn])},An.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},An.isCanvasGradient=!0,An},Xe.prototype.createPattern=function(){return this.createLinearGradient()},Xe.prototype.createRadialGradient=function(){return this.createLinearGradient()};var dn=function(An,$n,Nn,En,Sn,pn,mn,un,wn){for(var xn=Ln.call(this,Nn,En,Sn,pn),Rn=0;Rn<xn.length;Rn++){var Hn=xn[Rn];Rn===0&&(wn?Pn.call(this,Hn.x1+An,Hn.y1+$n):Mn.call(this,Hn.x1+An,Hn.y1+$n)),zn.call(this,An,$n,Hn.x2,Hn.y2,Hn.x3,Hn.y3,Hn.x4,Hn.y4)}un?kn.call(this):sn.call(this,mn)},sn=function(An){switch(An){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},kn=function(){this.pdf.clip(),this.pdf.discardPath()},Pn=function(An,$n){this.pdf.internal.out(Te(An)+" "+Be($n)+" m")},_n=function(An){var $n;switch(An.align){case"right":case"end":$n="right";break;case"center":$n="center";break;default:$n="left"}var Nn=this.pdf.getTextDimensions(An.text),En=on.call(this,An.y),Sn=hn.call(this,En)-Nn.h,pn=this.ctx.transform.applyToPoint(new Ue(An.x,En)),mn=this.ctx.transform.decompose(),un=new qe;un=(un=(un=un.multiply(mn.translate)).multiply(mn.skew)).multiply(mn.scale);for(var wn,xn,Rn,Hn=this.ctx.transform.applyToRectangle(new De(An.x,En,Nn.w,Nn.h)),vn=un.applyToRectangle(new De(An.x,Sn,Nn.w,Nn.h)),qn=an.call(this,vn),In=[],cn=0;cn<qn.length;cn+=1)In.indexOf(qn[cn])===-1&&In.push(qn[cn]);if(St(In),this.autoPaging)for(var bn=In[0],Cn=In[In.length-1],Yn=bn;Yn<Cn+1;Yn++){this.pdf.setPage(Yn);var Jn=Yn===1?this.posY+this.margin[0]:this.margin[0],er=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ur=this.pdf.internal.pageSize.height-this.margin[2],dr=ur-this.margin[0],br=this.pdf.internal.pageSize.width-this.margin[1],yr=br-this.margin[3],jr=Yn===1?0:er+(Yn-2)*dr;if(this.ctx.clip_path.length!==0){var Gr=this.path;wn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(wn,this.posX+this.margin[3],-1*jr+Jn),Je.call(this,"fill",!0),this.path=Gr}var $r=Ze([JSON.parse(JSON.stringify(vn))],this.posX+this.margin[3],-jr+Jn+this.ctx.prevPageLastElemOffset)[0];An.scale>=.01&&(xn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xn*An.scale),Rn=this.lineWidth,this.lineWidth=Rn*An.scale);var Dr=this.autoPaging!=="text";if(Dr||$r.y+$r.h<=ur){if(Dr||$r.y>=Jn&&$r.x<=br){var hr=Dr?An.text:this.pdf.splitTextToSize(An.text,An.maxWidth||br-$r.x)[0],Ur=Ze([JSON.parse(JSON.stringify(Hn))],this.posX+this.margin[3],-jr+Jn+this.ctx.prevPageLastElemOffset)[0],Qr=Dr&&(Yn>bn||Yn<Cn)&&en.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yr,dr,null).clip().discardPath()),this.pdf.text(hr,Ur.x,Ur.y,{angle:An.angle,align:$n,renderingMode:An.renderingMode}),Qr&&this.pdf.restoreGraphicsState()}}else $r.y<ur&&(this.ctx.prevPageLastElemOffset+=ur-$r.y);An.scale>=.01&&(this.pdf.setFontSize(xn),this.lineWidth=Rn)}else An.scale>=.01&&(xn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xn*An.scale),Rn=this.lineWidth,this.lineWidth=Rn*An.scale),this.pdf.text(An.text,pn.x+this.posX,pn.y+this.posY,{angle:An.angle,align:$n,renderingMode:An.renderingMode,maxWidth:An.maxWidth}),An.scale>=.01&&(this.pdf.setFontSize(xn),this.lineWidth=Rn)},Mn=function(An,$n,Nn,En){Nn=Nn||0,En=En||0,this.pdf.internal.out(Te(An+Nn)+" "+Be($n+En)+" l")},yn=function(An,$n,Nn){return this.pdf.lines(An,$n,Nn,null,null)},zn=function(An,$n,Nn,En,Sn,pn,mn,un){this.pdf.internal.out([Ee(Re(Nn+An)),Ee(Me(En+$n)),Ee(Re(Sn+An)),Ee(Me(pn+$n)),Ee(Re(mn+An)),Ee(Me(un+$n)),"c"].join(" "))},Ln=function(An,$n,Nn,En){for(var Sn=2*Math.PI,pn=Math.PI/2;$n>Nn;)$n-=Sn;var mn=Math.abs(Nn-$n);mn<Sn&&En&&(mn=Sn-mn);for(var un=[],wn=En?-1:1,xn=$n;mn>1e-5;){var Rn=xn+wn*Math.min(mn,pn);un.push(Vn.call(this,An,xn,Rn)),mn-=Math.abs(Rn-xn),xn=Rn}return un},Vn=function(An,$n,Nn){var En=(Nn-$n)/2,Sn=An*Math.cos(En),pn=An*Math.sin(En),mn=Sn,un=-pn,wn=mn*mn+un*un,xn=wn+mn*Sn+un*pn,Rn=4/3*(Math.sqrt(2*wn*xn)-xn)/(mn*pn-un*Sn),Hn=mn-Rn*un,vn=un+Rn*mn,qn=Hn,In=-vn,cn=En+$n,bn=Math.cos(cn),Cn=Math.sin(cn);return{x1:An*Math.cos($n),y1:An*Math.sin($n),x2:Hn*bn-vn*Cn,y2:Hn*Cn+vn*bn,x3:qn*bn-In*Cn,y3:qn*Cn+In*bn,x4:An*Math.cos(Nn),y4:An*Math.sin(Nn)}},On=function(An){return 180*An/Math.PI},Un=function(An,$n,Nn,En,Sn,pn){var mn=An+.5*(Nn-An),un=$n+.5*(En-$n),wn=Sn+.5*(Nn-Sn),xn=pn+.5*(En-pn),Rn=Math.min(An,Sn,mn,wn),Hn=Math.max(An,Sn,mn,wn),vn=Math.min($n,pn,un,xn),qn=Math.max($n,pn,un,xn);return new De(Rn,vn,Hn-Rn,qn-vn)},jn=function(An,$n,Nn,En,Sn,pn,mn,un){var wn,xn,Rn,Hn,vn,qn,In,cn,bn,Cn,Yn,Jn,er,ur,dr=Nn-An,br=En-$n,yr=Sn-Nn,jr=pn-En,Gr=mn-Sn,$r=un-pn;for(xn=0;xn<41;xn++)bn=(In=(Rn=An+(wn=xn/40)*dr)+wn*((vn=Nn+wn*yr)-Rn))+wn*(vn+wn*(Sn+wn*Gr-vn)-In),Cn=(cn=(Hn=$n+wn*br)+wn*((qn=En+wn*jr)-Hn))+wn*(qn+wn*(pn+wn*$r-qn)-cn),xn==0?(Yn=bn,Jn=Cn,er=bn,ur=Cn):(Yn=Math.min(Yn,bn),Jn=Math.min(Jn,Cn),er=Math.max(er,bn),ur=Math.max(ur,Cn));return new De(Math.round(Yn),Math.round(Jn),Math.round(er-Yn),Math.round(ur-Jn))},Gn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var An,$n,Nn=(An=this.ctx.lineDash,$n=this.ctx.lineDashOffset,JSON.stringify({lineDash:An,lineDashOffset:$n}));this.prevLineDash!==Nn&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Nn)}}})(E$1.API),(function(Ce){var Ee=function(Ue){var De,qe,$e,ze,Xe,We,Ge,tn,en,an;for(qe=[],$e=0,ze=(Ue+=De="\0\0\0\0".slice(Ue.length%4||4)).length;ze>$e;$e+=4)(Xe=(Ue.charCodeAt($e)<<24)+(Ue.charCodeAt($e+1)<<16)+(Ue.charCodeAt($e+2)<<8)+Ue.charCodeAt($e+3))!==0?(We=(Xe=((Xe=((Xe=((Xe=(Xe-(an=Xe%85))/85)-(en=Xe%85))/85)-(tn=Xe%85))/85)-(Ge=Xe%85))/85)%85,qe.push(We+33,Ge+33,tn+33,en+33,an+33)):qe.push(122);return(function(Ye,Ze){for(var St=Ze;St>0;St--)Ye.pop()})(qe,De.length),String.fromCharCode.apply(String,qe)+"~>"},Te=function(Ue){var De,qe,$e,ze,Xe,We=String,Ge="length",tn=255,en="charCodeAt",an="slice",Ye="replace";for(Ue[an](-2),Ue=Ue[an](0,-2)[Ye](/\s/g,"")[Ye]("z","!!!!!"),$e=[],ze=0,Xe=(Ue+=De="uuuuu"[an](Ue[Ge]%5||5))[Ge];Xe>ze;ze+=5)qe=52200625*(Ue[en](ze)-33)+614125*(Ue[en](ze+1)-33)+7225*(Ue[en](ze+2)-33)+85*(Ue[en](ze+3)-33)+(Ue[en](ze+4)-33),$e.push(tn&qe>>24,tn&qe>>16,tn&qe>>8,tn&qe);return(function(Ze,St){for(var Qe=St;Qe>0;Qe--)Ze.pop()})($e,De[Ge]),We.fromCharCode.apply(We,$e)},Be=function(Ue){return Ue.split("").map(function(De){return("0"+De.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Re=function(Ue){var De=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Ue=Ue.replace(/\s/g,"")).indexOf(">")!==-1&&(Ue=Ue.substr(0,Ue.indexOf(">"))),Ue.length%2&&(Ue+="0"),De.test(Ue)===!1)return"";for(var qe="",$e=0;$e<Ue.length;$e+=2)qe+=String.fromCharCode("0x"+(Ue[$e]+Ue[$e+1]));return qe},Me=function(Ue){for(var De=new Uint8Array(Ue.length),qe=Ue.length;qe--;)De[qe]=Ue.charCodeAt(qe);return(De=zlibSync(De)).reduce(function($e,ze){return $e+String.fromCharCode(ze)},"")};Ce.processDataByFilters=function(Ue,De){var qe=0,$e=Ue||"",ze=[];for(typeof(De=De||[])=="string"&&(De=[De]),qe=0;qe<De.length;qe+=1)switch(De[qe]){case"ASCII85Decode":case"/ASCII85Decode":$e=Te($e),ze.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":$e=Ee($e),ze.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":$e=Re($e),ze.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":$e=Be($e),ze.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":$e=Me($e),ze.push("/FlateDecode");break;default:throw new Error('The filter: "'+De[qe]+'" is not implemented')}return{data:$e,reverseChain:ze.reverse().join(" ")}}})(E$1.API),(function(Ce){Ce.loadFile=function(Ee,Te,Be){return(function(Re,Me,Ue){Me=Me!==!1,Ue=typeof Ue=="function"?Ue:function(){};var De=void 0;try{De=(function(qe,$e,ze){var Xe=new XMLHttpRequest,We=0,Ge=function(tn){var en=tn.length,an=[],Ye=String.fromCharCode;for(We=0;We<en;We+=1)an.push(Ye(255&tn.charCodeAt(We)));return an.join("")};if(Xe.open("GET",qe,!$e),Xe.overrideMimeType("text/plain; charset=x-user-defined"),$e===!1&&(Xe.onload=function(){Xe.status===200?ze(Ge(this.responseText)):ze(void 0)}),Xe.send(null),$e&&Xe.status===200)return Ge(Xe.responseText)})(Re,Me,Ue)}catch{}return De})(Ee,Te,Be)},Ce.loadImageFile=Ce.loadFile})(E$1.API),(function(Ce){function Ee(){return(i$5.html2canvas?Promise.resolve(i$5.html2canvas):__vitePreload(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(De){return Promise.reject(new Error("Could not load html2canvas: "+De))}).then(function(De){return De.default?De.default:De})}function Te(){return(i$5.DOMPurify?Promise.resolve(i$5.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(De){return Promise.reject(new Error("Could not load dompurify: "+De))}).then(function(De){return De.default?De.default:De})}var Be=function(De){var qe=_typeof(De);return qe==="undefined"?"undefined":qe==="string"||De instanceof String?"string":qe==="number"||De instanceof Number?"number":qe==="function"||De instanceof Function?"function":De&&De.constructor===Array?"array":De&&De.nodeType===1?"element":qe==="object"?"object":"unknown"},Re=function(De,qe){var $e=document.createElement(De);for(var ze in qe.className&&($e.className=qe.className),qe.innerHTML&&qe.dompurify&&($e.innerHTML=qe.dompurify.sanitize(qe.innerHTML)),qe.style)$e.style[ze]=qe.style[ze];return $e},Me=function De(qe,$e){for(var ze=qe.nodeType===3?document.createTextNode(qe.nodeValue):qe.cloneNode(!1),Xe=qe.firstChild;Xe;Xe=Xe.nextSibling)$e!==!0&&Xe.nodeType===1&&Xe.nodeName==="SCRIPT"||ze.appendChild(De(Xe,$e));return qe.nodeType===1&&(qe.nodeName==="CANVAS"?(ze.width=qe.width,ze.height=qe.height,ze.getContext("2d").drawImage(qe,0,0)):qe.nodeName!=="TEXTAREA"&&qe.nodeName!=="SELECT"||(ze.value=qe.value),ze.addEventListener("load",function(){ze.scrollTop=qe.scrollTop,ze.scrollLeft=qe.scrollLeft},!0)),ze},Ue=function De(qe){var $e=Object.assign(De.convert(Promise.resolve()),JSON.parse(JSON.stringify(De.template))),ze=De.convert(Promise.resolve(),$e);return(ze=ze.setProgress(1,De,1,[De])).set(qe)};(Ue.prototype=Object.create(Promise.prototype)).constructor=Ue,Ue.convert=function(De,qe){return De.__proto__=qe||Ue.prototype,De},Ue.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Ue.prototype.from=function(De,qe){return this.then(function(){switch(qe=qe||(function($e){switch(Be($e)){case"string":return"string";case"element":return $e.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(De),qe){case"string":return this.then(Te).then(function($e){return this.set({src:Re("div",{innerHTML:De,dompurify:$e})})});case"element":return this.set({src:De});case"canvas":return this.set({canvas:De});case"img":return this.set({img:De});default:return this.error("Unknown source type.")}})},Ue.prototype.to=function(De){switch(De){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ue.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var De={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},qe=Me(this.prop.src,this.opt.html2canvas.javascriptEnabled);qe.tagName==="BODY"&&(De.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Re("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Re("div",{className:"html2pdf__container",style:De}),this.prop.container.appendChild(qe),this.prop.container.firstChild.appendChild(Re("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Ue.prototype.toCanvas=function(){var De=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(De).then(Ee).then(function(qe){var $e=Object.assign({},this.opt.html2canvas);return delete $e.onrendered,qe(this.prop.container,$e)}).then(function(qe){(this.opt.html2canvas.onrendered||function(){})(qe),this.prop.canvas=qe,document.body.removeChild(this.prop.overlay)})},Ue.prototype.toContext2d=function(){var De=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(De).then(Ee).then(function(qe){var $e=this.opt.jsPDF,ze=this.opt.fontFaces,Xe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,We=Object.assign({async:!0,allowTaint:!0,scale:Xe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete We.onrendered,$e.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,$e.context2d.posX=this.opt.x,$e.context2d.posY=this.opt.y,$e.context2d.margin=this.opt.margin,$e.context2d.fontFaces=ze,ze)for(var Ge=0;Ge<ze.length;++Ge){var tn=ze[Ge],en=tn.src.find(function(an){return an.format==="truetype"});en&&$e.addFont(en.url,tn.ref.name,tn.ref.style)}return We.windowHeight=We.windowHeight||0,We.windowHeight=We.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):We.windowHeight,$e.context2d.save(!0),qe(this.prop.container,We)}).then(function(qe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(qe),this.prop.canvas=qe,document.body.removeChild(this.prop.overlay)})},Ue.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var De=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=De})},Ue.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Ue.prototype.output=function(De,qe,$e){return($e=$e||"pdf").toLowerCase()==="img"||$e.toLowerCase()==="image"?this.outputImg(De,qe):this.outputPdf(De,qe)},Ue.prototype.outputPdf=function(De,qe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(De,qe)})},Ue.prototype.outputImg=function(De){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(De){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+De+'" is not supported.'}})},Ue.prototype.save=function(De){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(De?{filename:De}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ue.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Ue.prototype.set=function(De){if(Be(De)!=="object")return this;var qe=Object.keys(De||{}).map(function($e){if($e in Ue.template.prop)return function(){this.prop[$e]=De[$e]};switch($e){case"margin":return this.setMargin.bind(this,De.margin);case"jsPDF":return function(){return this.opt.jsPDF=De.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,De.pageSize);default:return function(){this.opt[$e]=De[$e]}}},this);return this.then(function(){return this.thenList(qe)})},Ue.prototype.get=function(De,qe){return this.then(function(){var $e=De in Ue.template.prop?this.prop[De]:this.opt[De];return qe?qe($e):$e})},Ue.prototype.setMargin=function(De){return this.then(function(){switch(Be(De)){case"number":De=[De,De,De,De];case"array":if(De.length===2&&(De=[De[0],De[1],De[0],De[1]]),De.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=De}).then(this.setPageSize)},Ue.prototype.setPageSize=function(De){function qe($e,ze){return Math.floor($e*ze/72*96)}return this.then(function(){(De=De||E$1.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(De.inner={width:De.width-this.opt.margin[1]-this.opt.margin[3],height:De.height-this.opt.margin[0]-this.opt.margin[2]},De.inner.px={width:qe(De.inner.width,De.k),height:qe(De.inner.height,De.k)},De.inner.ratio=De.inner.height/De.inner.width),this.prop.pageSize=De})},Ue.prototype.setProgress=function(De,qe,$e,ze){return De!=null&&(this.progress.val=De),qe!=null&&(this.progress.state=qe),$e!=null&&(this.progress.n=$e),ze!=null&&(this.progress.stack=ze),this.progress.ratio=this.progress.val/this.progress.state,this},Ue.prototype.updateProgress=function(De,qe,$e,ze){return this.setProgress(De?this.progress.val+De:null,qe||null,$e?this.progress.n+$e:null,ze?this.progress.stack.concat(ze):null)},Ue.prototype.then=function(De,qe){var $e=this;return this.thenCore(De,qe,function(ze,Xe){return $e.updateProgress(null,null,1,[ze]),Promise.prototype.then.call(this,function(We){return $e.updateProgress(null,ze),We}).then(ze,Xe).then(function(We){return $e.updateProgress(1),We})})},Ue.prototype.thenCore=function(De,qe,$e){$e=$e||Promise.prototype.then;var ze=this;De&&(De=De.bind(ze)),qe&&(qe=qe.bind(ze));var Xe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?ze:Ue.convert(Object.assign({},ze),Promise.prototype),We=$e.call(Xe,De,qe);return Ue.convert(We,ze.__proto__)},Ue.prototype.thenExternal=function(De,qe){return Promise.prototype.then.call(this,De,qe)},Ue.prototype.thenList=function(De){var qe=this;return De.forEach(function($e){qe=qe.thenCore($e)}),qe},Ue.prototype.catch=function(De){De&&(De=De.bind(this));var qe=Promise.prototype.catch.call(this,De);return Ue.convert(qe,this)},Ue.prototype.catchExternal=function(De){return Promise.prototype.catch.call(this,De)},Ue.prototype.error=function(De){return this.then(function(){throw new Error(De)})},Ue.prototype.using=Ue.prototype.set,Ue.prototype.saveAs=Ue.prototype.save,Ue.prototype.export=Ue.prototype.output,Ue.prototype.run=Ue.prototype.then,E$1.getPageSize=function(De,qe,$e){if(_typeof(De)==="object"){var ze=De;De=ze.orientation,qe=ze.unit||qe,$e=ze.format||$e}qe=qe||"mm",$e=$e||"a4",De=(""+(De||"P")).toLowerCase();var Xe,We=(""+$e).toLowerCase(),Ge={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(qe){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=.75;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:throw"Invalid unit: "+qe}var tn,en=0,an=0;if(Ge.hasOwnProperty(We))en=Ge[We][1]/Xe,an=Ge[We][0]/Xe;else try{en=$e[1],an=$e[0]}catch{throw new Error("Invalid format: "+$e)}if(De==="p"||De==="portrait")De="p",an>en&&(tn=an,an=en,en=tn);else{if(De!=="l"&&De!=="landscape")throw"Invalid orientation: "+De;De="l",en>an&&(tn=an,an=en,en=tn)}return{width:an,height:en,unit:qe,k:Xe,orientation:De}},Ce.html=function(De,qe){(qe=qe||{}).callback=qe.callback||function(){},qe.html2canvas=qe.html2canvas||{},qe.html2canvas.canvas=qe.html2canvas.canvas||this.canvas,qe.jsPDF=qe.jsPDF||this,qe.fontFaces=qe.fontFaces?qe.fontFaces.map(Ct):null;var $e=new Ue(qe);return qe.worker?$e:$e.from(De).doCallback()}})(E$1.API),E$1.API.addJS=function(Ce){return Ut=Ce,this.internal.events.subscribe("postPutResources",function(){Tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ut+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tt!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Tt+" 0 R>>")}),this},(function(Ce){var Ee;Ce.events.push(["postPutResources",function(){var Te=this,Be=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Re=Te.outline.render().split(/\r\n/),Me=0;Me<Re.length;Me++){var Ue=Re[Me],De=Be.exec(Ue);if(De!=null){var qe=De[1];Te.internal.newObjectDeferredBegin(qe,!1)}Te.internal.write(Ue)}if(this.outline.createNamedDestinations){var $e=this.internal.pages.length,ze=[];for(Me=0;Me<$e;Me++){var Xe=Te.internal.newObject();ze.push(Xe);var We=Te.internal.getPageInfo(Me+1);Te.internal.write("<< /D["+We.objId+" 0 R /XYZ null null null]>> endobj")}var Ge=Te.internal.newObject();for(Te.internal.write("<< /Names [ "),Me=0;Me<ze.length;Me++)Te.internal.write("(page_"+(Me+1)+")"+ze[Me]+" 0 R");Te.internal.write(" ] >>","endobj"),Ee=Te.internal.newObject(),Te.internal.write("<< /Dests "+Ge+" 0 R"),Te.internal.write(">>","endobj")}}]),Ce.events.push(["putCatalog",function(){var Te=this;Te.outline.root.children.length>0&&(Te.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&Te.internal.write("/Names "+Ee+" 0 R"))}]),Ce.events.push(["initialized",function(){var Te=this;Te.outline={createNamedDestinations:!1,root:{children:[]}},Te.outline.add=function(Be,Re,Me){var Ue={title:Re,options:Me,children:[]};return Be==null&&(Be=this.root),Be.children.push(Ue),Ue},Te.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Te,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Te.outline.genIds_r=function(Be){Be.id=Te.internal.newObjectDeferred();for(var Re=0;Re<Be.children.length;Re++)this.genIds_r(Be.children[Re])},Te.outline.renderRoot=function(Be){this.objStart(Be),this.line("/Type /Outlines"),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1]))),this.line("/Count "+this.count_r({count:0},Be)),this.objEnd()},Te.outline.renderItems=function(Be){for(var Re=this.ctx.pdf.internal.getVerticalCoordinateString,Me=0;Me<Be.children.length;Me++){var Ue=Be.children[Me];this.objStart(Ue),this.line("/Title "+this.makeString(Ue.title)),this.line("/Parent "+this.makeRef(Be)),Me>0&&this.line("/Prev "+this.makeRef(Be.children[Me-1])),Me<Be.children.length-1&&this.line("/Next "+this.makeRef(Be.children[Me+1])),Ue.children.length>0&&(this.line("/First "+this.makeRef(Ue.children[0])),this.line("/Last "+this.makeRef(Ue.children[Ue.children.length-1])));var De=this.count=this.count_r({count:0},Ue);if(De>0&&this.line("/Count "+De),Ue.options&&Ue.options.pageNumber){var qe=Te.internal.getPageInfo(Ue.options.pageNumber);this.line("/Dest ["+qe.objId+" 0 R /XYZ 0 "+Re(0)+" 0]")}this.objEnd()}for(var $e=0;$e<Be.children.length;$e++)this.renderItems(Be.children[$e])},Te.outline.line=function(Be){this.ctx.val+=Be+`\r
`},Te.outline.makeRef=function(Be){return Be.id+" 0 R"},Te.outline.makeString=function(Be){return"("+Te.internal.pdfEscape(Be)+")"},Te.outline.objStart=function(Be){this.ctx.val+=`\r
`+Be.id+` 0 obj\r
<<\r
`},Te.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Te.outline.count_r=function(Be,Re){for(var Me=0;Me<Re.children.length;Me++)Be.count++,this.count_r(Be,Re.children[Me]);return Be.count}}])})(E$1.API),(function(Ce){var Ee=[192,193,194,195,196,197,198,199];Ce.processJPEG=function(Te,Be,Re,Me,Ue,De){var qe,$e=this.decode.DCT_DECODE,ze=null;if(typeof Te=="string"||this.__addimage__.isArrayBuffer(Te)||this.__addimage__.isArrayBufferView(Te)){switch(Te=Ue||Te,Te=this.__addimage__.isArrayBuffer(Te)?new Uint8Array(Te):Te,qe=(function(Xe){for(var We,Ge=256*Xe.charCodeAt(4)+Xe.charCodeAt(5),tn=Xe.length,en={width:0,height:0,numcomponents:1},an=4;an<tn;an+=2){if(an+=Ge,Ee.indexOf(Xe.charCodeAt(an+1))!==-1){We=256*Xe.charCodeAt(an+5)+Xe.charCodeAt(an+6),en={width:256*Xe.charCodeAt(an+7)+Xe.charCodeAt(an+8),height:We,numcomponents:Xe.charCodeAt(an+9)};break}Ge=256*Xe.charCodeAt(an+2)+Xe.charCodeAt(an+3)}return en})(Te=this.__addimage__.isArrayBufferView(Te)?this.__addimage__.arrayBufferToBinaryString(Te):Te),qe.numcomponents){case 1:De=this.color_spaces.DEVICE_GRAY;break;case 4:De=this.color_spaces.DEVICE_CMYK;break;case 3:De=this.color_spaces.DEVICE_RGB}ze={data:Te,width:qe.width,height:qe.height,colorSpace:De,bitsPerComponent:8,filter:$e,index:Be,alias:Re}}return ze}})(E$1.API),E$1.API.processPNG=function(Ce,Ee,Te,Be){if(this.__addimage__.isArrayBuffer(Ce)&&(Ce=new Uint8Array(Ce)),this.__addimage__.isArrayBufferView(Ce)){var Re,Me=decodePng(Ce,{checkCrc:!0}),Ue=Me.width,De=Me.height,qe=Me.channels,$e=Me.palette,ze=Me.depth;Re=$e&&qe===1?(function(hn){for(var dn=hn.width,sn=hn.height,kn=hn.data,Pn=hn.palette,_n=hn.depth,Mn=!1,yn=[],zn=[],Ln=void 0,Vn=!1,On=0,Un=0;Un<Pn.length;Un++){var jn=_slicedToArray(Pn[Un],4),Gn=jn[0],An=jn[1],$n=jn[2],Nn=jn[3];yn.push(Gn,An,$n),Nn!=null&&(Nn===0?(On++,zn.length<1&&zn.push(Un)):Nn<255&&(Vn=!0))}if(Vn||On>1){Mn=!0,zn=void 0;var En=dn*sn;Ln=new Uint8Array(En);for(var Sn=new DataView(kn.buffer),pn=0;pn<En;pn++){var mn=re(Sn,pn,_n),un=_slicedToArray(Pn[mn],4)[3];Ln[pn]=un}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:kn,alphaBytes:Ln,needSMask:Mn,palette:yn,mask:zn}})(Me):qe===2||qe===4?(function(hn){for(var dn=hn.data,sn=hn.width,kn=hn.height,Pn=hn.channels,_n=hn.depth,Mn=Pn===2?"DeviceGray":"DeviceRGB",yn=Pn-1,zn=sn*kn,Ln=yn,Vn=zn*Ln,On=1*zn,Un=Math.ceil(Vn*_n/8),jn=Math.ceil(On*_n/8),Gn=new Uint8Array(Un),An=new Uint8Array(jn),$n=new DataView(dn.buffer),Nn=new DataView(Gn.buffer),En=new DataView(An.buffer),Sn=!1,pn=0;pn<zn;pn++){for(var mn=pn*Pn,un=0;un<Ln;un++)ie(Nn,re($n,mn+un,_n),pn*Ln+un,_n);var wn=re($n,mn+Ln,_n);wn<(1<<_n)-1&&(Sn=!0),ie(En,wn,1*pn,_n)}return{colorSpace:Mn,colorsPerPixel:yn,colorBytes:Gn,alphaBytes:An,needSMask:Sn}})(Me):(function(hn){var dn=hn.data,sn=hn.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:sn,colorsPerPixel:sn==="DeviceGray"?1:3,colorBytes:dn instanceof Uint8Array?dn:new Uint8Array(dn.buffer),needSMask:!1}})(Me);var Xe,We,Ge,tn=Re,en=tn.colorSpace,an=tn.colorsPerPixel,Ye=tn.colorBytes,Ze=tn.alphaBytes,St=tn.needSMask,Qe=tn.palette,Je=tn.mask,on=null;return Be!==E$1.API.image_compression.NONE&&typeof zlibSync=="function"?(on=(function(hn){var dn;switch(hn){case E$1.API.image_compression.FAST:dn=11;break;case E$1.API.image_compression.MEDIUM:dn=13;break;case E$1.API.image_compression.SLOW:dn=14;break;default:dn=12}return dn})(Be),Xe=this.decode.FLATE_DECODE,We="/Predictor ".concat(on," "),Ce=Xt(Ye,Ue*an,an,Be),St&&(Ge=Xt(Ze,Ue,1,Be))):(Xe=void 0,We="",Ce=Ye,St&&(Ge=Ze)),We+="/Colors ".concat(an," /BitsPerComponent ").concat(ze," /Columns ").concat(Ue),(this.__addimage__.isArrayBuffer(Ce)||this.__addimage__.isArrayBufferView(Ce))&&(Ce=this.__addimage__.arrayBufferToBinaryString(Ce)),(Ge&&this.__addimage__.isArrayBuffer(Ge)||this.__addimage__.isArrayBufferView(Ge))&&(Ge=this.__addimage__.arrayBufferToBinaryString(Ge)),{alias:Te,data:Ce,index:Ee,filter:Xe,decodeParameters:We,transparency:Je,palette:Qe,sMask:Ge,predictor:on,width:Ue,height:De,bitsPerComponent:ze,colorSpace:en}}},(function(Ce){Ce.processGIF89A=function(Ee,Te,Be,Re){var Me=new oe(Ee),Ue=Me.width,De=Me.height,qe=[];Me.decodeAndBlitFrameRGBA(0,qe);var $e={data:qe,width:Ue,height:De},ze=new ue(100).encode($e,100);return Ce.processJPEG.call(this,ze,Te,Be,Re)},Ce.processGIF87A=Ce.processGIF89A})(E$1.API),ce.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Ce=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Ce);for(var Ee=0;Ee<Ce;Ee++){var Te=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Me=this.datav.getUint8(this.pos++,!0);this.palette[Ee]={red:Re,green:Be,blue:Te,quad:Me}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ce.prototype.parseBGR=function(){this.pos=this.offset;try{var Ce="bit"+this.bitPP,Ee=this.width*this.height*4;this.data=new Uint8Array(Ee),this[Ce]()}catch(Te){o$5.log("bit decode error:"+Te)}},ce.prototype.bit1=function(){var Ce,Ee=Math.ceil(this.width/8),Te=Ee%4;for(Ce=this.height-1;Ce>=0;Ce--){for(var Be=this.bottom_up?Ce:this.height-1-Ce,Re=0;Re<Ee;Re++)for(var Me=this.datav.getUint8(this.pos++,!0),Ue=Be*this.width*4+8*Re*4,De=0;De<8&&8*Re+De<this.width;De++){var qe=this.palette[Me>>7-De&1];this.data[Ue+4*De]=qe.blue,this.data[Ue+4*De+1]=qe.green,this.data[Ue+4*De+2]=qe.red,this.data[Ue+4*De+3]=255}Te!==0&&(this.pos+=4-Te)}},ce.prototype.bit4=function(){for(var Ce=Math.ceil(this.width/2),Ee=Ce%4,Te=this.height-1;Te>=0;Te--){for(var Be=this.bottom_up?Te:this.height-1-Te,Re=0;Re<Ce;Re++){var Me=this.datav.getUint8(this.pos++,!0),Ue=Be*this.width*4+2*Re*4,De=Me>>4,qe=15&Me,$e=this.palette[De];if(this.data[Ue]=$e.blue,this.data[Ue+1]=$e.green,this.data[Ue+2]=$e.red,this.data[Ue+3]=255,2*Re+1>=this.width)break;$e=this.palette[qe],this.data[Ue+4]=$e.blue,this.data[Ue+4+1]=$e.green,this.data[Ue+4+2]=$e.red,this.data[Ue+4+3]=255}Ee!==0&&(this.pos+=4-Ee)}},ce.prototype.bit8=function(){for(var Ce=this.width%4,Ee=this.height-1;Ee>=0;Ee--){for(var Te=this.bottom_up?Ee:this.height-1-Ee,Be=0;Be<this.width;Be++){var Re=this.datav.getUint8(this.pos++,!0),Me=Te*this.width*4+4*Be;if(Re<this.palette.length){var Ue=this.palette[Re];this.data[Me]=Ue.red,this.data[Me+1]=Ue.green,this.data[Me+2]=Ue.blue,this.data[Me+3]=255}else this.data[Me]=255,this.data[Me+1]=255,this.data[Me+2]=255,this.data[Me+3]=255}Ce!==0&&(this.pos+=4-Ce)}},ce.prototype.bit15=function(){for(var Ce=this.width%3,Ee=parseInt("11111",2),Te=this.height-1;Te>=0;Te--){for(var Be=this.bottom_up?Te:this.height-1-Te,Re=0;Re<this.width;Re++){var Me=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ue=(Me&Ee)/Ee*255|0,De=(Me>>5&Ee)/Ee*255|0,qe=(Me>>10&Ee)/Ee*255|0,$e=Me>>15?255:0,ze=Be*this.width*4+4*Re;this.data[ze]=qe,this.data[ze+1]=De,this.data[ze+2]=Ue,this.data[ze+3]=$e}this.pos+=Ce}},ce.prototype.bit16=function(){for(var Ce=this.width%3,Ee=parseInt("11111",2),Te=parseInt("111111",2),Be=this.height-1;Be>=0;Be--){for(var Re=this.bottom_up?Be:this.height-1-Be,Me=0;Me<this.width;Me++){var Ue=this.datav.getUint16(this.pos,!0);this.pos+=2;var De=(Ue&Ee)/Ee*255|0,qe=(Ue>>5&Te)/Te*255|0,$e=(Ue>>11)/Ee*255|0,ze=Re*this.width*4+4*Me;this.data[ze]=$e,this.data[ze+1]=qe,this.data[ze+2]=De,this.data[ze+3]=255}this.pos+=Ce}},ce.prototype.bit24=function(){for(var Ce=this.height-1;Ce>=0;Ce--){for(var Ee=this.bottom_up?Ce:this.height-1-Ce,Te=0;Te<this.width;Te++){var Be=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Me=this.datav.getUint8(this.pos++,!0),Ue=Ee*this.width*4+4*Te;this.data[Ue]=Me,this.data[Ue+1]=Re,this.data[Ue+2]=Be,this.data[Ue+3]=255}this.pos+=this.width%4}},ce.prototype.bit32=function(){for(var Ce=this.height-1;Ce>=0;Ce--)for(var Ee=this.bottom_up?Ce:this.height-1-Ce,Te=0;Te<this.width;Te++){var Be=this.datav.getUint8(this.pos++,!0),Re=this.datav.getUint8(this.pos++,!0),Me=this.datav.getUint8(this.pos++,!0),Ue=this.datav.getUint8(this.pos++,!0),De=Ee*this.width*4+4*Te;this.data[De]=Me,this.data[De+1]=Re,this.data[De+2]=Be,this.data[De+3]=Ue}},ce.prototype.getData=function(){return this.data},(function(Ce){Ce.processBMP=function(Ee,Te,Be,Re){var Me=new ce(Ee,!1),Ue=Me.width,De=Me.height,qe={data:Me.getData(),width:Ue,height:De},$e=new ue(100).encode(qe,100);return Ce.processJPEG.call(this,$e,Te,Be,Re)}})(E$1.API),le.prototype.getData=function(){return this.data},(function(Ce){Ce.processWEBP=function(Ee,Te,Be,Re){var Me=new le(Ee),Ue=Me.width,De=Me.height,qe={data:Me.getData(),width:Ue,height:De},$e=new ue(100).encode(qe,100);return Ce.processJPEG.call(this,$e,Te,Be,Re)}})(E$1.API),E$1.API.processRGBA=function(Ce,Ee,Te){for(var Be=Ce.data,Re=Be.length,Me=new Uint8Array(Re/4*3),Ue=new Uint8Array(Re/4),De=0,qe=0,$e=0;$e<Re;$e+=4){var ze=Be[$e],Xe=Be[$e+1],We=Be[$e+2],Ge=Be[$e+3];Me[De++]=ze,Me[De++]=Xe,Me[De++]=We,Ue[qe++]=Ge}var tn=this.__addimage__.arrayBufferToBinaryString(Me);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ue),data:tn,index:Ee,alias:Te,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Ce.width,height:Ce.height}},E$1.API.setLanguage=function(Ce){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Ce]!==void 0&&(this.internal.languageSettings.languageCode=Ce,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ht=E$1.API,Wt=Ht.getCharWidthsArray=function(Ce,Ee){var Te,Be,Re=(Ee=Ee||{}).font||this.internal.getFont(),Me=Ee.fontSize||this.internal.getFontSize(),Ue=Ee.charSpace||this.internal.getCharSpace(),De=Ee.widths?Ee.widths:Re.metadata.Unicode.widths,qe=De.fof?De.fof:1,$e=Ee.kerning?Ee.kerning:Re.metadata.Unicode.kerning,ze=$e.fof?$e.fof:1,Xe=Ee.doKerning!==!1,We=0,Ge=Ce.length,tn=0,en=De[0]||qe,an=[];for(Te=0;Te<Ge;Te++)Be=Ce.charCodeAt(Te),typeof Re.metadata.widthOfString=="function"?an.push((Re.metadata.widthOfGlyph(Re.metadata.characterToGlyph(Be))+Ue*(1e3/Me)||0)/1e3):(We=Xe&&_typeof($e[Be])==="object"&&!isNaN(parseInt($e[Be][tn],10))?$e[Be][tn]/ze:0,an.push((De[Be]||en)/qe+We)),tn=Be;return an},Vt=Ht.getStringUnitWidth=function(Ce,Ee){var Te=(Ee=Ee||{}).fontSize||this.internal.getFontSize(),Be=Ee.font||this.internal.getFont(),Re=Ee.charSpace||this.internal.getCharSpace();return Ht.processArabic&&(Ce=Ht.processArabic(Ce)),typeof Be.metadata.widthOfString=="function"?Be.metadata.widthOfString(Ce,Te,Re)/Te:Wt.apply(this,arguments).reduce(function(Me,Ue){return Me+Ue},0)},Gt=function(Ce,Ee,Te,Be){for(var Re=[],Me=0,Ue=Ce.length,De=0;Me!==Ue&&De+Ee[Me]<Te;)De+=Ee[Me],Me++;Re.push(Ce.slice(0,Me));var qe=Me;for(De=0;Me!==Ue;)De+Ee[Me]>Be&&(Re.push(Ce.slice(qe,Me)),De=0,qe=Me),De+=Ee[Me],Me++;return qe!==Me&&Re.push(Ce.slice(qe,Me)),Re},Yt=function(Ce,Ee,Te){Te||(Te={});var Be,Re,Me,Ue,De,qe,$e,ze=[],Xe=[ze],We=Te.textIndent||0,Ge=0,tn=0,en=Ce.split(" "),an=Wt.apply(this,[" ",Te])[0];if(qe=Te.lineIndent===-1?en[0].length+2:Te.lineIndent||0){var Ye=Array(qe).join(" "),Ze=[];en.map(function(Qe){(Qe=Qe.split(/\s*\n/)).length>1?Ze=Ze.concat(Qe.map(function(Je,on){return(on&&Je.length?`
`:"")+Je})):Ze.push(Qe[0])}),en=Ze,qe=Vt.apply(this,[Ye,Te])}for(Me=0,Ue=en.length;Me<Ue;Me++){var St=0;if(Be=en[Me],qe&&Be[0]==`
`&&(Be=Be.substr(1),St=1),We+Ge+(tn=(Re=Wt.apply(this,[Be,Te])).reduce(function(Qe,Je){return Qe+Je},0))>Ee||St){if(tn>Ee){for(De=Gt.apply(this,[Be,Re,Ee-(We+Ge),Ee]),ze.push(De.shift()),ze=[De.pop()];De.length;)Xe.push([De.shift()]);tn=Re.slice(Be.length-(ze[0]?ze[0].length:0)).reduce(function(Qe,Je){return Qe+Je},0)}else ze=[Be];Xe.push(ze),We=tn+qe,Ge=an}else ze.push(Be),We+=Ge+tn,Ge=an}return $e=qe?function(Qe,Je){return(Je?Ye:"")+Qe.join(" ")}:function(Qe){return Qe.join(" ")},Xe.map($e)},Ht.splitTextToSize=function(Ce,Ee,Te){var Be,Re=(Te=Te||{}).fontSize||this.internal.getFontSize(),Me=(function(ze){if(ze.widths&&ze.kerning)return{widths:ze.widths,kerning:ze.kerning};var Xe=this.internal.getFont(ze.fontName,ze.fontStyle),We="Unicode";return Xe.metadata[We]?{widths:Xe.metadata[We].widths||{0:1},kerning:Xe.metadata[We].kerning||{}}:{font:Xe.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Te);Be=Array.isArray(Ce)?Ce:String(Ce).split(/\r?\n/);var Ue=1*this.internal.scaleFactor*Ee/Re;Me.textIndent=Te.textIndent?1*Te.textIndent*this.internal.scaleFactor/Re:0,Me.lineIndent=Te.lineIndent;var De,qe,$e=[];for(De=0,qe=Be.length;De<qe;De++)$e=$e.concat(Yt.apply(this,[Be[De],Ue,Me]));return $e},(function(Ce){Ce.__fontmetrics__=Ce.__fontmetrics__||{};for(var Ee="0123456789abcdef",Te="klmnopqrstuvwxyz",Be={},Re={},Me=0;Me<16;Me++)Be[Te[Me]]=Ee[Me],Re[Ee[Me]]=Te[Me];var Ue=function(We){return"0x"+parseInt(We,10).toString(16)},De=Ce.__fontmetrics__.compress=function(We){var Ge,tn,en,an,Ye=["{"];for(var Ze in We){if(Ge=We[Ze],isNaN(parseInt(Ze,10))?tn="'"+Ze+"'":(Ze=parseInt(Ze,10),tn=(tn=Ue(Ze).slice(2)).slice(0,-1)+Re[tn.slice(-1)]),typeof Ge=="number")Ge<0?(en=Ue(Ge).slice(3),an="-"):(en=Ue(Ge).slice(2),an=""),en=an+en.slice(0,-1)+Re[en.slice(-1)];else{if(_typeof(Ge)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Ge)+".");en=De(Ge)}Ye.push(tn+en)}return Ye.push("}"),Ye.join("")},qe=Ce.__fontmetrics__.uncompress=function(We){if(typeof We!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ge,tn,en,an,Ye={},Ze=1,St=Ye,Qe=[],Je="",on="",hn=We.length-1,dn=1;dn<hn;dn+=1)(an=We[dn])=="'"?Ge?(en=Ge.join(""),Ge=void 0):Ge=[]:Ge?Ge.push(an):an=="{"?(Qe.push([St,en]),St={},en=void 0):an=="}"?((tn=Qe.pop())[0][tn[1]]=St,en=void 0,St=tn[0]):an=="-"?Ze=-1:en===void 0?Be.hasOwnProperty(an)?(Je+=Be[an],en=parseInt(Je,16)*Ze,Ze=1,Je=""):Je+=an:Be.hasOwnProperty(an)?(on+=Be[an],St[en]=parseInt(on,16)*Ze,Ze=1,en=void 0,on=""):on+=an;return Ye},$e={codePages:["WinAnsiEncoding"],WinAnsiEncoding:qe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},ze={Unicode:{Courier:$e,"Courier-Bold":$e,"Courier-BoldOblique":$e,"Courier-Oblique":$e,Helvetica:$e,"Helvetica-Bold":$e,"Helvetica-BoldOblique":$e,"Helvetica-Oblique":$e,"Times-Roman":$e,"Times-Bold":$e,"Times-BoldItalic":$e,"Times-Italic":$e}},Xe={Unicode:{"Courier-Oblique":qe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":qe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":qe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:qe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":qe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":qe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:qe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:qe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":qe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:qe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":qe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":qe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":qe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":qe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Ce.events.push(["addFont",function(We){var Ge=We.font,tn=Xe.Unicode[Ge.postScriptName];tn&&(Ge.metadata.Unicode={},Ge.metadata.Unicode.widths=tn.widths,Ge.metadata.Unicode.kerning=tn.kerning);var en=ze.Unicode[Ge.postScriptName];en&&(Ge.metadata.Unicode.encoding=en,Ge.encoding=en.codePages[0])}])})(E$1.API),(function(Ce){var Ee=function(Te){for(var Be=Te.length,Re=new Uint8Array(Be),Me=0;Me<Be;Me++)Re[Me]=Te.charCodeAt(Me);return Re};Ce.API.events.push(["addFont",function(Te){var Be=void 0,Re=Te.font,Me=Te.instance;if(!Re.isStandardFont){if(Me===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Re.postScriptName+"').");if(typeof(Be=Me.existsFileInVFS(Re.postScriptName)===!1?Me.loadFile(Re.postScriptName):Me.getFileFromVFS(Re.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Re.postScriptName+"').");(function(Ue,De){De=/^\x00\x01\x00\x00/.test(De)?Ee(De):Ee(f$2(De)),Ue.metadata=Ce.API.TTFFont.open(De),Ue.metadata.Unicode=Ue.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ue.metadata.glyIdsUsed=[0]})(Re,Be)}}])})(E$1),E$1.API.addSvgAsImage=function(Ce,Ee,Te,Be,Re,Me,Ue,De){if(isNaN(Ee)||isNaN(Te))throw o$5.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Be)||isNaN(Re))throw o$5.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var qe=document.createElement("canvas");qe.width=Be,qe.height=Re;var $e=qe.getContext("2d");$e.fillStyle="#fff",$e.fillRect(0,0,qe.width,qe.height);var ze={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Xe=this;return(i$5.canvg?Promise.resolve(i$5.canvg):__vitePreload(()=>import("./index.es-2gkHRazJ.js"),[])).catch(function(We){return Promise.reject(new Error("Could not load canvg: "+We))}).then(function(We){return We.default?We.default:We}).then(function(We){return We.fromString($e,Ce,ze)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(We){return We.render(ze)}).then(function(){Xe.addImage(qe.toDataURL("image/jpeg",1),Ee,Te,Be,Re,Ue,De)})},E$1.API.putTotalPages=function(Ce){var Ee,Te=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(Ee=new RegExp(Ce,"g"),Te=this.internal.getNumberOfPages()):(Ee=new RegExp(this.pdfEscape16(Ce,this.internal.getFont()),"g"),Te=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Be=1;Be<=this.internal.getNumberOfPages();Be++)for(var Re=0;Re<this.internal.pages[Be].length;Re++)this.internal.pages[Be][Re]=this.internal.pages[Be][Re].replace(Ee,Te);return this},E$1.API.viewerPreferences=function(Ce,Ee){var Te;Ce=Ce||{},Ee=Ee||!1;var Be,Re,Me,Ue={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},De=Object.keys(Ue),qe=[],$e=0,ze=0,Xe=0;function We(tn,en){var an,Ye=!1;for(an=0;an<tn.length;an+=1)tn[an]===en&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ue)),this.internal.viewerpreferences.isSubscribed=!1),Te=this.internal.viewerpreferences.configuration,Ce==="reset"||Ee===!0){var Ge=De.length;for(Xe=0;Xe<Ge;Xe+=1)Te[De[Xe]].value=Te[De[Xe]].defaultValue,Te[De[Xe]].explicitSet=!1}if(_typeof(Ce)==="object"){for(Re in Ce)if(Me=Ce[Re],We(De,Re)&&Me!==void 0){if(Te[Re].type==="boolean"&&typeof Me=="boolean")Te[Re].value=Me;else if(Te[Re].type==="name"&&We(Te[Re].valueSet,Me))Te[Re].value=Me;else if(Te[Re].type==="integer"&&Number.isInteger(Me))Te[Re].value=Me;else if(Te[Re].type==="array"){for($e=0;$e<Me.length;$e+=1)if(Be=!0,Me[$e].length===1&&typeof Me[$e][0]=="number")qe.push(String(Me[$e]-1));else if(Me[$e].length>1){for(ze=0;ze<Me[$e].length;ze+=1)typeof Me[$e][ze]!="number"&&(Be=!1);Be===!0&&qe.push([Me[$e][0]-1,Me[$e][1]-1].join(" "))}Te[Re].value="["+qe.join(" ")+"]"}else Te[Re].value=Te[Re].defaultValue;Te[Re].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var tn,en=[];for(tn in Te)Te[tn].explicitSet===!0&&(Te[tn].type==="name"?en.push("/"+tn+" /"+Te[tn].value):en.push("/"+tn+" "+Te[tn].value));en.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+en.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Te,this},(function(Ce){var Ee=function(){var Be='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Re=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Me=unescape(encodeURIComponent(Be)),Ue=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),De=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),qe=unescape(encodeURIComponent("</x:xmpmeta>")),$e=Me.length+Ue.length+De.length+Re.length+qe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+$e+" >>"),this.internal.write("stream"),this.internal.write(Re+Me+Ue+De+qe),this.internal.write("endstream"),this.internal.write("endobj")},Te=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Ce.addMetadata=function(Be,Re){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Be,namespaceuri:Re||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Te),this.internal.events.subscribe("postPutResources",Ee)),this}})(E$1.API),(function(Ce){var Ee=Ce.API,Te=Ee.pdfEscape16=function(Me,Ue){for(var De,qe=Ue.metadata.Unicode.widths,$e=["","0","00","000","0000"],ze=[""],Xe=0,We=Me.length;Xe<We;++Xe){if(De=Ue.metadata.characterToGlyph(Me.charCodeAt(Xe)),Ue.metadata.glyIdsUsed.push(De),Ue.metadata.toUnicode[De]=Me.charCodeAt(Xe),qe.indexOf(De)==-1&&(qe.push(De),qe.push([parseInt(Ue.metadata.widthOfGlyph(De),10)])),De=="0")return ze.join("");De=De.toString(16),ze.push($e[4-De.length],De)}return ze.join("")},Be=function(Me){var Ue,De,qe,$e,ze,Xe,We;for(ze=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,qe=[],Xe=0,We=(De=Object.keys(Me).sort(function(Ge,tn){return Ge-tn})).length;Xe<We;Xe++)Ue=De[Xe],qe.length>=100&&(ze+=`
`+qe.length+` beginbfchar
`+qe.join(`
`)+`
endbfchar`,qe=[]),Me[Ue]!==void 0&&Me[Ue]!==null&&typeof Me[Ue].toString=="function"&&($e=("0000"+Me[Ue].toString(16)).slice(-4),Ue=("0000"+(+Ue).toString(16)).slice(-4),qe.push("<"+Ue+"><"+$e+">"));return qe.length&&(ze+=`
`+qe.length+` beginbfchar
`+qe.join(`
`)+`
endbfchar
`),ze+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};Ee.events.push(["putFont",function(Me){(function(Ue){var De=Ue.font,qe=Ue.out,$e=Ue.newObject,ze=Ue.putStream;if(De.metadata instanceof Ce.API.TTFFont&&De.encoding==="Identity-H"){for(var Xe=De.metadata.Unicode.widths,We=De.metadata.subset.encode(De.metadata.glyIdsUsed,1),Ge="",tn=0;tn<We.length;tn++)Ge+=String.fromCharCode(We[tn]);var en=$e();ze({data:Ge,addLength1:!0,objectId:en}),qe("endobj");var an=$e();ze({data:Be(De.metadata.toUnicode),addLength1:!0,objectId:an}),qe("endobj");var Ye=$e();qe("<<"),qe("/Type /FontDescriptor"),qe("/FontName /"+j$1(De.fontName)),qe("/FontFile2 "+en+" 0 R"),qe("/FontBBox "+Ce.API.PDFObject.convert(De.metadata.bbox)),qe("/Flags "+De.metadata.flags),qe("/StemV "+De.metadata.stemV),qe("/ItalicAngle "+De.metadata.italicAngle),qe("/Ascent "+De.metadata.ascender),qe("/Descent "+De.metadata.decender),qe("/CapHeight "+De.metadata.capHeight),qe(">>"),qe("endobj");var Ze=$e();qe("<<"),qe("/Type /Font"),qe("/BaseFont /"+j$1(De.fontName)),qe("/FontDescriptor "+Ye+" 0 R"),qe("/W "+Ce.API.PDFObject.convert(Xe)),qe("/CIDToGIDMap /Identity"),qe("/DW 1000"),qe("/Subtype /CIDFontType2"),qe("/CIDSystemInfo"),qe("<<"),qe("/Supplement 0"),qe("/Registry (Adobe)"),qe("/Ordering ("+De.encoding+")"),qe(">>"),qe(">>"),qe("endobj"),De.objectNumber=$e(),qe("<<"),qe("/Type /Font"),qe("/Subtype /Type0"),qe("/ToUnicode "+an+" 0 R"),qe("/BaseFont /"+j$1(De.fontName)),qe("/Encoding /"+De.encoding),qe("/DescendantFonts ["+Ze+" 0 R]"),qe(">>"),qe("endobj"),De.isAlreadyPutted=!0}})(Me)}]),Ee.events.push(["putFont",function(Me){(function(Ue){var De=Ue.font,qe=Ue.out,$e=Ue.newObject,ze=Ue.putStream;if(De.metadata instanceof Ce.API.TTFFont&&De.encoding==="WinAnsiEncoding"){for(var Xe=De.metadata.rawData,We="",Ge=0;Ge<Xe.length;Ge++)We+=String.fromCharCode(Xe[Ge]);var tn=$e();ze({data:We,addLength1:!0,objectId:tn}),qe("endobj");var en=$e();ze({data:Be(De.metadata.toUnicode),addLength1:!0,objectId:en}),qe("endobj");var an=$e();qe("<<"),qe("/Descent "+De.metadata.decender),qe("/CapHeight "+De.metadata.capHeight),qe("/StemV "+De.metadata.stemV),qe("/Type /FontDescriptor"),qe("/FontFile2 "+tn+" 0 R"),qe("/Flags 96"),qe("/FontBBox "+Ce.API.PDFObject.convert(De.metadata.bbox)),qe("/FontName /"+j$1(De.fontName)),qe("/ItalicAngle "+De.metadata.italicAngle),qe("/Ascent "+De.metadata.ascender),qe(">>"),qe("endobj"),De.objectNumber=$e();for(var Ye=0;Ye<De.metadata.hmtx.widths.length;Ye++)De.metadata.hmtx.widths[Ye]=parseInt(De.metadata.hmtx.widths[Ye]*(1e3/De.metadata.head.unitsPerEm));qe("<</Subtype/TrueType/Type/Font/ToUnicode "+en+" 0 R/BaseFont/"+j$1(De.fontName)+"/FontDescriptor "+an+" 0 R/Encoding/"+De.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Ce.API.PDFObject.convert(De.metadata.hmtx.widths)+">>"),qe("endobj"),De.isAlreadyPutted=!0}})(Me)}]);var Re=function(Me){var Ue,De=Me.text||"",qe=Me.x,$e=Me.y,ze=Me.options||{},Xe=Me.mutex||{},We=Xe.pdfEscape,Ge=Xe.activeFontKey,tn=Xe.fonts,en=Ge,an="",Ye=0,Ze="",St=tn[en].encoding;if(tn[en].encoding!=="Identity-H")return{text:De,x:qe,y:$e,options:ze,mutex:Xe};for(Ze=De,en=Ge,Array.isArray(De)&&(Ze=De[0]),Ye=0;Ye<Ze.length;Ye+=1)tn[en].metadata.hasOwnProperty("cmap")&&(Ue=tn[en].metadata.cmap.unicode.codeMap[Ze[Ye].charCodeAt(0)]),Ue||Ze[Ye].charCodeAt(0)<256&&tn[en].metadata.hasOwnProperty("Unicode")?an+=Ze[Ye]:an+="";var Qe="";return parseInt(en.slice(1))<14||St==="WinAnsiEncoding"?Qe=We(an,en).split("").map(function(Je){return Je.charCodeAt(0).toString(16)}).join(""):St==="Identity-H"&&(Qe=Te(an,tn[en])),Xe.isHex=!0,{text:Qe,x:qe,y:$e,options:ze,mutex:Xe}};Ee.events.push(["postProcessText",function(Me){var Ue=Me.text||"",De=[],qe={text:Ue,x:Me.x,y:Me.y,options:Me.options,mutex:Me.mutex};if(Array.isArray(Ue)){var $e=0;for($e=0;$e<Ue.length;$e+=1)Array.isArray(Ue[$e])&&Ue[$e].length===3?De.push([Re(Object.assign({},qe,{text:Ue[$e][0]})).text,Ue[$e][1],Ue[$e][2]]):De.push(Re(Object.assign({},qe,{text:Ue[$e]})).text);Me.text=De}else Me.text=Re(Object.assign({},qe,{text:Ue})).text}])})(E$1),(function(Ce){var Ee=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Ce.existsFileInVFS=function(Te){return Ee.call(this),this.internal.vFS[Te]!==void 0},Ce.addFileToVFS=function(Te,Be){return Ee.call(this),this.internal.vFS[Te]=Be,this},Ce.getFileFromVFS=function(Te){return Ee.call(this),this.internal.vFS[Te]!==void 0?this.internal.vFS[Te]:null}})(E$1.API),(function(Ce){Ce.__bidiEngine__=Ce.prototype.__bidiEngine__=function(Be){var Re,Me,Ue,De,qe,$e,ze,Xe=Ee,We=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ge=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],tn={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},en={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},an=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ze=!1,St=0;this.__bidiEngine__={};var Qe=function(Pn){var _n=Pn.charCodeAt(),Mn=_n>>8,yn=en[Mn];return yn!==void 0?Xe[256*yn+(255&_n)]:Mn===252||Mn===253?"AL":Ye.test(Mn)?"L":Mn===8?"R":"N"},Je=function(Pn){for(var _n,Mn=0;Mn<Pn.length;Mn++){if((_n=Qe(Pn.charAt(Mn)))==="L")return!1;if(_n==="R")return!0}return!1},on=function(Pn,_n,Mn,yn){var zn,Ln,Vn,On,Un=_n[yn];switch(Un){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ze=!1;break;case"N":case"AN":break;case"EN":Ze&&(Un="AN");break;case"AL":Ze=!0,Un="R";break;case"WS":case"BN":Un="N";break;case"CS":yn<1||yn+1>=_n.length||(zn=Mn[yn-1])!=="EN"&&zn!=="AN"||(Ln=_n[yn+1])!=="EN"&&Ln!=="AN"?Un="N":Ze&&(Ln="AN"),Un=Ln===zn?Ln:"N";break;case"ES":Un=(zn=yn>0?Mn[yn-1]:"B")==="EN"&&yn+1<_n.length&&_n[yn+1]==="EN"?"EN":"N";break;case"ET":if(yn>0&&Mn[yn-1]==="EN"){Un="EN";break}if(Ze){Un="N";break}for(Vn=yn+1,On=_n.length;Vn<On&&_n[Vn]==="ET";)Vn++;Un=Vn<On&&_n[Vn]==="EN"?"EN":"N";break;case"NSM":if(Ue&&!De){for(On=_n.length,Vn=yn+1;Vn<On&&_n[Vn]==="NSM";)Vn++;if(Vn<On){var jn=Pn[yn],Gn=jn>=1425&&jn<=2303||jn===64286;if(zn=_n[Vn],Gn&&(zn==="R"||zn==="AL")){Un="R";break}}}Un=yn<1||(zn=_n[yn-1])==="B"?"N":Mn[yn-1];break;case"B":Ze=!1,Re=!0,Un=St;break;case"S":Me=!0,Un="N"}return Un},hn=function(Pn,_n,Mn){var yn=Pn.split("");return Mn&&dn(yn,Mn,{hiLevel:St}),yn.reverse(),_n&&_n.reverse(),yn.join("")},dn=function(Pn,_n,Mn){var yn,zn,Ln,Vn,On,Un=-1,jn=Pn.length,Gn=0,An=[],$n=St?Ge:We,Nn=[];for(Ze=!1,Re=!1,Me=!1,zn=0;zn<jn;zn++)Nn[zn]=Qe(Pn[zn]);for(Ln=0;Ln<jn;Ln++){if(On=Gn,An[Ln]=on(Pn,Nn,An,Ln),yn=240&(Gn=$n[On][tn[An[Ln]]]),Gn&=15,_n[Ln]=Vn=$n[Gn][5],yn>0)if(yn===16){for(zn=Un;zn<Ln;zn++)_n[zn]=1;Un=-1}else Un=-1;if($n[Gn][6])Un===-1&&(Un=Ln);else if(Un>-1){for(zn=Un;zn<Ln;zn++)_n[zn]=Vn;Un=-1}Nn[Ln]==="B"&&(_n[Ln]=0),Mn.hiLevel|=Vn}Me&&(function(En,Sn,pn){for(var mn=0;mn<pn;mn++)if(En[mn]==="S"){Sn[mn]=St;for(var un=mn-1;un>=0&&En[un]==="WS";un--)Sn[un]=St}})(Nn,_n,jn)},sn=function(Pn,_n,Mn,yn,zn){if(!(zn.hiLevel<Pn)){if(Pn===1&&St===1&&!Re)return _n.reverse(),void(Mn&&Mn.reverse());for(var Ln,Vn,On,Un,jn=_n.length,Gn=0;Gn<jn;){if(yn[Gn]>=Pn){for(On=Gn+1;On<jn&&yn[On]>=Pn;)On++;for(Un=Gn,Vn=On-1;Un<Vn;Un++,Vn--)Ln=_n[Un],_n[Un]=_n[Vn],_n[Vn]=Ln,Mn&&(Ln=Mn[Un],Mn[Un]=Mn[Vn],Mn[Vn]=Ln);Gn=On}Gn++}}},kn=function(Pn,_n,Mn){var yn=Pn.split(""),zn={hiLevel:St};return Mn||(Mn=[]),dn(yn,Mn,zn),(function(Ln,Vn,On){if(On.hiLevel!==0&&ze)for(var Un,jn=0;jn<Ln.length;jn++)Vn[jn]===1&&(Un=an.indexOf(Ln[jn]))>=0&&(Ln[jn]=an[Un+1])})(yn,Mn,zn),sn(2,yn,_n,Mn,zn),sn(1,yn,_n,Mn,zn),yn.join("")};return this.__bidiEngine__.doBidiReorder=function(Pn,_n,Mn){if((function(zn,Ln){if(Ln)for(var Vn=0;Vn<zn.length;Vn++)Ln[Vn]=Vn;De===void 0&&(De=Je(zn)),$e===void 0&&($e=Je(zn))})(Pn,_n),Ue||!qe||$e)if(Ue&&qe&&De^$e)St=De?1:0,Pn=hn(Pn,_n,Mn);else if(!Ue&&qe&&$e)St=De?1:0,Pn=kn(Pn,_n,Mn),Pn=hn(Pn,_n);else if(!Ue||De||qe||$e){if(Ue&&!qe&&De^$e)Pn=hn(Pn,_n),De?(St=0,Pn=kn(Pn,_n,Mn)):(St=1,Pn=kn(Pn,_n,Mn),Pn=hn(Pn,_n));else if(Ue&&De&&!qe&&$e)St=1,Pn=kn(Pn,_n,Mn),Pn=hn(Pn,_n);else if(!Ue&&!qe&&De^$e){var yn=ze;De?(St=1,Pn=kn(Pn,_n,Mn),St=0,ze=!1,Pn=kn(Pn,_n,Mn),ze=yn):(St=0,Pn=kn(Pn,_n,Mn),Pn=hn(Pn,_n),St=1,ze=!1,Pn=kn(Pn,_n,Mn),ze=yn,Pn=hn(Pn,_n))}}else St=0,Pn=kn(Pn,_n,Mn);else St=De?1:0,Pn=kn(Pn,_n,Mn);return Pn},this.__bidiEngine__.setOptions=function(Pn){Pn&&(Ue=Pn.isInputVisual,qe=Pn.isOutputVisual,De=Pn.isInputRtl,$e=Pn.isOutputRtl,ze=Pn.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Be),this.__bidiEngine__};var Ee=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Te=new Ce.__bidiEngine__({isInputVisual:!0});Ce.API.events.push(["postProcessText",function(Be){var Re=Be.text;Be.x,Be.y;var Me=Be.options||{};Be.mutex,Me.lang;var Ue=[];if(Me.isInputVisual=typeof Me.isInputVisual!="boolean"||Me.isInputVisual,Te.setOptions(Me),Object.prototype.toString.call(Re)==="[object Array]"){var De=0;for(Ue=[],De=0;De<Re.length;De+=1)Object.prototype.toString.call(Re[De])==="[object Array]"?Ue.push([Te.doBidiReorder(Re[De][0]),Re[De][1],Re[De][2]]):Ue.push([Te.doBidiReorder(Re[De])]);Be.text=Ue}else Be.text=Te.doBidiReorder(Re);Te.setOptions({isInputVisual:!0})}])})(E$1),E$1.API.TTFFont=(function(){function Ce(Ee){var Te;if(this.rawData=Ee,Te=this.contents=new fe(Ee),this.contents.pos=4,Te.readString(4)==="ttcf")throw new Error("TTCF not supported.");Te.pos=0,this.parse(),this.subset=new je(this),this.registerTTF()}return Ce.open=function(Ee){return new Ce(Ee)},Ce.prototype.parse=function(){return this.directory=new de(this.contents),this.head=new me(this),this.name=new xe(this),this.cmap=new be(this),this.toUnicode={},this.hhea=new ye(this),this.maxp=new Ae(this),this.hmtx=new Se(this),this.post=new Ne(this),this.os2=new we(this),this.loca=new Ie(this),this.glyf=new Pe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Ce.prototype.registerTTF=function(){var Ee,Te,Be,Re,Me;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Ue,De,qe,$e;for($e=[],Ue=0,De=(qe=this.bbox).length;Ue<De;Ue++)Ee=qe[Ue],$e.push(Math.round(Ee*this.scaleFactor));return $e}).call(this),this.stemV=0,this.post.exists?(Be=255&(Re=this.post.italic_angle),32768&(Te=Re>>16)&&(Te=-(1+(65535^Te))),this.italicAngle=+(Te+"."+Be)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Me=this.familyClass)===1||Me===2||Me===3||Me===4||Me===5||Me===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Ce.prototype.characterToGlyph=function(Ee){var Te;return((Te=this.cmap.unicode)!=null?Te.codeMap[Ee]:void 0)||0},Ce.prototype.widthOfGlyph=function(Ee){var Te;return Te=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(Ee).advance*Te},Ce.prototype.widthOfString=function(Ee,Te,Be){var Re,Me,Ue,De;for(Ue=0,Me=0,De=(Ee=""+Ee).length;0<=De?Me<De:Me>De;Me=0<=De?++Me:--Me)Re=Ee.charCodeAt(Me),Ue+=this.widthOfGlyph(this.characterToGlyph(Re))+Be*(1e3/Te)||0;return Ue*(Te/1e3)},Ce.prototype.lineHeight=function(Ee,Te){var Be;return Te==null&&(Te=!1),Be=Te?this.lineGap:0,(this.ascender+Be-this.decender)/1e3*Ee},Ce})();var he,fe=(function(){function Ce(Ee){this.data=Ee??[],this.pos=0,this.length=this.data.length}return Ce.prototype.readByte=function(){return this.data[this.pos++]},Ce.prototype.writeByte=function(Ee){return this.data[this.pos++]=Ee},Ce.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Ce.prototype.writeUInt32=function(Ee){return this.writeByte(Ee>>>24&255),this.writeByte(Ee>>16&255),this.writeByte(Ee>>8&255),this.writeByte(255&Ee)},Ce.prototype.readInt32=function(){var Ee;return(Ee=this.readUInt32())>=2147483648?Ee-4294967296:Ee},Ce.prototype.writeInt32=function(Ee){return Ee<0&&(Ee+=4294967296),this.writeUInt32(Ee)},Ce.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Ce.prototype.writeUInt16=function(Ee){return this.writeByte(Ee>>8&255),this.writeByte(255&Ee)},Ce.prototype.readInt16=function(){var Ee;return(Ee=this.readUInt16())>=32768?Ee-65536:Ee},Ce.prototype.writeInt16=function(Ee){return Ee<0&&(Ee+=65536),this.writeUInt16(Ee)},Ce.prototype.readString=function(Ee){var Te,Be;for(Be=[],Te=0;0<=Ee?Te<Ee:Te>Ee;Te=0<=Ee?++Te:--Te)Be[Te]=String.fromCharCode(this.readByte());return Be.join("")},Ce.prototype.writeString=function(Ee){var Te,Be,Re;for(Re=[],Te=0,Be=Ee.length;0<=Be?Te<Be:Te>Be;Te=0<=Be?++Te:--Te)Re.push(this.writeByte(Ee.charCodeAt(Te)));return Re},Ce.prototype.readShort=function(){return this.readInt16()},Ce.prototype.writeShort=function(Ee){return this.writeInt16(Ee)},Ce.prototype.readLongLong=function(){var Ee,Te,Be,Re,Me,Ue,De,qe;return Ee=this.readByte(),Te=this.readByte(),Be=this.readByte(),Re=this.readByte(),Me=this.readByte(),Ue=this.readByte(),De=this.readByte(),qe=this.readByte(),128&Ee?-1*(72057594037927940*(255^Ee)+281474976710656*(255^Te)+1099511627776*(255^Be)+4294967296*(255^Re)+16777216*(255^Me)+65536*(255^Ue)+256*(255^De)+(255^qe)+1):72057594037927940*Ee+281474976710656*Te+1099511627776*Be+4294967296*Re+16777216*Me+65536*Ue+256*De+qe},Ce.prototype.writeLongLong=function(Ee){var Te,Be;return Te=Math.floor(Ee/4294967296),Be=4294967295&Ee,this.writeByte(Te>>24&255),this.writeByte(Te>>16&255),this.writeByte(Te>>8&255),this.writeByte(255&Te),this.writeByte(Be>>24&255),this.writeByte(Be>>16&255),this.writeByte(Be>>8&255),this.writeByte(255&Be)},Ce.prototype.readInt=function(){return this.readInt32()},Ce.prototype.writeInt=function(Ee){return this.writeInt32(Ee)},Ce.prototype.read=function(Ee){var Te,Be;for(Te=[],Be=0;0<=Ee?Be<Ee:Be>Ee;Be=0<=Ee?++Be:--Be)Te.push(this.readByte());return Te},Ce.prototype.write=function(Ee){var Te,Be,Re,Me;for(Me=[],Be=0,Re=Ee.length;Be<Re;Be++)Te=Ee[Be],Me.push(this.writeByte(Te));return Me},Ce})(),de=(function(){var Ce;function Ee(Te){var Be,Re,Me;for(this.scalarType=Te.readInt(),this.tableCount=Te.readShort(),this.searchRange=Te.readShort(),this.entrySelector=Te.readShort(),this.rangeShift=Te.readShort(),this.tables={},Re=0,Me=this.tableCount;0<=Me?Re<Me:Re>Me;Re=0<=Me?++Re:--Re)Be={tag:Te.readString(4),checksum:Te.readInt(),offset:Te.readInt(),length:Te.readInt()},this.tables[Be.tag]=Be}return Ee.prototype.encode=function(Te){var Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en;for(en in Ge=Object.keys(Te).length,qe=Math.log(2),Xe=16*Math.floor(Math.log(Ge)/qe),Ue=Math.floor(Xe/qe),ze=16*Ge-Xe,(Re=new fe).writeInt(this.scalarType),Re.writeShort(Ge),Re.writeShort(Xe),Re.writeShort(Ue),Re.writeShort(ze),Me=16*Ge,$e=Re.pos+Me,De=null,tn=[],Te)for(We=Te[en],Re.writeString(en),Re.writeInt(Ce(We)),Re.writeInt($e),Re.writeInt(We.length),tn=tn.concat(We),en==="head"&&(De=$e),$e+=We.length;$e%4;)tn.push(0),$e++;return Re.write(tn),Be=2981146554-Ce(Re.data),Re.pos=De+8,Re.writeUInt32(Be),Re.data},Ce=function(Te){var Be,Re,Me,Ue;for(Te=_e.call(Te);Te.length%4;)Te.push(0);for(Me=new fe(Te),Re=0,Be=0,Ue=Te.length;Be<Ue;Be=Be+=4)Re+=Me.readUInt32();return 4294967295&Re},Ee})(),pe={}.hasOwnProperty,ge=function(Ce,Ee){for(var Te in Ee)pe.call(Ee,Te)&&(Ce[Te]=Ee[Te]);function Be(){this.constructor=Ce}return Be.prototype=Ee.prototype,Ce.prototype=new Be,Ce.__super__=Ee.prototype,Ce};he=(function(){function Ce(Ee){var Te;this.file=Ee,Te=this.file.directory.tables[this.tag],this.exists=!!Te,Te&&(this.offset=Te.offset,this.length=Te.length,this.parse(this.file.contents))}return Ce.prototype.parse=function(){},Ce.prototype.encode=function(){},Ce.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Ce})();var me=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="head",Ce.prototype.parse=function(Ee){return Ee.pos=this.offset,this.version=Ee.readInt(),this.revision=Ee.readInt(),this.checkSumAdjustment=Ee.readInt(),this.magicNumber=Ee.readInt(),this.flags=Ee.readShort(),this.unitsPerEm=Ee.readShort(),this.created=Ee.readLongLong(),this.modified=Ee.readLongLong(),this.xMin=Ee.readShort(),this.yMin=Ee.readShort(),this.xMax=Ee.readShort(),this.yMax=Ee.readShort(),this.macStyle=Ee.readShort(),this.lowestRecPPEM=Ee.readShort(),this.fontDirectionHint=Ee.readShort(),this.indexToLocFormat=Ee.readShort(),this.glyphDataFormat=Ee.readShort()},Ce.prototype.encode=function(Ee){var Te;return(Te=new fe).writeInt(this.version),Te.writeInt(this.revision),Te.writeInt(this.checkSumAdjustment),Te.writeInt(this.magicNumber),Te.writeShort(this.flags),Te.writeShort(this.unitsPerEm),Te.writeLongLong(this.created),Te.writeLongLong(this.modified),Te.writeShort(this.xMin),Te.writeShort(this.yMin),Te.writeShort(this.xMax),Te.writeShort(this.yMax),Te.writeShort(this.macStyle),Te.writeShort(this.lowestRecPPEM),Te.writeShort(this.fontDirectionHint),Te.writeShort(Ee),Te.writeShort(this.glyphDataFormat),Te.data},Ce})(),ve=(function(){function Ce(Ee,Te){var Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en,an,Ye,Ze,St;switch(this.platformID=Ee.readUInt16(),this.encodingID=Ee.readShort(),this.offset=Te+Ee.readInt(),Xe=Ee.pos,Ee.pos=this.offset,this.format=Ee.readUInt16(),this.length=Ee.readUInt16(),this.language=Ee.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(qe=0;qe<256;++qe)this.codeMap[qe]=Ee.readByte();break;case 4:for(Ge=Ee.readUInt16(),We=Ge/2,Ee.pos+=6,Me=(function(){var Qe,Je;for(Je=[],qe=Qe=0;0<=We?Qe<We:Qe>We;qe=0<=We?++Qe:--Qe)Je.push(Ee.readUInt16());return Je})(),Ee.pos+=2,en=(function(){var Qe,Je;for(Je=[],qe=Qe=0;0<=We?Qe<We:Qe>We;qe=0<=We?++Qe:--Qe)Je.push(Ee.readUInt16());return Je})(),$e=(function(){var Qe,Je;for(Je=[],qe=Qe=0;0<=We?Qe<We:Qe>We;qe=0<=We?++Qe:--Qe)Je.push(Ee.readUInt16());return Je})(),ze=(function(){var Qe,Je;for(Je=[],qe=Qe=0;0<=We?Qe<We:Qe>We;qe=0<=We?++Qe:--Qe)Je.push(Ee.readUInt16());return Je})(),Re=(this.length-Ee.pos+this.offset)/2,De=(function(){var Qe,Je;for(Je=[],qe=Qe=0;0<=Re?Qe<Re:Qe>Re;qe=0<=Re?++Qe:--Qe)Je.push(Ee.readUInt16());return Je})(),qe=Ye=0,St=Me.length;Ye<St;qe=++Ye)for(an=Me[qe],Be=Ze=tn=en[qe];tn<=an?Ze<=an:Ze>=an;Be=tn<=an?++Ze:--Ze)ze[qe]===0?Ue=Be+$e[qe]:(Ue=De[ze[qe]/2+(Be-tn)-(We-qe)]||0)!==0&&(Ue+=$e[qe]),this.codeMap[Be]=65535&Ue}Ee.pos=Xe}return Ce.encode=function(Ee,Te){var Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en,an,Ye,Ze,St,Qe,Je,on,hn,dn,sn,kn,Pn,_n,Mn,yn,zn,Ln,Vn,On,Un,jn,Gn,An,$n,Nn,En,Sn,pn,mn,un,wn,xn,Rn;switch(yn=new fe,Ue=Object.keys(Ee).sort(function(Hn,vn){return Hn-vn}),Te){case"macroman":for(en=0,an=(function(){var Hn=[];for(tn=0;tn<256;++tn)Hn.push(0);return Hn})(),Ze={0:0},Me={},zn=0,Un=Ue.length;zn<Un;zn++)Ze[un=Ee[Re=Ue[zn]]]==null&&(Ze[un]=++en),Me[Re]={old:Ee[Re],new:Ze[Ee[Re]]},an[Re]=Ze[Ee[Re]];return yn.writeUInt16(1),yn.writeUInt16(0),yn.writeUInt32(12),yn.writeUInt16(0),yn.writeUInt16(262),yn.writeUInt16(0),yn.write(an),{charMap:Me,subtable:yn.data,maxGlyphID:en+1};case"unicode":for(_n=[],Xe=[],St=0,Ze={},Be={},Ye=$e=null,Ln=0,jn=Ue.length;Ln<jn;Ln++)Ze[Je=Ee[Re=Ue[Ln]]]==null&&(Ze[Je]=++St),Be[Re]={old:Je,new:Ze[Je]},De=Ze[Je]-Re,Ye!=null&&De===$e||(Ye&&Xe.push(Ye),_n.push(Re),$e=De),Ye=Re;for(Ye&&Xe.push(Ye),Xe.push(65535),_n.push(65535),kn=2*(sn=_n.length),dn=2*Math.pow(Math.log(sn)/Math.LN2,2),We=Math.log(dn/2)/Math.LN2,hn=2*sn-dn,qe=[],on=[],Ge=[],tn=Vn=0,Gn=_n.length;Vn<Gn;tn=++Vn){if(Pn=_n[tn],ze=Xe[tn],Pn===65535){qe.push(0),on.push(0);break}if(Pn-(Mn=Be[Pn].new)>=32768)for(qe.push(0),on.push(2*(Ge.length+sn-tn)),Re=On=Pn;Pn<=ze?On<=ze:On>=ze;Re=Pn<=ze?++On:--On)Ge.push(Be[Re].new);else qe.push(Mn-Pn),on.push(0)}for(yn.writeUInt16(3),yn.writeUInt16(1),yn.writeUInt32(12),yn.writeUInt16(4),yn.writeUInt16(16+8*sn+2*Ge.length),yn.writeUInt16(0),yn.writeUInt16(kn),yn.writeUInt16(dn),yn.writeUInt16(We),yn.writeUInt16(hn),pn=0,An=Xe.length;pn<An;pn++)Re=Xe[pn],yn.writeUInt16(Re);for(yn.writeUInt16(0),mn=0,$n=_n.length;mn<$n;mn++)Re=_n[mn],yn.writeUInt16(Re);for(wn=0,Nn=qe.length;wn<Nn;wn++)De=qe[wn],yn.writeUInt16(De);for(xn=0,En=on.length;xn<En;xn++)Qe=on[xn],yn.writeUInt16(Qe);for(Rn=0,Sn=Ge.length;Rn<Sn;Rn++)en=Ge[Rn],yn.writeUInt16(en);return{charMap:Be,subtable:yn.data,maxGlyphID:St+1}}},Ce})(),be=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="cmap",Ce.prototype.parse=function(Ee){var Te,Be,Re;for(Ee.pos=this.offset,this.version=Ee.readUInt16(),Re=Ee.readUInt16(),this.tables=[],this.unicode=null,Be=0;0<=Re?Be<Re:Be>Re;Be=0<=Re?++Be:--Be)Te=new ve(Ee,this.offset),this.tables.push(Te),Te.isUnicode&&this.unicode==null&&(this.unicode=Te);return!0},Ce.encode=function(Ee,Te){var Be,Re;return Te==null&&(Te="macroman"),Be=ve.encode(Ee,Te),(Re=new fe).writeUInt16(0),Re.writeUInt16(1),Be.table=Re.data.concat(Be.subtable),Be},Ce})(),ye=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="hhea",Ce.prototype.parse=function(Ee){return Ee.pos=this.offset,this.version=Ee.readInt(),this.ascender=Ee.readShort(),this.decender=Ee.readShort(),this.lineGap=Ee.readShort(),this.advanceWidthMax=Ee.readShort(),this.minLeftSideBearing=Ee.readShort(),this.minRightSideBearing=Ee.readShort(),this.xMaxExtent=Ee.readShort(),this.caretSlopeRise=Ee.readShort(),this.caretSlopeRun=Ee.readShort(),this.caretOffset=Ee.readShort(),Ee.pos+=8,this.metricDataFormat=Ee.readShort(),this.numberOfMetrics=Ee.readUInt16()},Ce})(),we=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="OS/2",Ce.prototype.parse=function(Ee){if(Ee.pos=this.offset,this.version=Ee.readUInt16(),this.averageCharWidth=Ee.readShort(),this.weightClass=Ee.readUInt16(),this.widthClass=Ee.readUInt16(),this.type=Ee.readShort(),this.ySubscriptXSize=Ee.readShort(),this.ySubscriptYSize=Ee.readShort(),this.ySubscriptXOffset=Ee.readShort(),this.ySubscriptYOffset=Ee.readShort(),this.ySuperscriptXSize=Ee.readShort(),this.ySuperscriptYSize=Ee.readShort(),this.ySuperscriptXOffset=Ee.readShort(),this.ySuperscriptYOffset=Ee.readShort(),this.yStrikeoutSize=Ee.readShort(),this.yStrikeoutPosition=Ee.readShort(),this.familyClass=Ee.readShort(),this.panose=(function(){var Te,Be;for(Be=[],Te=0;Te<10;++Te)Be.push(Ee.readByte());return Be})(),this.charRange=(function(){var Te,Be;for(Be=[],Te=0;Te<4;++Te)Be.push(Ee.readInt());return Be})(),this.vendorID=Ee.readString(4),this.selection=Ee.readShort(),this.firstCharIndex=Ee.readShort(),this.lastCharIndex=Ee.readShort(),this.version>0&&(this.ascent=Ee.readShort(),this.descent=Ee.readShort(),this.lineGap=Ee.readShort(),this.winAscent=Ee.readShort(),this.winDescent=Ee.readShort(),this.codePageRange=(function(){var Te,Be;for(Be=[],Te=0;Te<2;Te=++Te)Be.push(Ee.readInt());return Be})(),this.version>1))return this.xHeight=Ee.readShort(),this.capHeight=Ee.readShort(),this.defaultChar=Ee.readShort(),this.breakChar=Ee.readShort(),this.maxContext=Ee.readShort()},Ce})(),Ne=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="post",Ce.prototype.parse=function(Ee){var Te,Be,Re;switch(Ee.pos=this.offset,this.format=Ee.readInt(),this.italicAngle=Ee.readInt(),this.underlinePosition=Ee.readShort(),this.underlineThickness=Ee.readShort(),this.isFixedPitch=Ee.readInt(),this.minMemType42=Ee.readInt(),this.maxMemType42=Ee.readInt(),this.minMemType1=Ee.readInt(),this.maxMemType1=Ee.readInt(),this.format){case 65536:case 196608:break;case 131072:var Me;for(Be=Ee.readUInt16(),this.glyphNameIndex=[],Me=0;0<=Be?Me<Be:Me>Be;Me=0<=Be?++Me:--Me)this.glyphNameIndex.push(Ee.readUInt16());for(this.names=[],Re=[];Ee.pos<this.offset+this.length;)Te=Ee.readByte(),Re.push(this.names.push(Ee.readString(Te)));return Re;case 151552:return Be=Ee.readUInt16(),this.offsets=Ee.read(Be);case 262144:return this.map=(function(){var Ue,De,qe;for(qe=[],Me=Ue=0,De=this.file.maxp.numGlyphs;0<=De?Ue<De:Ue>De;Me=0<=De?++Ue:--Ue)qe.push(Ee.readUInt32());return qe}).call(this)}},Ce})(),Le=function(Ce,Ee){this.raw=Ce,this.length=Ce.length,this.platformID=Ee.platformID,this.encodingID=Ee.encodingID,this.languageID=Ee.languageID},xe=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="name",Ce.prototype.parse=function(Ee){var Te,Be,Re,Me,Ue,De,qe,$e,ze,Xe,We;for(Ee.pos=this.offset,Ee.readShort(),Te=Ee.readShort(),De=Ee.readShort(),Be=[],Me=0;0<=Te?Me<Te:Me>Te;Me=0<=Te?++Me:--Me)Be.push({platformID:Ee.readShort(),encodingID:Ee.readShort(),languageID:Ee.readShort(),nameID:Ee.readShort(),length:Ee.readShort(),offset:this.offset+De+Ee.readShort()});for(qe={},Me=ze=0,Xe=Be.length;ze<Xe;Me=++ze)Re=Be[Me],Ee.pos=Re.offset,$e=Ee.readString(Re.length),Ue=new Le($e,Re),qe[We=Re.nameID]==null&&(qe[We]=[]),qe[Re.nameID].push(Ue);this.strings=qe,this.copyright=qe[0],this.fontFamily=qe[1],this.fontSubfamily=qe[2],this.uniqueSubfamily=qe[3],this.fontName=qe[4],this.version=qe[5];try{this.postscriptName=qe[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=qe[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=qe[7],this.manufacturer=qe[8],this.designer=qe[9],this.description=qe[10],this.vendorUrl=qe[11],this.designerUrl=qe[12],this.license=qe[13],this.licenseUrl=qe[14],this.preferredFamily=qe[15],this.preferredSubfamily=qe[17],this.compatibleFull=qe[18],this.sampleText=qe[19]},Ce})(),Ae=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="maxp",Ce.prototype.parse=function(Ee){return Ee.pos=this.offset,this.version=Ee.readInt(),this.numGlyphs=Ee.readUInt16(),this.maxPoints=Ee.readUInt16(),this.maxContours=Ee.readUInt16(),this.maxCompositePoints=Ee.readUInt16(),this.maxComponentContours=Ee.readUInt16(),this.maxZones=Ee.readUInt16(),this.maxTwilightPoints=Ee.readUInt16(),this.maxStorage=Ee.readUInt16(),this.maxFunctionDefs=Ee.readUInt16(),this.maxInstructionDefs=Ee.readUInt16(),this.maxStackElements=Ee.readUInt16(),this.maxSizeOfInstructions=Ee.readUInt16(),this.maxComponentElements=Ee.readUInt16(),this.maxComponentDepth=Ee.readUInt16()},Ce})(),Se=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="hmtx",Ce.prototype.parse=function(Ee){var Te,Be,Re,Me,Ue,De,qe;for(Ee.pos=this.offset,this.metrics=[],Te=0,De=this.file.hhea.numberOfMetrics;0<=De?Te<De:Te>De;Te=0<=De?++Te:--Te)this.metrics.push({advance:Ee.readUInt16(),lsb:Ee.readInt16()});for(Re=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var $e,ze;for(ze=[],Te=$e=0;0<=Re?$e<Re:$e>Re;Te=0<=Re?++$e:--$e)ze.push(Ee.readInt16());return ze})(),this.widths=(function(){var $e,ze,Xe,We;for(We=[],$e=0,ze=(Xe=this.metrics).length;$e<ze;$e++)Me=Xe[$e],We.push(Me.advance);return We}).call(this),Be=this.widths[this.widths.length-1],qe=[],Te=Ue=0;0<=Re?Ue<Re:Ue>Re;Te=0<=Re?++Ue:--Ue)qe.push(this.widths.push(Be));return qe},Ce.prototype.forGlyph=function(Ee){return Ee in this.metrics?this.metrics[Ee]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[Ee-this.metrics.length]}},Ce})(),_e=[].slice,Pe=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="glyf",Ce.prototype.parse=function(){return this.cache={}},Ce.prototype.glyphFor=function(Ee){var Te,Be,Re,Me,Ue,De,qe,$e,ze,Xe;return Ee in this.cache?this.cache[Ee]:(Me=this.file.loca,Te=this.file.contents,Be=Me.indexOf(Ee),(Re=Me.lengthOf(Ee))===0?this.cache[Ee]=null:(Te.pos=this.offset+Be,Ue=(De=new fe(Te.read(Re))).readShort(),$e=De.readShort(),Xe=De.readShort(),qe=De.readShort(),ze=De.readShort(),this.cache[Ee]=Ue===-1?new Fe(De,$e,Xe,qe,ze):new ke(De,Ue,$e,Xe,qe,ze),this.cache[Ee]))},Ce.prototype.encode=function(Ee,Te,Be){var Re,Me,Ue,De,qe;for(Ue=[],Me=[],De=0,qe=Te.length;De<qe;De++)Re=Ee[Te[De]],Me.push(Ue.length),Re&&(Ue=Ue.concat(Re.encode(Be)));return Me.push(Ue.length),{table:Ue,offsets:Me}},Ce})(),ke=(function(){function Ce(Ee,Te,Be,Re,Me,Ue){this.raw=Ee,this.numberOfContours=Te,this.xMin=Be,this.yMin=Re,this.xMax=Me,this.yMax=Ue,this.compound=!1}return Ce.prototype.encode=function(){return this.raw.data},Ce})(),Fe=(function(){function Ce(Ee,Te,Be,Re,Me){var Ue,De;for(this.raw=Ee,this.xMin=Te,this.yMin=Be,this.xMax=Re,this.yMax=Me,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ue=this.raw;De=Ue.readShort(),this.glyphOffsets.push(Ue.pos),this.glyphIDs.push(Ue.readUInt16()),32&De;)Ue.pos+=1&De?4:2,128&De?Ue.pos+=8:64&De?Ue.pos+=4:8&De&&(Ue.pos+=2)}return Ce.prototype.encode=function(){var Ee,Te,Be;for(Te=new fe(_e.call(this.raw.data)),Ee=0,Be=this.glyphIDs.length;Ee<Be;++Ee)Te.pos=this.glyphOffsets[Ee];return Te.data},Ce})(),Ie=(function(){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return ge(Ce,he),Ce.prototype.tag="loca",Ce.prototype.parse=function(Ee){var Te,Be;return Ee.pos=this.offset,Te=this.file.head.indexToLocFormat,this.offsets=Te===0?(function(){var Re,Me;for(Me=[],Be=0,Re=this.length;Be<Re;Be+=2)Me.push(2*Ee.readUInt16());return Me}).call(this):(function(){var Re,Me;for(Me=[],Be=0,Re=this.length;Be<Re;Be+=4)Me.push(Ee.readUInt32());return Me}).call(this)},Ce.prototype.indexOf=function(Ee){return this.offsets[Ee]},Ce.prototype.lengthOf=function(Ee){return this.offsets[Ee+1]-this.offsets[Ee]},Ce.prototype.encode=function(Ee,Te){for(var Be=new Uint32Array(this.offsets.length),Re=0,Me=0,Ue=0;Ue<Be.length;++Ue)if(Be[Ue]=Re,Me<Te.length&&Te[Me]==Ue){++Me,Be[Ue]=Re;var De=this.offsets[Ue],qe=this.offsets[Ue+1]-De;qe>0&&(Re+=qe)}for(var $e=new Array(4*Be.length),ze=0;ze<Be.length;++ze)$e[4*ze+3]=255&Be[ze],$e[4*ze+2]=(65280&Be[ze])>>8,$e[4*ze+1]=(16711680&Be[ze])>>16,$e[4*ze]=(4278190080&Be[ze])>>24;return $e},Ce})(),je=(function(){function Ce(Ee){this.font=Ee,this.subset={},this.unicodes={},this.next=33}return Ce.prototype.generateCmap=function(){var Ee,Te,Be,Re,Me;for(Te in Re=this.font.cmap.tables[0].codeMap,Ee={},Me=this.subset)Be=Me[Te],Ee[Te]=Re[Be];return Ee},Ce.prototype.glyphsFor=function(Ee){var Te,Be,Re,Me,Ue,De,qe;for(Re={},Ue=0,De=Ee.length;Ue<De;Ue++)Re[Me=Ee[Ue]]=this.font.glyf.glyphFor(Me);for(Me in Te=[],Re)(Be=Re[Me])!=null&&Be.compound&&Te.push.apply(Te,Be.glyphIDs);if(Te.length>0)for(Me in qe=this.glyphsFor(Te))Be=qe[Me],Re[Me]=Be;return Re},Ce.prototype.encode=function(Ee,Te){var Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge,tn,en,an,Ye;for(Re in Be=be.encode(this.generateCmap(),"unicode"),Ue=this.glyphsFor(Ee),Ge={0:0},Ye=Be.charMap)Ge[(qe=Ye[Re]).old]=qe.new;for(tn in We=Be.maxGlyphID,Ue)tn in Ge||(Ge[tn]=We++);return ze=(function(Ze){var St,Qe;for(St in Qe={},Ze)Qe[Ze[St]]=St;return Qe})(Ge),Xe=Object.keys(ze).sort(function(Ze,St){return Ze-St}),en=(function(){var Ze,St,Qe;for(Qe=[],Ze=0,St=Xe.length;Ze<St;Ze++)De=Xe[Ze],Qe.push(ze[De]);return Qe})(),Me=this.font.glyf.encode(Ue,en,Ge),$e=this.font.loca.encode(Me.offsets,en),an={cmap:this.font.cmap.raw(),glyf:Me.table,loca:$e,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Te)},this.font.os2.exists&&(an["OS/2"]=this.font.os2.raw()),this.font.directory.encode(an)},Ce})();E$1.API.PDFObject=(function(){var Ce;function Ee(){}return Ce=function(Te,Be){return(Array(Be+1).join("0")+Te).slice(-Be)},Ee.convert=function(Te){var Be,Re,Me,Ue;if(Array.isArray(Te))return"["+(function(){var De,qe,$e;for($e=[],De=0,qe=Te.length;De<qe;De++)Be=Te[De],$e.push(Ee.convert(Be));return $e})().join(" ")+"]";if(typeof Te=="string")return"/"+Te;if(Te!=null&&Te.isString)return"("+Te+")";if(Te instanceof Date)return"(D:"+Ce(Te.getUTCFullYear(),4)+Ce(Te.getUTCMonth(),2)+Ce(Te.getUTCDate(),2)+Ce(Te.getUTCHours(),2)+Ce(Te.getUTCMinutes(),2)+Ce(Te.getUTCSeconds(),2)+"Z)";if({}.toString.call(Te)==="[object Object]"){for(Re in Me=["<<"],Te)Ue=Te[Re],Me.push("/"+Re+" "+Ee.convert(Ue));return Me.push(">>"),Me.join(`
`)}return""+Te},Ee})();var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(Ce,Ee,Te)=>Ee in Ce?__defProp$1(Ce,Ee,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Ce[Ee]=Te,__spreadValues=(Ce,Ee)=>{for(var Te in Ee||(Ee={}))__hasOwnProp.call(Ee,Te)&&__defNormalProp(Ce,Te,Ee[Te]);if(__getOwnPropSymbols)for(var Te of __getOwnPropSymbols(Ee))__propIsEnum.call(Ee,Te)&&__defNormalProp(Ce,Te,Ee[Te]);return Ce},__spreadProps=(Ce,Ee)=>__defProps(Ce,__getOwnPropDescs(Ee)),__publicField=(Ce,Ee,Te)=>__defNormalProp(Ce,typeof Ee!="symbol"?Ee+"":Ee,Te),__async=(Ce,Ee,Te)=>new Promise((Be,Re)=>{var Me=qe=>{try{De(Te.next(qe))}catch($e){Re($e)}},Ue=qe=>{try{De(Te.throw(qe))}catch($e){Re($e)}},De=qe=>qe.done?Be(qe.value):Promise.resolve(qe.value).then(Me,Ue);De((Te=Te.apply(Ce,Ee)).next())});class BaseXmlComponent{constructor(Ee){__publicField(this,"rootKey"),this.rootKey=Ee}}const EMPTY_OBJECT=Object.seal({});class XmlComponent extends BaseXmlComponent{constructor(Ee){super(Ee),__publicField(this,"root"),this.root=new Array}prepForXml(Ee){var Te;Ee.stack.push(this);const Be=this.root.map(Re=>Re instanceof BaseXmlComponent?Re.prepForXml(Ee):Re).filter(Re=>Re!==void 0);return Ee.stack.pop(),{[this.rootKey]:Be.length?Be.length===1&&((Te=Be[0])!=null&&Te._attr)?Be[0]:Be:EMPTY_OBJECT}}addChildElement(Ee){return this.root.push(Ee),this}}class IgnoreIfEmptyXmlComponent extends XmlComponent{prepForXml(Ee){const Te=super.prepForXml(Ee);if(Te&&(typeof Te[this.rootKey]!="object"||Object.keys(Te[this.rootKey]).length))return Te}}class XmlAttributeComponent extends BaseXmlComponent{constructor(Ee){super("_attr"),__publicField(this,"xmlKeys"),this.root=Ee}prepForXml(Ee){const Te={};return Object.entries(this.root).forEach(([Be,Re])=>{if(Re!==void 0){const Me=this.xmlKeys&&this.xmlKeys[Be]||Be;Te[Me]=Re}}),{_attr:Te}}}class NextAttributeComponent extends BaseXmlComponent{constructor(Ee){super("_attr"),this.root=Ee}prepForXml(Ee){return{_attr:Object.values(this.root).filter(({value:Be})=>Be!==void 0).reduce((Be,{key:Re,value:Me})=>__spreadProps(__spreadValues({},Be),{[Re]:Me}),{})}}}class Attributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(Ce){return Ce&&Ce.__esModule&&Object.prototype.hasOwnProperty.call(Ce,"default")?Ce.default:Ce}var sax={},events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var Ce=typeof Reflect=="object"?Reflect:null,Ee=Ce&&typeof Ce.apply=="function"?Ce.apply:function(Je,on,hn){return Function.prototype.apply.call(Je,on,hn)},Te;Ce&&typeof Ce.ownKeys=="function"?Te=Ce.ownKeys:Object.getOwnPropertySymbols?Te=function(Je){return Object.getOwnPropertyNames(Je).concat(Object.getOwnPropertySymbols(Je))}:Te=function(Je){return Object.getOwnPropertyNames(Je)};function Be(Qe){console&&console.warn&&console.warn(Qe)}var Re=Number.isNaN||function(Je){return Je!==Je};function Me(){Me.init.call(this)}events.exports=Me,events.exports.once=Ye,Me.EventEmitter=Me,Me.prototype._events=void 0,Me.prototype._eventsCount=0,Me.prototype._maxListeners=void 0;var Ue=10;function De(Qe){if(typeof Qe!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Qe)}Object.defineProperty(Me,"defaultMaxListeners",{enumerable:!0,get:function(){return Ue},set:function(Qe){if(typeof Qe!="number"||Qe<0||Re(Qe))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Qe+".");Ue=Qe}}),Me.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Me.prototype.setMaxListeners=function(Je){if(typeof Je!="number"||Je<0||Re(Je))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Je+".");return this._maxListeners=Je,this};function qe(Qe){return Qe._maxListeners===void 0?Me.defaultMaxListeners:Qe._maxListeners}Me.prototype.getMaxListeners=function(){return qe(this)},Me.prototype.emit=function(Je){for(var on=[],hn=1;hn<arguments.length;hn++)on.push(arguments[hn]);var dn=Je==="error",sn=this._events;if(sn!==void 0)dn=dn&&sn.error===void 0;else if(!dn)return!1;if(dn){var kn;if(on.length>0&&(kn=on[0]),kn instanceof Error)throw kn;var Pn=new Error("Unhandled error."+(kn?" ("+kn.message+")":""));throw Pn.context=kn,Pn}var _n=sn[Je];if(_n===void 0)return!1;if(typeof _n=="function")Ee(_n,this,on);else for(var Mn=_n.length,yn=tn(_n,Mn),hn=0;hn<Mn;++hn)Ee(yn[hn],this,on);return!0};function $e(Qe,Je,on,hn){var dn,sn,kn;if(De(on),sn=Qe._events,sn===void 0?(sn=Qe._events=Object.create(null),Qe._eventsCount=0):(sn.newListener!==void 0&&(Qe.emit("newListener",Je,on.listener?on.listener:on),sn=Qe._events),kn=sn[Je]),kn===void 0)kn=sn[Je]=on,++Qe._eventsCount;else if(typeof kn=="function"?kn=sn[Je]=hn?[on,kn]:[kn,on]:hn?kn.unshift(on):kn.push(on),dn=qe(Qe),dn>0&&kn.length>dn&&!kn.warned){kn.warned=!0;var Pn=new Error("Possible EventEmitter memory leak detected. "+kn.length+" "+String(Je)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pn.name="MaxListenersExceededWarning",Pn.emitter=Qe,Pn.type=Je,Pn.count=kn.length,Be(Pn)}return Qe}Me.prototype.addListener=function(Je,on){return $e(this,Je,on,!1)},Me.prototype.on=Me.prototype.addListener,Me.prototype.prependListener=function(Je,on){return $e(this,Je,on,!0)};function ze(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Xe(Qe,Je,on){var hn={fired:!1,wrapFn:void 0,target:Qe,type:Je,listener:on},dn=ze.bind(hn);return dn.listener=on,hn.wrapFn=dn,dn}Me.prototype.once=function(Je,on){return De(on),this.on(Je,Xe(this,Je,on)),this},Me.prototype.prependOnceListener=function(Je,on){return De(on),this.prependListener(Je,Xe(this,Je,on)),this},Me.prototype.removeListener=function(Je,on){var hn,dn,sn,kn,Pn;if(De(on),dn=this._events,dn===void 0)return this;if(hn=dn[Je],hn===void 0)return this;if(hn===on||hn.listener===on)--this._eventsCount===0?this._events=Object.create(null):(delete dn[Je],dn.removeListener&&this.emit("removeListener",Je,hn.listener||on));else if(typeof hn!="function"){for(sn=-1,kn=hn.length-1;kn>=0;kn--)if(hn[kn]===on||hn[kn].listener===on){Pn=hn[kn].listener,sn=kn;break}if(sn<0)return this;sn===0?hn.shift():en(hn,sn),hn.length===1&&(dn[Je]=hn[0]),dn.removeListener!==void 0&&this.emit("removeListener",Je,Pn||on)}return this},Me.prototype.off=Me.prototype.removeListener,Me.prototype.removeAllListeners=function(Je){var on,hn,dn;if(hn=this._events,hn===void 0)return this;if(hn.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):hn[Je]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete hn[Je]),this;if(arguments.length===0){var sn=Object.keys(hn),kn;for(dn=0;dn<sn.length;++dn)kn=sn[dn],kn!=="removeListener"&&this.removeAllListeners(kn);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(on=hn[Je],typeof on=="function")this.removeListener(Je,on);else if(on!==void 0)for(dn=on.length-1;dn>=0;dn--)this.removeListener(Je,on[dn]);return this};function We(Qe,Je,on){var hn=Qe._events;if(hn===void 0)return[];var dn=hn[Je];return dn===void 0?[]:typeof dn=="function"?on?[dn.listener||dn]:[dn]:on?an(dn):tn(dn,dn.length)}Me.prototype.listeners=function(Je){return We(this,Je,!0)},Me.prototype.rawListeners=function(Je){return We(this,Je,!1)},Me.listenerCount=function(Qe,Je){return typeof Qe.listenerCount=="function"?Qe.listenerCount(Je):Ge.call(Qe,Je)},Me.prototype.listenerCount=Ge;function Ge(Qe){var Je=this._events;if(Je!==void 0){var on=Je[Qe];if(typeof on=="function")return 1;if(on!==void 0)return on.length}return 0}Me.prototype.eventNames=function(){return this._eventsCount>0?Te(this._events):[]};function tn(Qe,Je){for(var on=new Array(Je),hn=0;hn<Je;++hn)on[hn]=Qe[hn];return on}function en(Qe,Je){for(;Je+1<Qe.length;Je++)Qe[Je]=Qe[Je+1];Qe.pop()}function an(Qe){for(var Je=new Array(Qe.length),on=0;on<Je.length;++on)Je[on]=Qe[on].listener||Qe[on];return Je}function Ye(Qe,Je){return new Promise(function(on,hn){function dn(kn){Qe.removeListener(Je,sn),hn(kn)}function sn(){typeof Qe.removeListener=="function"&&Qe.removeListener("error",dn),on([].slice.call(arguments))}St(Qe,Je,sn,{once:!0}),Je!=="error"&&Ze(Qe,dn,{once:!0})})}function Ze(Qe,Je,on){typeof Qe.on=="function"&&St(Qe,"error",Je,on)}function St(Qe,Je,on,hn){if(typeof Qe.on=="function")hn.once?Qe.once(Je,on):Qe.on(Je,on);else if(typeof Qe.addEventListener=="function")Qe.addEventListener(Je,function dn(sn){hn.once&&Qe.removeEventListener(Je,dn),on(sn)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Qe)}return events.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(Ee,Te){Te&&(Ee.super_=Te,Ee.prototype=Object.create(Te.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(Ee,Te){if(Te){Ee.super_=Te;var Be=function(){};Be.prototype=Te.prototype,Ee.prototype=new Be,Ee.prototype.constructor=Ee}}),inherits_browser.exports}function getDefaultExportFromCjs(Ce){return Ce&&Ce.__esModule&&Object.prototype.hasOwnProperty.call(Ce,"default")?Ce.default:Ce}var browser$1={exports:{}},process$1=browser$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(Ce){if(cachedSetTimeout===setTimeout)return setTimeout(Ce,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(Ce,0);try{return cachedSetTimeout(Ce,0)}catch{try{return cachedSetTimeout.call(null,Ce,0)}catch{return cachedSetTimeout.call(this,Ce,0)}}}function runClearTimeout(Ce){if(cachedClearTimeout===clearTimeout)return clearTimeout(Ce);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(Ce);try{return cachedClearTimeout(Ce)}catch{try{return cachedClearTimeout.call(null,Ce)}catch{return cachedClearTimeout.call(this,Ce)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var Ce=runTimeout(cleanUpNextTick);draining=!0;for(var Ee=queue.length;Ee;){for(currentQueue=queue,queue=[];++queueIndex<Ee;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,Ee=queue.length}currentQueue=null,draining=!1,runClearTimeout(Ce)}}process$1.nextTick=function(Ce){var Ee=new Array(arguments.length-1);if(arguments.length>1)for(var Te=1;Te<arguments.length;Te++)Ee[Te-1]=arguments[Te];queue.push(new Item(Ce,Ee)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(Ce,Ee){this.fun=Ce,this.array=Ee}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop(){}process$1.on=noop;process$1.addListener=noop;process$1.once=noop;process$1.off=noop;process$1.removeListener=noop;process$1.removeAllListeners=noop;process$1.emit=noop;process$1.prependListener=noop;process$1.prependOnceListener=noop;process$1.listeners=function(Ce){return[]};process$1.binding=function(Ce){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(Ce){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports=browser$1.exports;const process$1$1=getDefaultExportFromCjs(browserExports);var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=De,base64Js.toByteArray=$e,base64Js.fromByteArray=We;for(var Ce=[],Ee=[],Te=typeof Uint8Array<"u"?Uint8Array:Array,Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re=0,Me=Be.length;Re<Me;++Re)Ce[Re]=Be[Re],Ee[Be.charCodeAt(Re)]=Re;Ee[45]=62,Ee[95]=63;function Ue(Ge){var tn=Ge.length;if(tn%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var en=Ge.indexOf("=");en===-1&&(en=tn);var an=en===tn?0:4-en%4;return[en,an]}function De(Ge){var tn=Ue(Ge),en=tn[0],an=tn[1];return(en+an)*3/4-an}function qe(Ge,tn,en){return(tn+en)*3/4-en}function $e(Ge){var tn,en=Ue(Ge),an=en[0],Ye=en[1],Ze=new Te(qe(Ge,an,Ye)),St=0,Qe=Ye>0?an-4:an,Je;for(Je=0;Je<Qe;Je+=4)tn=Ee[Ge.charCodeAt(Je)]<<18|Ee[Ge.charCodeAt(Je+1)]<<12|Ee[Ge.charCodeAt(Je+2)]<<6|Ee[Ge.charCodeAt(Je+3)],Ze[St++]=tn>>16&255,Ze[St++]=tn>>8&255,Ze[St++]=tn&255;return Ye===2&&(tn=Ee[Ge.charCodeAt(Je)]<<2|Ee[Ge.charCodeAt(Je+1)]>>4,Ze[St++]=tn&255),Ye===1&&(tn=Ee[Ge.charCodeAt(Je)]<<10|Ee[Ge.charCodeAt(Je+1)]<<4|Ee[Ge.charCodeAt(Je+2)]>>2,Ze[St++]=tn>>8&255,Ze[St++]=tn&255),Ze}function ze(Ge){return Ce[Ge>>18&63]+Ce[Ge>>12&63]+Ce[Ge>>6&63]+Ce[Ge&63]}function Xe(Ge,tn,en){for(var an,Ye=[],Ze=tn;Ze<en;Ze+=3)an=(Ge[Ze]<<16&16711680)+(Ge[Ze+1]<<8&65280)+(Ge[Ze+2]&255),Ye.push(ze(an));return Ye.join("")}function We(Ge){for(var tn,en=Ge.length,an=en%3,Ye=[],Ze=16383,St=0,Qe=en-an;St<Qe;St+=Ze)Ye.push(Xe(Ge,St,St+Ze>Qe?Qe:St+Ze));return an===1?(tn=Ge[en-1],Ye.push(Ce[tn>>2]+Ce[tn<<4&63]+"==")):an===2&&(tn=(Ge[en-2]<<8)+Ge[en-1],Ye.push(Ce[tn>>10]+Ce[tn>>4&63]+Ce[tn<<2&63]+"=")),Ye.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(Ce,Ee,Te,Be,Re){var Me,Ue,De=Re*8-Be-1,qe=(1<<De)-1,$e=qe>>1,ze=-7,Xe=Te?Re-1:0,We=Te?-1:1,Ge=Ce[Ee+Xe];for(Xe+=We,Me=Ge&(1<<-ze)-1,Ge>>=-ze,ze+=De;ze>0;Me=Me*256+Ce[Ee+Xe],Xe+=We,ze-=8);for(Ue=Me&(1<<-ze)-1,Me>>=-ze,ze+=Be;ze>0;Ue=Ue*256+Ce[Ee+Xe],Xe+=We,ze-=8);if(Me===0)Me=1-$e;else{if(Me===qe)return Ue?NaN:(Ge?-1:1)*(1/0);Ue=Ue+Math.pow(2,Be),Me=Me-$e}return(Ge?-1:1)*Ue*Math.pow(2,Me-Be)},ieee754.write=function(Ce,Ee,Te,Be,Re,Me){var Ue,De,qe,$e=Me*8-Re-1,ze=(1<<$e)-1,Xe=ze>>1,We=Re===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ge=Be?0:Me-1,tn=Be?1:-1,en=Ee<0||Ee===0&&1/Ee<0?1:0;for(Ee=Math.abs(Ee),isNaN(Ee)||Ee===1/0?(De=isNaN(Ee)?1:0,Ue=ze):(Ue=Math.floor(Math.log(Ee)/Math.LN2),Ee*(qe=Math.pow(2,-Ue))<1&&(Ue--,qe*=2),Ue+Xe>=1?Ee+=We/qe:Ee+=We*Math.pow(2,1-Xe),Ee*qe>=2&&(Ue++,qe/=2),Ue+Xe>=ze?(De=0,Ue=ze):Ue+Xe>=1?(De=(Ee*qe-1)*Math.pow(2,Re),Ue=Ue+Xe):(De=Ee*Math.pow(2,Xe-1)*Math.pow(2,Re),Ue=0));Re>=8;Ce[Te+Ge]=De&255,Ge+=tn,De/=256,Re-=8);for(Ue=Ue<<Re|De,$e+=Re;$e>0;Ce[Te+Ge]=Ue&255,Ge+=tn,Ue/=256,$e-=8);Ce[Te+Ge-tn]|=en*128}),ieee754}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(Ce){var Ee=requireBase64Js(),Te=requireIeee754(),Be=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ce.Buffer=De,Ce.SlowBuffer=Ze,Ce.INSPECT_MAX_BYTES=50;var Re=2147483647;Ce.kMaxLength=Re,De.TYPED_ARRAY_SUPPORT=Me(),!De.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Me(){try{var In=new Uint8Array(1),cn={foo:function(){return 42}};return Object.setPrototypeOf(cn,Uint8Array.prototype),Object.setPrototypeOf(In,cn),In.foo()===42}catch{return!1}}Object.defineProperty(De.prototype,"parent",{enumerable:!0,get:function(){if(De.isBuffer(this))return this.buffer}}),Object.defineProperty(De.prototype,"offset",{enumerable:!0,get:function(){if(De.isBuffer(this))return this.byteOffset}});function Ue(In){if(In>Re)throw new RangeError('The value "'+In+'" is invalid for option "size"');var cn=new Uint8Array(In);return Object.setPrototypeOf(cn,De.prototype),cn}function De(In,cn,bn){if(typeof In=="number"){if(typeof cn=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Xe(In)}return qe(In,cn,bn)}De.poolSize=8192;function qe(In,cn,bn){if(typeof In=="string")return We(In,cn);if(ArrayBuffer.isView(In))return tn(In);if(In==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof In);if(Hn(In,ArrayBuffer)||In&&Hn(In.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hn(In,SharedArrayBuffer)||In&&Hn(In.buffer,SharedArrayBuffer)))return en(In,cn,bn);if(typeof In=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Cn=In.valueOf&&In.valueOf();if(Cn!=null&&Cn!==In)return De.from(Cn,cn,bn);var Yn=an(In);if(Yn)return Yn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof In[Symbol.toPrimitive]=="function")return De.from(In[Symbol.toPrimitive]("string"),cn,bn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof In)}De.from=function(In,cn,bn){return qe(In,cn,bn)},Object.setPrototypeOf(De.prototype,Uint8Array.prototype),Object.setPrototypeOf(De,Uint8Array);function $e(In){if(typeof In!="number")throw new TypeError('"size" argument must be of type number');if(In<0)throw new RangeError('The value "'+In+'" is invalid for option "size"')}function ze(In,cn,bn){return $e(In),In<=0?Ue(In):cn!==void 0?typeof bn=="string"?Ue(In).fill(cn,bn):Ue(In).fill(cn):Ue(In)}De.alloc=function(In,cn,bn){return ze(In,cn,bn)};function Xe(In){return $e(In),Ue(In<0?0:Ye(In)|0)}De.allocUnsafe=function(In){return Xe(In)},De.allocUnsafeSlow=function(In){return Xe(In)};function We(In,cn){if((typeof cn!="string"||cn==="")&&(cn="utf8"),!De.isEncoding(cn))throw new TypeError("Unknown encoding: "+cn);var bn=St(In,cn)|0,Cn=Ue(bn),Yn=Cn.write(In,cn);return Yn!==bn&&(Cn=Cn.slice(0,Yn)),Cn}function Ge(In){for(var cn=In.length<0?0:Ye(In.length)|0,bn=Ue(cn),Cn=0;Cn<cn;Cn+=1)bn[Cn]=In[Cn]&255;return bn}function tn(In){if(Hn(In,Uint8Array)){var cn=new Uint8Array(In);return en(cn.buffer,cn.byteOffset,cn.byteLength)}return Ge(In)}function en(In,cn,bn){if(cn<0||In.byteLength<cn)throw new RangeError('"offset" is outside of buffer bounds');if(In.byteLength<cn+(bn||0))throw new RangeError('"length" is outside of buffer bounds');var Cn;return cn===void 0&&bn===void 0?Cn=new Uint8Array(In):bn===void 0?Cn=new Uint8Array(In,cn):Cn=new Uint8Array(In,cn,bn),Object.setPrototypeOf(Cn,De.prototype),Cn}function an(In){if(De.isBuffer(In)){var cn=Ye(In.length)|0,bn=Ue(cn);return bn.length===0||In.copy(bn,0,0,cn),bn}if(In.length!==void 0)return typeof In.length!="number"||vn(In.length)?Ue(0):Ge(In);if(In.type==="Buffer"&&Array.isArray(In.data))return Ge(In.data)}function Ye(In){if(In>=Re)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Re.toString(16)+" bytes");return In|0}function Ze(In){return+In!=In&&(In=0),De.alloc(+In)}De.isBuffer=function(cn){return cn!=null&&cn._isBuffer===!0&&cn!==De.prototype},De.compare=function(cn,bn){if(Hn(cn,Uint8Array)&&(cn=De.from(cn,cn.offset,cn.byteLength)),Hn(bn,Uint8Array)&&(bn=De.from(bn,bn.offset,bn.byteLength)),!De.isBuffer(cn)||!De.isBuffer(bn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(cn===bn)return 0;for(var Cn=cn.length,Yn=bn.length,Jn=0,er=Math.min(Cn,Yn);Jn<er;++Jn)if(cn[Jn]!==bn[Jn]){Cn=cn[Jn],Yn=bn[Jn];break}return Cn<Yn?-1:Yn<Cn?1:0},De.isEncoding=function(cn){switch(String(cn).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},De.concat=function(cn,bn){if(!Array.isArray(cn))throw new TypeError('"list" argument must be an Array of Buffers');if(cn.length===0)return De.alloc(0);var Cn;if(bn===void 0)for(bn=0,Cn=0;Cn<cn.length;++Cn)bn+=cn[Cn].length;var Yn=De.allocUnsafe(bn),Jn=0;for(Cn=0;Cn<cn.length;++Cn){var er=cn[Cn];if(Hn(er,Uint8Array))Jn+er.length>Yn.length?De.from(er).copy(Yn,Jn):Uint8Array.prototype.set.call(Yn,er,Jn);else if(De.isBuffer(er))er.copy(Yn,Jn);else throw new TypeError('"list" argument must be an Array of Buffers');Jn+=er.length}return Yn};function St(In,cn){if(De.isBuffer(In))return In.length;if(ArrayBuffer.isView(In)||Hn(In,ArrayBuffer))return In.byteLength;if(typeof In!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof In);var bn=In.length,Cn=arguments.length>2&&arguments[2]===!0;if(!Cn&&bn===0)return 0;for(var Yn=!1;;)switch(cn){case"ascii":case"latin1":case"binary":return bn;case"utf8":case"utf-8":return mn(In).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bn*2;case"hex":return bn>>>1;case"base64":return xn(In).length;default:if(Yn)return Cn?-1:mn(In).length;cn=(""+cn).toLowerCase(),Yn=!0}}De.byteLength=St;function Qe(In,cn,bn){var Cn=!1;if((cn===void 0||cn<0)&&(cn=0),cn>this.length||((bn===void 0||bn>this.length)&&(bn=this.length),bn<=0)||(bn>>>=0,cn>>>=0,bn<=cn))return"";for(In||(In="utf8");;)switch(In){case"hex":return Un(this,cn,bn);case"utf8":case"utf-8":return yn(this,cn,bn);case"ascii":return Vn(this,cn,bn);case"latin1":case"binary":return On(this,cn,bn);case"base64":return Mn(this,cn,bn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jn(this,cn,bn);default:if(Cn)throw new TypeError("Unknown encoding: "+In);In=(In+"").toLowerCase(),Cn=!0}}De.prototype._isBuffer=!0;function Je(In,cn,bn){var Cn=In[cn];In[cn]=In[bn],In[bn]=Cn}De.prototype.swap16=function(){var cn=this.length;if(cn%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var bn=0;bn<cn;bn+=2)Je(this,bn,bn+1);return this},De.prototype.swap32=function(){var cn=this.length;if(cn%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var bn=0;bn<cn;bn+=4)Je(this,bn,bn+3),Je(this,bn+1,bn+2);return this},De.prototype.swap64=function(){var cn=this.length;if(cn%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var bn=0;bn<cn;bn+=8)Je(this,bn,bn+7),Je(this,bn+1,bn+6),Je(this,bn+2,bn+5),Je(this,bn+3,bn+4);return this},De.prototype.toString=function(){var cn=this.length;return cn===0?"":arguments.length===0?yn(this,0,cn):Qe.apply(this,arguments)},De.prototype.toLocaleString=De.prototype.toString,De.prototype.equals=function(cn){if(!De.isBuffer(cn))throw new TypeError("Argument must be a Buffer");return this===cn?!0:De.compare(this,cn)===0},De.prototype.inspect=function(){var cn="",bn=Ce.INSPECT_MAX_BYTES;return cn=this.toString("hex",0,bn).replace(/(.{2})/g,"$1 ").trim(),this.length>bn&&(cn+=" ... "),"<Buffer "+cn+">"},Be&&(De.prototype[Be]=De.prototype.inspect),De.prototype.compare=function(cn,bn,Cn,Yn,Jn){if(Hn(cn,Uint8Array)&&(cn=De.from(cn,cn.offset,cn.byteLength)),!De.isBuffer(cn))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof cn);if(bn===void 0&&(bn=0),Cn===void 0&&(Cn=cn?cn.length:0),Yn===void 0&&(Yn=0),Jn===void 0&&(Jn=this.length),bn<0||Cn>cn.length||Yn<0||Jn>this.length)throw new RangeError("out of range index");if(Yn>=Jn&&bn>=Cn)return 0;if(Yn>=Jn)return-1;if(bn>=Cn)return 1;if(bn>>>=0,Cn>>>=0,Yn>>>=0,Jn>>>=0,this===cn)return 0;for(var er=Jn-Yn,ur=Cn-bn,dr=Math.min(er,ur),br=this.slice(Yn,Jn),yr=cn.slice(bn,Cn),jr=0;jr<dr;++jr)if(br[jr]!==yr[jr]){er=br[jr],ur=yr[jr];break}return er<ur?-1:ur<er?1:0};function on(In,cn,bn,Cn,Yn){if(In.length===0)return-1;if(typeof bn=="string"?(Cn=bn,bn=0):bn>2147483647?bn=2147483647:bn<-2147483648&&(bn=-2147483648),bn=+bn,vn(bn)&&(bn=Yn?0:In.length-1),bn<0&&(bn=In.length+bn),bn>=In.length){if(Yn)return-1;bn=In.length-1}else if(bn<0)if(Yn)bn=0;else return-1;if(typeof cn=="string"&&(cn=De.from(cn,Cn)),De.isBuffer(cn))return cn.length===0?-1:hn(In,cn,bn,Cn,Yn);if(typeof cn=="number")return cn=cn&255,typeof Uint8Array.prototype.indexOf=="function"?Yn?Uint8Array.prototype.indexOf.call(In,cn,bn):Uint8Array.prototype.lastIndexOf.call(In,cn,bn):hn(In,[cn],bn,Cn,Yn);throw new TypeError("val must be string, number or Buffer")}function hn(In,cn,bn,Cn,Yn){var Jn=1,er=In.length,ur=cn.length;if(Cn!==void 0&&(Cn=String(Cn).toLowerCase(),Cn==="ucs2"||Cn==="ucs-2"||Cn==="utf16le"||Cn==="utf-16le")){if(In.length<2||cn.length<2)return-1;Jn=2,er/=2,ur/=2,bn/=2}function dr($r,Dr){return Jn===1?$r[Dr]:$r.readUInt16BE(Dr*Jn)}var br;if(Yn){var yr=-1;for(br=bn;br<er;br++)if(dr(In,br)===dr(cn,yr===-1?0:br-yr)){if(yr===-1&&(yr=br),br-yr+1===ur)return yr*Jn}else yr!==-1&&(br-=br-yr),yr=-1}else for(bn+ur>er&&(bn=er-ur),br=bn;br>=0;br--){for(var jr=!0,Gr=0;Gr<ur;Gr++)if(dr(In,br+Gr)!==dr(cn,Gr)){jr=!1;break}if(jr)return br}return-1}De.prototype.includes=function(cn,bn,Cn){return this.indexOf(cn,bn,Cn)!==-1},De.prototype.indexOf=function(cn,bn,Cn){return on(this,cn,bn,Cn,!0)},De.prototype.lastIndexOf=function(cn,bn,Cn){return on(this,cn,bn,Cn,!1)};function dn(In,cn,bn,Cn){bn=Number(bn)||0;var Yn=In.length-bn;Cn?(Cn=Number(Cn),Cn>Yn&&(Cn=Yn)):Cn=Yn;var Jn=cn.length;Cn>Jn/2&&(Cn=Jn/2);for(var er=0;er<Cn;++er){var ur=parseInt(cn.substr(er*2,2),16);if(vn(ur))return er;In[bn+er]=ur}return er}function sn(In,cn,bn,Cn){return Rn(mn(cn,In.length-bn),In,bn,Cn)}function kn(In,cn,bn,Cn){return Rn(un(cn),In,bn,Cn)}function Pn(In,cn,bn,Cn){return Rn(xn(cn),In,bn,Cn)}function _n(In,cn,bn,Cn){return Rn(wn(cn,In.length-bn),In,bn,Cn)}De.prototype.write=function(cn,bn,Cn,Yn){if(bn===void 0)Yn="utf8",Cn=this.length,bn=0;else if(Cn===void 0&&typeof bn=="string")Yn=bn,Cn=this.length,bn=0;else if(isFinite(bn))bn=bn>>>0,isFinite(Cn)?(Cn=Cn>>>0,Yn===void 0&&(Yn="utf8")):(Yn=Cn,Cn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Jn=this.length-bn;if((Cn===void 0||Cn>Jn)&&(Cn=Jn),cn.length>0&&(Cn<0||bn<0)||bn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Yn||(Yn="utf8");for(var er=!1;;)switch(Yn){case"hex":return dn(this,cn,bn,Cn);case"utf8":case"utf-8":return sn(this,cn,bn,Cn);case"ascii":case"latin1":case"binary":return kn(this,cn,bn,Cn);case"base64":return Pn(this,cn,bn,Cn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _n(this,cn,bn,Cn);default:if(er)throw new TypeError("Unknown encoding: "+Yn);Yn=(""+Yn).toLowerCase(),er=!0}},De.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mn(In,cn,bn){return cn===0&&bn===In.length?Ee.fromByteArray(In):Ee.fromByteArray(In.slice(cn,bn))}function yn(In,cn,bn){bn=Math.min(In.length,bn);for(var Cn=[],Yn=cn;Yn<bn;){var Jn=In[Yn],er=null,ur=Jn>239?4:Jn>223?3:Jn>191?2:1;if(Yn+ur<=bn){var dr,br,yr,jr;switch(ur){case 1:Jn<128&&(er=Jn);break;case 2:dr=In[Yn+1],(dr&192)===128&&(jr=(Jn&31)<<6|dr&63,jr>127&&(er=jr));break;case 3:dr=In[Yn+1],br=In[Yn+2],(dr&192)===128&&(br&192)===128&&(jr=(Jn&15)<<12|(dr&63)<<6|br&63,jr>2047&&(jr<55296||jr>57343)&&(er=jr));break;case 4:dr=In[Yn+1],br=In[Yn+2],yr=In[Yn+3],(dr&192)===128&&(br&192)===128&&(yr&192)===128&&(jr=(Jn&15)<<18|(dr&63)<<12|(br&63)<<6|yr&63,jr>65535&&jr<1114112&&(er=jr))}}er===null?(er=65533,ur=1):er>65535&&(er-=65536,Cn.push(er>>>10&1023|55296),er=56320|er&1023),Cn.push(er),Yn+=ur}return Ln(Cn)}var zn=4096;function Ln(In){var cn=In.length;if(cn<=zn)return String.fromCharCode.apply(String,In);for(var bn="",Cn=0;Cn<cn;)bn+=String.fromCharCode.apply(String,In.slice(Cn,Cn+=zn));return bn}function Vn(In,cn,bn){var Cn="";bn=Math.min(In.length,bn);for(var Yn=cn;Yn<bn;++Yn)Cn+=String.fromCharCode(In[Yn]&127);return Cn}function On(In,cn,bn){var Cn="";bn=Math.min(In.length,bn);for(var Yn=cn;Yn<bn;++Yn)Cn+=String.fromCharCode(In[Yn]);return Cn}function Un(In,cn,bn){var Cn=In.length;(!cn||cn<0)&&(cn=0),(!bn||bn<0||bn>Cn)&&(bn=Cn);for(var Yn="",Jn=cn;Jn<bn;++Jn)Yn+=qn[In[Jn]];return Yn}function jn(In,cn,bn){for(var Cn=In.slice(cn,bn),Yn="",Jn=0;Jn<Cn.length-1;Jn+=2)Yn+=String.fromCharCode(Cn[Jn]+Cn[Jn+1]*256);return Yn}De.prototype.slice=function(cn,bn){var Cn=this.length;cn=~~cn,bn=bn===void 0?Cn:~~bn,cn<0?(cn+=Cn,cn<0&&(cn=0)):cn>Cn&&(cn=Cn),bn<0?(bn+=Cn,bn<0&&(bn=0)):bn>Cn&&(bn=Cn),bn<cn&&(bn=cn);var Yn=this.subarray(cn,bn);return Object.setPrototypeOf(Yn,De.prototype),Yn};function Gn(In,cn,bn){if(In%1!==0||In<0)throw new RangeError("offset is not uint");if(In+cn>bn)throw new RangeError("Trying to access beyond buffer length")}De.prototype.readUintLE=De.prototype.readUIntLE=function(cn,bn,Cn){cn=cn>>>0,bn=bn>>>0,Cn||Gn(cn,bn,this.length);for(var Yn=this[cn],Jn=1,er=0;++er<bn&&(Jn*=256);)Yn+=this[cn+er]*Jn;return Yn},De.prototype.readUintBE=De.prototype.readUIntBE=function(cn,bn,Cn){cn=cn>>>0,bn=bn>>>0,Cn||Gn(cn,bn,this.length);for(var Yn=this[cn+--bn],Jn=1;bn>0&&(Jn*=256);)Yn+=this[cn+--bn]*Jn;return Yn},De.prototype.readUint8=De.prototype.readUInt8=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,1,this.length),this[cn]},De.prototype.readUint16LE=De.prototype.readUInt16LE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,2,this.length),this[cn]|this[cn+1]<<8},De.prototype.readUint16BE=De.prototype.readUInt16BE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,2,this.length),this[cn]<<8|this[cn+1]},De.prototype.readUint32LE=De.prototype.readUInt32LE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),(this[cn]|this[cn+1]<<8|this[cn+2]<<16)+this[cn+3]*16777216},De.prototype.readUint32BE=De.prototype.readUInt32BE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),this[cn]*16777216+(this[cn+1]<<16|this[cn+2]<<8|this[cn+3])},De.prototype.readIntLE=function(cn,bn,Cn){cn=cn>>>0,bn=bn>>>0,Cn||Gn(cn,bn,this.length);for(var Yn=this[cn],Jn=1,er=0;++er<bn&&(Jn*=256);)Yn+=this[cn+er]*Jn;return Jn*=128,Yn>=Jn&&(Yn-=Math.pow(2,8*bn)),Yn},De.prototype.readIntBE=function(cn,bn,Cn){cn=cn>>>0,bn=bn>>>0,Cn||Gn(cn,bn,this.length);for(var Yn=bn,Jn=1,er=this[cn+--Yn];Yn>0&&(Jn*=256);)er+=this[cn+--Yn]*Jn;return Jn*=128,er>=Jn&&(er-=Math.pow(2,8*bn)),er},De.prototype.readInt8=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,1,this.length),this[cn]&128?(255-this[cn]+1)*-1:this[cn]},De.prototype.readInt16LE=function(cn,bn){cn=cn>>>0,bn||Gn(cn,2,this.length);var Cn=this[cn]|this[cn+1]<<8;return Cn&32768?Cn|4294901760:Cn},De.prototype.readInt16BE=function(cn,bn){cn=cn>>>0,bn||Gn(cn,2,this.length);var Cn=this[cn+1]|this[cn]<<8;return Cn&32768?Cn|4294901760:Cn},De.prototype.readInt32LE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),this[cn]|this[cn+1]<<8|this[cn+2]<<16|this[cn+3]<<24},De.prototype.readInt32BE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),this[cn]<<24|this[cn+1]<<16|this[cn+2]<<8|this[cn+3]},De.prototype.readFloatLE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),Te.read(this,cn,!0,23,4)},De.prototype.readFloatBE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,4,this.length),Te.read(this,cn,!1,23,4)},De.prototype.readDoubleLE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,8,this.length),Te.read(this,cn,!0,52,8)},De.prototype.readDoubleBE=function(cn,bn){return cn=cn>>>0,bn||Gn(cn,8,this.length),Te.read(this,cn,!1,52,8)};function An(In,cn,bn,Cn,Yn,Jn){if(!De.isBuffer(In))throw new TypeError('"buffer" argument must be a Buffer instance');if(cn>Yn||cn<Jn)throw new RangeError('"value" argument is out of bounds');if(bn+Cn>In.length)throw new RangeError("Index out of range")}De.prototype.writeUintLE=De.prototype.writeUIntLE=function(cn,bn,Cn,Yn){if(cn=+cn,bn=bn>>>0,Cn=Cn>>>0,!Yn){var Jn=Math.pow(2,8*Cn)-1;An(this,cn,bn,Cn,Jn,0)}var er=1,ur=0;for(this[bn]=cn&255;++ur<Cn&&(er*=256);)this[bn+ur]=cn/er&255;return bn+Cn},De.prototype.writeUintBE=De.prototype.writeUIntBE=function(cn,bn,Cn,Yn){if(cn=+cn,bn=bn>>>0,Cn=Cn>>>0,!Yn){var Jn=Math.pow(2,8*Cn)-1;An(this,cn,bn,Cn,Jn,0)}var er=Cn-1,ur=1;for(this[bn+er]=cn&255;--er>=0&&(ur*=256);)this[bn+er]=cn/ur&255;return bn+Cn},De.prototype.writeUint8=De.prototype.writeUInt8=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,1,255,0),this[bn]=cn&255,bn+1},De.prototype.writeUint16LE=De.prototype.writeUInt16LE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,2,65535,0),this[bn]=cn&255,this[bn+1]=cn>>>8,bn+2},De.prototype.writeUint16BE=De.prototype.writeUInt16BE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,2,65535,0),this[bn]=cn>>>8,this[bn+1]=cn&255,bn+2},De.prototype.writeUint32LE=De.prototype.writeUInt32LE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,4,4294967295,0),this[bn+3]=cn>>>24,this[bn+2]=cn>>>16,this[bn+1]=cn>>>8,this[bn]=cn&255,bn+4},De.prototype.writeUint32BE=De.prototype.writeUInt32BE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,4,4294967295,0),this[bn]=cn>>>24,this[bn+1]=cn>>>16,this[bn+2]=cn>>>8,this[bn+3]=cn&255,bn+4},De.prototype.writeIntLE=function(cn,bn,Cn,Yn){if(cn=+cn,bn=bn>>>0,!Yn){var Jn=Math.pow(2,8*Cn-1);An(this,cn,bn,Cn,Jn-1,-Jn)}var er=0,ur=1,dr=0;for(this[bn]=cn&255;++er<Cn&&(ur*=256);)cn<0&&dr===0&&this[bn+er-1]!==0&&(dr=1),this[bn+er]=(cn/ur>>0)-dr&255;return bn+Cn},De.prototype.writeIntBE=function(cn,bn,Cn,Yn){if(cn=+cn,bn=bn>>>0,!Yn){var Jn=Math.pow(2,8*Cn-1);An(this,cn,bn,Cn,Jn-1,-Jn)}var er=Cn-1,ur=1,dr=0;for(this[bn+er]=cn&255;--er>=0&&(ur*=256);)cn<0&&dr===0&&this[bn+er+1]!==0&&(dr=1),this[bn+er]=(cn/ur>>0)-dr&255;return bn+Cn},De.prototype.writeInt8=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,1,127,-128),cn<0&&(cn=255+cn+1),this[bn]=cn&255,bn+1},De.prototype.writeInt16LE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,2,32767,-32768),this[bn]=cn&255,this[bn+1]=cn>>>8,bn+2},De.prototype.writeInt16BE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,2,32767,-32768),this[bn]=cn>>>8,this[bn+1]=cn&255,bn+2},De.prototype.writeInt32LE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,4,2147483647,-2147483648),this[bn]=cn&255,this[bn+1]=cn>>>8,this[bn+2]=cn>>>16,this[bn+3]=cn>>>24,bn+4},De.prototype.writeInt32BE=function(cn,bn,Cn){return cn=+cn,bn=bn>>>0,Cn||An(this,cn,bn,4,2147483647,-2147483648),cn<0&&(cn=4294967295+cn+1),this[bn]=cn>>>24,this[bn+1]=cn>>>16,this[bn+2]=cn>>>8,this[bn+3]=cn&255,bn+4};function $n(In,cn,bn,Cn,Yn,Jn){if(bn+Cn>In.length)throw new RangeError("Index out of range");if(bn<0)throw new RangeError("Index out of range")}function Nn(In,cn,bn,Cn,Yn){return cn=+cn,bn=bn>>>0,Yn||$n(In,cn,bn,4),Te.write(In,cn,bn,Cn,23,4),bn+4}De.prototype.writeFloatLE=function(cn,bn,Cn){return Nn(this,cn,bn,!0,Cn)},De.prototype.writeFloatBE=function(cn,bn,Cn){return Nn(this,cn,bn,!1,Cn)};function En(In,cn,bn,Cn,Yn){return cn=+cn,bn=bn>>>0,Yn||$n(In,cn,bn,8),Te.write(In,cn,bn,Cn,52,8),bn+8}De.prototype.writeDoubleLE=function(cn,bn,Cn){return En(this,cn,bn,!0,Cn)},De.prototype.writeDoubleBE=function(cn,bn,Cn){return En(this,cn,bn,!1,Cn)},De.prototype.copy=function(cn,bn,Cn,Yn){if(!De.isBuffer(cn))throw new TypeError("argument should be a Buffer");if(Cn||(Cn=0),!Yn&&Yn!==0&&(Yn=this.length),bn>=cn.length&&(bn=cn.length),bn||(bn=0),Yn>0&&Yn<Cn&&(Yn=Cn),Yn===Cn||cn.length===0||this.length===0)return 0;if(bn<0)throw new RangeError("targetStart out of bounds");if(Cn<0||Cn>=this.length)throw new RangeError("Index out of range");if(Yn<0)throw new RangeError("sourceEnd out of bounds");Yn>this.length&&(Yn=this.length),cn.length-bn<Yn-Cn&&(Yn=cn.length-bn+Cn);var Jn=Yn-Cn;return this===cn&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(bn,Cn,Yn):Uint8Array.prototype.set.call(cn,this.subarray(Cn,Yn),bn),Jn},De.prototype.fill=function(cn,bn,Cn,Yn){if(typeof cn=="string"){if(typeof bn=="string"?(Yn=bn,bn=0,Cn=this.length):typeof Cn=="string"&&(Yn=Cn,Cn=this.length),Yn!==void 0&&typeof Yn!="string")throw new TypeError("encoding must be a string");if(typeof Yn=="string"&&!De.isEncoding(Yn))throw new TypeError("Unknown encoding: "+Yn);if(cn.length===1){var Jn=cn.charCodeAt(0);(Yn==="utf8"&&Jn<128||Yn==="latin1")&&(cn=Jn)}}else typeof cn=="number"?cn=cn&255:typeof cn=="boolean"&&(cn=Number(cn));if(bn<0||this.length<bn||this.length<Cn)throw new RangeError("Out of range index");if(Cn<=bn)return this;bn=bn>>>0,Cn=Cn===void 0?this.length:Cn>>>0,cn||(cn=0);var er;if(typeof cn=="number")for(er=bn;er<Cn;++er)this[er]=cn;else{var ur=De.isBuffer(cn)?cn:De.from(cn,Yn),dr=ur.length;if(dr===0)throw new TypeError('The value "'+cn+'" is invalid for argument "value"');for(er=0;er<Cn-bn;++er)this[er+bn]=ur[er%dr]}return this};var Sn=/[^+/0-9A-Za-z-_]/g;function pn(In){if(In=In.split("=")[0],In=In.trim().replace(Sn,""),In.length<2)return"";for(;In.length%4!==0;)In=In+"=";return In}function mn(In,cn){cn=cn||1/0;for(var bn,Cn=In.length,Yn=null,Jn=[],er=0;er<Cn;++er){if(bn=In.charCodeAt(er),bn>55295&&bn<57344){if(!Yn){if(bn>56319){(cn-=3)>-1&&Jn.push(239,191,189);continue}else if(er+1===Cn){(cn-=3)>-1&&Jn.push(239,191,189);continue}Yn=bn;continue}if(bn<56320){(cn-=3)>-1&&Jn.push(239,191,189),Yn=bn;continue}bn=(Yn-55296<<10|bn-56320)+65536}else Yn&&(cn-=3)>-1&&Jn.push(239,191,189);if(Yn=null,bn<128){if((cn-=1)<0)break;Jn.push(bn)}else if(bn<2048){if((cn-=2)<0)break;Jn.push(bn>>6|192,bn&63|128)}else if(bn<65536){if((cn-=3)<0)break;Jn.push(bn>>12|224,bn>>6&63|128,bn&63|128)}else if(bn<1114112){if((cn-=4)<0)break;Jn.push(bn>>18|240,bn>>12&63|128,bn>>6&63|128,bn&63|128)}else throw new Error("Invalid code point")}return Jn}function un(In){for(var cn=[],bn=0;bn<In.length;++bn)cn.push(In.charCodeAt(bn)&255);return cn}function wn(In,cn){for(var bn,Cn,Yn,Jn=[],er=0;er<In.length&&!((cn-=2)<0);++er)bn=In.charCodeAt(er),Cn=bn>>8,Yn=bn%256,Jn.push(Yn),Jn.push(Cn);return Jn}function xn(In){return Ee.toByteArray(pn(In))}function Rn(In,cn,bn,Cn){for(var Yn=0;Yn<Cn&&!(Yn+bn>=cn.length||Yn>=In.length);++Yn)cn[Yn+bn]=In[Yn];return Yn}function Hn(In,cn){return In instanceof cn||In!=null&&In.constructor!=null&&In.constructor.name!=null&&In.constructor.name===cn.name}function vn(In){return In!==In}var qn=(function(){for(var In="0123456789abcdef",cn=new Array(256),bn=0;bn<16;++bn)for(var Cn=bn*16,Yn=0;Yn<16;++Yn)cn[Cn+Yn]=In[bn]+In[Yn];return cn})()})(buffer)),buffer}var util={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var Ee={},Te=Symbol("test"),Be=Object(Te);if(typeof Te=="string"||Object.prototype.toString.call(Te)!=="[object Symbol]"||Object.prototype.toString.call(Be)!=="[object Symbol]")return!1;var Re=42;Ee[Te]=Re;for(var Me in Ee)return!1;if(typeof Object.keys=="function"&&Object.keys(Ee).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(Ee).length!==0)return!1;var Ue=Object.getOwnPropertySymbols(Ee);if(Ue.length!==1||Ue[0]!==Te||!Object.prototype.propertyIsEnumerable.call(Ee,Te))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var De=Object.getOwnPropertyDescriptor(Ee,Te);if(De.value!==Re||De.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var Ce=requireShams$1();return shams=function(){return Ce()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(Ee){return Ee!==Ee}),_isNaN}var sign,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign;hasRequiredSign=1;var Ce=require_isNaN();return sign=function(Te){return Ce(Te)||Te===0?Te:Te<0?-1:1},sign}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var Ce=requireGOPD();if(Ce)try{Ce([],"length")}catch{Ce=null}return gopd=Ce,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var Ce=Object.defineProperty||!1;if(Ce)try{Ce({},"a",{value:1})}catch{Ce=!1}return esDefineProperty=Ce,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var Ce=typeof Symbol<"u"&&Symbol,Ee=requireShams$1();return hasSymbols=function(){return typeof Ce!="function"||typeof Symbol!="function"||typeof Ce("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ee()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var Ce=requireEsObjectAtoms();return Object_getPrototypeOf=Ce.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var Ce="Function.prototype.bind called on incompatible ",Ee=Object.prototype.toString,Te=Math.max,Be="[object Function]",Re=function(qe,$e){for(var ze=[],Xe=0;Xe<qe.length;Xe+=1)ze[Xe]=qe[Xe];for(var We=0;We<$e.length;We+=1)ze[We+qe.length]=$e[We];return ze},Me=function(qe,$e){for(var ze=[],Xe=$e,We=0;Xe<qe.length;Xe+=1,We+=1)ze[We]=qe[Xe];return ze},Ue=function(De,qe){for(var $e="",ze=0;ze<De.length;ze+=1)$e+=De[ze],ze+1<De.length&&($e+=qe);return $e};return implementation=function(qe){var $e=this;if(typeof $e!="function"||Ee.apply($e)!==Be)throw new TypeError(Ce+$e);for(var ze=Me(arguments,1),Xe,We=function(){if(this instanceof Xe){var Ye=$e.apply(this,Re(ze,arguments));return Object(Ye)===Ye?Ye:this}return $e.apply(qe,Re(ze,arguments))},Ge=Te(0,$e.length-ze.length),tn=[],en=0;en<Ge;en++)tn[en]="$"+en;if(Xe=Function("binder","return function ("+Ue(tn,",")+"){ return binder.apply(this,arguments); }")(We),$e.prototype){var an=function(){};an.prototype=$e.prototype,Xe.prototype=new an,an.prototype=null}return Xe},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var Ce=requireImplementation();return functionBind=Function.prototype.bind||Ce,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var Ce=requireFunctionBind(),Ee=requireFunctionApply(),Te=requireFunctionCall(),Be=requireReflectApply();return actualApply=Be||Ce.call(Te,Ee),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var Ce=requireFunctionBind(),Ee=requireType(),Te=requireFunctionCall(),Be=requireActualApply();return callBindApplyHelpers=function(Me){if(Me.length<1||typeof Me[0]!="function")throw new Ee("a function is required");return Be(Ce,Te,Me)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var Ce=requireCallBindApplyHelpers(),Ee=requireGopd(),Te;try{Te=[].__proto__===Array.prototype}catch(Ue){if(!Ue||typeof Ue!="object"||!("code"in Ue)||Ue.code!=="ERR_PROTO_ACCESS")throw Ue}var Be=!!Te&&Ee&&Ee(Object.prototype,"__proto__"),Re=Object,Me=Re.getPrototypeOf;return get=Be&&typeof Be.get=="function"?Ce([Be.get]):typeof Me=="function"?(function(De){return Me(De==null?De:Re(De))}):!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var Ce=requireReflect_getPrototypeOf(),Ee=requireObject_getPrototypeOf(),Te=requireGet();return getProto=Ce?function(Re){return Ce(Re)}:Ee?function(Re){if(!Re||typeof Re!="object"&&typeof Re!="function")throw new TypeError("getProto: not an object");return Ee(Re)}:Te?function(Re){return Te(Re)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var Ce=Function.prototype.call,Ee=Object.prototype.hasOwnProperty,Te=requireFunctionBind();return hasown=Te.call(Ce,Ee),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var Ce,Ee=requireEsObjectAtoms(),Te=requireEsErrors(),Be=require_eval(),Re=requireRange(),Me=requireRef(),Ue=requireSyntax(),De=requireType(),qe=requireUri(),$e=requireAbs(),ze=requireFloor(),Xe=requireMax(),We=requireMin(),Ge=requirePow(),tn=requireRound(),en=requireSign(),an=Function,Ye=function(un){try{return an('"use strict"; return ('+un+").constructor;")()}catch{}},Ze=requireGopd(),St=requireEsDefineProperty(),Qe=function(){throw new De},Je=Ze?(function(){try{return arguments.callee,Qe}catch{try{return Ze(arguments,"callee").get}catch{return Qe}}})():Qe,on=requireHasSymbols()(),hn=requireGetProto(),dn=requireObject_getPrototypeOf(),sn=requireReflect_getPrototypeOf(),kn=requireFunctionApply(),Pn=requireFunctionCall(),_n={},Mn=typeof Uint8Array>"u"||!hn?Ce:hn(Uint8Array),yn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ce:ArrayBuffer,"%ArrayIteratorPrototype%":on&&hn?hn([][Symbol.iterator]()):Ce,"%AsyncFromSyncIteratorPrototype%":Ce,"%AsyncFunction%":_n,"%AsyncGenerator%":_n,"%AsyncGeneratorFunction%":_n,"%AsyncIteratorPrototype%":_n,"%Atomics%":typeof Atomics>"u"?Ce:Atomics,"%BigInt%":typeof BigInt>"u"?Ce:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ce:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ce:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Te,"%eval%":eval,"%EvalError%":Be,"%Float16Array%":typeof Float16Array>"u"?Ce:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Ce:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ce:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ce:FinalizationRegistry,"%Function%":an,"%GeneratorFunction%":_n,"%Int8Array%":typeof Int8Array>"u"?Ce:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ce:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":on&&hn?hn(hn([][Symbol.iterator]())):Ce,"%JSON%":typeof JSON=="object"?JSON:Ce,"%Map%":typeof Map>"u"?Ce:Map,"%MapIteratorPrototype%":typeof Map>"u"||!on||!hn?Ce:hn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Ee,"%Object.getOwnPropertyDescriptor%":Ze,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ce:Promise,"%Proxy%":typeof Proxy>"u"?Ce:Proxy,"%RangeError%":Re,"%ReferenceError%":Me,"%Reflect%":typeof Reflect>"u"?Ce:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ce:Set,"%SetIteratorPrototype%":typeof Set>"u"||!on||!hn?Ce:hn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":on&&hn?hn(""[Symbol.iterator]()):Ce,"%Symbol%":on?Symbol:Ce,"%SyntaxError%":Ue,"%ThrowTypeError%":Je,"%TypedArray%":Mn,"%TypeError%":De,"%Uint8Array%":typeof Uint8Array>"u"?Ce:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ce:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ce:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ce:Uint32Array,"%URIError%":qe,"%WeakMap%":typeof WeakMap>"u"?Ce:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ce:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ce:WeakSet,"%Function.prototype.call%":Pn,"%Function.prototype.apply%":kn,"%Object.defineProperty%":St,"%Object.getPrototypeOf%":dn,"%Math.abs%":$e,"%Math.floor%":ze,"%Math.max%":Xe,"%Math.min%":We,"%Math.pow%":Ge,"%Math.round%":tn,"%Math.sign%":en,"%Reflect.getPrototypeOf%":sn};if(hn)try{null.error}catch(un){var zn=hn(hn(un));yn["%Error.prototype%"]=zn}var Ln=function un(wn){var xn;if(wn==="%AsyncFunction%")xn=Ye("async function () {}");else if(wn==="%GeneratorFunction%")xn=Ye("function* () {}");else if(wn==="%AsyncGeneratorFunction%")xn=Ye("async function* () {}");else if(wn==="%AsyncGenerator%"){var Rn=un("%AsyncGeneratorFunction%");Rn&&(xn=Rn.prototype)}else if(wn==="%AsyncIteratorPrototype%"){var Hn=un("%AsyncGenerator%");Hn&&hn&&(xn=hn(Hn.prototype))}return yn[wn]=xn,xn},Vn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},On=requireFunctionBind(),Un=requireHasown(),jn=On.call(Pn,Array.prototype.concat),Gn=On.call(kn,Array.prototype.splice),An=On.call(Pn,String.prototype.replace),$n=On.call(Pn,String.prototype.slice),Nn=On.call(Pn,RegExp.prototype.exec),En=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Sn=/\\(\\)?/g,pn=function(wn){var xn=$n(wn,0,1),Rn=$n(wn,-1);if(xn==="%"&&Rn!=="%")throw new Ue("invalid intrinsic syntax, expected closing `%`");if(Rn==="%"&&xn!=="%")throw new Ue("invalid intrinsic syntax, expected opening `%`");var Hn=[];return An(wn,En,function(vn,qn,In,cn){Hn[Hn.length]=In?An(cn,Sn,"$1"):qn||vn}),Hn},mn=function(wn,xn){var Rn=wn,Hn;if(Un(Vn,Rn)&&(Hn=Vn[Rn],Rn="%"+Hn[0]+"%"),Un(yn,Rn)){var vn=yn[Rn];if(vn===_n&&(vn=Ln(Rn)),typeof vn>"u"&&!xn)throw new De("intrinsic "+wn+" exists, but is not available. Please file an issue!");return{alias:Hn,name:Rn,value:vn}}throw new Ue("intrinsic "+wn+" does not exist!")};return getIntrinsic=function(wn,xn){if(typeof wn!="string"||wn.length===0)throw new De("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof xn!="boolean")throw new De('"allowMissing" argument must be a boolean');if(Nn(/^%?[^%]*%?$/,wn)===null)throw new Ue("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Rn=pn(wn),Hn=Rn.length>0?Rn[0]:"",vn=mn("%"+Hn+"%",xn),qn=vn.name,In=vn.value,cn=!1,bn=vn.alias;bn&&(Hn=bn[0],Gn(Rn,jn([0,1],bn)));for(var Cn=1,Yn=!0;Cn<Rn.length;Cn+=1){var Jn=Rn[Cn],er=$n(Jn,0,1),ur=$n(Jn,-1);if((er==='"'||er==="'"||er==="`"||ur==='"'||ur==="'"||ur==="`")&&er!==ur)throw new Ue("property names with quotes must have matching quotes");if((Jn==="constructor"||!Yn)&&(cn=!0),Hn+="."+Jn,qn="%"+Hn+"%",Un(yn,qn))In=yn[qn];else if(In!=null){if(!(Jn in In)){if(!xn)throw new De("base intrinsic for "+wn+" exists, but the property is not available.");return}if(Ze&&Cn+1>=Rn.length){var dr=Ze(In,Jn);Yn=!!dr,Yn&&"get"in dr&&!("originalValue"in dr.get)?In=dr.get:In=In[Jn]}else Yn=Un(In,Jn),In=In[Jn];Yn&&!cn&&(yn[qn]=In)}}return In},getIntrinsic}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var Ce=requireEsDefineProperty(),Ee=requireSyntax(),Te=requireType(),Be=requireGopd();return defineDataProperty=function(Me,Ue,De){if(!Me||typeof Me!="object"&&typeof Me!="function")throw new Te("`obj` must be an object or a function`");if(typeof Ue!="string"&&typeof Ue!="symbol")throw new Te("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Te("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Te("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Te("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Te("`loose`, if provided, must be a boolean");var qe=arguments.length>3?arguments[3]:null,$e=arguments.length>4?arguments[4]:null,ze=arguments.length>5?arguments[5]:null,Xe=arguments.length>6?arguments[6]:!1,We=!!Be&&Be(Me,Ue);if(Ce)Ce(Me,Ue,{configurable:ze===null&&We?We.configurable:!ze,enumerable:qe===null&&We?We.enumerable:!qe,value:De,writable:$e===null&&We?We.writable:!$e});else if(Xe||!qe&&!$e&&!ze)Me[Ue]=De;else throw new Ee("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var Ce=requireEsDefineProperty(),Ee=function(){return!!Ce};return Ee.hasArrayLengthDefineBug=function(){if(!Ce)return null;try{return Ce([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=Ee,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var Ce=requireGetIntrinsic(),Ee=requireDefineDataProperty(),Te=requireHasPropertyDescriptors()(),Be=requireGopd(),Re=requireType(),Me=Ce("%Math.floor%");return setFunctionLength=function(De,qe){if(typeof De!="function")throw new Re("`fn` is not a function");if(typeof qe!="number"||qe<0||qe>4294967295||Me(qe)!==qe)throw new Re("`length` must be a positive 32-bit integer");var $e=arguments.length>2&&!!arguments[2],ze=!0,Xe=!0;if("length"in De&&Be){var We=Be(De,"length");We&&!We.configurable&&(ze=!1),We&&!We.writable&&(Xe=!1)}return(ze||Xe||!$e)&&(Te?Ee(De,"length",qe,!0,!0):Ee(De,"length",qe)),De},setFunctionLength}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,(function(Ce){var Ee=requireFunctionBind(),Te=requireGetIntrinsic(),Be=requireSetFunctionLength(),Re=requireType(),Me=Te("%Function.prototype.apply%"),Ue=Te("%Function.prototype.call%"),De=Te("%Reflect.apply%",!0)||Ee.call(Ue,Me),qe=requireEsDefineProperty(),$e=Te("%Math.max%");Ce.exports=function(We){if(typeof We!="function")throw new Re("a function is required");var Ge=De(Ee,Ue,arguments);return Be(Ge,1+$e(0,We.length-(arguments.length-1)),!0)};var ze=function(){return De(Ee,Me,arguments)};qe?qe(Ce.exports,"apply",{value:ze}):Ce.exports.apply=ze})(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var Ce=requireGetIntrinsic(),Ee=requireCallBind(),Te=Ee(Ce("String.prototype.indexOf"));return callBound=function(Re,Me){var Ue=Ce(Re,!!Me);return typeof Ue=="function"&&Te(Re,".prototype.")>-1?Ee(Ue):Ue},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var Ce=requireShams()(),Ee=requireCallBound(),Te=Ee("Object.prototype.toString"),Be=function(De){return Ce&&De&&typeof De=="object"&&Symbol.toStringTag in De?!1:Te(De)==="[object Arguments]"},Re=function(De){return Be(De)?!0:De!==null&&typeof De=="object"&&typeof De.length=="number"&&De.length>=0&&Te(De)!=="[object Array]"&&Te(De.callee)==="[object Function]"},Me=(function(){return Be(arguments)})();return Be.isLegacyArguments=Re,isArguments=Me?Be:Re,isArguments}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var Ce=Object.prototype.toString,Ee=Function.prototype.toString,Te=/^\s*(?:function)?\*/,Be=requireShams()(),Re=Object.getPrototypeOf,Me=function(){if(!Be)return!1;try{return Function("return function*() {}")()}catch{}},Ue;return isGeneratorFunction=function(qe){if(typeof qe!="function")return!1;if(Te.test(Ee.call(qe)))return!0;if(!Be){var $e=Ce.call(qe);return $e==="[object GeneratorFunction]"}if(!Re)return!1;if(typeof Ue>"u"){var ze=Me();Ue=ze?Re(ze):!1}return Re(qe)===Ue},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var Ce=Function.prototype.toString,Ee=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Te,Be;if(typeof Ee=="function"&&typeof Object.defineProperty=="function")try{Te=Object.defineProperty({},"length",{get:function(){throw Be}}),Be={},Ee(function(){throw 42},null,Te)}catch(Ze){Ze!==Be&&(Ee=null)}else Ee=null;var Re=/^\s*class\b/,Me=function(St){try{var Qe=Ce.call(St);return Re.test(Qe)}catch{return!1}},Ue=function(St){try{return Me(St)?!1:(Ce.call(St),!0)}catch{return!1}},De=Object.prototype.toString,qe="[object Object]",$e="[object Function]",ze="[object GeneratorFunction]",Xe="[object HTMLAllCollection]",We="[object HTML document.all class]",Ge="[object HTMLCollection]",tn=typeof Symbol=="function"&&!!Symbol.toStringTag,en=!(0 in[,]),an=function(){return!1};if(typeof document=="object"){var Ye=document.all;De.call(Ye)===De.call(document.all)&&(an=function(St){if((en||!St)&&(typeof St>"u"||typeof St=="object"))try{var Qe=De.call(St);return(Qe===Xe||Qe===We||Qe===Ge||Qe===qe)&&St("")==null}catch{}return!1})}return isCallable=Ee?function(St){if(an(St))return!0;if(!St||typeof St!="function"&&typeof St!="object")return!1;try{Ee(St,null,Te)}catch(Qe){if(Qe!==Be)return!1}return!Me(St)&&Ue(St)}:function(St){if(an(St))return!0;if(!St||typeof St!="function"&&typeof St!="object")return!1;if(tn)return Ue(St);if(Me(St))return!1;var Qe=De.call(St);return Qe!==$e&&Qe!==ze&&!/^\[object HTML/.test(Qe)?!1:Ue(St)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var Ce=requireIsCallable(),Ee=Object.prototype.toString,Te=Object.prototype.hasOwnProperty,Be=function(qe,$e,ze){for(var Xe=0,We=qe.length;Xe<We;Xe++)Te.call(qe,Xe)&&(ze==null?$e(qe[Xe],Xe,qe):$e.call(ze,qe[Xe],Xe,qe))},Re=function(qe,$e,ze){for(var Xe=0,We=qe.length;Xe<We;Xe++)ze==null?$e(qe.charAt(Xe),Xe,qe):$e.call(ze,qe.charAt(Xe),Xe,qe)},Me=function(qe,$e,ze){for(var Xe in qe)Te.call(qe,Xe)&&(ze==null?$e(qe[Xe],Xe,qe):$e.call(ze,qe[Xe],Xe,qe))},Ue=function(qe,$e,ze){if(!Ce($e))throw new TypeError("iterator must be a function");var Xe;arguments.length>=3&&(Xe=ze),Ee.call(qe)==="[object Array]"?Be(qe,$e,Xe):typeof qe=="string"?Re(qe,$e,Xe):Me(qe,$e,Xe)};return forEach_1=Ue,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var Ce=requirePossibleTypedArrayNames(),Ee=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var Be=[],Re=0;Re<Ce.length;Re++)typeof Ee[Ce[Re]]=="function"&&(Be[Be.length]=Ce[Re]);return Be},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var Ce=requireForEach(),Ee=requireAvailableTypedArrays(),Te=requireCallBind(),Be=requireCallBound(),Re=requireGopd(),Me=Be("Object.prototype.toString"),Ue=requireShams()(),De=typeof globalThis>"u"?commonjsGlobal:globalThis,qe=Ee(),$e=Be("String.prototype.slice"),ze=Object.getPrototypeOf,Xe=Be("Array.prototype.indexOf",!0)||function(an,Ye){for(var Ze=0;Ze<an.length;Ze+=1)if(an[Ze]===Ye)return Ze;return-1},We={__proto__:null};Ue&&Re&&ze?Ce(qe,function(en){var an=new De[en];if(Symbol.toStringTag in an){var Ye=ze(an),Ze=Re(Ye,Symbol.toStringTag);if(!Ze){var St=ze(Ye);Ze=Re(St,Symbol.toStringTag)}We["$"+en]=Te(Ze.get)}}):Ce(qe,function(en){var an=new De[en],Ye=an.slice||an.set;Ye&&(We["$"+en]=Te(Ye))});var Ge=function(an){var Ye=!1;return Ce(We,function(Ze,St){if(!Ye)try{"$"+Ze(an)===St&&(Ye=$e(St,1))}catch{}}),Ye},tn=function(an){var Ye=!1;return Ce(We,function(Ze,St){if(!Ye)try{Ze(an),Ye=$e(St,1)}catch{}}),Ye};return whichTypedArray=function(an){if(!an||typeof an!="object")return!1;if(!Ue){var Ye=$e(Me(an),8,-1);return Xe(qe,Ye)>-1?Ye:Ye!=="Object"?!1:tn(an)}return Re?Ge(an):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var Ce=requireWhichTypedArray();return isTypedArray=function(Te){return!!Ce(Te)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(Ce){var Ee=requireIsArguments(),Te=requireIsGeneratorFunction(),Be=requireWhichTypedArray(),Re=requireIsTypedArray();function Me(Cn){return Cn.call.bind(Cn)}var Ue=typeof BigInt<"u",De=typeof Symbol<"u",qe=Me(Object.prototype.toString),$e=Me(Number.prototype.valueOf),ze=Me(String.prototype.valueOf),Xe=Me(Boolean.prototype.valueOf);if(Ue)var We=Me(BigInt.prototype.valueOf);if(De)var Ge=Me(Symbol.prototype.valueOf);function tn(Cn,Yn){if(typeof Cn!="object")return!1;try{return Yn(Cn),!0}catch{return!1}}Ce.isArgumentsObject=Ee,Ce.isGeneratorFunction=Te,Ce.isTypedArray=Re;function en(Cn){return typeof Promise<"u"&&Cn instanceof Promise||Cn!==null&&typeof Cn=="object"&&typeof Cn.then=="function"&&typeof Cn.catch=="function"}Ce.isPromise=en;function an(Cn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Cn):Re(Cn)||$n(Cn)}Ce.isArrayBufferView=an;function Ye(Cn){return Be(Cn)==="Uint8Array"}Ce.isUint8Array=Ye;function Ze(Cn){return Be(Cn)==="Uint8ClampedArray"}Ce.isUint8ClampedArray=Ze;function St(Cn){return Be(Cn)==="Uint16Array"}Ce.isUint16Array=St;function Qe(Cn){return Be(Cn)==="Uint32Array"}Ce.isUint32Array=Qe;function Je(Cn){return Be(Cn)==="Int8Array"}Ce.isInt8Array=Je;function on(Cn){return Be(Cn)==="Int16Array"}Ce.isInt16Array=on;function hn(Cn){return Be(Cn)==="Int32Array"}Ce.isInt32Array=hn;function dn(Cn){return Be(Cn)==="Float32Array"}Ce.isFloat32Array=dn;function sn(Cn){return Be(Cn)==="Float64Array"}Ce.isFloat64Array=sn;function kn(Cn){return Be(Cn)==="BigInt64Array"}Ce.isBigInt64Array=kn;function Pn(Cn){return Be(Cn)==="BigUint64Array"}Ce.isBigUint64Array=Pn;function _n(Cn){return qe(Cn)==="[object Map]"}_n.working=typeof Map<"u"&&_n(new Map);function Mn(Cn){return typeof Map>"u"?!1:_n.working?_n(Cn):Cn instanceof Map}Ce.isMap=Mn;function yn(Cn){return qe(Cn)==="[object Set]"}yn.working=typeof Set<"u"&&yn(new Set);function zn(Cn){return typeof Set>"u"?!1:yn.working?yn(Cn):Cn instanceof Set}Ce.isSet=zn;function Ln(Cn){return qe(Cn)==="[object WeakMap]"}Ln.working=typeof WeakMap<"u"&&Ln(new WeakMap);function Vn(Cn){return typeof WeakMap>"u"?!1:Ln.working?Ln(Cn):Cn instanceof WeakMap}Ce.isWeakMap=Vn;function On(Cn){return qe(Cn)==="[object WeakSet]"}On.working=typeof WeakSet<"u"&&On(new WeakSet);function Un(Cn){return On(Cn)}Ce.isWeakSet=Un;function jn(Cn){return qe(Cn)==="[object ArrayBuffer]"}jn.working=typeof ArrayBuffer<"u"&&jn(new ArrayBuffer);function Gn(Cn){return typeof ArrayBuffer>"u"?!1:jn.working?jn(Cn):Cn instanceof ArrayBuffer}Ce.isArrayBuffer=Gn;function An(Cn){return qe(Cn)==="[object DataView]"}An.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&An(new DataView(new ArrayBuffer(1),0,1));function $n(Cn){return typeof DataView>"u"?!1:An.working?An(Cn):Cn instanceof DataView}Ce.isDataView=$n;var Nn=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function En(Cn){return qe(Cn)==="[object SharedArrayBuffer]"}function Sn(Cn){return typeof Nn>"u"?!1:(typeof En.working>"u"&&(En.working=En(new Nn)),En.working?En(Cn):Cn instanceof Nn)}Ce.isSharedArrayBuffer=Sn;function pn(Cn){return qe(Cn)==="[object AsyncFunction]"}Ce.isAsyncFunction=pn;function mn(Cn){return qe(Cn)==="[object Map Iterator]"}Ce.isMapIterator=mn;function un(Cn){return qe(Cn)==="[object Set Iterator]"}Ce.isSetIterator=un;function wn(Cn){return qe(Cn)==="[object Generator]"}Ce.isGeneratorObject=wn;function xn(Cn){return qe(Cn)==="[object WebAssembly.Module]"}Ce.isWebAssemblyCompiledModule=xn;function Rn(Cn){return tn(Cn,$e)}Ce.isNumberObject=Rn;function Hn(Cn){return tn(Cn,ze)}Ce.isStringObject=Hn;function vn(Cn){return tn(Cn,Xe)}Ce.isBooleanObject=vn;function qn(Cn){return Ue&&tn(Cn,We)}Ce.isBigIntObject=qn;function In(Cn){return De&&tn(Cn,Ge)}Ce.isSymbolObject=In;function cn(Cn){return Rn(Cn)||Hn(Cn)||vn(Cn)||qn(Cn)||In(Cn)}Ce.isBoxedPrimitive=cn;function bn(Cn){return typeof Uint8Array<"u"&&(Gn(Cn)||Sn(Cn))}Ce.isAnyArrayBuffer=bn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Cn){Object.defineProperty(Ce,Cn,{enumerable:!1,value:function(){throw new Error(Cn+" is not supported in userland")}})})})(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(Ee){return Ee&&typeof Ee=="object"&&typeof Ee.copy=="function"&&typeof Ee.fill=="function"&&typeof Ee.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,(function(Ce){var Ee=Object.getOwnPropertyDescriptors||function($n){for(var Nn=Object.keys($n),En={},Sn=0;Sn<Nn.length;Sn++)En[Nn[Sn]]=Object.getOwnPropertyDescriptor($n,Nn[Sn]);return En},Te=/%[sdj%]/g;Ce.format=function(An){if(!Je(An)){for(var $n=[],Nn=0;Nn<arguments.length;Nn++)$n.push(Ue(arguments[Nn]));return $n.join(" ")}for(var Nn=1,En=arguments,Sn=En.length,pn=String(An).replace(Te,function(un){if(un==="%%")return"%";if(Nn>=Sn)return un;switch(un){case"%s":return String(En[Nn++]);case"%d":return Number(En[Nn++]);case"%j":try{return JSON.stringify(En[Nn++])}catch{return"[Circular]"}default:return un}}),mn=En[Nn];Nn<Sn;mn=En[++Nn])Ze(mn)||!sn(mn)?pn+=" "+mn:pn+=" "+Ue(mn);return pn},Ce.deprecate=function(An,$n){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return An;if(typeof process$1$1>"u")return function(){return Ce.deprecate(An,$n).apply(this,arguments)};var Nn=!1;function En(){if(!Nn){if(process$1$1.throwDeprecation)throw new Error($n);process$1$1.traceDeprecation?console.trace($n):console.error($n),Nn=!0}return An.apply(this,arguments)}return En};var Be={},Re=/^$/;if(process$1$1.env.NODE_DEBUG){var Me=process$1$1.env.NODE_DEBUG;Me=Me.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Re=new RegExp("^"+Me+"$","i")}Ce.debuglog=function(An){if(An=An.toUpperCase(),!Be[An])if(Re.test(An)){var $n=process$1$1.pid;Be[An]=function(){var Nn=Ce.format.apply(Ce,arguments);console.error("%s %d: %s",An,$n,Nn)}}else Be[An]=function(){};return Be[An]};function Ue(An,$n){var Nn={seen:[],stylize:qe};return arguments.length>=3&&(Nn.depth=arguments[2]),arguments.length>=4&&(Nn.colors=arguments[3]),Ye($n)?Nn.showHidden=$n:$n&&Ce._extend(Nn,$n),hn(Nn.showHidden)&&(Nn.showHidden=!1),hn(Nn.depth)&&(Nn.depth=2),hn(Nn.colors)&&(Nn.colors=!1),hn(Nn.customInspect)&&(Nn.customInspect=!0),Nn.colors&&(Nn.stylize=De),ze(Nn,An,Nn.depth)}Ce.inspect=Ue,Ue.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ue.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function De(An,$n){var Nn=Ue.styles[$n];return Nn?"\x1B["+Ue.colors[Nn][0]+"m"+An+"\x1B["+Ue.colors[Nn][1]+"m":An}function qe(An,$n){return An}function $e(An){var $n={};return An.forEach(function(Nn,En){$n[Nn]=!0}),$n}function ze(An,$n,Nn){if(An.customInspect&&$n&&_n($n.inspect)&&$n.inspect!==Ce.inspect&&!($n.constructor&&$n.constructor.prototype===$n)){var En=$n.inspect(Nn,An);return Je(En)||(En=ze(An,En,Nn)),En}var Sn=Xe(An,$n);if(Sn)return Sn;var pn=Object.keys($n),mn=$e(pn);if(An.showHidden&&(pn=Object.getOwnPropertyNames($n)),Pn($n)&&(pn.indexOf("message")>=0||pn.indexOf("description")>=0))return We($n);if(pn.length===0){if(_n($n)){var un=$n.name?": "+$n.name:"";return An.stylize("[Function"+un+"]","special")}if(dn($n))return An.stylize(RegExp.prototype.toString.call($n),"regexp");if(kn($n))return An.stylize(Date.prototype.toString.call($n),"date");if(Pn($n))return We($n)}var wn="",xn=!1,Rn=["{","}"];if(an($n)&&(xn=!0,Rn=["[","]"]),_n($n)){var Hn=$n.name?": "+$n.name:"";wn=" [Function"+Hn+"]"}if(dn($n)&&(wn=" "+RegExp.prototype.toString.call($n)),kn($n)&&(wn=" "+Date.prototype.toUTCString.call($n)),Pn($n)&&(wn=" "+We($n)),pn.length===0&&(!xn||$n.length==0))return Rn[0]+wn+Rn[1];if(Nn<0)return dn($n)?An.stylize(RegExp.prototype.toString.call($n),"regexp"):An.stylize("[Object]","special");An.seen.push($n);var vn;return xn?vn=Ge(An,$n,Nn,mn,pn):vn=pn.map(function(qn){return tn(An,$n,Nn,mn,qn,xn)}),An.seen.pop(),en(vn,wn,Rn)}function Xe(An,$n){if(hn($n))return An.stylize("undefined","undefined");if(Je($n)){var Nn="'"+JSON.stringify($n).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return An.stylize(Nn,"string")}if(Qe($n))return An.stylize(""+$n,"number");if(Ye($n))return An.stylize(""+$n,"boolean");if(Ze($n))return An.stylize("null","null")}function We(An){return"["+Error.prototype.toString.call(An)+"]"}function Ge(An,$n,Nn,En,Sn){for(var pn=[],mn=0,un=$n.length;mn<un;++mn)On($n,String(mn))?pn.push(tn(An,$n,Nn,En,String(mn),!0)):pn.push("");return Sn.forEach(function(wn){wn.match(/^\d+$/)||pn.push(tn(An,$n,Nn,En,wn,!0))}),pn}function tn(An,$n,Nn,En,Sn,pn){var mn,un,wn;if(wn=Object.getOwnPropertyDescriptor($n,Sn)||{value:$n[Sn]},wn.get?wn.set?un=An.stylize("[Getter/Setter]","special"):un=An.stylize("[Getter]","special"):wn.set&&(un=An.stylize("[Setter]","special")),On(En,Sn)||(mn="["+Sn+"]"),un||(An.seen.indexOf(wn.value)<0?(Ze(Nn)?un=ze(An,wn.value,null):un=ze(An,wn.value,Nn-1),un.indexOf(`
`)>-1&&(pn?un=un.split(`
`).map(function(xn){return"  "+xn}).join(`
`).slice(2):un=`
`+un.split(`
`).map(function(xn){return"   "+xn}).join(`
`))):un=An.stylize("[Circular]","special")),hn(mn)){if(pn&&Sn.match(/^\d+$/))return un;mn=JSON.stringify(""+Sn),mn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(mn=mn.slice(1,-1),mn=An.stylize(mn,"name")):(mn=mn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),mn=An.stylize(mn,"string"))}return mn+": "+un}function en(An,$n,Nn){var En=An.reduce(function(Sn,pn){return pn.indexOf(`
`)>=0,Sn+pn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return En>60?Nn[0]+($n===""?"":$n+`
 `)+" "+An.join(`,
  `)+" "+Nn[1]:Nn[0]+$n+" "+An.join(", ")+" "+Nn[1]}Ce.types=requireTypes();function an(An){return Array.isArray(An)}Ce.isArray=an;function Ye(An){return typeof An=="boolean"}Ce.isBoolean=Ye;function Ze(An){return An===null}Ce.isNull=Ze;function St(An){return An==null}Ce.isNullOrUndefined=St;function Qe(An){return typeof An=="number"}Ce.isNumber=Qe;function Je(An){return typeof An=="string"}Ce.isString=Je;function on(An){return typeof An=="symbol"}Ce.isSymbol=on;function hn(An){return An===void 0}Ce.isUndefined=hn;function dn(An){return sn(An)&&yn(An)==="[object RegExp]"}Ce.isRegExp=dn,Ce.types.isRegExp=dn;function sn(An){return typeof An=="object"&&An!==null}Ce.isObject=sn;function kn(An){return sn(An)&&yn(An)==="[object Date]"}Ce.isDate=kn,Ce.types.isDate=kn;function Pn(An){return sn(An)&&(yn(An)==="[object Error]"||An instanceof Error)}Ce.isError=Pn,Ce.types.isNativeError=Pn;function _n(An){return typeof An=="function"}Ce.isFunction=_n;function Mn(An){return An===null||typeof An=="boolean"||typeof An=="number"||typeof An=="string"||typeof An=="symbol"||typeof An>"u"}Ce.isPrimitive=Mn,Ce.isBuffer=requireIsBufferBrowser();function yn(An){return Object.prototype.toString.call(An)}function zn(An){return An<10?"0"+An.toString(10):An.toString(10)}var Ln=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Vn(){var An=new Date,$n=[zn(An.getHours()),zn(An.getMinutes()),zn(An.getSeconds())].join(":");return[An.getDate(),Ln[An.getMonth()],$n].join(" ")}Ce.log=function(){console.log("%s - %s",Vn(),Ce.format.apply(Ce,arguments))},Ce.inherits=requireInherits_browser(),Ce._extend=function(An,$n){if(!$n||!sn($n))return An;for(var Nn=Object.keys($n),En=Nn.length;En--;)An[Nn[En]]=$n[Nn[En]];return An};function On(An,$n){return Object.prototype.hasOwnProperty.call(An,$n)}var Un=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Ce.promisify=function($n){if(typeof $n!="function")throw new TypeError('The "original" argument must be of type Function');if(Un&&$n[Un]){var Nn=$n[Un];if(typeof Nn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Nn,Un,{value:Nn,enumerable:!1,writable:!1,configurable:!0}),Nn}function Nn(){for(var En,Sn,pn=new Promise(function(wn,xn){En=wn,Sn=xn}),mn=[],un=0;un<arguments.length;un++)mn.push(arguments[un]);mn.push(function(wn,xn){wn?Sn(wn):En(xn)});try{$n.apply(this,mn)}catch(wn){Sn(wn)}return pn}return Object.setPrototypeOf(Nn,Object.getPrototypeOf($n)),Un&&Object.defineProperty(Nn,Un,{value:Nn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Nn,Ee($n))},Ce.promisify.custom=Un;function jn(An,$n){if(!An){var Nn=new Error("Promise was rejected with a falsy value");Nn.reason=An,An=Nn}return $n(An)}function Gn(An){if(typeof An!="function")throw new TypeError('The "original" argument must be of type Function');function $n(){for(var Nn=[],En=0;En<arguments.length;En++)Nn.push(arguments[En]);var Sn=Nn.pop();if(typeof Sn!="function")throw new TypeError("The last argument must be of type Function");var pn=this,mn=function(){return Sn.apply(pn,arguments)};An.apply(this,Nn).then(function(un){process$1$1.nextTick(mn.bind(null,null,un))},function(un){process$1$1.nextTick(jn.bind(null,un,mn))})}return Object.setPrototypeOf($n,Object.getPrototypeOf(An)),Object.defineProperties($n,Ee(An)),$n}Ce.callbackify=Gn})(util)),util}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function Ce(We,Ge){var tn=Object.keys(We);if(Object.getOwnPropertySymbols){var en=Object.getOwnPropertySymbols(We);Ge&&(en=en.filter(function(an){return Object.getOwnPropertyDescriptor(We,an).enumerable})),tn.push.apply(tn,en)}return tn}function Ee(We){for(var Ge=1;Ge<arguments.length;Ge++){var tn=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?Ce(Object(tn),!0).forEach(function(en){Te(We,en,tn[en])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(tn)):Ce(Object(tn)).forEach(function(en){Object.defineProperty(We,en,Object.getOwnPropertyDescriptor(tn,en))})}return We}function Te(We,Ge,tn){return Ge in We?Object.defineProperty(We,Ge,{value:tn,enumerable:!0,configurable:!0,writable:!0}):We[Ge]=tn,We}function Be(We,Ge){if(!(We instanceof Ge))throw new TypeError("Cannot call a class as a function")}function Re(We,Ge){for(var tn=0;tn<Ge.length;tn++){var en=Ge[tn];en.enumerable=en.enumerable||!1,en.configurable=!0,"value"in en&&(en.writable=!0),Object.defineProperty(We,en.key,en)}}function Me(We,Ge,tn){return Ge&&Re(We.prototype,Ge),We}var Ue=requireBuffer(),De=Ue.Buffer,qe=requireUtil(),$e=qe.inspect,ze=$e&&$e.custom||"inspect";function Xe(We,Ge,tn){De.prototype.copy.call(We,Ge,tn)}return buffer_list=(function(){function We(){Be(this,We),this.head=null,this.tail=null,this.length=0}return Me(We,[{key:"push",value:function(tn){var en={data:tn,next:null};this.length>0?this.tail.next=en:this.head=en,this.tail=en,++this.length}},{key:"unshift",value:function(tn){var en={data:tn,next:this.head};this.length===0&&(this.tail=en),this.head=en,++this.length}},{key:"shift",value:function(){if(this.length!==0){var tn=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,tn}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(tn){if(this.length===0)return"";for(var en=this.head,an=""+en.data;en=en.next;)an+=tn+en.data;return an}},{key:"concat",value:function(tn){if(this.length===0)return De.alloc(0);for(var en=De.allocUnsafe(tn>>>0),an=this.head,Ye=0;an;)Xe(an.data,en,Ye),Ye+=an.data.length,an=an.next;return en}},{key:"consume",value:function(tn,en){var an;return tn<this.head.data.length?(an=this.head.data.slice(0,tn),this.head.data=this.head.data.slice(tn)):tn===this.head.data.length?an=this.shift():an=en?this._getString(tn):this._getBuffer(tn),an}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(tn){var en=this.head,an=1,Ye=en.data;for(tn-=Ye.length;en=en.next;){var Ze=en.data,St=tn>Ze.length?Ze.length:tn;if(St===Ze.length?Ye+=Ze:Ye+=Ze.slice(0,tn),tn-=St,tn===0){St===Ze.length?(++an,en.next?this.head=en.next:this.head=this.tail=null):(this.head=en,en.data=Ze.slice(St));break}++an}return this.length-=an,Ye}},{key:"_getBuffer",value:function(tn){var en=De.allocUnsafe(tn),an=this.head,Ye=1;for(an.data.copy(en),tn-=an.data.length;an=an.next;){var Ze=an.data,St=tn>Ze.length?Ze.length:tn;if(Ze.copy(en,en.length-tn,0,St),tn-=St,tn===0){St===Ze.length?(++Ye,an.next?this.head=an.next:this.head=this.tail=null):(this.head=an,an.data=Ze.slice(St));break}++Ye}return this.length-=Ye,en}},{key:ze,value:function(tn,en){return $e(this,Ee({},en,{depth:0,customInspect:!1}))}}]),We})(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function Ce(Ue,De){var qe=this,$e=this._readableState&&this._readableState.destroyed,ze=this._writableState&&this._writableState.destroyed;return $e||ze?(De?De(Ue):Ue&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(Re,this,Ue)):process$1$1.nextTick(Re,this,Ue)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Ue||null,function(Xe){!De&&Xe?qe._writableState?qe._writableState.errorEmitted?process$1$1.nextTick(Te,qe):(qe._writableState.errorEmitted=!0,process$1$1.nextTick(Ee,qe,Xe)):process$1$1.nextTick(Ee,qe,Xe):De?(process$1$1.nextTick(Te,qe),De(Xe)):process$1$1.nextTick(Te,qe)}),this)}function Ee(Ue,De){Re(Ue,De),Te(Ue)}function Te(Ue){Ue._writableState&&!Ue._writableState.emitClose||Ue._readableState&&!Ue._readableState.emitClose||Ue.emit("close")}function Be(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Re(Ue,De){Ue.emit("error",De)}function Me(Ue,De){var qe=Ue._readableState,$e=Ue._writableState;qe&&qe.autoDestroy||$e&&$e.autoDestroy?Ue.destroy(De):Ue.emit("error",De)}return destroy_1={destroy:Ce,undestroy:Be,errorOrDestroy:Me},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function Ce(De,qe){De.prototype=Object.create(qe.prototype),De.prototype.constructor=De,De.__proto__=qe}var Ee={};function Te(De,qe,$e){$e||($e=Error);function ze(We,Ge,tn){return typeof qe=="string"?qe:qe(We,Ge,tn)}var Xe=(function(We){Ce(Ge,We);function Ge(tn,en,an){return We.call(this,ze(tn,en,an))||this}return Ge})($e);Xe.prototype.name=$e.name,Xe.prototype.code=De,Ee[De]=Xe}function Be(De,qe){if(Array.isArray(De)){var $e=De.length;return De=De.map(function(ze){return String(ze)}),$e>2?"one of ".concat(qe," ").concat(De.slice(0,$e-1).join(", "),", or ")+De[$e-1]:$e===2?"one of ".concat(qe," ").concat(De[0]," or ").concat(De[1]):"of ".concat(qe," ").concat(De[0])}else return"of ".concat(qe," ").concat(String(De))}function Re(De,qe,$e){return De.substr(0,qe.length)===qe}function Me(De,qe,$e){return($e===void 0||$e>De.length)&&($e=De.length),De.substring($e-qe.length,$e)===qe}function Ue(De,qe,$e){return typeof $e!="number"&&($e=0),$e+qe.length>De.length?!1:De.indexOf(qe,$e)!==-1}return Te("ERR_INVALID_OPT_VALUE",function(De,qe){return'The value "'+qe+'" is invalid for option "'+De+'"'},TypeError),Te("ERR_INVALID_ARG_TYPE",function(De,qe,$e){var ze;typeof qe=="string"&&Re(qe,"not ")?(ze="must not be",qe=qe.replace(/^not /,"")):ze="must be";var Xe;if(Me(De," argument"))Xe="The ".concat(De," ").concat(ze," ").concat(Be(qe,"type"));else{var We=Ue(De,".")?"property":"argument";Xe='The "'.concat(De,'" ').concat(We," ").concat(ze," ").concat(Be(qe,"type"))}return Xe+=". Received type ".concat(typeof $e),Xe},TypeError),Te("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Te("ERR_METHOD_NOT_IMPLEMENTED",function(De){return"The "+De+" method is not implemented"}),Te("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Te("ERR_STREAM_DESTROYED",function(De){return"Cannot call "+De+" after a stream was destroyed"}),Te("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Te("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Te("ERR_STREAM_WRITE_AFTER_END","write after end"),Te("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Te("ERR_UNKNOWN_ENCODING",function(De){return"Unknown encoding: "+De},TypeError),Te("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=Ee,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var Ce=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function Ee(Be,Re,Me){return Be.highWaterMark!=null?Be.highWaterMark:Re?Be[Me]:null}function Te(Be,Re,Me,Ue){var De=Ee(Re,Ue,Me);if(De!=null){if(!(isFinite(De)&&Math.floor(De)===De)||De<0){var qe=Ue?Me:"highWaterMark";throw new Ce(qe,De)}return Math.floor(De)}return Be.objectMode?16:16*1024}return state={getHighWaterMark:Te},state}var browser,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1,browser=Ce;function Ce(Te,Be){if(Ee("noDeprecation"))return Te;var Re=!1;function Me(){if(!Re){if(Ee("throwDeprecation"))throw new Error(Be);Ee("traceDeprecation")?console.trace(Be):console.warn(Be),Re=!0}return Te.apply(this,arguments)}return Me}function Ee(Te){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var Be=commonjsGlobal.localStorage[Te];return Be==null?!1:String(Be).toLowerCase()==="true"}return browser}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=dn;function Ce(Sn){var pn=this;this.next=null,this.entry=null,this.finish=function(){En(pn,Sn)}}var Ee;dn.WritableState=on;var Te={deprecate:requireBrowser()},Be=requireStreamBrowser(),Re=requireBuffer().Buffer,Me=commonjsGlobal.Uint8Array||function(){};function Ue(Sn){return Re.from(Sn)}function De(Sn){return Re.isBuffer(Sn)||Sn instanceof Me}var qe=requireDestroy(),$e=requireState(),ze=$e.getHighWaterMark,Xe=requireErrorsBrowser().codes,We=Xe.ERR_INVALID_ARG_TYPE,Ge=Xe.ERR_METHOD_NOT_IMPLEMENTED,tn=Xe.ERR_MULTIPLE_CALLBACK,en=Xe.ERR_STREAM_CANNOT_PIPE,an=Xe.ERR_STREAM_DESTROYED,Ye=Xe.ERR_STREAM_NULL_VALUES,Ze=Xe.ERR_STREAM_WRITE_AFTER_END,St=Xe.ERR_UNKNOWN_ENCODING,Qe=qe.errorOrDestroy;requireInherits_browser()(dn,Be);function Je(){}function on(Sn,pn,mn){Ee=Ee||require_stream_duplex(),Sn=Sn||{},typeof mn!="boolean"&&(mn=pn instanceof Ee),this.objectMode=!!Sn.objectMode,mn&&(this.objectMode=this.objectMode||!!Sn.writableObjectMode),this.highWaterMark=ze(this,Sn,"writableHighWaterMark",mn),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var un=Sn.decodeStrings===!1;this.decodeStrings=!un,this.defaultEncoding=Sn.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(wn){Ln(pn,wn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Sn.emitClose!==!1,this.autoDestroy=!!Sn.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Ce(this)}on.prototype.getBuffer=function(){for(var pn=this.bufferedRequest,mn=[];pn;)mn.push(pn),pn=pn.next;return mn},(function(){try{Object.defineProperty(on.prototype,"buffer",{get:Te.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var hn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(hn=Function.prototype[Symbol.hasInstance],Object.defineProperty(dn,Symbol.hasInstance,{value:function(pn){return hn.call(this,pn)?!0:this!==dn?!1:pn&&pn._writableState instanceof on}})):hn=function(pn){return pn instanceof this};function dn(Sn){Ee=Ee||require_stream_duplex();var pn=this instanceof Ee;if(!pn&&!hn.call(dn,this))return new dn(Sn);this._writableState=new on(Sn,this,pn),this.writable=!0,Sn&&(typeof Sn.write=="function"&&(this._write=Sn.write),typeof Sn.writev=="function"&&(this._writev=Sn.writev),typeof Sn.destroy=="function"&&(this._destroy=Sn.destroy),typeof Sn.final=="function"&&(this._final=Sn.final)),Be.call(this)}dn.prototype.pipe=function(){Qe(this,new en)};function sn(Sn,pn){var mn=new Ze;Qe(Sn,mn),process$1$1.nextTick(pn,mn)}function kn(Sn,pn,mn,un){var wn;return mn===null?wn=new Ye:typeof mn!="string"&&!pn.objectMode&&(wn=new We("chunk",["string","Buffer"],mn)),wn?(Qe(Sn,wn),process$1$1.nextTick(un,wn),!1):!0}dn.prototype.write=function(Sn,pn,mn){var un=this._writableState,wn=!1,xn=!un.objectMode&&De(Sn);return xn&&!Re.isBuffer(Sn)&&(Sn=Ue(Sn)),typeof pn=="function"&&(mn=pn,pn=null),xn?pn="buffer":pn||(pn=un.defaultEncoding),typeof mn!="function"&&(mn=Je),un.ending?sn(this,mn):(xn||kn(this,un,Sn,mn))&&(un.pendingcb++,wn=_n(this,un,xn,Sn,pn,mn)),wn},dn.prototype.cork=function(){this._writableState.corked++},dn.prototype.uncork=function(){var Sn=this._writableState;Sn.corked&&(Sn.corked--,!Sn.writing&&!Sn.corked&&!Sn.bufferProcessing&&Sn.bufferedRequest&&Un(this,Sn))},dn.prototype.setDefaultEncoding=function(pn){if(typeof pn=="string"&&(pn=pn.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pn+"").toLowerCase())>-1))throw new St(pn);return this._writableState.defaultEncoding=pn,this},Object.defineProperty(dn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Pn(Sn,pn,mn){return!Sn.objectMode&&Sn.decodeStrings!==!1&&typeof pn=="string"&&(pn=Re.from(pn,mn)),pn}Object.defineProperty(dn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _n(Sn,pn,mn,un,wn,xn){if(!mn){var Rn=Pn(pn,un,wn);un!==Rn&&(mn=!0,wn="buffer",un=Rn)}var Hn=pn.objectMode?1:un.length;pn.length+=Hn;var vn=pn.length<pn.highWaterMark;if(vn||(pn.needDrain=!0),pn.writing||pn.corked){var qn=pn.lastBufferedRequest;pn.lastBufferedRequest={chunk:un,encoding:wn,isBuf:mn,callback:xn,next:null},qn?qn.next=pn.lastBufferedRequest:pn.bufferedRequest=pn.lastBufferedRequest,pn.bufferedRequestCount+=1}else Mn(Sn,pn,!1,Hn,un,wn,xn);return vn}function Mn(Sn,pn,mn,un,wn,xn,Rn){pn.writelen=un,pn.writecb=Rn,pn.writing=!0,pn.sync=!0,pn.destroyed?pn.onwrite(new an("write")):mn?Sn._writev(wn,pn.onwrite):Sn._write(wn,xn,pn.onwrite),pn.sync=!1}function yn(Sn,pn,mn,un,wn){--pn.pendingcb,mn?(process$1$1.nextTick(wn,un),process$1$1.nextTick($n,Sn,pn),Sn._writableState.errorEmitted=!0,Qe(Sn,un)):(wn(un),Sn._writableState.errorEmitted=!0,Qe(Sn,un),$n(Sn,pn))}function zn(Sn){Sn.writing=!1,Sn.writecb=null,Sn.length-=Sn.writelen,Sn.writelen=0}function Ln(Sn,pn){var mn=Sn._writableState,un=mn.sync,wn=mn.writecb;if(typeof wn!="function")throw new tn;if(zn(mn),pn)yn(Sn,mn,un,pn,wn);else{var xn=jn(mn)||Sn.destroyed;!xn&&!mn.corked&&!mn.bufferProcessing&&mn.bufferedRequest&&Un(Sn,mn),un?process$1$1.nextTick(Vn,Sn,mn,xn,wn):Vn(Sn,mn,xn,wn)}}function Vn(Sn,pn,mn,un){mn||On(Sn,pn),pn.pendingcb--,un(),$n(Sn,pn)}function On(Sn,pn){pn.length===0&&pn.needDrain&&(pn.needDrain=!1,Sn.emit("drain"))}function Un(Sn,pn){pn.bufferProcessing=!0;var mn=pn.bufferedRequest;if(Sn._writev&&mn&&mn.next){var un=pn.bufferedRequestCount,wn=new Array(un),xn=pn.corkedRequestsFree;xn.entry=mn;for(var Rn=0,Hn=!0;mn;)wn[Rn]=mn,mn.isBuf||(Hn=!1),mn=mn.next,Rn+=1;wn.allBuffers=Hn,Mn(Sn,pn,!0,pn.length,wn,"",xn.finish),pn.pendingcb++,pn.lastBufferedRequest=null,xn.next?(pn.corkedRequestsFree=xn.next,xn.next=null):pn.corkedRequestsFree=new Ce(pn),pn.bufferedRequestCount=0}else{for(;mn;){var vn=mn.chunk,qn=mn.encoding,In=mn.callback,cn=pn.objectMode?1:vn.length;if(Mn(Sn,pn,!1,cn,vn,qn,In),mn=mn.next,pn.bufferedRequestCount--,pn.writing)break}mn===null&&(pn.lastBufferedRequest=null)}pn.bufferedRequest=mn,pn.bufferProcessing=!1}dn.prototype._write=function(Sn,pn,mn){mn(new Ge("_write()"))},dn.prototype._writev=null,dn.prototype.end=function(Sn,pn,mn){var un=this._writableState;return typeof Sn=="function"?(mn=Sn,Sn=null,pn=null):typeof pn=="function"&&(mn=pn,pn=null),Sn!=null&&this.write(Sn,pn),un.corked&&(un.corked=1,this.uncork()),un.ending||Nn(this,un,mn),this},Object.defineProperty(dn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function jn(Sn){return Sn.ending&&Sn.length===0&&Sn.bufferedRequest===null&&!Sn.finished&&!Sn.writing}function Gn(Sn,pn){Sn._final(function(mn){pn.pendingcb--,mn&&Qe(Sn,mn),pn.prefinished=!0,Sn.emit("prefinish"),$n(Sn,pn)})}function An(Sn,pn){!pn.prefinished&&!pn.finalCalled&&(typeof Sn._final=="function"&&!pn.destroyed?(pn.pendingcb++,pn.finalCalled=!0,process$1$1.nextTick(Gn,Sn,pn)):(pn.prefinished=!0,Sn.emit("prefinish")))}function $n(Sn,pn){var mn=jn(pn);if(mn&&(An(Sn,pn),pn.pendingcb===0&&(pn.finished=!0,Sn.emit("finish"),pn.autoDestroy))){var un=Sn._readableState;(!un||un.autoDestroy&&un.endEmitted)&&Sn.destroy()}return mn}function Nn(Sn,pn,mn){pn.ending=!0,$n(Sn,pn),mn&&(pn.finished?process$1$1.nextTick(mn):Sn.once("finish",mn)),pn.ended=!0,Sn.writable=!1}function En(Sn,pn,mn){var un=Sn.entry;for(Sn.entry=null;un;){var wn=un.callback;pn.pendingcb--,wn(mn),un=un.next}pn.corkedRequestsFree.next=Sn}return Object.defineProperty(dn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(pn){this._writableState&&(this._writableState.destroyed=pn)}}),dn.prototype.destroy=qe.destroy,dn.prototype._undestroy=qe.undestroy,dn.prototype._destroy=function(Sn,pn){pn(Sn)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var Ce=Object.keys||function($e){var ze=[];for(var Xe in $e)ze.push(Xe);return ze};_stream_duplex=Ue;var Ee=require_stream_readable(),Te=require_stream_writable();requireInherits_browser()(Ue,Ee);for(var Be=Ce(Te.prototype),Re=0;Re<Be.length;Re++){var Me=Be[Re];Ue.prototype[Me]||(Ue.prototype[Me]=Te.prototype[Me])}function Ue($e){if(!(this instanceof Ue))return new Ue($e);Ee.call(this,$e),Te.call(this,$e),this.allowHalfOpen=!0,$e&&($e.readable===!1&&(this.readable=!1),$e.writable===!1&&(this.writable=!1),$e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",De)))}Object.defineProperty(Ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function De(){this._writableState.ended||process$1$1.nextTick(qe,this)}function qe($e){$e.end()}return Object.defineProperty(Ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ze){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ze,this._writableState.destroyed=ze)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(Ce,Ee){var Te=requireBuffer(),Be=Te.Buffer;function Re(Ue,De){for(var qe in Ue)De[qe]=Ue[qe]}Be.from&&Be.alloc&&Be.allocUnsafe&&Be.allocUnsafeSlow?Ce.exports=Te:(Re(Te,Ee),Ee.Buffer=Me);function Me(Ue,De,qe){return Be(Ue,De,qe)}Re(Be,Me),Me.from=function(Ue,De,qe){if(typeof Ue=="number")throw new TypeError("Argument must not be a number");return Be(Ue,De,qe)},Me.alloc=function(Ue,De,qe){if(typeof Ue!="number")throw new TypeError("Argument must be a number");var $e=Be(Ue);return De!==void 0?typeof qe=="string"?$e.fill(De,qe):$e.fill(De):$e.fill(0),$e},Me.allocUnsafe=function(Ue){if(typeof Ue!="number")throw new TypeError("Argument must be a number");return Be(Ue)},Me.allocUnsafeSlow=function(Ue){if(typeof Ue!="number")throw new TypeError("Argument must be a number");return Te.SlowBuffer(Ue)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var Ce=requireSafeBuffer().Buffer,Ee=Ce.isEncoding||function(Ye){switch(Ye=""+Ye,Ye&&Ye.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Te(Ye){if(!Ye)return"utf8";for(var Ze;;)switch(Ye){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Ye;default:if(Ze)return;Ye=(""+Ye).toLowerCase(),Ze=!0}}function Be(Ye){var Ze=Te(Ye);if(typeof Ze!="string"&&(Ce.isEncoding===Ee||!Ee(Ye)))throw new Error("Unknown encoding: "+Ye);return Ze||Ye}string_decoder.StringDecoder=Re;function Re(Ye){this.encoding=Be(Ye);var Ze;switch(this.encoding){case"utf16le":this.text=Xe,this.end=We,Ze=4;break;case"utf8":this.fillLast=qe,Ze=4;break;case"base64":this.text=Ge,this.end=tn,Ze=3;break;default:this.write=en,this.end=an;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ce.allocUnsafe(Ze)}Re.prototype.write=function(Ye){if(Ye.length===0)return"";var Ze,St;if(this.lastNeed){if(Ze=this.fillLast(Ye),Ze===void 0)return"";St=this.lastNeed,this.lastNeed=0}else St=0;return St<Ye.length?Ze?Ze+this.text(Ye,St):this.text(Ye,St):Ze||""},Re.prototype.end=ze,Re.prototype.text=$e,Re.prototype.fillLast=function(Ye){if(this.lastNeed<=Ye.length)return Ye.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ye.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Ye.length),this.lastNeed-=Ye.length};function Me(Ye){return Ye<=127?0:Ye>>5===6?2:Ye>>4===14?3:Ye>>3===30?4:Ye>>6===2?-1:-2}function Ue(Ye,Ze,St){var Qe=Ze.length-1;if(Qe<St)return 0;var Je=Me(Ze[Qe]);return Je>=0?(Je>0&&(Ye.lastNeed=Je-1),Je):--Qe<St||Je===-2?0:(Je=Me(Ze[Qe]),Je>=0?(Je>0&&(Ye.lastNeed=Je-2),Je):--Qe<St||Je===-2?0:(Je=Me(Ze[Qe]),Je>=0?(Je>0&&(Je===2?Je=0:Ye.lastNeed=Je-3),Je):0))}function De(Ye,Ze,St){if((Ze[0]&192)!==128)return Ye.lastNeed=0,"�";if(Ye.lastNeed>1&&Ze.length>1){if((Ze[1]&192)!==128)return Ye.lastNeed=1,"�";if(Ye.lastNeed>2&&Ze.length>2&&(Ze[2]&192)!==128)return Ye.lastNeed=2,"�"}}function qe(Ye){var Ze=this.lastTotal-this.lastNeed,St=De(this,Ye);if(St!==void 0)return St;if(this.lastNeed<=Ye.length)return Ye.copy(this.lastChar,Ze,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Ye.copy(this.lastChar,Ze,0,Ye.length),this.lastNeed-=Ye.length}function $e(Ye,Ze){var St=Ue(this,Ye,Ze);if(!this.lastNeed)return Ye.toString("utf8",Ze);this.lastTotal=St;var Qe=Ye.length-(St-this.lastNeed);return Ye.copy(this.lastChar,0,Qe),Ye.toString("utf8",Ze,Qe)}function ze(Ye){var Ze=Ye&&Ye.length?this.write(Ye):"";return this.lastNeed?Ze+"�":Ze}function Xe(Ye,Ze){if((Ye.length-Ze)%2===0){var St=Ye.toString("utf16le",Ze);if(St){var Qe=St.charCodeAt(St.length-1);if(Qe>=55296&&Qe<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Ye[Ye.length-2],this.lastChar[1]=Ye[Ye.length-1],St.slice(0,-1)}return St}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Ye[Ye.length-1],Ye.toString("utf16le",Ze,Ye.length-1)}function We(Ye){var Ze=Ye&&Ye.length?this.write(Ye):"";if(this.lastNeed){var St=this.lastTotal-this.lastNeed;return Ze+this.lastChar.toString("utf16le",0,St)}return Ze}function Ge(Ye,Ze){var St=(Ye.length-Ze)%3;return St===0?Ye.toString("base64",Ze):(this.lastNeed=3-St,this.lastTotal=3,St===1?this.lastChar[0]=Ye[Ye.length-1]:(this.lastChar[0]=Ye[Ye.length-2],this.lastChar[1]=Ye[Ye.length-1]),Ye.toString("base64",Ze,Ye.length-St))}function tn(Ye){var Ze=Ye&&Ye.length?this.write(Ye):"";return this.lastNeed?Ze+this.lastChar.toString("base64",0,3-this.lastNeed):Ze}function en(Ye){return Ye.toString(this.encoding)}function an(Ye){return Ye&&Ye.length?this.write(Ye):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var Ce=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function Ee(Me){var Ue=!1;return function(){if(!Ue){Ue=!0;for(var De=arguments.length,qe=new Array(De),$e=0;$e<De;$e++)qe[$e]=arguments[$e];Me.apply(this,qe)}}}function Te(){}function Be(Me){return Me.setHeader&&typeof Me.abort=="function"}function Re(Me,Ue,De){if(typeof Ue=="function")return Re(Me,null,Ue);Ue||(Ue={}),De=Ee(De||Te);var qe=Ue.readable||Ue.readable!==!1&&Me.readable,$e=Ue.writable||Ue.writable!==!1&&Me.writable,ze=function(){Me.writable||We()},Xe=Me._writableState&&Me._writableState.finished,We=function(){$e=!1,Xe=!0,qe||De.call(Me)},Ge=Me._readableState&&Me._readableState.endEmitted,tn=function(){qe=!1,Ge=!0,$e||De.call(Me)},en=function(St){De.call(Me,St)},an=function(){var St;if(qe&&!Ge)return(!Me._readableState||!Me._readableState.ended)&&(St=new Ce),De.call(Me,St);if($e&&!Xe)return(!Me._writableState||!Me._writableState.ended)&&(St=new Ce),De.call(Me,St)},Ye=function(){Me.req.on("finish",We)};return Be(Me)?(Me.on("complete",We),Me.on("abort",an),Me.req?Ye():Me.on("request",Ye)):$e&&!Me._writableState&&(Me.on("end",ze),Me.on("close",ze)),Me.on("end",tn),Me.on("finish",We),Ue.error!==!1&&Me.on("error",en),Me.on("close",an),function(){Me.removeListener("complete",We),Me.removeListener("abort",an),Me.removeListener("request",Ye),Me.req&&Me.req.removeListener("finish",We),Me.removeListener("end",ze),Me.removeListener("close",ze),Me.removeListener("finish",We),Me.removeListener("end",tn),Me.removeListener("error",en),Me.removeListener("close",an)}}return endOfStream=Re,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var Ce;function Ee(Ye,Ze,St){return Ze in Ye?Object.defineProperty(Ye,Ze,{value:St,enumerable:!0,configurable:!0,writable:!0}):Ye[Ze]=St,Ye}var Te=requireEndOfStream(),Be=Symbol("lastResolve"),Re=Symbol("lastReject"),Me=Symbol("error"),Ue=Symbol("ended"),De=Symbol("lastPromise"),qe=Symbol("handlePromise"),$e=Symbol("stream");function ze(Ye,Ze){return{value:Ye,done:Ze}}function Xe(Ye){var Ze=Ye[Be];if(Ze!==null){var St=Ye[$e].read();St!==null&&(Ye[De]=null,Ye[Be]=null,Ye[Re]=null,Ze(ze(St,!1)))}}function We(Ye){process$1$1.nextTick(Xe,Ye)}function Ge(Ye,Ze){return function(St,Qe){Ye.then(function(){if(Ze[Ue]){St(ze(void 0,!0));return}Ze[qe](St,Qe)},Qe)}}var tn=Object.getPrototypeOf(function(){}),en=Object.setPrototypeOf((Ce={get stream(){return this[$e]},next:function(){var Ze=this,St=this[Me];if(St!==null)return Promise.reject(St);if(this[Ue])return Promise.resolve(ze(void 0,!0));if(this[$e].destroyed)return new Promise(function(hn,dn){process$1$1.nextTick(function(){Ze[Me]?dn(Ze[Me]):hn(ze(void 0,!0))})});var Qe=this[De],Je;if(Qe)Je=new Promise(Ge(Qe,this));else{var on=this[$e].read();if(on!==null)return Promise.resolve(ze(on,!1));Je=new Promise(this[qe])}return this[De]=Je,Je}},Ee(Ce,Symbol.asyncIterator,function(){return this}),Ee(Ce,"return",function(){var Ze=this;return new Promise(function(St,Qe){Ze[$e].destroy(null,function(Je){if(Je){Qe(Je);return}St(ze(void 0,!0))})})}),Ce),tn),an=function(Ze){var St,Qe=Object.create(en,(St={},Ee(St,$e,{value:Ze,writable:!0}),Ee(St,Be,{value:null,writable:!0}),Ee(St,Re,{value:null,writable:!0}),Ee(St,Me,{value:null,writable:!0}),Ee(St,Ue,{value:Ze._readableState.endEmitted,writable:!0}),Ee(St,qe,{value:function(on,hn){var dn=Qe[$e].read();dn?(Qe[De]=null,Qe[Be]=null,Qe[Re]=null,on(ze(dn,!1))):(Qe[Be]=on,Qe[Re]=hn)},writable:!0}),St));return Qe[De]=null,Te(Ze,function(Je){if(Je&&Je.code!=="ERR_STREAM_PREMATURE_CLOSE"){var on=Qe[Re];on!==null&&(Qe[De]=null,Qe[Be]=null,Qe[Re]=null,on(Je)),Qe[Me]=Je;return}var hn=Qe[Be];hn!==null&&(Qe[De]=null,Qe[Be]=null,Qe[Re]=null,hn(ze(void 0,!0))),Qe[Ue]=!0}),Ze.on("readable",We.bind(null,Qe)),Qe};return async_iterator=an,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=sn;var Ce;sn.ReadableState=dn,requireEvents().EventEmitter;var Ee=function(Rn,Hn){return Rn.listeners(Hn).length},Te=requireStreamBrowser(),Be=requireBuffer().Buffer,Re=commonjsGlobal.Uint8Array||function(){};function Me(xn){return Be.from(xn)}function Ue(xn){return Be.isBuffer(xn)||xn instanceof Re}var De=requireUtil(),qe;De&&De.debuglog?qe=De.debuglog("stream"):qe=function(){};var $e=requireBuffer_list(),ze=requireDestroy(),Xe=requireState(),We=Xe.getHighWaterMark,Ge=requireErrorsBrowser().codes,tn=Ge.ERR_INVALID_ARG_TYPE,en=Ge.ERR_STREAM_PUSH_AFTER_EOF,an=Ge.ERR_METHOD_NOT_IMPLEMENTED,Ye=Ge.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ze,St,Qe;requireInherits_browser()(sn,Te);var Je=ze.errorOrDestroy,on=["error","close","destroy","pause","resume"];function hn(xn,Rn,Hn){if(typeof xn.prependListener=="function")return xn.prependListener(Rn,Hn);!xn._events||!xn._events[Rn]?xn.on(Rn,Hn):Array.isArray(xn._events[Rn])?xn._events[Rn].unshift(Hn):xn._events[Rn]=[Hn,xn._events[Rn]]}function dn(xn,Rn,Hn){Ce=Ce||require_stream_duplex(),xn=xn||{},typeof Hn!="boolean"&&(Hn=Rn instanceof Ce),this.objectMode=!!xn.objectMode,Hn&&(this.objectMode=this.objectMode||!!xn.readableObjectMode),this.highWaterMark=We(this,xn,"readableHighWaterMark",Hn),this.buffer=new $e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=xn.emitClose!==!1,this.autoDestroy=!!xn.autoDestroy,this.destroyed=!1,this.defaultEncoding=xn.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,xn.encoding&&(Ze||(Ze=requireString_decoder().StringDecoder),this.decoder=new Ze(xn.encoding),this.encoding=xn.encoding)}function sn(xn){if(Ce=Ce||require_stream_duplex(),!(this instanceof sn))return new sn(xn);var Rn=this instanceof Ce;this._readableState=new dn(xn,this,Rn),this.readable=!0,xn&&(typeof xn.read=="function"&&(this._read=xn.read),typeof xn.destroy=="function"&&(this._destroy=xn.destroy)),Te.call(this)}Object.defineProperty(sn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Rn){this._readableState&&(this._readableState.destroyed=Rn)}}),sn.prototype.destroy=ze.destroy,sn.prototype._undestroy=ze.undestroy,sn.prototype._destroy=function(xn,Rn){Rn(xn)},sn.prototype.push=function(xn,Rn){var Hn=this._readableState,vn;return Hn.objectMode?vn=!0:typeof xn=="string"&&(Rn=Rn||Hn.defaultEncoding,Rn!==Hn.encoding&&(xn=Be.from(xn,Rn),Rn=""),vn=!0),kn(this,xn,Rn,!1,vn)},sn.prototype.unshift=function(xn){return kn(this,xn,null,!0,!1)};function kn(xn,Rn,Hn,vn,qn){qe("readableAddChunk",Rn);var In=xn._readableState;if(Rn===null)In.reading=!1,Ln(xn,In);else{var cn;if(qn||(cn=_n(In,Rn)),cn)Je(xn,cn);else if(In.objectMode||Rn&&Rn.length>0)if(typeof Rn!="string"&&!In.objectMode&&Object.getPrototypeOf(Rn)!==Be.prototype&&(Rn=Me(Rn)),vn)In.endEmitted?Je(xn,new Ye):Pn(xn,In,Rn,!0);else if(In.ended)Je(xn,new en);else{if(In.destroyed)return!1;In.reading=!1,In.decoder&&!Hn?(Rn=In.decoder.write(Rn),In.objectMode||Rn.length!==0?Pn(xn,In,Rn,!1):Un(xn,In)):Pn(xn,In,Rn,!1)}else vn||(In.reading=!1,Un(xn,In))}return!In.ended&&(In.length<In.highWaterMark||In.length===0)}function Pn(xn,Rn,Hn,vn){Rn.flowing&&Rn.length===0&&!Rn.sync?(Rn.awaitDrain=0,xn.emit("data",Hn)):(Rn.length+=Rn.objectMode?1:Hn.length,vn?Rn.buffer.unshift(Hn):Rn.buffer.push(Hn),Rn.needReadable&&Vn(xn)),Un(xn,Rn)}function _n(xn,Rn){var Hn;return!Ue(Rn)&&typeof Rn!="string"&&Rn!==void 0&&!xn.objectMode&&(Hn=new tn("chunk",["string","Buffer","Uint8Array"],Rn)),Hn}sn.prototype.isPaused=function(){return this._readableState.flowing===!1},sn.prototype.setEncoding=function(xn){Ze||(Ze=requireString_decoder().StringDecoder);var Rn=new Ze(xn);this._readableState.decoder=Rn,this._readableState.encoding=this._readableState.decoder.encoding;for(var Hn=this._readableState.buffer.head,vn="";Hn!==null;)vn+=Rn.write(Hn.data),Hn=Hn.next;return this._readableState.buffer.clear(),vn!==""&&this._readableState.buffer.push(vn),this._readableState.length=vn.length,this};var Mn=1073741824;function yn(xn){return xn>=Mn?xn=Mn:(xn--,xn|=xn>>>1,xn|=xn>>>2,xn|=xn>>>4,xn|=xn>>>8,xn|=xn>>>16,xn++),xn}function zn(xn,Rn){return xn<=0||Rn.length===0&&Rn.ended?0:Rn.objectMode?1:xn!==xn?Rn.flowing&&Rn.length?Rn.buffer.head.data.length:Rn.length:(xn>Rn.highWaterMark&&(Rn.highWaterMark=yn(xn)),xn<=Rn.length?xn:Rn.ended?Rn.length:(Rn.needReadable=!0,0))}sn.prototype.read=function(xn){qe("read",xn),xn=parseInt(xn,10);var Rn=this._readableState,Hn=xn;if(xn!==0&&(Rn.emittedReadable=!1),xn===0&&Rn.needReadable&&((Rn.highWaterMark!==0?Rn.length>=Rn.highWaterMark:Rn.length>0)||Rn.ended))return qe("read: emitReadable",Rn.length,Rn.ended),Rn.length===0&&Rn.ended?mn(this):Vn(this),null;if(xn=zn(xn,Rn),xn===0&&Rn.ended)return Rn.length===0&&mn(this),null;var vn=Rn.needReadable;qe("need readable",vn),(Rn.length===0||Rn.length-xn<Rn.highWaterMark)&&(vn=!0,qe("length less than watermark",vn)),Rn.ended||Rn.reading?(vn=!1,qe("reading or ended",vn)):vn&&(qe("do read"),Rn.reading=!0,Rn.sync=!0,Rn.length===0&&(Rn.needReadable=!0),this._read(Rn.highWaterMark),Rn.sync=!1,Rn.reading||(xn=zn(Hn,Rn)));var qn;return xn>0?qn=pn(xn,Rn):qn=null,qn===null?(Rn.needReadable=Rn.length<=Rn.highWaterMark,xn=0):(Rn.length-=xn,Rn.awaitDrain=0),Rn.length===0&&(Rn.ended||(Rn.needReadable=!0),Hn!==xn&&Rn.ended&&mn(this)),qn!==null&&this.emit("data",qn),qn};function Ln(xn,Rn){if(qe("onEofChunk"),!Rn.ended){if(Rn.decoder){var Hn=Rn.decoder.end();Hn&&Hn.length&&(Rn.buffer.push(Hn),Rn.length+=Rn.objectMode?1:Hn.length)}Rn.ended=!0,Rn.sync?Vn(xn):(Rn.needReadable=!1,Rn.emittedReadable||(Rn.emittedReadable=!0,On(xn)))}}function Vn(xn){var Rn=xn._readableState;qe("emitReadable",Rn.needReadable,Rn.emittedReadable),Rn.needReadable=!1,Rn.emittedReadable||(qe("emitReadable",Rn.flowing),Rn.emittedReadable=!0,process$1$1.nextTick(On,xn))}function On(xn){var Rn=xn._readableState;qe("emitReadable_",Rn.destroyed,Rn.length,Rn.ended),!Rn.destroyed&&(Rn.length||Rn.ended)&&(xn.emit("readable"),Rn.emittedReadable=!1),Rn.needReadable=!Rn.flowing&&!Rn.ended&&Rn.length<=Rn.highWaterMark,Sn(xn)}function Un(xn,Rn){Rn.readingMore||(Rn.readingMore=!0,process$1$1.nextTick(jn,xn,Rn))}function jn(xn,Rn){for(;!Rn.reading&&!Rn.ended&&(Rn.length<Rn.highWaterMark||Rn.flowing&&Rn.length===0);){var Hn=Rn.length;if(qe("maybeReadMore read 0"),xn.read(0),Hn===Rn.length)break}Rn.readingMore=!1}sn.prototype._read=function(xn){Je(this,new an("_read()"))},sn.prototype.pipe=function(xn,Rn){var Hn=this,vn=this._readableState;switch(vn.pipesCount){case 0:vn.pipes=xn;break;case 1:vn.pipes=[vn.pipes,xn];break;default:vn.pipes.push(xn);break}vn.pipesCount+=1,qe("pipe count=%d opts=%j",vn.pipesCount,Rn);var qn=(!Rn||Rn.end!==!1)&&xn!==process$1$1.stdout&&xn!==process$1$1.stderr,In=qn?bn:yr;vn.endEmitted?process$1$1.nextTick(In):Hn.once("end",In),xn.on("unpipe",cn);function cn(jr,Gr){qe("onunpipe"),jr===Hn&&Gr&&Gr.hasUnpiped===!1&&(Gr.hasUnpiped=!0,Jn())}function bn(){qe("onend"),xn.end()}var Cn=Gn(Hn);xn.on("drain",Cn);var Yn=!1;function Jn(){qe("cleanup"),xn.removeListener("close",dr),xn.removeListener("finish",br),xn.removeListener("drain",Cn),xn.removeListener("error",ur),xn.removeListener("unpipe",cn),Hn.removeListener("end",bn),Hn.removeListener("end",yr),Hn.removeListener("data",er),Yn=!0,vn.awaitDrain&&(!xn._writableState||xn._writableState.needDrain)&&Cn()}Hn.on("data",er);function er(jr){qe("ondata");var Gr=xn.write(jr);qe("dest.write",Gr),Gr===!1&&((vn.pipesCount===1&&vn.pipes===xn||vn.pipesCount>1&&wn(vn.pipes,xn)!==-1)&&!Yn&&(qe("false write response, pause",vn.awaitDrain),vn.awaitDrain++),Hn.pause())}function ur(jr){qe("onerror",jr),yr(),xn.removeListener("error",ur),Ee(xn,"error")===0&&Je(xn,jr)}hn(xn,"error",ur);function dr(){xn.removeListener("finish",br),yr()}xn.once("close",dr);function br(){qe("onfinish"),xn.removeListener("close",dr),yr()}xn.once("finish",br);function yr(){qe("unpipe"),Hn.unpipe(xn)}return xn.emit("pipe",Hn),vn.flowing||(qe("pipe resume"),Hn.resume()),xn};function Gn(xn){return function(){var Hn=xn._readableState;qe("pipeOnDrain",Hn.awaitDrain),Hn.awaitDrain&&Hn.awaitDrain--,Hn.awaitDrain===0&&Ee(xn,"data")&&(Hn.flowing=!0,Sn(xn))}}sn.prototype.unpipe=function(xn){var Rn=this._readableState,Hn={hasUnpiped:!1};if(Rn.pipesCount===0)return this;if(Rn.pipesCount===1)return xn&&xn!==Rn.pipes?this:(xn||(xn=Rn.pipes),Rn.pipes=null,Rn.pipesCount=0,Rn.flowing=!1,xn&&xn.emit("unpipe",this,Hn),this);if(!xn){var vn=Rn.pipes,qn=Rn.pipesCount;Rn.pipes=null,Rn.pipesCount=0,Rn.flowing=!1;for(var In=0;In<qn;In++)vn[In].emit("unpipe",this,{hasUnpiped:!1});return this}var cn=wn(Rn.pipes,xn);return cn===-1?this:(Rn.pipes.splice(cn,1),Rn.pipesCount-=1,Rn.pipesCount===1&&(Rn.pipes=Rn.pipes[0]),xn.emit("unpipe",this,Hn),this)},sn.prototype.on=function(xn,Rn){var Hn=Te.prototype.on.call(this,xn,Rn),vn=this._readableState;return xn==="data"?(vn.readableListening=this.listenerCount("readable")>0,vn.flowing!==!1&&this.resume()):xn==="readable"&&!vn.endEmitted&&!vn.readableListening&&(vn.readableListening=vn.needReadable=!0,vn.flowing=!1,vn.emittedReadable=!1,qe("on readable",vn.length,vn.reading),vn.length?Vn(this):vn.reading||process$1$1.nextTick($n,this)),Hn},sn.prototype.addListener=sn.prototype.on,sn.prototype.removeListener=function(xn,Rn){var Hn=Te.prototype.removeListener.call(this,xn,Rn);return xn==="readable"&&process$1$1.nextTick(An,this),Hn},sn.prototype.removeAllListeners=function(xn){var Rn=Te.prototype.removeAllListeners.apply(this,arguments);return(xn==="readable"||xn===void 0)&&process$1$1.nextTick(An,this),Rn};function An(xn){var Rn=xn._readableState;Rn.readableListening=xn.listenerCount("readable")>0,Rn.resumeScheduled&&!Rn.paused?Rn.flowing=!0:xn.listenerCount("data")>0&&xn.resume()}function $n(xn){qe("readable nexttick read 0"),xn.read(0)}sn.prototype.resume=function(){var xn=this._readableState;return xn.flowing||(qe("resume"),xn.flowing=!xn.readableListening,Nn(this,xn)),xn.paused=!1,this};function Nn(xn,Rn){Rn.resumeScheduled||(Rn.resumeScheduled=!0,process$1$1.nextTick(En,xn,Rn))}function En(xn,Rn){qe("resume",Rn.reading),Rn.reading||xn.read(0),Rn.resumeScheduled=!1,xn.emit("resume"),Sn(xn),Rn.flowing&&!Rn.reading&&xn.read(0)}sn.prototype.pause=function(){return qe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(qe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Sn(xn){var Rn=xn._readableState;for(qe("flow",Rn.flowing);Rn.flowing&&xn.read()!==null;);}sn.prototype.wrap=function(xn){var Rn=this,Hn=this._readableState,vn=!1;xn.on("end",function(){if(qe("wrapped end"),Hn.decoder&&!Hn.ended){var cn=Hn.decoder.end();cn&&cn.length&&Rn.push(cn)}Rn.push(null)}),xn.on("data",function(cn){if(qe("wrapped data"),Hn.decoder&&(cn=Hn.decoder.write(cn)),!(Hn.objectMode&&cn==null)&&!(!Hn.objectMode&&(!cn||!cn.length))){var bn=Rn.push(cn);bn||(vn=!0,xn.pause())}});for(var qn in xn)this[qn]===void 0&&typeof xn[qn]=="function"&&(this[qn]=(function(bn){return function(){return xn[bn].apply(xn,arguments)}})(qn));for(var In=0;In<on.length;In++)xn.on(on[In],this.emit.bind(this,on[In]));return this._read=function(cn){qe("wrapped _read",cn),vn&&(vn=!1,xn.resume())},this},typeof Symbol=="function"&&(sn.prototype[Symbol.asyncIterator]=function(){return St===void 0&&(St=requireAsync_iterator()),St(this)}),Object.defineProperty(sn.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(sn.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(sn.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Rn){this._readableState&&(this._readableState.flowing=Rn)}}),sn._fromList=pn,Object.defineProperty(sn.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function pn(xn,Rn){if(Rn.length===0)return null;var Hn;return Rn.objectMode?Hn=Rn.buffer.shift():!xn||xn>=Rn.length?(Rn.decoder?Hn=Rn.buffer.join(""):Rn.buffer.length===1?Hn=Rn.buffer.first():Hn=Rn.buffer.concat(Rn.length),Rn.buffer.clear()):Hn=Rn.buffer.consume(xn,Rn.decoder),Hn}function mn(xn){var Rn=xn._readableState;qe("endReadable",Rn.endEmitted),Rn.endEmitted||(Rn.ended=!0,process$1$1.nextTick(un,Rn,xn))}function un(xn,Rn){if(qe("endReadableNT",xn.endEmitted,xn.length),!xn.endEmitted&&xn.length===0&&(xn.endEmitted=!0,Rn.readable=!1,Rn.emit("end"),xn.autoDestroy)){var Hn=Rn._writableState;(!Hn||Hn.autoDestroy&&Hn.finished)&&Rn.destroy()}}typeof Symbol=="function"&&(sn.from=function(xn,Rn){return Qe===void 0&&(Qe=requireFromBrowser()),Qe(sn,xn,Rn)});function wn(xn,Rn){for(var Hn=0,vn=xn.length;Hn<vn;Hn++)if(xn[Hn]===Rn)return Hn;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=De;var Ce=requireErrorsBrowser().codes,Ee=Ce.ERR_METHOD_NOT_IMPLEMENTED,Te=Ce.ERR_MULTIPLE_CALLBACK,Be=Ce.ERR_TRANSFORM_ALREADY_TRANSFORMING,Re=Ce.ERR_TRANSFORM_WITH_LENGTH_0,Me=require_stream_duplex();requireInherits_browser()(De,Me);function Ue(ze,Xe){var We=this._transformState;We.transforming=!1;var Ge=We.writecb;if(Ge===null)return this.emit("error",new Te);We.writechunk=null,We.writecb=null,Xe!=null&&this.push(Xe),Ge(ze);var tn=this._readableState;tn.reading=!1,(tn.needReadable||tn.length<tn.highWaterMark)&&this._read(tn.highWaterMark)}function De(ze){if(!(this instanceof De))return new De(ze);Me.call(this,ze),this._transformState={afterTransform:Ue.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ze&&(typeof ze.transform=="function"&&(this._transform=ze.transform),typeof ze.flush=="function"&&(this._flush=ze.flush)),this.on("prefinish",qe)}function qe(){var ze=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Xe,We){$e(ze,Xe,We)}):$e(this,null,null)}De.prototype.push=function(ze,Xe){return this._transformState.needTransform=!1,Me.prototype.push.call(this,ze,Xe)},De.prototype._transform=function(ze,Xe,We){We(new Ee("_transform()"))},De.prototype._write=function(ze,Xe,We){var Ge=this._transformState;if(Ge.writecb=We,Ge.writechunk=ze,Ge.writeencoding=Xe,!Ge.transforming){var tn=this._readableState;(Ge.needTransform||tn.needReadable||tn.length<tn.highWaterMark)&&this._read(tn.highWaterMark)}},De.prototype._read=function(ze){var Xe=this._transformState;Xe.writechunk!==null&&!Xe.transforming?(Xe.transforming=!0,this._transform(Xe.writechunk,Xe.writeencoding,Xe.afterTransform)):Xe.needTransform=!0},De.prototype._destroy=function(ze,Xe){Me.prototype._destroy.call(this,ze,function(We){Xe(We)})};function $e(ze,Xe,We){if(Xe)return ze.emit("error",Xe);if(We!=null&&ze.push(We),ze._writableState.length)throw new Re;if(ze._transformState.transforming)throw new Be;return ze.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=Ee;var Ce=require_stream_transform();requireInherits_browser()(Ee,Ce);function Ee(Te){if(!(this instanceof Ee))return new Ee(Te);Ce.call(this,Te)}return Ee.prototype._transform=function(Te,Be,Re){Re(null,Te)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var Ce;function Ee(We){var Ge=!1;return function(){Ge||(Ge=!0,We.apply(void 0,arguments))}}var Te=requireErrorsBrowser().codes,Be=Te.ERR_MISSING_ARGS,Re=Te.ERR_STREAM_DESTROYED;function Me(We){if(We)throw We}function Ue(We){return We.setHeader&&typeof We.abort=="function"}function De(We,Ge,tn,en){en=Ee(en);var an=!1;We.on("close",function(){an=!0}),Ce===void 0&&(Ce=requireEndOfStream()),Ce(We,{readable:Ge,writable:tn},function(Ze){if(Ze)return en(Ze);an=!0,en()});var Ye=!1;return function(Ze){if(!an&&!Ye){if(Ye=!0,Ue(We))return We.abort();if(typeof We.destroy=="function")return We.destroy();en(Ze||new Re("pipe"))}}}function qe(We){We()}function $e(We,Ge){return We.pipe(Ge)}function ze(We){return!We.length||typeof We[We.length-1]!="function"?Me:We.pop()}function Xe(){for(var We=arguments.length,Ge=new Array(We),tn=0;tn<We;tn++)Ge[tn]=arguments[tn];var en=ze(Ge);if(Array.isArray(Ge[0])&&(Ge=Ge[0]),Ge.length<2)throw new Be("streams");var an,Ye=Ge.map(function(Ze,St){var Qe=St<Ge.length-1,Je=St>0;return De(Ze,Qe,Je,function(on){an||(an=on),on&&Ye.forEach(qe),!Qe&&(Ye.forEach(qe),en(an))})});return Ge.reduce($e)}return pipeline_1=Xe,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=Te;var Ce=requireEvents().EventEmitter,Ee=requireInherits_browser();Ee(Te,Ce),Te.Readable=require_stream_readable(),Te.Writable=require_stream_writable(),Te.Duplex=require_stream_duplex(),Te.Transform=require_stream_transform(),Te.PassThrough=require_stream_passthrough(),Te.finished=requireEndOfStream(),Te.pipeline=requirePipeline(),Te.Stream=Te;function Te(){Ce.call(this)}return Te.prototype.pipe=function(Be,Re){var Me=this;function Ue(Ge){Be.writable&&Be.write(Ge)===!1&&Me.pause&&Me.pause()}Me.on("data",Ue);function De(){Me.readable&&Me.resume&&Me.resume()}Be.on("drain",De),!Be._isStdio&&(!Re||Re.end!==!1)&&(Me.on("end",$e),Me.on("close",ze));var qe=!1;function $e(){qe||(qe=!0,Be.end())}function ze(){qe||(qe=!0,typeof Be.destroy=="function"&&Be.destroy())}function Xe(Ge){if(We(),Ce.listenerCount(this,"error")===0)throw Ge}Me.on("error",Xe),Be.on("error",Xe);function We(){Me.removeListener("data",Ue),Be.removeListener("drain",De),Me.removeListener("end",$e),Me.removeListener("close",ze),Me.removeListener("error",Xe),Be.removeListener("error",Xe),Me.removeListener("end",We),Me.removeListener("close",We),Be.removeListener("close",We)}return Me.on("end",We),Me.on("close",We),Be.on("close",We),Be.emit("pipe",Me),Be},streamBrowserify}var hasRequiredSax;function requireSax(){return hasRequiredSax||(hasRequiredSax=1,(function(Ce){(function(Ee){Ee.parser=function(pn,mn){return new Be(pn,mn)},Ee.SAXParser=Be,Ee.SAXStream=ze,Ee.createStream=$e,Ee.MAX_BUFFER_LENGTH=64*1024;var Te=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];Ee.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function Be(pn,mn){if(!(this instanceof Be))return new Be(pn,mn);var un=this;Me(un),un.q=un.c="",un.bufferCheckPosition=Ee.MAX_BUFFER_LENGTH,un.opt=mn||{},un.opt.lowercase=un.opt.lowercase||un.opt.lowercasetags,un.looseCase=un.opt.lowercase?"toLowerCase":"toUpperCase",un.tags=[],un.closed=un.closedRoot=un.sawRoot=!1,un.tag=un.error=null,un.strict=!!pn,un.noscript=!!(pn||un.opt.noscript),un.state=sn.BEGIN,un.strictEntities=un.opt.strictEntities,un.ENTITIES=un.strictEntities?Object.create(Ee.XML_ENTITIES):Object.create(Ee.ENTITIES),un.attribList=[],un.opt.xmlns&&(un.ns=Object.create(en)),un.trackPosition=un.opt.position!==!1,un.trackPosition&&(un.position=un.line=un.column=0),Pn(un,"onready")}Object.create||(Object.create=function(pn){function mn(){}mn.prototype=pn;var un=new mn;return un}),Object.keys||(Object.keys=function(pn){var mn=[];for(var un in pn)pn.hasOwnProperty(un)&&mn.push(un);return mn});function Re(pn){for(var mn=Math.max(Ee.MAX_BUFFER_LENGTH,10),un=0,wn=0,xn=Te.length;wn<xn;wn++){var Rn=pn[Te[wn]].length;if(Rn>mn)switch(Te[wn]){case"textNode":Mn(pn);break;case"cdata":_n(pn,"oncdata",pn.cdata),pn.cdata="";break;case"script":_n(pn,"onscript",pn.script),pn.script="";break;default:zn(pn,"Max buffer length exceeded: "+Te[wn])}un=Math.max(un,Rn)}var Hn=Ee.MAX_BUFFER_LENGTH-un;pn.bufferCheckPosition=Hn+pn.position}function Me(pn){for(var mn=0,un=Te.length;mn<un;mn++)pn[Te[mn]]=""}function Ue(pn){Mn(pn),pn.cdata!==""&&(_n(pn,"oncdata",pn.cdata),pn.cdata=""),pn.script!==""&&(_n(pn,"onscript",pn.script),pn.script="")}Be.prototype={end:function(){Ln(this)},write:Sn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){Ue(this)}};var De;try{De=requireStreamBrowserify().Stream}catch{De=function(){}}var qe=Ee.EVENTS.filter(function(pn){return pn!=="error"&&pn!=="end"});function $e(pn,mn){return new ze(pn,mn)}function ze(pn,mn){if(!(this instanceof ze))return new ze(pn,mn);De.apply(this),this._parser=new Be(pn,mn),this.writable=!0,this.readable=!0;var un=this;this._parser.onend=function(){un.emit("end")},this._parser.onerror=function(wn){un.emit("error",wn),un._parser.error=null},this._decoder=null,qe.forEach(function(wn){Object.defineProperty(un,"on"+wn,{get:function(){return un._parser["on"+wn]},set:function(xn){if(!xn)return un.removeAllListeners(wn),un._parser["on"+wn]=xn,xn;un.on(wn,xn)},enumerable:!0,configurable:!1})})}ze.prototype=Object.create(De.prototype,{constructor:{value:ze}}),ze.prototype.write=function(pn){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(pn)){if(!this._decoder){var mn=requireString_decoder().StringDecoder;this._decoder=new mn("utf8")}pn=this._decoder.write(pn)}return this._parser.write(pn.toString()),this.emit("data",pn),!0},ze.prototype.end=function(pn){return pn&&pn.length&&this.write(pn),this._parser.end(),!0},ze.prototype.on=function(pn,mn){var un=this;return!un._parser["on"+pn]&&qe.indexOf(pn)!==-1&&(un._parser["on"+pn]=function(){var wn=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);wn.splice(0,0,pn),un.emit.apply(un,wn)}),De.prototype.on.call(un,pn,mn)};var Xe="[CDATA[",We="DOCTYPE",Ge="http://www.w3.org/XML/1998/namespace",tn="http://www.w3.org/2000/xmlns/",en={xml:Ge,xmlns:tn},an=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ye=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,Ze=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,St=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function Qe(pn){return pn===" "||pn===`
`||pn==="\r"||pn==="	"}function Je(pn){return pn==='"'||pn==="'"}function on(pn){return pn===">"||Qe(pn)}function hn(pn,mn){return pn.test(mn)}function dn(pn,mn){return!hn(pn,mn)}var sn=0;Ee.STATE={BEGIN:sn++,BEGIN_WHITESPACE:sn++,TEXT:sn++,TEXT_ENTITY:sn++,OPEN_WAKA:sn++,SGML_DECL:sn++,SGML_DECL_QUOTED:sn++,DOCTYPE:sn++,DOCTYPE_QUOTED:sn++,DOCTYPE_DTD:sn++,DOCTYPE_DTD_QUOTED:sn++,COMMENT_STARTING:sn++,COMMENT:sn++,COMMENT_ENDING:sn++,COMMENT_ENDED:sn++,CDATA:sn++,CDATA_ENDING:sn++,CDATA_ENDING_2:sn++,PROC_INST:sn++,PROC_INST_BODY:sn++,PROC_INST_ENDING:sn++,OPEN_TAG:sn++,OPEN_TAG_SLASH:sn++,ATTRIB:sn++,ATTRIB_NAME:sn++,ATTRIB_NAME_SAW_WHITE:sn++,ATTRIB_VALUE:sn++,ATTRIB_VALUE_QUOTED:sn++,ATTRIB_VALUE_CLOSED:sn++,ATTRIB_VALUE_UNQUOTED:sn++,ATTRIB_VALUE_ENTITY_Q:sn++,ATTRIB_VALUE_ENTITY_U:sn++,CLOSE_TAG:sn++,CLOSE_TAG_SAW_WHITE:sn++,SCRIPT:sn++,SCRIPT_ENDING:sn++},Ee.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Ee.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(Ee.ENTITIES).forEach(function(pn){var mn=Ee.ENTITIES[pn],un=typeof mn=="number"?String.fromCharCode(mn):mn;Ee.ENTITIES[pn]=un});for(var kn in Ee.STATE)Ee.STATE[Ee.STATE[kn]]=kn;sn=Ee.STATE;function Pn(pn,mn,un){pn[mn]&&pn[mn](un)}function _n(pn,mn,un){pn.textNode&&Mn(pn),Pn(pn,mn,un)}function Mn(pn){pn.textNode=yn(pn.opt,pn.textNode),pn.textNode&&Pn(pn,"ontext",pn.textNode),pn.textNode=""}function yn(pn,mn){return pn.trim&&(mn=mn.trim()),pn.normalize&&(mn=mn.replace(/\s+/g," ")),mn}function zn(pn,mn){return Mn(pn),pn.trackPosition&&(mn+=`
Line: `+pn.line+`
Column: `+pn.column+`
Char: `+pn.c),mn=new Error(mn),pn.error=mn,Pn(pn,"onerror",mn),pn}function Ln(pn){return pn.sawRoot&&!pn.closedRoot&&Vn(pn,"Unclosed root tag"),pn.state!==sn.BEGIN&&pn.state!==sn.BEGIN_WHITESPACE&&pn.state!==sn.TEXT&&zn(pn,"Unexpected end"),Mn(pn),pn.c="",pn.closed=!0,Pn(pn,"onend"),Be.call(pn,pn.strict,pn.opt),pn}function Vn(pn,mn){if(typeof pn!="object"||!(pn instanceof Be))throw new Error("bad call to strictFail");pn.strict&&zn(pn,mn)}function On(pn){pn.strict||(pn.tagName=pn.tagName[pn.looseCase]());var mn=pn.tags[pn.tags.length-1]||pn,un=pn.tag={name:pn.tagName,attributes:{}};pn.opt.xmlns&&(un.ns=mn.ns),pn.attribList.length=0,_n(pn,"onopentagstart",un)}function Un(pn,mn){var un=pn.indexOf(":"),wn=un<0?["",pn]:pn.split(":"),xn=wn[0],Rn=wn[1];return mn&&pn==="xmlns"&&(xn="xmlns",Rn=""),{prefix:xn,local:Rn}}function jn(pn){if(pn.strict||(pn.attribName=pn.attribName[pn.looseCase]()),pn.attribList.indexOf(pn.attribName)!==-1||pn.tag.attributes.hasOwnProperty(pn.attribName)){pn.attribName=pn.attribValue="";return}if(pn.opt.xmlns){var mn=Un(pn.attribName,!0),un=mn.prefix,wn=mn.local;if(un==="xmlns")if(wn==="xml"&&pn.attribValue!==Ge)Vn(pn,"xml: prefix must be bound to "+Ge+`
Actual: `+pn.attribValue);else if(wn==="xmlns"&&pn.attribValue!==tn)Vn(pn,"xmlns: prefix must be bound to "+tn+`
Actual: `+pn.attribValue);else{var xn=pn.tag,Rn=pn.tags[pn.tags.length-1]||pn;xn.ns===Rn.ns&&(xn.ns=Object.create(Rn.ns)),xn.ns[wn]=pn.attribValue}pn.attribList.push([pn.attribName,pn.attribValue])}else pn.tag.attributes[pn.attribName]=pn.attribValue,_n(pn,"onattribute",{name:pn.attribName,value:pn.attribValue});pn.attribName=pn.attribValue=""}function Gn(pn,mn){if(pn.opt.xmlns){var un=pn.tag,wn=Un(pn.tagName);un.prefix=wn.prefix,un.local=wn.local,un.uri=un.ns[wn.prefix]||"",un.prefix&&!un.uri&&(Vn(pn,"Unbound namespace prefix: "+JSON.stringify(pn.tagName)),un.uri=wn.prefix);var xn=pn.tags[pn.tags.length-1]||pn;un.ns&&xn.ns!==un.ns&&Object.keys(un.ns).forEach(function(er){_n(pn,"onopennamespace",{prefix:er,uri:un.ns[er]})});for(var Rn=0,Hn=pn.attribList.length;Rn<Hn;Rn++){var vn=pn.attribList[Rn],qn=vn[0],In=vn[1],cn=Un(qn,!0),bn=cn.prefix,Cn=cn.local,Yn=bn===""?"":un.ns[bn]||"",Jn={name:qn,value:In,prefix:bn,local:Cn,uri:Yn};bn&&bn!=="xmlns"&&!Yn&&(Vn(pn,"Unbound namespace prefix: "+JSON.stringify(bn)),Jn.uri=bn),pn.tag.attributes[qn]=Jn,_n(pn,"onattribute",Jn)}pn.attribList.length=0}pn.tag.isSelfClosing=!!mn,pn.sawRoot=!0,pn.tags.push(pn.tag),_n(pn,"onopentag",pn.tag),mn||(!pn.noscript&&pn.tagName.toLowerCase()==="script"?pn.state=sn.SCRIPT:pn.state=sn.TEXT,pn.tag=null,pn.tagName=""),pn.attribName=pn.attribValue="",pn.attribList.length=0}function An(pn){if(!pn.tagName){Vn(pn,"Weird empty close tag."),pn.textNode+="</>",pn.state=sn.TEXT;return}if(pn.script){if(pn.tagName!=="script"){pn.script+="</"+pn.tagName+">",pn.tagName="",pn.state=sn.SCRIPT;return}_n(pn,"onscript",pn.script),pn.script=""}var mn=pn.tags.length,un=pn.tagName;pn.strict||(un=un[pn.looseCase]());for(var wn=un;mn--;){var xn=pn.tags[mn];if(xn.name!==wn)Vn(pn,"Unexpected close tag");else break}if(mn<0){Vn(pn,"Unmatched closing tag: "+pn.tagName),pn.textNode+="</"+pn.tagName+">",pn.state=sn.TEXT;return}pn.tagName=un;for(var Rn=pn.tags.length;Rn-- >mn;){var Hn=pn.tag=pn.tags.pop();pn.tagName=pn.tag.name,_n(pn,"onclosetag",pn.tagName);var vn={};for(var qn in Hn.ns)vn[qn]=Hn.ns[qn];var In=pn.tags[pn.tags.length-1]||pn;pn.opt.xmlns&&Hn.ns!==In.ns&&Object.keys(Hn.ns).forEach(function(cn){var bn=Hn.ns[cn];_n(pn,"onclosenamespace",{prefix:cn,uri:bn})})}mn===0&&(pn.closedRoot=!0),pn.tagName=pn.attribValue=pn.attribName="",pn.attribList.length=0,pn.state=sn.TEXT}function $n(pn){var mn=pn.entity,un=mn.toLowerCase(),wn,xn="";return pn.ENTITIES[mn]?pn.ENTITIES[mn]:pn.ENTITIES[un]?pn.ENTITIES[un]:(mn=un,mn.charAt(0)==="#"&&(mn.charAt(1)==="x"?(mn=mn.slice(2),wn=parseInt(mn,16),xn=wn.toString(16)):(mn=mn.slice(1),wn=parseInt(mn,10),xn=wn.toString(10))),mn=mn.replace(/^0+/,""),isNaN(wn)||xn.toLowerCase()!==mn?(Vn(pn,"Invalid character entity"),"&"+pn.entity+";"):String.fromCodePoint(wn))}function Nn(pn,mn){mn==="<"?(pn.state=sn.OPEN_WAKA,pn.startTagPosition=pn.position):Qe(mn)||(Vn(pn,"Non-whitespace before first tag."),pn.textNode=mn,pn.state=sn.TEXT)}function En(pn,mn){var un="";return mn<pn.length&&(un=pn.charAt(mn)),un}function Sn(pn){var mn=this;if(this.error)throw this.error;if(mn.closed)return zn(mn,"Cannot write after close. Assign an onready handler.");if(pn===null)return Ln(mn);typeof pn=="object"&&(pn=pn.toString());for(var un=0,wn="";wn=En(pn,un++),mn.c=wn,!!wn;)switch(mn.trackPosition&&(mn.position++,wn===`
`?(mn.line++,mn.column=0):mn.column++),mn.state){case sn.BEGIN:if(mn.state=sn.BEGIN_WHITESPACE,wn==="\uFEFF")continue;Nn(mn,wn);continue;case sn.BEGIN_WHITESPACE:Nn(mn,wn);continue;case sn.TEXT:if(mn.sawRoot&&!mn.closedRoot){for(var xn=un-1;wn&&wn!=="<"&&wn!=="&";)wn=En(pn,un++),wn&&mn.trackPosition&&(mn.position++,wn===`
`?(mn.line++,mn.column=0):mn.column++);mn.textNode+=pn.substring(xn,un-1)}wn==="<"&&!(mn.sawRoot&&mn.closedRoot&&!mn.strict)?(mn.state=sn.OPEN_WAKA,mn.startTagPosition=mn.position):(!Qe(wn)&&(!mn.sawRoot||mn.closedRoot)&&Vn(mn,"Text data outside of root node."),wn==="&"?mn.state=sn.TEXT_ENTITY:mn.textNode+=wn);continue;case sn.SCRIPT:wn==="<"?mn.state=sn.SCRIPT_ENDING:mn.script+=wn;continue;case sn.SCRIPT_ENDING:wn==="/"?mn.state=sn.CLOSE_TAG:(mn.script+="<"+wn,mn.state=sn.SCRIPT);continue;case sn.OPEN_WAKA:if(wn==="!")mn.state=sn.SGML_DECL,mn.sgmlDecl="";else if(!Qe(wn))if(hn(an,wn))mn.state=sn.OPEN_TAG,mn.tagName=wn;else if(wn==="/")mn.state=sn.CLOSE_TAG,mn.tagName="";else if(wn==="?")mn.state=sn.PROC_INST,mn.procInstName=mn.procInstBody="";else{if(Vn(mn,"Unencoded <"),mn.startTagPosition+1<mn.position){var Rn=mn.position-mn.startTagPosition;wn=new Array(Rn).join(" ")+wn}mn.textNode+="<"+wn,mn.state=sn.TEXT}continue;case sn.SGML_DECL:(mn.sgmlDecl+wn).toUpperCase()===Xe?(_n(mn,"onopencdata"),mn.state=sn.CDATA,mn.sgmlDecl="",mn.cdata=""):mn.sgmlDecl+wn==="--"?(mn.state=sn.COMMENT,mn.comment="",mn.sgmlDecl=""):(mn.sgmlDecl+wn).toUpperCase()===We?(mn.state=sn.DOCTYPE,(mn.doctype||mn.sawRoot)&&Vn(mn,"Inappropriately located doctype declaration"),mn.doctype="",mn.sgmlDecl=""):wn===">"?(_n(mn,"onsgmldeclaration",mn.sgmlDecl),mn.sgmlDecl="",mn.state=sn.TEXT):(Je(wn)&&(mn.state=sn.SGML_DECL_QUOTED),mn.sgmlDecl+=wn);continue;case sn.SGML_DECL_QUOTED:wn===mn.q&&(mn.state=sn.SGML_DECL,mn.q=""),mn.sgmlDecl+=wn;continue;case sn.DOCTYPE:wn===">"?(mn.state=sn.TEXT,_n(mn,"ondoctype",mn.doctype),mn.doctype=!0):(mn.doctype+=wn,wn==="["?mn.state=sn.DOCTYPE_DTD:Je(wn)&&(mn.state=sn.DOCTYPE_QUOTED,mn.q=wn));continue;case sn.DOCTYPE_QUOTED:mn.doctype+=wn,wn===mn.q&&(mn.q="",mn.state=sn.DOCTYPE);continue;case sn.DOCTYPE_DTD:mn.doctype+=wn,wn==="]"?mn.state=sn.DOCTYPE:Je(wn)&&(mn.state=sn.DOCTYPE_DTD_QUOTED,mn.q=wn);continue;case sn.DOCTYPE_DTD_QUOTED:mn.doctype+=wn,wn===mn.q&&(mn.state=sn.DOCTYPE_DTD,mn.q="");continue;case sn.COMMENT:wn==="-"?mn.state=sn.COMMENT_ENDING:mn.comment+=wn;continue;case sn.COMMENT_ENDING:wn==="-"?(mn.state=sn.COMMENT_ENDED,mn.comment=yn(mn.opt,mn.comment),mn.comment&&_n(mn,"oncomment",mn.comment),mn.comment=""):(mn.comment+="-"+wn,mn.state=sn.COMMENT);continue;case sn.COMMENT_ENDED:wn!==">"?(Vn(mn,"Malformed comment"),mn.comment+="--"+wn,mn.state=sn.COMMENT):mn.state=sn.TEXT;continue;case sn.CDATA:wn==="]"?mn.state=sn.CDATA_ENDING:mn.cdata+=wn;continue;case sn.CDATA_ENDING:wn==="]"?mn.state=sn.CDATA_ENDING_2:(mn.cdata+="]"+wn,mn.state=sn.CDATA);continue;case sn.CDATA_ENDING_2:wn===">"?(mn.cdata&&_n(mn,"oncdata",mn.cdata),_n(mn,"onclosecdata"),mn.cdata="",mn.state=sn.TEXT):wn==="]"?mn.cdata+="]":(mn.cdata+="]]"+wn,mn.state=sn.CDATA);continue;case sn.PROC_INST:wn==="?"?mn.state=sn.PROC_INST_ENDING:Qe(wn)?mn.state=sn.PROC_INST_BODY:mn.procInstName+=wn;continue;case sn.PROC_INST_BODY:if(!mn.procInstBody&&Qe(wn))continue;wn==="?"?mn.state=sn.PROC_INST_ENDING:mn.procInstBody+=wn;continue;case sn.PROC_INST_ENDING:wn===">"?(_n(mn,"onprocessinginstruction",{name:mn.procInstName,body:mn.procInstBody}),mn.procInstName=mn.procInstBody="",mn.state=sn.TEXT):(mn.procInstBody+="?"+wn,mn.state=sn.PROC_INST_BODY);continue;case sn.OPEN_TAG:hn(Ye,wn)?mn.tagName+=wn:(On(mn),wn===">"?Gn(mn):wn==="/"?mn.state=sn.OPEN_TAG_SLASH:(Qe(wn)||Vn(mn,"Invalid character in tag name"),mn.state=sn.ATTRIB));continue;case sn.OPEN_TAG_SLASH:wn===">"?(Gn(mn,!0),An(mn)):(Vn(mn,"Forward-slash in opening tag not followed by >"),mn.state=sn.ATTRIB);continue;case sn.ATTRIB:if(Qe(wn))continue;wn===">"?Gn(mn):wn==="/"?mn.state=sn.OPEN_TAG_SLASH:hn(an,wn)?(mn.attribName=wn,mn.attribValue="",mn.state=sn.ATTRIB_NAME):Vn(mn,"Invalid attribute name");continue;case sn.ATTRIB_NAME:wn==="="?mn.state=sn.ATTRIB_VALUE:wn===">"?(Vn(mn,"Attribute without value"),mn.attribValue=mn.attribName,jn(mn),Gn(mn)):Qe(wn)?mn.state=sn.ATTRIB_NAME_SAW_WHITE:hn(Ye,wn)?mn.attribName+=wn:Vn(mn,"Invalid attribute name");continue;case sn.ATTRIB_NAME_SAW_WHITE:if(wn==="=")mn.state=sn.ATTRIB_VALUE;else{if(Qe(wn))continue;Vn(mn,"Attribute without value"),mn.tag.attributes[mn.attribName]="",mn.attribValue="",_n(mn,"onattribute",{name:mn.attribName,value:""}),mn.attribName="",wn===">"?Gn(mn):hn(an,wn)?(mn.attribName=wn,mn.state=sn.ATTRIB_NAME):(Vn(mn,"Invalid attribute name"),mn.state=sn.ATTRIB)}continue;case sn.ATTRIB_VALUE:if(Qe(wn))continue;Je(wn)?(mn.q=wn,mn.state=sn.ATTRIB_VALUE_QUOTED):(Vn(mn,"Unquoted attribute value"),mn.state=sn.ATTRIB_VALUE_UNQUOTED,mn.attribValue=wn);continue;case sn.ATTRIB_VALUE_QUOTED:if(wn!==mn.q){wn==="&"?mn.state=sn.ATTRIB_VALUE_ENTITY_Q:mn.attribValue+=wn;continue}jn(mn),mn.q="",mn.state=sn.ATTRIB_VALUE_CLOSED;continue;case sn.ATTRIB_VALUE_CLOSED:Qe(wn)?mn.state=sn.ATTRIB:wn===">"?Gn(mn):wn==="/"?mn.state=sn.OPEN_TAG_SLASH:hn(an,wn)?(Vn(mn,"No whitespace between attributes"),mn.attribName=wn,mn.attribValue="",mn.state=sn.ATTRIB_NAME):Vn(mn,"Invalid attribute name");continue;case sn.ATTRIB_VALUE_UNQUOTED:if(!on(wn)){wn==="&"?mn.state=sn.ATTRIB_VALUE_ENTITY_U:mn.attribValue+=wn;continue}jn(mn),wn===">"?Gn(mn):mn.state=sn.ATTRIB;continue;case sn.CLOSE_TAG:if(mn.tagName)wn===">"?An(mn):hn(Ye,wn)?mn.tagName+=wn:mn.script?(mn.script+="</"+mn.tagName,mn.tagName="",mn.state=sn.SCRIPT):(Qe(wn)||Vn(mn,"Invalid tagname in closing tag"),mn.state=sn.CLOSE_TAG_SAW_WHITE);else{if(Qe(wn))continue;dn(an,wn)?mn.script?(mn.script+="</"+wn,mn.state=sn.SCRIPT):Vn(mn,"Invalid tagname in closing tag."):mn.tagName=wn}continue;case sn.CLOSE_TAG_SAW_WHITE:if(Qe(wn))continue;wn===">"?An(mn):Vn(mn,"Invalid characters in closing tag");continue;case sn.TEXT_ENTITY:case sn.ATTRIB_VALUE_ENTITY_Q:case sn.ATTRIB_VALUE_ENTITY_U:var Hn,vn;switch(mn.state){case sn.TEXT_ENTITY:Hn=sn.TEXT,vn="textNode";break;case sn.ATTRIB_VALUE_ENTITY_Q:Hn=sn.ATTRIB_VALUE_QUOTED,vn="attribValue";break;case sn.ATTRIB_VALUE_ENTITY_U:Hn=sn.ATTRIB_VALUE_UNQUOTED,vn="attribValue";break}wn===";"?(mn[vn]+=$n(mn),mn.entity="",mn.state=Hn):hn(mn.entity.length?St:Ze,wn)?mn.entity+=wn:(Vn(mn,"Invalid character in entity name"),mn[vn]+="&"+mn.entity+wn,mn.entity="",mn.state=Hn);continue;default:throw new Error(mn,"Unknown state: "+mn.state)}return mn.position>=mn.bufferCheckPosition&&Re(mn),mn}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||(function(){var pn=String.fromCharCode,mn=Math.floor,un=function(){var wn=16384,xn=[],Rn,Hn,vn=-1,qn=arguments.length;if(!qn)return"";for(var In="";++vn<qn;){var cn=Number(arguments[vn]);if(!isFinite(cn)||cn<0||cn>1114111||mn(cn)!==cn)throw RangeError("Invalid code point: "+cn);cn<=65535?xn.push(cn):(cn-=65536,Rn=(cn>>10)+55296,Hn=cn%1024+56320,xn.push(Rn,Hn)),(vn+1===qn||xn.length>wn)&&(In+=pn.apply(null,xn),xn.length=0)}return In};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:un,configurable:!0,writable:!0}):String.fromCodePoint=un})()})(Ce)})(sax)),sax}var arrayHelper,hasRequiredArrayHelper;function requireArrayHelper(){return hasRequiredArrayHelper||(hasRequiredArrayHelper=1,arrayHelper={isArray:function(Ce){return Array.isArray?Array.isArray(Ce):Object.prototype.toString.call(Ce)==="[object Array]"}}),arrayHelper}var optionsHelper,hasRequiredOptionsHelper;function requireOptionsHelper(){if(hasRequiredOptionsHelper)return optionsHelper;hasRequiredOptionsHelper=1;var Ce=requireArrayHelper().isArray;return optionsHelper={copyOptions:function(Ee){var Te,Be={};for(Te in Ee)Ee.hasOwnProperty(Te)&&(Be[Te]=Ee[Te]);return Be},ensureFlagExists:function(Ee,Te){(!(Ee in Te)||typeof Te[Ee]!="boolean")&&(Te[Ee]=!1)},ensureSpacesExists:function(Ee){(!("spaces"in Ee)||typeof Ee.spaces!="number"&&typeof Ee.spaces!="string")&&(Ee.spaces=0)},ensureAlwaysArrayExists:function(Ee){(!("alwaysArray"in Ee)||typeof Ee.alwaysArray!="boolean"&&!Ce(Ee.alwaysArray))&&(Ee.alwaysArray=!1)},ensureKeyExists:function(Ee,Te){(!(Ee+"Key"in Te)||typeof Te[Ee+"Key"]!="string")&&(Te[Ee+"Key"]=Te.compact?"_"+Ee:Ee)},checkFnExists:function(Ee,Te){return Ee+"Fn"in Te}},optionsHelper}var xml2js,hasRequiredXml2js;function requireXml2js(){if(hasRequiredXml2js)return xml2js;hasRequiredXml2js=1;var Ce=requireSax(),Ee=requireOptionsHelper(),Te=requireArrayHelper().isArray,Be,Re;function Me(Ye){return Be=Ee.copyOptions(Ye),Ee.ensureFlagExists("ignoreDeclaration",Be),Ee.ensureFlagExists("ignoreInstruction",Be),Ee.ensureFlagExists("ignoreAttributes",Be),Ee.ensureFlagExists("ignoreText",Be),Ee.ensureFlagExists("ignoreComment",Be),Ee.ensureFlagExists("ignoreCdata",Be),Ee.ensureFlagExists("ignoreDoctype",Be),Ee.ensureFlagExists("compact",Be),Ee.ensureFlagExists("alwaysChildren",Be),Ee.ensureFlagExists("addParent",Be),Ee.ensureFlagExists("trim",Be),Ee.ensureFlagExists("nativeType",Be),Ee.ensureFlagExists("nativeTypeAttributes",Be),Ee.ensureFlagExists("sanitize",Be),Ee.ensureFlagExists("instructionHasAttributes",Be),Ee.ensureFlagExists("captureSpacesBetweenElements",Be),Ee.ensureAlwaysArrayExists(Be),Ee.ensureKeyExists("declaration",Be),Ee.ensureKeyExists("instruction",Be),Ee.ensureKeyExists("attributes",Be),Ee.ensureKeyExists("text",Be),Ee.ensureKeyExists("comment",Be),Ee.ensureKeyExists("cdata",Be),Ee.ensureKeyExists("doctype",Be),Ee.ensureKeyExists("type",Be),Ee.ensureKeyExists("name",Be),Ee.ensureKeyExists("elements",Be),Ee.ensureKeyExists("parent",Be),Ee.checkFnExists("doctype",Be),Ee.checkFnExists("instruction",Be),Ee.checkFnExists("cdata",Be),Ee.checkFnExists("comment",Be),Ee.checkFnExists("text",Be),Ee.checkFnExists("instructionName",Be),Ee.checkFnExists("elementName",Be),Ee.checkFnExists("attributeName",Be),Ee.checkFnExists("attributeValue",Be),Ee.checkFnExists("attributes",Be),Be}function Ue(Ye){var Ze=Number(Ye);if(!isNaN(Ze))return Ze;var St=Ye.toLowerCase();return St==="true"?!0:St==="false"?!1:Ye}function De(Ye,Ze){var St;if(Be.compact){if(!Re[Be[Ye+"Key"]]&&(Te(Be.alwaysArray)?Be.alwaysArray.indexOf(Be[Ye+"Key"])!==-1:Be.alwaysArray)&&(Re[Be[Ye+"Key"]]=[]),Re[Be[Ye+"Key"]]&&!Te(Re[Be[Ye+"Key"]])&&(Re[Be[Ye+"Key"]]=[Re[Be[Ye+"Key"]]]),Ye+"Fn"in Be&&typeof Ze=="string"&&(Ze=Be[Ye+"Fn"](Ze,Re)),Ye==="instruction"&&("instructionFn"in Be||"instructionNameFn"in Be)){for(St in Ze)if(Ze.hasOwnProperty(St))if("instructionFn"in Be)Ze[St]=Be.instructionFn(Ze[St],St,Re);else{var Qe=Ze[St];delete Ze[St],Ze[Be.instructionNameFn(St,Qe,Re)]=Qe}}Te(Re[Be[Ye+"Key"]])?Re[Be[Ye+"Key"]].push(Ze):Re[Be[Ye+"Key"]]=Ze}else{Re[Be.elementsKey]||(Re[Be.elementsKey]=[]);var Je={};if(Je[Be.typeKey]=Ye,Ye==="instruction"){for(St in Ze)if(Ze.hasOwnProperty(St))break;Je[Be.nameKey]="instructionNameFn"in Be?Be.instructionNameFn(St,Ze,Re):St,Be.instructionHasAttributes?(Je[Be.attributesKey]=Ze[St][Be.attributesKey],"instructionFn"in Be&&(Je[Be.attributesKey]=Be.instructionFn(Je[Be.attributesKey],St,Re))):("instructionFn"in Be&&(Ze[St]=Be.instructionFn(Ze[St],St,Re)),Je[Be.instructionKey]=Ze[St])}else Ye+"Fn"in Be&&(Ze=Be[Ye+"Fn"](Ze,Re)),Je[Be[Ye+"Key"]]=Ze;Be.addParent&&(Je[Be.parentKey]=Re),Re[Be.elementsKey].push(Je)}}function qe(Ye){if("attributesFn"in Be&&Ye&&(Ye=Be.attributesFn(Ye,Re)),(Be.trim||"attributeValueFn"in Be||"attributeNameFn"in Be||Be.nativeTypeAttributes)&&Ye){var Ze;for(Ze in Ye)if(Ye.hasOwnProperty(Ze)&&(Be.trim&&(Ye[Ze]=Ye[Ze].trim()),Be.nativeTypeAttributes&&(Ye[Ze]=Ue(Ye[Ze])),"attributeValueFn"in Be&&(Ye[Ze]=Be.attributeValueFn(Ye[Ze],Ze,Re)),"attributeNameFn"in Be)){var St=Ye[Ze];delete Ye[Ze],Ye[Be.attributeNameFn(Ze,Ye[Ze],Re)]=St}}return Ye}function $e(Ye){var Ze={};if(Ye.body&&(Ye.name.toLowerCase()==="xml"||Be.instructionHasAttributes)){for(var St=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,Qe;(Qe=St.exec(Ye.body))!==null;)Ze[Qe[1]]=Qe[2]||Qe[3]||Qe[4];Ze=qe(Ze)}if(Ye.name.toLowerCase()==="xml"){if(Be.ignoreDeclaration)return;Re[Be.declarationKey]={},Object.keys(Ze).length&&(Re[Be.declarationKey][Be.attributesKey]=Ze),Be.addParent&&(Re[Be.declarationKey][Be.parentKey]=Re)}else{if(Be.ignoreInstruction)return;Be.trim&&(Ye.body=Ye.body.trim());var Je={};Be.instructionHasAttributes&&Object.keys(Ze).length?(Je[Ye.name]={},Je[Ye.name][Be.attributesKey]=Ze):Je[Ye.name]=Ye.body,De("instruction",Je)}}function ze(Ye,Ze){var St;if(typeof Ye=="object"&&(Ze=Ye.attributes,Ye=Ye.name),Ze=qe(Ze),"elementNameFn"in Be&&(Ye=Be.elementNameFn(Ye,Re)),Be.compact){if(St={},!Be.ignoreAttributes&&Ze&&Object.keys(Ze).length){St[Be.attributesKey]={};var Qe;for(Qe in Ze)Ze.hasOwnProperty(Qe)&&(St[Be.attributesKey][Qe]=Ze[Qe])}!(Ye in Re)&&(Te(Be.alwaysArray)?Be.alwaysArray.indexOf(Ye)!==-1:Be.alwaysArray)&&(Re[Ye]=[]),Re[Ye]&&!Te(Re[Ye])&&(Re[Ye]=[Re[Ye]]),Te(Re[Ye])?Re[Ye].push(St):Re[Ye]=St}else Re[Be.elementsKey]||(Re[Be.elementsKey]=[]),St={},St[Be.typeKey]="element",St[Be.nameKey]=Ye,!Be.ignoreAttributes&&Ze&&Object.keys(Ze).length&&(St[Be.attributesKey]=Ze),Be.alwaysChildren&&(St[Be.elementsKey]=[]),Re[Be.elementsKey].push(St);St[Be.parentKey]=Re,Re=St}function Xe(Ye){Be.ignoreText||!Ye.trim()&&!Be.captureSpacesBetweenElements||(Be.trim&&(Ye=Ye.trim()),Be.nativeType&&(Ye=Ue(Ye)),Be.sanitize&&(Ye=Ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),De("text",Ye))}function We(Ye){Be.ignoreComment||(Be.trim&&(Ye=Ye.trim()),De("comment",Ye))}function Ge(Ye){var Ze=Re[Be.parentKey];Be.addParent||delete Re[Be.parentKey],Re=Ze}function tn(Ye){Be.ignoreCdata||(Be.trim&&(Ye=Ye.trim()),De("cdata",Ye))}function en(Ye){Be.ignoreDoctype||(Ye=Ye.replace(/^ /,""),Be.trim&&(Ye=Ye.trim()),De("doctype",Ye))}function an(Ye){Ye.note=Ye}return xml2js=function(Ye,Ze){var St=Ce.parser(!0,{}),Qe={};if(Re=Qe,Be=Me(Ze),St.opt={strictEntities:!0},St.onopentag=ze,St.ontext=Xe,St.oncomment=We,St.onclosetag=Ge,St.onerror=an,St.oncdata=tn,St.ondoctype=en,St.onprocessinginstruction=$e,St.write(Ye).close(),Qe[Be.elementsKey]){var Je=Qe[Be.elementsKey];delete Qe[Be.elementsKey],Qe[Be.elementsKey]=Je,delete Qe.text}return Qe},xml2js}var xml2json,hasRequiredXml2json;function requireXml2json(){if(hasRequiredXml2json)return xml2json;hasRequiredXml2json=1;var Ce=requireOptionsHelper(),Ee=requireXml2js();function Te(Be){var Re=Ce.copyOptions(Be);return Ce.ensureSpacesExists(Re),Re}return xml2json=function(Be,Re){var Me,Ue,De,qe;return Me=Te(Re),Ue=Ee(Be,Me),qe="compact"in Me&&Me.compact?"_parent":"parent","addParent"in Me&&Me.addParent?De=JSON.stringify(Ue,function($e,ze){return $e===qe?"_":ze},Me.spaces):De=JSON.stringify(Ue,null,Me.spaces),De.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},xml2json}var js2xml,hasRequiredJs2xml;function requireJs2xml(){if(hasRequiredJs2xml)return js2xml;hasRequiredJs2xml=1;var Ce=requireOptionsHelper(),Ee=requireArrayHelper().isArray,Te,Be;function Re(St){var Qe=Ce.copyOptions(St);return Ce.ensureFlagExists("ignoreDeclaration",Qe),Ce.ensureFlagExists("ignoreInstruction",Qe),Ce.ensureFlagExists("ignoreAttributes",Qe),Ce.ensureFlagExists("ignoreText",Qe),Ce.ensureFlagExists("ignoreComment",Qe),Ce.ensureFlagExists("ignoreCdata",Qe),Ce.ensureFlagExists("ignoreDoctype",Qe),Ce.ensureFlagExists("compact",Qe),Ce.ensureFlagExists("indentText",Qe),Ce.ensureFlagExists("indentCdata",Qe),Ce.ensureFlagExists("indentAttributes",Qe),Ce.ensureFlagExists("indentInstruction",Qe),Ce.ensureFlagExists("fullTagEmptyElement",Qe),Ce.ensureFlagExists("noQuotesForNativeAttributes",Qe),Ce.ensureSpacesExists(Qe),typeof Qe.spaces=="number"&&(Qe.spaces=Array(Qe.spaces+1).join(" ")),Ce.ensureKeyExists("declaration",Qe),Ce.ensureKeyExists("instruction",Qe),Ce.ensureKeyExists("attributes",Qe),Ce.ensureKeyExists("text",Qe),Ce.ensureKeyExists("comment",Qe),Ce.ensureKeyExists("cdata",Qe),Ce.ensureKeyExists("doctype",Qe),Ce.ensureKeyExists("type",Qe),Ce.ensureKeyExists("name",Qe),Ce.ensureKeyExists("elements",Qe),Ce.checkFnExists("doctype",Qe),Ce.checkFnExists("instruction",Qe),Ce.checkFnExists("cdata",Qe),Ce.checkFnExists("comment",Qe),Ce.checkFnExists("text",Qe),Ce.checkFnExists("instructionName",Qe),Ce.checkFnExists("elementName",Qe),Ce.checkFnExists("attributeName",Qe),Ce.checkFnExists("attributeValue",Qe),Ce.checkFnExists("attributes",Qe),Ce.checkFnExists("fullTagEmptyElement",Qe),Qe}function Me(St,Qe,Je){return(!Je&&St.spaces?`
`:"")+Array(Qe+1).join(St.spaces)}function Ue(St,Qe,Je){if(Qe.ignoreAttributes)return"";"attributesFn"in Qe&&(St=Qe.attributesFn(St,Be,Te));var on,hn,dn,sn,kn=[];for(on in St)St.hasOwnProperty(on)&&St[on]!==null&&St[on]!==void 0&&(sn=Qe.noQuotesForNativeAttributes&&typeof St[on]!="string"?"":'"',hn=""+St[on],hn=hn.replace(/"/g,"&quot;"),dn="attributeNameFn"in Qe?Qe.attributeNameFn(on,hn,Be,Te):on,kn.push(Qe.spaces&&Qe.indentAttributes?Me(Qe,Je+1,!1):" "),kn.push(dn+"="+sn+("attributeValueFn"in Qe?Qe.attributeValueFn(hn,on,Be,Te):hn)+sn));return St&&Object.keys(St).length&&Qe.spaces&&Qe.indentAttributes&&kn.push(Me(Qe,Je,!1)),kn.join("")}function De(St,Qe,Je){return Te=St,Be="xml",Qe.ignoreDeclaration?"":"<?xml"+Ue(St[Qe.attributesKey],Qe,Je)+"?>"}function qe(St,Qe,Je){if(Qe.ignoreInstruction)return"";var on;for(on in St)if(St.hasOwnProperty(on))break;var hn="instructionNameFn"in Qe?Qe.instructionNameFn(on,St[on],Be,Te):on;if(typeof St[on]=="object")return Te=St,Be=hn,"<?"+hn+Ue(St[on][Qe.attributesKey],Qe,Je)+"?>";var dn=St[on]?St[on]:"";return"instructionFn"in Qe&&(dn=Qe.instructionFn(dn,on,Be,Te)),"<?"+hn+(dn?" "+dn:"")+"?>"}function $e(St,Qe){return Qe.ignoreComment?"":"<!--"+("commentFn"in Qe?Qe.commentFn(St,Be,Te):St)+"-->"}function ze(St,Qe){return Qe.ignoreCdata?"":"<![CDATA["+("cdataFn"in Qe?Qe.cdataFn(St,Be,Te):St.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function Xe(St,Qe){return Qe.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in Qe?Qe.doctypeFn(St,Be,Te):St)+">"}function We(St,Qe){return Qe.ignoreText?"":(St=""+St,St=St.replace(/&amp;/g,"&"),St=St.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in Qe?Qe.textFn(St,Be,Te):St)}function Ge(St,Qe){var Je;if(St.elements&&St.elements.length)for(Je=0;Je<St.elements.length;++Je)switch(St.elements[Je][Qe.typeKey]){case"text":if(Qe.indentText)return!0;break;case"cdata":if(Qe.indentCdata)return!0;break;case"instruction":if(Qe.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function tn(St,Qe,Je){Te=St,Be=St.name;var on=[],hn="elementNameFn"in Qe?Qe.elementNameFn(St.name,St):St.name;on.push("<"+hn),St[Qe.attributesKey]&&on.push(Ue(St[Qe.attributesKey],Qe,Je));var dn=St[Qe.elementsKey]&&St[Qe.elementsKey].length||St[Qe.attributesKey]&&St[Qe.attributesKey]["xml:space"]==="preserve";return dn||("fullTagEmptyElementFn"in Qe?dn=Qe.fullTagEmptyElementFn(St.name,St):dn=Qe.fullTagEmptyElement),dn?(on.push(">"),St[Qe.elementsKey]&&St[Qe.elementsKey].length&&(on.push(en(St[Qe.elementsKey],Qe,Je+1)),Te=St,Be=St.name),on.push(Qe.spaces&&Ge(St,Qe)?`
`+Array(Je+1).join(Qe.spaces):""),on.push("</"+hn+">")):on.push("/>"),on.join("")}function en(St,Qe,Je,on){return St.reduce(function(hn,dn){var sn=Me(Qe,Je,on&&!hn);switch(dn.type){case"element":return hn+sn+tn(dn,Qe,Je);case"comment":return hn+sn+$e(dn[Qe.commentKey],Qe);case"doctype":return hn+sn+Xe(dn[Qe.doctypeKey],Qe);case"cdata":return hn+(Qe.indentCdata?sn:"")+ze(dn[Qe.cdataKey],Qe);case"text":return hn+(Qe.indentText?sn:"")+We(dn[Qe.textKey],Qe);case"instruction":var kn={};return kn[dn[Qe.nameKey]]=dn[Qe.attributesKey]?dn:dn[Qe.instructionKey],hn+(Qe.indentInstruction?sn:"")+qe(kn,Qe,Je)}},"")}function an(St,Qe,Je){var on;for(on in St)if(St.hasOwnProperty(on))switch(on){case Qe.parentKey:case Qe.attributesKey:break;case Qe.textKey:if(Qe.indentText||Je)return!0;break;case Qe.cdataKey:if(Qe.indentCdata||Je)return!0;break;case Qe.instructionKey:if(Qe.indentInstruction||Je)return!0;break;case Qe.doctypeKey:case Qe.commentKey:return!0;default:return!0}return!1}function Ye(St,Qe,Je,on,hn){Te=St,Be=Qe;var dn="elementNameFn"in Je?Je.elementNameFn(Qe,St):Qe;if(typeof St>"u"||St===null||St==="")return"fullTagEmptyElementFn"in Je&&Je.fullTagEmptyElementFn(Qe,St)||Je.fullTagEmptyElement?"<"+dn+"></"+dn+">":"<"+dn+"/>";var sn=[];if(Qe){if(sn.push("<"+dn),typeof St!="object")return sn.push(">"+We(St,Je)+"</"+dn+">"),sn.join("");St[Je.attributesKey]&&sn.push(Ue(St[Je.attributesKey],Je,on));var kn=an(St,Je,!0)||St[Je.attributesKey]&&St[Je.attributesKey]["xml:space"]==="preserve";if(kn||("fullTagEmptyElementFn"in Je?kn=Je.fullTagEmptyElementFn(Qe,St):kn=Je.fullTagEmptyElement),kn)sn.push(">");else return sn.push("/>"),sn.join("")}return sn.push(Ze(St,Je,on+1,!1)),Te=St,Be=Qe,Qe&&sn.push((hn?Me(Je,on,!1):"")+"</"+dn+">"),sn.join("")}function Ze(St,Qe,Je,on){var hn,dn,sn,kn=[];for(dn in St)if(St.hasOwnProperty(dn))for(sn=Ee(St[dn])?St[dn]:[St[dn]],hn=0;hn<sn.length;++hn){switch(dn){case Qe.declarationKey:kn.push(De(sn[hn],Qe,Je));break;case Qe.instructionKey:kn.push((Qe.indentInstruction?Me(Qe,Je,on):"")+qe(sn[hn],Qe,Je));break;case Qe.attributesKey:case Qe.parentKey:break;case Qe.textKey:kn.push((Qe.indentText?Me(Qe,Je,on):"")+We(sn[hn],Qe));break;case Qe.cdataKey:kn.push((Qe.indentCdata?Me(Qe,Je,on):"")+ze(sn[hn],Qe));break;case Qe.doctypeKey:kn.push(Me(Qe,Je,on)+Xe(sn[hn],Qe));break;case Qe.commentKey:kn.push(Me(Qe,Je,on)+$e(sn[hn],Qe));break;default:kn.push(Me(Qe,Je,on)+Ye(sn[hn],dn,Qe,Je,an(sn[hn],Qe)))}on=on&&!kn.length}return kn.join("")}return js2xml=function(St,Qe){Qe=Re(Qe);var Je=[];return Te=St,Be="_root_",Qe.compact?Je.push(Ze(St,Qe,0,!0)):(St[Qe.declarationKey]&&Je.push(De(St[Qe.declarationKey],Qe,0)),St[Qe.elementsKey]&&St[Qe.elementsKey].length&&Je.push(en(St[Qe.elementsKey],Qe,0,!Je.length))),Je.join("")},js2xml}var json2xml,hasRequiredJson2xml;function requireJson2xml(){if(hasRequiredJson2xml)return json2xml;hasRequiredJson2xml=1;var Ce=requireJs2xml();return json2xml=function(Ee,Te){Ee instanceof Buffer&&(Ee=Ee.toString());var Be=null;if(typeof Ee=="string")try{Be=JSON.parse(Ee)}catch{throw new Error("The JSON structure is invalid")}else Be=Ee;return Ce(Be,Te)},json2xml}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var Ce=requireXml2js(),Ee=requireXml2json(),Te=requireJs2xml(),Be=requireJson2xml();return lib={xml2js:Ce,xml2json:Ee,js2xml:Te,json2xml:Be},lib}var libExports=requireLib();const convertToXmlComponent=Ce=>{switch(Ce.type){case void 0:case"element":const Ee=new ImportedXmlComponent(Ce.name,Ce.attributes),Te=Ce.elements||[];for(const Be of Te){const Re=convertToXmlComponent(Be);Re!==void 0&&Ee.push(Re)}return Ee;case"text":return Ce.text;default:return}};class ImportedXmlComponentAttributes extends XmlAttributeComponent{}class ImportedXmlComponent extends XmlComponent{static fromXmlString(Ee){const Te=libExports.xml2js(Ee,{compact:!1});return convertToXmlComponent(Te)}constructor(Ee,Te){super(Ee),Te&&this.root.push(new ImportedXmlComponentAttributes(Te))}push(Ee){this.root.push(Ee)}}class ImportedRootElementAttributes extends XmlComponent{constructor(Ee){super(""),this._attr=Ee}prepForXml(Ee){return{_attr:this._attr}}}class InitializableXmlComponent extends XmlComponent{constructor(Ee,Te){super(Ee),Te&&(this.root=Te.root)}}const decimalNumber=Ce=>{if(isNaN(Ce))throw new Error(`Invalid value '${Ce}' specified. Must be an integer.`);return Math.floor(Ce)},unsignedDecimalNumber=Ce=>{const Ee=decimalNumber(Ce);if(Ee<0)throw new Error(`Invalid value '${Ce}' specified. Must be a positive integer.`);return Ee},hexBinary=(Ce,Ee)=>{const Te=Ee*2;if(Ce.length!==Te||isNaN(+`0x${Ce}`))throw new Error(`Invalid hex value '${Ce}'. Expected ${Te} digit hex value`);return Ce},uCharHexNumber=Ce=>hexBinary(Ce,1),universalMeasureValue=Ce=>{const Ee=Ce.slice(-2),Te=Ce.substring(0,Ce.length-2);return`${Number(Te)}${Ee}`},positiveUniversalMeasureValue=Ce=>{const Ee=universalMeasureValue(Ce);if(parseFloat(Ee)<0)throw new Error(`Invalid value '${Ee}' specified. Expected a positive number.`);return Ee},hexColorValue=Ce=>{if(Ce==="auto")return Ce;const Ee=Ce.charAt(0)==="#"?Ce.substring(1):Ce;return hexBinary(Ee,3)},signedTwipsMeasureValue=Ce=>typeof Ce=="string"?universalMeasureValue(Ce):decimalNumber(Ce),hpsMeasureValue=Ce=>typeof Ce=="string"?positiveUniversalMeasureValue(Ce):unsignedDecimalNumber(Ce),twipsMeasureValue=Ce=>typeof Ce=="string"?positiveUniversalMeasureValue(Ce):unsignedDecimalNumber(Ce),eighthPointMeasureValue=unsignedDecimalNumber,pointMeasureValue=unsignedDecimalNumber,dateTimeValue=Ce=>Ce.toISOString();class OnOffElement extends XmlComponent{constructor(Ee,Te=!0){super(Ee),Te!==!0&&this.root.push(new Attributes({val:Te}))}}class HpsMeasureElement extends XmlComponent{constructor(Ee,Te){super(Ee),this.root.push(new Attributes({val:hpsMeasureValue(Te)}))}}class StringValueElement extends XmlComponent{constructor(Ee,Te){super(Ee),this.root.push(new Attributes({val:Te}))}}const createStringElement=(Ce,Ee)=>new BuilderElement({name:Ce,attributes:{value:{key:"w:val",value:Ee}}});class NumberValueElement extends XmlComponent{constructor(Ee,Te){super(Ee),this.root.push(new Attributes({val:Te}))}}class StringContainer extends XmlComponent{constructor(Ee,Te){super(Ee),this.root.push(Te)}}class BuilderElement extends XmlComponent{constructor({name:Ee,attributes:Te,children:Be}){super(Ee),Te&&this.root.push(new NextAttributeComponent(Te)),Be&&this.root.push(...Be)}}const AlignmentType={START:"start",LEFT:"left"};class AlignmentAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class Alignment extends XmlComponent{constructor(Ee){super("w:jc"),this.root.push(new AlignmentAttributes({val:Ee}))}}class BorderElement extends XmlComponent{constructor(Ee,{color:Te,size:Be,space:Re,style:Me}){super(Ee),this.root.push(new BordersAttributes({style:Me,color:Te===void 0?void 0:hexColorValue(Te),size:Be===void 0?void 0:eighthPointMeasureValue(Be),space:Re===void 0?void 0:pointMeasureValue(Re)}))}}class BordersAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const BorderStyle={SINGLE:"single",NONE:"none"};class Border extends IgnoreIfEmptyXmlComponent{constructor(Ee){super("w:pBdr"),Ee.top&&this.root.push(new BorderElement("w:top",Ee.top)),Ee.bottom&&this.root.push(new BorderElement("w:bottom",Ee.bottom)),Ee.left&&this.root.push(new BorderElement("w:left",Ee.left)),Ee.right&&this.root.push(new BorderElement("w:right",Ee.right))}}class ThematicBreak extends XmlComponent{constructor(){super("w:pBdr");const Ee=new BorderElement("w:bottom",{color:"auto",space:1,style:BorderStyle.SINGLE,size:6});this.root.push(Ee)}}class Indent extends XmlComponent{constructor({start:Ee,end:Te,left:Be,right:Re,hanging:Me,firstLine:Ue}){super("w:ind"),this.root.push(new NextAttributeComponent({start:{key:"w:start",value:Ee===void 0?void 0:signedTwipsMeasureValue(Ee)},end:{key:"w:end",value:Te===void 0?void 0:signedTwipsMeasureValue(Te)},left:{key:"w:left",value:Be===void 0?void 0:signedTwipsMeasureValue(Be)},right:{key:"w:right",value:Re===void 0?void 0:signedTwipsMeasureValue(Re)},hanging:{key:"w:hanging",value:Me===void 0?void 0:twipsMeasureValue(Me)},firstLine:{key:"w:firstLine",value:Ue===void 0?void 0:twipsMeasureValue(Ue)}}))}}let Break$1=class extends XmlComponent{constructor(){super("w:br")}};const FieldCharacterType={BEGIN:"begin",END:"end",SEPARATE:"separate"};class FidCharAttrs extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Begin extends XmlComponent{constructor(Ee){super("w:fldChar"),this.root.push(new FidCharAttrs({type:FieldCharacterType.BEGIN,dirty:Ee}))}}class Separate extends XmlComponent{constructor(Ee){super("w:fldChar"),this.root.push(new FidCharAttrs({type:FieldCharacterType.SEPARATE,dirty:Ee}))}}class End extends XmlComponent{constructor(Ee){super("w:fldChar"),this.root.push(new FidCharAttrs({type:FieldCharacterType.END,dirty:Ee}))}}const SpaceType={DEFAULT:"default",PRESERVE:"preserve"};class TextAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{space:"xml:space"})}}class Page extends XmlComponent{constructor(){super("w:instrText"),this.root.push(new TextAttributes({space:SpaceType.PRESERVE})),this.root.push("PAGE")}}class NumberOfPages extends XmlComponent{constructor(){super("w:instrText"),this.root.push(new TextAttributes({space:SpaceType.PRESERVE})),this.root.push("NUMPAGES")}}class NumberOfPagesSection extends XmlComponent{constructor(){super("w:instrText"),this.root.push(new TextAttributes({space:SpaceType.PRESERVE})),this.root.push("SECTIONPAGES")}}class CurrentSection extends XmlComponent{constructor(){super("w:instrText"),this.root.push(new TextAttributes({space:SpaceType.PRESERVE})),this.root.push("SECTION")}}class ShadingAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Shading extends XmlComponent{constructor({fill:Ee,color:Te,type:Be}){super("w:shd"),this.root.push(new ShadingAttributes({fill:Ee===void 0?void 0:hexColorValue(Ee),color:Te===void 0?void 0:hexColorValue(Te),type:Be}))}}class ChangeAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const EmphasisMarkType={DOT:"dot"};class BaseEmphasisMark extends XmlComponent{constructor(Ee){super("w:em"),this.root.push(new Attributes({val:Ee}))}}class EmphasisMark extends BaseEmphasisMark{constructor(Ee=EmphasisMarkType.DOT){super(Ee)}}class CharacterSpacing extends XmlComponent{constructor(Ee){super("w:spacing"),this.root.push(new Attributes({val:signedTwipsMeasureValue(Ee)}))}}class Color extends XmlComponent{constructor(Ee){super("w:color"),this.root.push(new Attributes({val:hexColorValue(Ee)}))}}class Highlight extends XmlComponent{constructor(Ee){super("w:highlight"),this.root.push(new Attributes({val:Ee}))}}class HighlightComplexScript extends XmlComponent{constructor(Ee){super("w:highlightCs"),this.root.push(new Attributes({val:Ee}))}}const createLanguageComponent=Ce=>new BuilderElement({name:"w:lang",attributes:{value:{key:"w:val",value:Ce.value},eastAsia:{key:"w:eastAsia",value:Ce.eastAsia},bidirectional:{key:"w:bidi",value:Ce.bidirectional}}});class RunFontAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class RunFonts extends XmlComponent{constructor(Ee,Te){if(super("w:rFonts"),typeof Ee=="string"){const Be=Ee;this.root.push(new RunFontAttributes({ascii:Be,cs:Be,eastAsia:Be,hAnsi:Be,hint:Te}))}else{const Be=Ee;this.root.push(new RunFontAttributes(Be))}}}let VerticalAlign$1=class extends XmlComponent{constructor(Ee){super("w:vertAlign"),this.root.push(new Attributes({val:Ee}))}};class SuperScript extends VerticalAlign$1{constructor(){super("superscript")}}class SubScript extends VerticalAlign$1{constructor(){super("subscript")}}const UnderlineType={SINGLE:"single"};class Underline extends XmlComponent{constructor(Ee=UnderlineType.SINGLE,Te){super("w:u"),this.root.push(new Attributes({val:Ee,color:Te===void 0?void 0:hexColorValue(Te)}))}}class RunProperties extends IgnoreIfEmptyXmlComponent{constructor(Ee){var Te,Be;if(super("w:rPr"),!Ee)return;Ee.style&&this.push(new StringValueElement("w:rStyle",Ee.style)),Ee.font&&(typeof Ee.font=="string"?this.push(new RunFonts(Ee.font)):"name"in Ee.font?this.push(new RunFonts(Ee.font.name,Ee.font.hint)):this.push(new RunFonts(Ee.font))),Ee.bold!==void 0&&this.push(new OnOffElement("w:b",Ee.bold)),(Ee.boldComplexScript===void 0&&Ee.bold!==void 0||Ee.boldComplexScript)&&this.push(new OnOffElement("w:bCs",(Te=Ee.boldComplexScript)!=null?Te:Ee.bold)),Ee.italics!==void 0&&this.push(new OnOffElement("w:i",Ee.italics)),(Ee.italicsComplexScript===void 0&&Ee.italics!==void 0||Ee.italicsComplexScript)&&this.push(new OnOffElement("w:iCs",(Be=Ee.italicsComplexScript)!=null?Be:Ee.italics)),Ee.smallCaps!==void 0?this.push(new OnOffElement("w:smallCaps",Ee.smallCaps)):Ee.allCaps!==void 0&&this.push(new OnOffElement("w:caps",Ee.allCaps)),Ee.strike!==void 0&&this.push(new OnOffElement("w:strike",Ee.strike)),Ee.doubleStrike!==void 0&&this.push(new OnOffElement("w:dstrike",Ee.doubleStrike)),Ee.emboss!==void 0&&this.push(new OnOffElement("w:emboss",Ee.emboss)),Ee.imprint!==void 0&&this.push(new OnOffElement("w:imprint",Ee.imprint)),Ee.noProof!==void 0&&this.push(new OnOffElement("w:noProof",Ee.noProof)),Ee.snapToGrid!==void 0&&this.push(new OnOffElement("w:snapToGrid",Ee.snapToGrid)),Ee.vanish&&this.push(new OnOffElement("w:vanish",Ee.vanish)),Ee.color&&this.push(new Color(Ee.color)),Ee.characterSpacing&&this.push(new CharacterSpacing(Ee.characterSpacing)),Ee.scale!==void 0&&this.push(new NumberValueElement("w:w",Ee.scale)),Ee.kern&&this.push(new HpsMeasureElement("w:kern",Ee.kern)),Ee.position&&this.push(new StringValueElement("w:position",Ee.position)),Ee.size!==void 0&&this.push(new HpsMeasureElement("w:sz",Ee.size));const Re=Ee.sizeComplexScript===void 0||Ee.sizeComplexScript===!0?Ee.size:Ee.sizeComplexScript;Re&&this.push(new HpsMeasureElement("w:szCs",Re)),Ee.highlight&&this.push(new Highlight(Ee.highlight));const Me=Ee.highlightComplexScript===void 0||Ee.highlightComplexScript===!0?Ee.highlight:Ee.highlightComplexScript;Me&&this.push(new HighlightComplexScript(Me)),Ee.underline&&this.push(new Underline(Ee.underline.type,Ee.underline.color)),Ee.effect&&this.push(new StringValueElement("w:effect",Ee.effect)),Ee.border&&this.push(new BorderElement("w:bdr",Ee.border)),Ee.shading&&this.push(new Shading(Ee.shading)),Ee.subScript&&this.push(new SubScript),Ee.superScript&&this.push(new SuperScript),Ee.rightToLeft!==void 0&&this.push(new OnOffElement("w:rtl",Ee.rightToLeft)),Ee.emphasisMark&&this.push(new EmphasisMark(Ee.emphasisMark.type)),Ee.language&&this.push(createLanguageComponent(Ee.language)),Ee.specVanish&&this.push(new OnOffElement("w:specVanish",Ee.vanish)),Ee.math&&this.push(new OnOffElement("w:oMath",Ee.math)),Ee.revision&&this.push(new RunPropertiesChange(Ee.revision))}push(Ee){this.root.push(Ee)}}class RunPropertiesChange extends XmlComponent{constructor(Ee){super("w:rPrChange"),this.root.push(new ChangeAttributes({id:Ee.id,author:Ee.author,date:Ee.date})),this.addChildElement(new RunProperties(Ee))}}class Text extends XmlComponent{constructor(Ee){var Te;super("w:t"),typeof Ee=="string"?(this.root.push(new TextAttributes({space:SpaceType.PRESERVE})),this.root.push(Ee)):(this.root.push(new TextAttributes({space:(Te=Ee.space)!=null?Te:SpaceType.DEFAULT})),this.root.push(Ee.text))}}const PageNumber={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Run extends XmlComponent{constructor(Ee){if(super("w:r"),__publicField(this,"properties"),this.properties=new RunProperties(Ee),this.root.push(this.properties),Ee.break)for(let Te=0;Te<Ee.break;Te++)this.root.push(new Break$1);if(Ee.children)for(const Te of Ee.children){if(typeof Te=="string"){switch(Te){case PageNumber.CURRENT:this.root.push(new Begin),this.root.push(new Page),this.root.push(new Separate),this.root.push(new End);break;case PageNumber.TOTAL_PAGES:this.root.push(new Begin),this.root.push(new NumberOfPages),this.root.push(new Separate),this.root.push(new End);break;case PageNumber.TOTAL_PAGES_IN_SECTION:this.root.push(new Begin),this.root.push(new NumberOfPagesSection),this.root.push(new Separate),this.root.push(new End);break;case PageNumber.CURRENT_SECTION:this.root.push(new Begin),this.root.push(new CurrentSection),this.root.push(new Separate),this.root.push(new End);break;default:this.root.push(new Text(Te));break}continue}this.root.push(Te)}else Ee.text!==void 0&&this.root.push(new Text(Ee.text))}}class TextRun extends Run{constructor(Ee){super(typeof Ee=="string"?{text:Ee}:Ee)}}var hash$1={},utils={},minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=Ce;function Ce(Ee,Te){if(!Ee)throw new Error(Te||"Assertion failed")}return Ce.equal=function(Te,Be,Re){if(Te!=Be)throw new Error(Re||"Assertion failed: "+Te+" != "+Be)},minimalisticAssert}var hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var Ce=requireMinimalisticAssert(),Ee=requireInherits_browser();utils.inherits=Ee;function Te(_n,Mn){return(_n.charCodeAt(Mn)&64512)!==55296||Mn<0||Mn+1>=_n.length?!1:(_n.charCodeAt(Mn+1)&64512)===56320}function Be(_n,Mn){if(Array.isArray(_n))return _n.slice();if(!_n)return[];var yn=[];if(typeof _n=="string")if(Mn){if(Mn==="hex")for(_n=_n.replace(/[^a-z0-9]+/ig,""),_n.length%2!==0&&(_n="0"+_n),Ln=0;Ln<_n.length;Ln+=2)yn.push(parseInt(_n[Ln]+_n[Ln+1],16))}else for(var zn=0,Ln=0;Ln<_n.length;Ln++){var Vn=_n.charCodeAt(Ln);Vn<128?yn[zn++]=Vn:Vn<2048?(yn[zn++]=Vn>>6|192,yn[zn++]=Vn&63|128):Te(_n,Ln)?(Vn=65536+((Vn&1023)<<10)+(_n.charCodeAt(++Ln)&1023),yn[zn++]=Vn>>18|240,yn[zn++]=Vn>>12&63|128,yn[zn++]=Vn>>6&63|128,yn[zn++]=Vn&63|128):(yn[zn++]=Vn>>12|224,yn[zn++]=Vn>>6&63|128,yn[zn++]=Vn&63|128)}else for(Ln=0;Ln<_n.length;Ln++)yn[Ln]=_n[Ln]|0;return yn}utils.toArray=Be;function Re(_n){for(var Mn="",yn=0;yn<_n.length;yn++)Mn+=De(_n[yn].toString(16));return Mn}utils.toHex=Re;function Me(_n){var Mn=_n>>>24|_n>>>8&65280|_n<<8&16711680|(_n&255)<<24;return Mn>>>0}utils.htonl=Me;function Ue(_n,Mn){for(var yn="",zn=0;zn<_n.length;zn++){var Ln=_n[zn];Mn==="little"&&(Ln=Me(Ln)),yn+=qe(Ln.toString(16))}return yn}utils.toHex32=Ue;function De(_n){return _n.length===1?"0"+_n:_n}utils.zero2=De;function qe(_n){return _n.length===7?"0"+_n:_n.length===6?"00"+_n:_n.length===5?"000"+_n:_n.length===4?"0000"+_n:_n.length===3?"00000"+_n:_n.length===2?"000000"+_n:_n.length===1?"0000000"+_n:_n}utils.zero8=qe;function $e(_n,Mn,yn,zn){var Ln=yn-Mn;Ce(Ln%4===0);for(var Vn=new Array(Ln/4),On=0,Un=Mn;On<Vn.length;On++,Un+=4){var jn;zn==="big"?jn=_n[Un]<<24|_n[Un+1]<<16|_n[Un+2]<<8|_n[Un+3]:jn=_n[Un+3]<<24|_n[Un+2]<<16|_n[Un+1]<<8|_n[Un],Vn[On]=jn>>>0}return Vn}utils.join32=$e;function ze(_n,Mn){for(var yn=new Array(_n.length*4),zn=0,Ln=0;zn<_n.length;zn++,Ln+=4){var Vn=_n[zn];Mn==="big"?(yn[Ln]=Vn>>>24,yn[Ln+1]=Vn>>>16&255,yn[Ln+2]=Vn>>>8&255,yn[Ln+3]=Vn&255):(yn[Ln+3]=Vn>>>24,yn[Ln+2]=Vn>>>16&255,yn[Ln+1]=Vn>>>8&255,yn[Ln]=Vn&255)}return yn}utils.split32=ze;function Xe(_n,Mn){return _n>>>Mn|_n<<32-Mn}utils.rotr32=Xe;function We(_n,Mn){return _n<<Mn|_n>>>32-Mn}utils.rotl32=We;function Ge(_n,Mn){return _n+Mn>>>0}utils.sum32=Ge;function tn(_n,Mn,yn){return _n+Mn+yn>>>0}utils.sum32_3=tn;function en(_n,Mn,yn,zn){return _n+Mn+yn+zn>>>0}utils.sum32_4=en;function an(_n,Mn,yn,zn,Ln){return _n+Mn+yn+zn+Ln>>>0}utils.sum32_5=an;function Ye(_n,Mn,yn,zn){var Ln=_n[Mn],Vn=_n[Mn+1],On=zn+Vn>>>0,Un=(On<zn?1:0)+yn+Ln;_n[Mn]=Un>>>0,_n[Mn+1]=On}utils.sum64=Ye;function Ze(_n,Mn,yn,zn){var Ln=Mn+zn>>>0,Vn=(Ln<Mn?1:0)+_n+yn;return Vn>>>0}utils.sum64_hi=Ze;function St(_n,Mn,yn,zn){var Ln=Mn+zn;return Ln>>>0}utils.sum64_lo=St;function Qe(_n,Mn,yn,zn,Ln,Vn,On,Un){var jn=0,Gn=Mn;Gn=Gn+zn>>>0,jn+=Gn<Mn?1:0,Gn=Gn+Vn>>>0,jn+=Gn<Vn?1:0,Gn=Gn+Un>>>0,jn+=Gn<Un?1:0;var An=_n+yn+Ln+On+jn;return An>>>0}utils.sum64_4_hi=Qe;function Je(_n,Mn,yn,zn,Ln,Vn,On,Un){var jn=Mn+zn+Vn+Un;return jn>>>0}utils.sum64_4_lo=Je;function on(_n,Mn,yn,zn,Ln,Vn,On,Un,jn,Gn){var An=0,$n=Mn;$n=$n+zn>>>0,An+=$n<Mn?1:0,$n=$n+Vn>>>0,An+=$n<Vn?1:0,$n=$n+Un>>>0,An+=$n<Un?1:0,$n=$n+Gn>>>0,An+=$n<Gn?1:0;var Nn=_n+yn+Ln+On+jn+An;return Nn>>>0}utils.sum64_5_hi=on;function hn(_n,Mn,yn,zn,Ln,Vn,On,Un,jn,Gn){var An=Mn+zn+Vn+Un+Gn;return An>>>0}utils.sum64_5_lo=hn;function dn(_n,Mn,yn){var zn=Mn<<32-yn|_n>>>yn;return zn>>>0}utils.rotr64_hi=dn;function sn(_n,Mn,yn){var zn=_n<<32-yn|Mn>>>yn;return zn>>>0}utils.rotr64_lo=sn;function kn(_n,Mn,yn){return _n>>>yn}utils.shr64_hi=kn;function Pn(_n,Mn,yn){var zn=_n<<32-yn|Mn>>>yn;return zn>>>0}return utils.shr64_lo=Pn,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var Ce=requireUtils(),Ee=requireMinimalisticAssert();function Te(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=Te,Te.prototype.update=function(Re,Me){if(Re=Ce.toArray(Re,Me),this.pending?this.pending=this.pending.concat(Re):this.pending=Re,this.pendingTotal+=Re.length,this.pending.length>=this._delta8){Re=this.pending;var Ue=Re.length%this._delta8;this.pending=Re.slice(Re.length-Ue,Re.length),this.pending.length===0&&(this.pending=null),Re=Ce.join32(Re,0,Re.length-Ue,this.endian);for(var De=0;De<Re.length;De+=this._delta32)this._update(Re,De,De+this._delta32)}return this},Te.prototype.digest=function(Re){return this.update(this._pad()),Ee(this.pending===null),this._digest(Re)},Te.prototype._pad=function(){var Re=this.pendingTotal,Me=this._delta8,Ue=Me-(Re+this.padLength)%Me,De=new Array(Ue+this.padLength);De[0]=128;for(var qe=1;qe<Ue;qe++)De[qe]=0;if(Re<<=3,this.endian==="big"){for(var $e=8;$e<this.padLength;$e++)De[qe++]=0;De[qe++]=0,De[qe++]=0,De[qe++]=0,De[qe++]=0,De[qe++]=Re>>>24&255,De[qe++]=Re>>>16&255,De[qe++]=Re>>>8&255,De[qe++]=Re&255}else for(De[qe++]=Re&255,De[qe++]=Re>>>8&255,De[qe++]=Re>>>16&255,De[qe++]=Re>>>24&255,De[qe++]=0,De[qe++]=0,De[qe++]=0,De[qe++]=0,$e=8;$e<this.padLength;$e++)De[qe++]=0;return De},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var Ce=requireUtils(),Ee=Ce.rotr32;function Te(ze,Xe,We,Ge){if(ze===0)return Be(Xe,We,Ge);if(ze===1||ze===3)return Me(Xe,We,Ge);if(ze===2)return Re(Xe,We,Ge)}common.ft_1=Te;function Be(ze,Xe,We){return ze&Xe^~ze&We}common.ch32=Be;function Re(ze,Xe,We){return ze&Xe^ze&We^Xe&We}common.maj32=Re;function Me(ze,Xe,We){return ze^Xe^We}common.p32=Me;function Ue(ze){return Ee(ze,2)^Ee(ze,13)^Ee(ze,22)}common.s0_256=Ue;function De(ze){return Ee(ze,6)^Ee(ze,11)^Ee(ze,25)}common.s1_256=De;function qe(ze){return Ee(ze,7)^Ee(ze,18)^ze>>>3}common.g0_256=qe;function $e(ze){return Ee(ze,17)^Ee(ze,19)^ze>>>10}return common.g1_256=$e,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var Ce=requireUtils(),Ee=requireCommon$1(),Te=requireCommon(),Be=Ce.rotl32,Re=Ce.sum32,Me=Ce.sum32_5,Ue=Te.ft_1,De=Ee.BlockHash,qe=[1518500249,1859775393,2400959708,3395469782];function $e(){if(!(this instanceof $e))return new $e;De.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return Ce.inherits($e,De),_1=$e,$e.blockSize=512,$e.outSize=160,$e.hmacStrength=80,$e.padLength=64,$e.prototype._update=function(Xe,We){for(var Ge=this.W,tn=0;tn<16;tn++)Ge[tn]=Xe[We+tn];for(;tn<Ge.length;tn++)Ge[tn]=Be(Ge[tn-3]^Ge[tn-8]^Ge[tn-14]^Ge[tn-16],1);var en=this.h[0],an=this.h[1],Ye=this.h[2],Ze=this.h[3],St=this.h[4];for(tn=0;tn<Ge.length;tn++){var Qe=~~(tn/20),Je=Me(Be(en,5),Ue(Qe,an,Ye,Ze),St,Ge[tn],qe[Qe]);St=Ze,Ze=Ye,Ye=Be(an,30),an=en,en=Je}this.h[0]=Re(this.h[0],en),this.h[1]=Re(this.h[1],an),this.h[2]=Re(this.h[2],Ye),this.h[3]=Re(this.h[3],Ze),this.h[4]=Re(this.h[4],St)},$e.prototype._digest=function(Xe){return Xe==="hex"?Ce.toHex32(this.h,"big"):Ce.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var Ce=requireUtils(),Ee=requireCommon$1(),Te=requireCommon(),Be=requireMinimalisticAssert(),Re=Ce.sum32,Me=Ce.sum32_4,Ue=Ce.sum32_5,De=Te.ch32,qe=Te.maj32,$e=Te.s0_256,ze=Te.s1_256,Xe=Te.g0_256,We=Te.g1_256,Ge=Ee.BlockHash,tn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function en(){if(!(this instanceof en))return new en;Ge.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tn,this.W=new Array(64)}return Ce.inherits(en,Ge),_256=en,en.blockSize=512,en.outSize=256,en.hmacStrength=192,en.padLength=64,en.prototype._update=function(Ye,Ze){for(var St=this.W,Qe=0;Qe<16;Qe++)St[Qe]=Ye[Ze+Qe];for(;Qe<St.length;Qe++)St[Qe]=Me(We(St[Qe-2]),St[Qe-7],Xe(St[Qe-15]),St[Qe-16]);var Je=this.h[0],on=this.h[1],hn=this.h[2],dn=this.h[3],sn=this.h[4],kn=this.h[5],Pn=this.h[6],_n=this.h[7];for(Be(this.k.length===St.length),Qe=0;Qe<St.length;Qe++){var Mn=Ue(_n,ze(sn),De(sn,kn,Pn),this.k[Qe],St[Qe]),yn=Re($e(Je),qe(Je,on,hn));_n=Pn,Pn=kn,kn=sn,sn=Re(dn,Mn),dn=hn,hn=on,on=Je,Je=Re(Mn,yn)}this.h[0]=Re(this.h[0],Je),this.h[1]=Re(this.h[1],on),this.h[2]=Re(this.h[2],hn),this.h[3]=Re(this.h[3],dn),this.h[4]=Re(this.h[4],sn),this.h[5]=Re(this.h[5],kn),this.h[6]=Re(this.h[6],Pn),this.h[7]=Re(this.h[7],_n)},en.prototype._digest=function(Ye){return Ye==="hex"?Ce.toHex32(this.h,"big"):Ce.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var Ce=requireUtils(),Ee=require_256();function Te(){if(!(this instanceof Te))return new Te;Ee.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return Ce.inherits(Te,Ee),_224=Te,Te.blockSize=512,Te.outSize=224,Te.hmacStrength=192,Te.padLength=64,Te.prototype._digest=function(Re){return Re==="hex"?Ce.toHex32(this.h.slice(0,7),"big"):Ce.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var Ce=requireUtils(),Ee=requireCommon$1(),Te=requireMinimalisticAssert(),Be=Ce.rotr64_hi,Re=Ce.rotr64_lo,Me=Ce.shr64_hi,Ue=Ce.shr64_lo,De=Ce.sum64,qe=Ce.sum64_hi,$e=Ce.sum64_lo,ze=Ce.sum64_4_hi,Xe=Ce.sum64_4_lo,We=Ce.sum64_5_hi,Ge=Ce.sum64_5_lo,tn=Ee.BlockHash,en=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function an(){if(!(this instanceof an))return new an;tn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=en,this.W=new Array(160)}Ce.inherits(an,tn),_512=an,an.blockSize=1024,an.outSize=512,an.hmacStrength=192,an.padLength=128,an.prototype._prepareBlock=function(yn,zn){for(var Ln=this.W,Vn=0;Vn<32;Vn++)Ln[Vn]=yn[zn+Vn];for(;Vn<Ln.length;Vn+=2){var On=Pn(Ln[Vn-4],Ln[Vn-3]),Un=_n(Ln[Vn-4],Ln[Vn-3]),jn=Ln[Vn-14],Gn=Ln[Vn-13],An=sn(Ln[Vn-30],Ln[Vn-29]),$n=kn(Ln[Vn-30],Ln[Vn-29]),Nn=Ln[Vn-32],En=Ln[Vn-31];Ln[Vn]=ze(On,Un,jn,Gn,An,$n,Nn,En),Ln[Vn+1]=Xe(On,Un,jn,Gn,An,$n,Nn,En)}},an.prototype._update=function(yn,zn){this._prepareBlock(yn,zn);var Ln=this.W,Vn=this.h[0],On=this.h[1],Un=this.h[2],jn=this.h[3],Gn=this.h[4],An=this.h[5],$n=this.h[6],Nn=this.h[7],En=this.h[8],Sn=this.h[9],pn=this.h[10],mn=this.h[11],un=this.h[12],wn=this.h[13],xn=this.h[14],Rn=this.h[15];Te(this.k.length===Ln.length);for(var Hn=0;Hn<Ln.length;Hn+=2){var vn=xn,qn=Rn,In=hn(En,Sn),cn=dn(En,Sn),bn=Ye(En,Sn,pn,mn,un),Cn=Ze(En,Sn,pn,mn,un,wn),Yn=this.k[Hn],Jn=this.k[Hn+1],er=Ln[Hn],ur=Ln[Hn+1],dr=We(vn,qn,In,cn,bn,Cn,Yn,Jn,er,ur),br=Ge(vn,qn,In,cn,bn,Cn,Yn,Jn,er,ur);vn=Je(Vn,On),qn=on(Vn,On),In=St(Vn,On,Un,jn,Gn),cn=Qe(Vn,On,Un,jn,Gn,An);var yr=qe(vn,qn,In,cn),jr=$e(vn,qn,In,cn);xn=un,Rn=wn,un=pn,wn=mn,pn=En,mn=Sn,En=qe($n,Nn,dr,br),Sn=$e(Nn,Nn,dr,br),$n=Gn,Nn=An,Gn=Un,An=jn,Un=Vn,jn=On,Vn=qe(dr,br,yr,jr),On=$e(dr,br,yr,jr)}De(this.h,0,Vn,On),De(this.h,2,Un,jn),De(this.h,4,Gn,An),De(this.h,6,$n,Nn),De(this.h,8,En,Sn),De(this.h,10,pn,mn),De(this.h,12,un,wn),De(this.h,14,xn,Rn)},an.prototype._digest=function(yn){return yn==="hex"?Ce.toHex32(this.h,"big"):Ce.split32(this.h,"big")};function Ye(Mn,yn,zn,Ln,Vn){var On=Mn&zn^~Mn&Vn;return On<0&&(On+=4294967296),On}function Ze(Mn,yn,zn,Ln,Vn,On){var Un=yn&Ln^~yn&On;return Un<0&&(Un+=4294967296),Un}function St(Mn,yn,zn,Ln,Vn){var On=Mn&zn^Mn&Vn^zn&Vn;return On<0&&(On+=4294967296),On}function Qe(Mn,yn,zn,Ln,Vn,On){var Un=yn&Ln^yn&On^Ln&On;return Un<0&&(Un+=4294967296),Un}function Je(Mn,yn){var zn=Be(Mn,yn,28),Ln=Be(yn,Mn,2),Vn=Be(yn,Mn,7),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function on(Mn,yn){var zn=Re(Mn,yn,28),Ln=Re(yn,Mn,2),Vn=Re(yn,Mn,7),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function hn(Mn,yn){var zn=Be(Mn,yn,14),Ln=Be(Mn,yn,18),Vn=Be(yn,Mn,9),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function dn(Mn,yn){var zn=Re(Mn,yn,14),Ln=Re(Mn,yn,18),Vn=Re(yn,Mn,9),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function sn(Mn,yn){var zn=Be(Mn,yn,1),Ln=Be(Mn,yn,8),Vn=Me(Mn,yn,7),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function kn(Mn,yn){var zn=Re(Mn,yn,1),Ln=Re(Mn,yn,8),Vn=Ue(Mn,yn,7),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function Pn(Mn,yn){var zn=Be(Mn,yn,19),Ln=Be(yn,Mn,29),Vn=Me(Mn,yn,6),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}function _n(Mn,yn){var zn=Re(Mn,yn,19),Ln=Re(yn,Mn,29),Vn=Ue(Mn,yn,6),On=zn^Ln^Vn;return On<0&&(On+=4294967296),On}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var Ce=requireUtils(),Ee=require_512();function Te(){if(!(this instanceof Te))return new Te;Ee.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return Ce.inherits(Te,Ee),_384=Te,Te.blockSize=1024,Te.outSize=384,Te.hmacStrength=192,Te.padLength=128,Te.prototype._digest=function(Re){return Re==="hex"?Ce.toHex32(this.h.slice(0,12),"big"):Ce.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var Ce=requireUtils(),Ee=requireCommon$1(),Te=Ce.rotl32,Be=Ce.sum32,Re=Ce.sum32_3,Me=Ce.sum32_4,Ue=Ee.BlockHash;function De(){if(!(this instanceof De))return new De;Ue.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ce.inherits(De,Ue),ripemd.ripemd160=De,De.blockSize=512,De.outSize=160,De.hmacStrength=192,De.padLength=64,De.prototype._update=function(an,Ye){for(var Ze=this.h[0],St=this.h[1],Qe=this.h[2],Je=this.h[3],on=this.h[4],hn=Ze,dn=St,sn=Qe,kn=Je,Pn=on,_n=0;_n<80;_n++){var Mn=Be(Te(Me(Ze,qe(_n,St,Qe,Je),an[Xe[_n]+Ye],$e(_n)),Ge[_n]),on);Ze=on,on=Je,Je=Te(Qe,10),Qe=St,St=Mn,Mn=Be(Te(Me(hn,qe(79-_n,dn,sn,kn),an[We[_n]+Ye],ze(_n)),tn[_n]),Pn),hn=Pn,Pn=kn,kn=Te(sn,10),sn=dn,dn=Mn}Mn=Re(this.h[1],Qe,kn),this.h[1]=Re(this.h[2],Je,Pn),this.h[2]=Re(this.h[3],on,hn),this.h[3]=Re(this.h[4],Ze,dn),this.h[4]=Re(this.h[0],St,sn),this.h[0]=Mn},De.prototype._digest=function(an){return an==="hex"?Ce.toHex32(this.h,"little"):Ce.split32(this.h,"little")};function qe(en,an,Ye,Ze){return en<=15?an^Ye^Ze:en<=31?an&Ye|~an&Ze:en<=47?(an|~Ye)^Ze:en<=63?an&Ze|Ye&~Ze:an^(Ye|~Ze)}function $e(en){return en<=15?0:en<=31?1518500249:en<=47?1859775393:en<=63?2400959708:2840853838}function ze(en){return en<=15?1352829926:en<=31?1548603684:en<=47?1836072691:en<=63?2053994217:0}var Xe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],We=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ge=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tn=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var Ce=requireUtils(),Ee=requireMinimalisticAssert();function Te(Be,Re,Me){if(!(this instanceof Te))return new Te(Be,Re,Me);this.Hash=Be,this.blockSize=Be.blockSize/8,this.outSize=Be.outSize/8,this.inner=null,this.outer=null,this._init(Ce.toArray(Re,Me))}return hmac=Te,Te.prototype._init=function(Re){Re.length>this.blockSize&&(Re=new this.Hash().update(Re).digest()),Ee(Re.length<=this.blockSize);for(var Me=Re.length;Me<this.blockSize;Me++)Re.push(0);for(Me=0;Me<Re.length;Me++)Re[Me]^=54;for(this.inner=new this.Hash().update(Re),Me=0;Me<Re.length;Me++)Re[Me]^=106;this.outer=new this.Hash().update(Re)},Te.prototype.update=function(Re,Me){return this.inner.update(Re,Me),this},Te.prototype.digest=function(Re){return this.outer.update(this.inner.digest()),this.outer.digest(Re)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,(function(Ce){var Ee=Ce;Ee.utils=requireUtils(),Ee.common=requireCommon$1(),Ee.sha=requireSha(),Ee.ripemd=requireRipemd(),Ee.hmac=requireHmac(),Ee.sha1=Ee.sha.sha1,Ee.sha256=Ee.sha.sha256,Ee.sha224=Ee.sha.sha224,Ee.sha384=Ee.sha.sha384,Ee.sha512=Ee.sha.sha512,Ee.ripemd160=Ee.ripemd.ripemd160})(hash$1)),hash$1}requireHash();let urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",customAlphabet=(Ce,Ee=21)=>(Te=Ee)=>{let Be="",Re=Te|0;for(;Re--;)Be+=Ce[Math.random()*Ce.length|0];return Be},nanoid=(Ce=21)=>{let Ee="",Te=Ce|0;for(;Te--;)Ee+=urlAlphabet[Math.random()*64|0];return Ee};const convertInchesToTwip=Ce=>Math.floor(Ce*72*20),uniqueNumericIdCreator=(Ce=0)=>{let Ee=Ce;return()=>++Ee},abstractNumUniqueNumericIdGen=()=>uniqueNumericIdCreator(),concreteNumUniqueNumericIdGen=()=>uniqueNumericIdCreator(1),bookmarkUniqueNumericIdGen=()=>uniqueNumericIdCreator(),uniqueId=()=>nanoid().toLowerCase(),generateUuidPart=Ce=>customAlphabet("1234567890abcdef",Ce)(),uniqueUuid=()=>`${generateUuidPart(8)}-${generateUuidPart(4)}-${generateUuidPart(4)}-${generateUuidPart(4)}-${generateUuidPart(12)}`;class RelationshipsAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{xmlns:"xmlns"})}}class RelationshipAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const TargetModeType={EXTERNAL:"External"};class Relationship extends XmlComponent{constructor(Ee,Te,Be,Re){super("Relationship"),this.root.push(new RelationshipAttributes({id:Ee,type:Te,target:Be,targetMode:Re}))}}class Relationships extends XmlComponent{constructor(){super("Relationships"),this.root.push(new RelationshipsAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(Ee,Te,Be,Re){const Me=new Relationship(`rId${Ee}`,Te,Be,Re);return this.root.push(Me),Me}get RelationshipCount(){return this.root.length-1}}class CommentAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class RootCommentsAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Comment extends XmlComponent{constructor({id:Ee,initials:Te,author:Be,date:Re=new Date,children:Me}){super("w:comment"),this.root.push(new CommentAttributes({id:Ee,initials:Te,author:Be,date:Re.toISOString()}));for(const Ue of Me)this.root.push(Ue)}}class Comments extends XmlComponent{constructor({children:Ee}){super("w:comments"),__publicField(this,"relationships"),this.root.push(new RootCommentsAttributes({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const Te of Ee)this.root.push(new Comment(Te));this.relationships=new Relationships}get Relationships(){return this.relationships}}class PageBreakBefore extends XmlComponent{constructor(){super("w:pageBreakBefore")}}const LineRuleType={AUTO:"auto"};class SpacingAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Spacing extends XmlComponent{constructor(Ee){super("w:spacing"),this.root.push(new SpacingAttributes(Ee))}}let Style$1=class extends XmlComponent{constructor(Ee){super("w:pStyle"),this.root.push(new Attributes({val:Ee}))}};class TabStop extends XmlComponent{constructor(Ee){super("w:tabs");for(const Te of Ee)this.root.push(new TabStopItem(Te))}}const TabStopType={LEFT:"left",RIGHT:"right"};class TabAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class TabStopItem extends XmlComponent{constructor({type:Ee,position:Te,leader:Be}){super("w:tab"),this.root.push(new TabAttributes({val:Ee,pos:Te,leader:Be}))}}class NumberProperties extends XmlComponent{constructor(Ee,Te){super("w:numPr"),this.root.push(new IndentLevel(Te)),this.root.push(new NumberId(Ee))}}class IndentLevel extends XmlComponent{constructor(Ee){if(super("w:ilvl"),Ee>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Attributes({val:Ee}))}}class NumberId extends XmlComponent{constructor(Ee){super("w:numId"),this.root.push(new Attributes({val:typeof Ee=="string"?`{${Ee}}`:Ee}))}}class FileChild extends XmlComponent{constructor(){super(...arguments),__publicField(this,"fileChild",Symbol())}}class HyperlinkAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ConcreteHyperlink extends XmlComponent{constructor(Ee,Te,Be){super("w:hyperlink"),__publicField(this,"linkId"),this.linkId=Te;const Re={history:1,anchor:Be||void 0,id:Be?void 0:`rId${this.linkId}`},Me=new HyperlinkAttributes(Re);this.root.push(Me),Ee.forEach(Ue=>{this.root.push(Ue)})}}class ExternalHyperlink extends XmlComponent{constructor(Ee){super("w:externalHyperlink"),this.options=Ee}}class BookmarkStartAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class BookmarkEndAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{id:"w:id"})}}class Bookmark{constructor(Ee){__publicField(this,"bookmarkUniqueNumericId",bookmarkUniqueNumericIdGen()),__publicField(this,"start"),__publicField(this,"children"),__publicField(this,"end");const Te=this.bookmarkUniqueNumericId();this.start=new BookmarkStart(Ee.id,Te),this.children=Ee.children,this.end=new BookmarkEnd(Te)}}class BookmarkStart extends XmlComponent{constructor(Ee,Te){super("w:bookmarkStart");const Be=new BookmarkStartAttributes({name:Ee,id:Te});this.root.push(Be)}}class BookmarkEnd extends XmlComponent{constructor(Ee){super("w:bookmarkEnd");const Te=new BookmarkEndAttributes({id:Ee});this.root.push(Te)}}class OutlineLevel extends XmlComponent{constructor(Ee){super("w:outlineLvl"),this.level=Ee,this.root.push(new Attributes({val:Ee}))}}const VerticalAlignTable={TOP:"top",CENTER:"center",BOTTOM:"bottom"};__spreadProps(__spreadValues({},VerticalAlignTable),{BOTH:"both"});class VerticalAlignAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{verticalAlign:"w:val"})}}class VerticalAlignElement extends XmlComponent{constructor(Ee){super("w:vAlign"),this.root.push(new VerticalAlignAttributes({verticalAlign:Ee}))}}class Columns extends XmlComponent{constructor({space:Ee,count:Te,separate:Be,equalWidth:Re,children:Me}){super("w:cols"),this.root.push(new NextAttributeComponent({space:{key:"w:space",value:Ee===void 0?void 0:twipsMeasureValue(Ee)},count:{key:"w:num",value:Te===void 0?void 0:decimalNumber(Te)},separate:{key:"w:sep",value:Be},equalWidth:{key:"w:equalWidth",value:Re}})),!Re&&Me&&Me.forEach(Ue=>this.addChildElement(Ue))}}const createDocumentGrid=({type:Ce,linePitch:Ee,charSpace:Te})=>new BuilderElement({name:"w:docGrid",attributes:{type:{key:"w:type",value:Ce},linePitch:{key:"w:linePitch",value:decimalNumber(Ee)},charSpace:{key:"w:charSpace",value:Te?decimalNumber(Te):void 0}}}),HeaderFooterReferenceType={DEFAULT:"default",FIRST:"first",EVEN:"even"};class FooterReferenceAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const HeaderFooterType={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class HeaderFooterReference extends XmlComponent{constructor(Ee,Te){super(Ee),this.root.push(new FooterReferenceAttributes({type:Te.type||HeaderFooterReferenceType.DEFAULT,id:`rId${Te.id}`}))}}const createLineNumberType=({countBy:Ce,start:Ee,restart:Te,distance:Be})=>new BuilderElement({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:Ce===void 0?void 0:decimalNumber(Ce)},start:{key:"w:start",value:Ee===void 0?void 0:decimalNumber(Ee)},restart:{key:"w:restart",value:Te},distance:{key:"w:distance",value:Be===void 0?void 0:twipsMeasureValue(Be)}}});class PageBordersAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class PageBorders extends IgnoreIfEmptyXmlComponent{constructor(Ee){if(super("w:pgBorders"),!Ee)return this;Ee.pageBorders?this.root.push(new PageBordersAttributes({display:Ee.pageBorders.display,offsetFrom:Ee.pageBorders.offsetFrom,zOrder:Ee.pageBorders.zOrder})):this.root.push(new PageBordersAttributes({})),Ee.pageBorderTop&&this.root.push(new BorderElement("w:top",Ee.pageBorderTop)),Ee.pageBorderLeft&&this.root.push(new BorderElement("w:left",Ee.pageBorderLeft)),Ee.pageBorderBottom&&this.root.push(new BorderElement("w:bottom",Ee.pageBorderBottom)),Ee.pageBorderRight&&this.root.push(new BorderElement("w:right",Ee.pageBorderRight))}}class PageMargin extends XmlComponent{constructor(Ee,Te,Be,Re,Me,Ue,De){super("w:pgMar"),this.root.push(new NextAttributeComponent({top:{key:"w:top",value:signedTwipsMeasureValue(Ee)},right:{key:"w:right",value:twipsMeasureValue(Te)},bottom:{key:"w:bottom",value:signedTwipsMeasureValue(Be)},left:{key:"w:left",value:twipsMeasureValue(Re)},header:{key:"w:header",value:twipsMeasureValue(Me)},footer:{key:"w:footer",value:twipsMeasureValue(Ue)},gutter:{key:"w:gutter",value:twipsMeasureValue(De)}}))}}class PageNumberTypeAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class PageNumberType extends XmlComponent{constructor({start:Ee,formatType:Te,separator:Be}){super("w:pgNumType"),this.root.push(new PageNumberTypeAttributes({start:Ee===void 0?void 0:decimalNumber(Ee),formatType:Te,separator:Be}))}}const PageOrientation={PORTRAIT:"portrait",LANDSCAPE:"landscape"},createPageSize=({width:Ce,height:Ee,orientation:Te,code:Be})=>{const Re=twipsMeasureValue(Ce),Me=twipsMeasureValue(Ee);return new BuilderElement({name:"w:pgSz",attributes:{width:{key:"w:w",value:Te===PageOrientation.LANDSCAPE?Me:Re},height:{key:"w:h",value:Te===PageOrientation.LANDSCAPE?Re:Me},orientation:{key:"w:orient",value:Te},code:{key:"w:code",value:Be}}})};class PageTextDirectionAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class PageTextDirection extends XmlComponent{constructor(Ee){super("w:textDirection"),this.root.push(new PageTextDirectionAttributes({val:Ee}))}}class SectionTypeAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class Type extends XmlComponent{constructor(Ee){super("w:type"),this.root.push(new SectionTypeAttributes({val:Ee}))}}const sectionMarginDefaults={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},sectionPageSizeDefaults={WIDTH:11906,HEIGHT:16838,ORIENTATION:PageOrientation.PORTRAIT};class SectionProperties extends XmlComponent{constructor({page:{size:{width:Ee=sectionPageSizeDefaults.WIDTH,height:Te=sectionPageSizeDefaults.HEIGHT,orientation:Be=sectionPageSizeDefaults.ORIENTATION}={},margin:{top:Re=sectionMarginDefaults.TOP,right:Me=sectionMarginDefaults.RIGHT,bottom:Ue=sectionMarginDefaults.BOTTOM,left:De=sectionMarginDefaults.LEFT,header:qe=sectionMarginDefaults.HEADER,footer:$e=sectionMarginDefaults.FOOTER,gutter:ze=sectionMarginDefaults.GUTTER}={},pageNumbers:Xe={},borders:We,textDirection:Ge}={},grid:{linePitch:tn=360,charSpace:en,type:an}={},headerWrapperGroup:Ye={},footerWrapperGroup:Ze={},lineNumbers:St,titlePage:Qe,verticalAlign:Je,column:on,type:hn}={}){super("w:sectPr"),this.addHeaderFooterGroup(HeaderFooterType.HEADER,Ye),this.addHeaderFooterGroup(HeaderFooterType.FOOTER,Ze),hn&&this.root.push(new Type(hn)),this.root.push(createPageSize({width:Ee,height:Te,orientation:Be})),this.root.push(new PageMargin(Re,Me,Ue,De,qe,$e,ze)),We&&this.root.push(new PageBorders(We)),St&&this.root.push(createLineNumberType(St)),this.root.push(new PageNumberType(Xe)),on&&this.root.push(new Columns(on)),Je&&this.root.push(new VerticalAlignElement(Je)),Qe!==void 0&&this.root.push(new OnOffElement("w:titlePg",Qe)),Ge&&this.root.push(new PageTextDirection(Ge)),this.root.push(createDocumentGrid({linePitch:tn,charSpace:en,type:an}))}addHeaderFooterGroup(Ee,Te){Te.default&&this.root.push(new HeaderFooterReference(Ee,{type:HeaderFooterReferenceType.DEFAULT,id:Te.default.View.ReferenceId})),Te.first&&this.root.push(new HeaderFooterReference(Ee,{type:HeaderFooterReferenceType.FIRST,id:Te.first.View.ReferenceId})),Te.even&&this.root.push(new HeaderFooterReference(Ee,{type:HeaderFooterReferenceType.EVEN,id:Te.even.View.ReferenceId}))}}class Body extends XmlComponent{constructor(){super("w:body"),__publicField(this,"sections",[])}addSection(Ee){const Te=this.sections.pop();this.root.push(this.createSectionParagraph(Te)),this.sections.push(new SectionProperties(Ee))}prepForXml(Ee){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(Ee)}push(Ee){this.root.push(Ee)}createSectionParagraph(Ee){const Te=new Paragraph({}),Be=new ParagraphProperties({});return Be.push(Ee),Te.addChildElement(Be),Te}}const DocumentAttributeNamespaces={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class DocumentAttributes extends XmlAttributeComponent{constructor(Ee,Te){super(__spreadValues({Ignorable:Te},Object.fromEntries(Ee.map(Be=>[Be,DocumentAttributeNamespaces[Be]])))),__publicField(this,"xmlKeys",__spreadValues({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(DocumentAttributeNamespaces).map(Be=>[Be,`xmlns:${Be}`]))))}}class DocumentBackgroundAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class DocumentBackground extends XmlComponent{constructor(Ee){super("w:background"),this.root.push(new DocumentBackgroundAttributes({color:Ee.color===void 0?void 0:hexColorValue(Ee.color),themeColor:Ee.themeColor,themeShade:Ee.themeShade===void 0?void 0:uCharHexNumber(Ee.themeShade),themeTint:Ee.themeTint===void 0?void 0:uCharHexNumber(Ee.themeTint)}))}}let Document$1=class extends XmlComponent{constructor(Ee){super("w:document"),__publicField(this,"body"),this.root.push(new DocumentAttributes(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Body,Ee.background&&this.root.push(new DocumentBackground(Ee.background)),this.root.push(this.body)}add(Ee){return this.body.push(Ee),this}get Body(){return this.body}};class DocumentWrapper{constructor(Ee){__publicField(this,"document"),__publicField(this,"relationships"),this.document=new Document$1(Ee),this.relationships=new Relationships}get View(){return this.document}get Relationships(){return this.relationships}}class WordWrapAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class WordWrap extends XmlComponent{constructor(){super("w:wordWrap"),this.root.push(new WordWrapAttributes({val:0}))}}const createFrameProperties=Ce=>{var Ee,Te;return new BuilderElement({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:Ce.anchorLock},dropCap:{key:"w:dropCap",value:Ce.dropCap},width:{key:"w:w",value:Ce.width},height:{key:"w:h",value:Ce.height},x:{key:"w:x",value:Ce.position?Ce.position.x:void 0},y:{key:"w:y",value:Ce.position?Ce.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:Ce.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:Ce.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(Ee=Ce.space)==null?void 0:Ee.horizontal},spaceVertical:{key:"w:vSpace",value:(Te=Ce.space)==null?void 0:Te.vertical},rule:{key:"w:hRule",value:Ce.rule},alignmentX:{key:"w:xAlign",value:Ce.alignment?Ce.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:Ce.alignment?Ce.alignment.y:void 0},lines:{key:"w:lines",value:Ce.lines},wrap:{key:"w:wrap",value:Ce.wrap}}})};class ParagraphProperties extends IgnoreIfEmptyXmlComponent{constructor(Ee){var Te,Be;if(super("w:pPr"),__publicField(this,"numberingReferences",[]),!Ee)return this;Ee.heading&&this.push(new Style$1(Ee.heading)),Ee.bullet&&this.push(new Style$1("ListParagraph")),Ee.numbering&&!Ee.style&&!Ee.heading&&(Ee.numbering.custom||this.push(new Style$1("ListParagraph"))),Ee.style&&this.push(new Style$1(Ee.style)),Ee.keepNext!==void 0&&this.push(new OnOffElement("w:keepNext",Ee.keepNext)),Ee.keepLines!==void 0&&this.push(new OnOffElement("w:keepLines",Ee.keepLines)),Ee.pageBreakBefore&&this.push(new PageBreakBefore),Ee.frame&&this.push(createFrameProperties(Ee.frame)),Ee.widowControl!==void 0&&this.push(new OnOffElement("w:widowControl",Ee.widowControl)),Ee.bullet&&this.push(new NumberProperties(1,Ee.bullet.level)),Ee.numbering?(this.numberingReferences.push({reference:Ee.numbering.reference,instance:(Te=Ee.numbering.instance)!=null?Te:0}),this.push(new NumberProperties(`${Ee.numbering.reference}-${(Be=Ee.numbering.instance)!=null?Be:0}`,Ee.numbering.level))):Ee.numbering===!1&&this.push(new NumberProperties(0,0)),Ee.border&&this.push(new Border(Ee.border)),Ee.thematicBreak&&this.push(new ThematicBreak),Ee.shading&&this.push(new Shading(Ee.shading)),Ee.wordWrap&&this.push(new WordWrap),Ee.overflowPunctuation&&this.push(new OnOffElement("w:overflowPunct",Ee.overflowPunctuation));const Re=[...Ee.rightTabStop!==void 0?[{type:TabStopType.RIGHT,position:Ee.rightTabStop}]:[],...Ee.tabStops?Ee.tabStops:[],...Ee.leftTabStop!==void 0?[{type:TabStopType.LEFT,position:Ee.leftTabStop}]:[]];Re.length>0&&this.push(new TabStop(Re)),Ee.bidirectional!==void 0&&this.push(new OnOffElement("w:bidi",Ee.bidirectional)),Ee.spacing&&this.push(new Spacing(Ee.spacing)),Ee.indent&&this.push(new Indent(Ee.indent)),Ee.contextualSpacing!==void 0&&this.push(new OnOffElement("w:contextualSpacing",Ee.contextualSpacing)),Ee.alignment&&this.push(new Alignment(Ee.alignment)),Ee.outlineLevel!==void 0&&this.push(new OutlineLevel(Ee.outlineLevel)),Ee.suppressLineNumbers!==void 0&&this.push(new OnOffElement("w:suppressLineNumbers",Ee.suppressLineNumbers)),Ee.autoSpaceEastAsianText!==void 0&&this.push(new OnOffElement("w:autoSpaceDN",Ee.autoSpaceEastAsianText)),Ee.run&&this.push(new RunProperties(Ee.run))}push(Ee){this.root.push(Ee)}prepForXml(Ee){if(Ee.viewWrapper instanceof DocumentWrapper)for(const Te of this.numberingReferences)Ee.file.Numbering.createConcreteNumberingInstance(Te.reference,Te.instance);return super.prepForXml(Ee)}}class Paragraph extends FileChild{constructor(Ee){if(super("w:p"),__publicField(this,"properties"),typeof Ee=="string")return this.properties=new ParagraphProperties({}),this.root.push(this.properties),this.root.push(new TextRun(Ee)),this;if(this.properties=new ParagraphProperties(Ee),this.root.push(this.properties),Ee.text&&this.root.push(new TextRun(Ee.text)),Ee.children)for(const Te of Ee.children){if(Te instanceof Bookmark){this.root.push(Te.start);for(const Be of Te.children)this.root.push(Be);this.root.push(Te.end);continue}this.root.push(Te)}}prepForXml(Ee){for(const Te of this.root)if(Te instanceof ExternalHyperlink){const Be=this.root.indexOf(Te),Re=new ConcreteHyperlink(Te.options.children,uniqueId());Ee.viewWrapper.Relationships.createRelationship(Re.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Te.options.link,TargetModeType.EXTERNAL),this.root[Be]=Re}return super.prepForXml(Ee)}addRunToFront(Ee){return this.root.splice(1,0,Ee),this}}const NONE_BORDER={style:BorderStyle.NONE,size:0,color:"auto"},DEFAULT_BORDER={style:BorderStyle.SINGLE,size:4,color:"auto"};class TableBorders extends XmlComponent{constructor(Ee){super("w:tblBorders"),Ee.top?this.root.push(new BorderElement("w:top",Ee.top)):this.root.push(new BorderElement("w:top",DEFAULT_BORDER)),Ee.left?this.root.push(new BorderElement("w:left",Ee.left)):this.root.push(new BorderElement("w:left",DEFAULT_BORDER)),Ee.bottom?this.root.push(new BorderElement("w:bottom",Ee.bottom)):this.root.push(new BorderElement("w:bottom",DEFAULT_BORDER)),Ee.right?this.root.push(new BorderElement("w:right",Ee.right)):this.root.push(new BorderElement("w:right",DEFAULT_BORDER)),Ee.insideHorizontal?this.root.push(new BorderElement("w:insideH",Ee.insideHorizontal)):this.root.push(new BorderElement("w:insideH",DEFAULT_BORDER)),Ee.insideVertical?this.root.push(new BorderElement("w:insideV",Ee.insideVertical)):this.root.push(new BorderElement("w:insideV",DEFAULT_BORDER))}}__publicField(TableBorders,"NONE",{top:NONE_BORDER,bottom:NONE_BORDER,left:NONE_BORDER,right:NONE_BORDER,insideHorizontal:NONE_BORDER,insideVertical:NONE_BORDER});class AppPropertiesAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class AppProperties extends XmlComponent{constructor(){super("Properties"),this.root.push(new AppPropertiesAttributes({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class ContentTypeAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{xmlns:"xmlns"})}}class DefaultAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Default extends XmlComponent{constructor(Ee,Te){super("Default"),this.root.push(new DefaultAttributes({contentType:Ee,extension:Te}))}}class OverrideAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Override extends XmlComponent{constructor(Ee,Te){super("Override"),this.root.push(new OverrideAttributes({contentType:Ee,partName:Te}))}}class ContentTypes extends XmlComponent{constructor(){super("Types"),this.root.push(new ContentTypeAttributes({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Default("image/png","png")),this.root.push(new Default("image/jpeg","jpeg")),this.root.push(new Default("image/jpeg","jpg")),this.root.push(new Default("image/bmp","bmp")),this.root.push(new Default("image/gif","gif")),this.root.push(new Default("image/svg+xml","svg")),this.root.push(new Default("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Default("application/xml","xml")),this.root.push(new Default("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Override("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(Ee){this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${Ee}.xml`))}addHeader(Ee){this.root.push(new Override("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${Ee}.xml`))}}class CoreProperties extends XmlComponent{constructor(Ee){super("cp:coreProperties"),this.root.push(new DocumentAttributes(["cp","dc","dcterms","dcmitype","xsi"])),Ee.title&&this.root.push(new StringContainer("dc:title",Ee.title)),Ee.subject&&this.root.push(new StringContainer("dc:subject",Ee.subject)),Ee.creator&&this.root.push(new StringContainer("dc:creator",Ee.creator)),Ee.keywords&&this.root.push(new StringContainer("cp:keywords",Ee.keywords)),Ee.description&&this.root.push(new StringContainer("dc:description",Ee.description)),Ee.lastModifiedBy&&this.root.push(new StringContainer("cp:lastModifiedBy",Ee.lastModifiedBy)),Ee.revision&&this.root.push(new StringContainer("cp:revision",String(Ee.revision))),this.root.push(new TimestampElement("dcterms:created")),this.root.push(new TimestampElement("dcterms:modified"))}}class TimestampElementProperties extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{type:"xsi:type"})}}class TimestampElement extends XmlComponent{constructor(Ee){super(Ee),this.root.push(new TimestampElementProperties({type:"dcterms:W3CDTF"})),this.root.push(dateTimeValue(new Date))}}class CustomPropertiesAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class CustomPropertyAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class CustomProperty extends XmlComponent{constructor(Ee,Te){super("property"),this.root.push(new CustomPropertyAttributes({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:Ee.toString(),name:Te.name})),this.root.push(new CustomPropertyValue(Te.value))}}class CustomPropertyValue extends XmlComponent{constructor(Ee){super("vt:lpwstr"),this.root.push(Ee)}}class CustomProperties extends XmlComponent{constructor(Ee){super("Properties"),__publicField(this,"nextId"),__publicField(this,"properties",[]),this.root.push(new CustomPropertiesAttributes({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const Te of Ee)this.addCustomProperty(Te)}prepForXml(Ee){return this.properties.forEach(Te=>this.root.push(Te)),super.prepForXml(Ee)}addCustomProperty(Ee){this.properties.push(new CustomProperty(this.nextId++,Ee))}}const createFontRelationship=({id:Ce,fontKey:Ee,subsetted:Te},Be)=>new BuilderElement({name:Be,attributes:__spreadValues({id:{key:"r:id",value:Ce}},Ee?{fontKey:{key:"w:fontKey",value:`{${Ee}}`}}:{}),children:[...Te?[new OnOffElement("w:subsetted",Te)]:[]]}),createFont=({name:Ce,altName:Ee,panose1:Te,charset:Be,family:Re,notTrueType:Me,pitch:Ue,sig:De,embedRegular:qe,embedBold:$e,embedItalic:ze,embedBoldItalic:Xe})=>new BuilderElement({name:"w:font",attributes:{name:{key:"w:name",value:Ce}},children:[...Ee?[createStringElement("w:altName",Ee)]:[],...Te?[createStringElement("w:panose1",Te)]:[],...Be?[createStringElement("w:charset",Be)]:[],createStringElement("w:family",Re),...Me?[new OnOffElement("w:notTrueType",Me)]:[],createStringElement("w:pitch",Ue),...De?[new BuilderElement({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:De.usb0},usb1:{key:"w:usb1",value:De.usb1},usb2:{key:"w:usb2",value:De.usb2},usb3:{key:"w:usb3",value:De.usb3},csb0:{key:"w:csb0",value:De.csb0},csb1:{key:"w:csb1",value:De.csb1}}})]:[],...qe?[createFontRelationship(qe,"w:embedRegular")]:[],...$e?[createFontRelationship($e,"w:embedBold")]:[],...ze?[createFontRelationship(ze,"w:embedItalic")]:[],...Xe?[createFontRelationship(Xe,"w:embedBoldItalic")]:[]]}),createRegularFont=({name:Ce,index:Ee,fontKey:Te,characterSet:Be})=>createFont({name:Ce,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:Be,family:"auto",pitch:"variable",embedRegular:{fontKey:Te,id:`rId${Ee}`}}),createFontTable=Ce=>new BuilderElement({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:Ce.map((Ee,Te)=>createRegularFont({name:Ee.name,index:Te+1,fontKey:Ee.fontKey}))});class FontWrapper{constructor(Ee){__publicField(this,"fontTable"),__publicField(this,"relationships"),__publicField(this,"fontOptionsWithKey",[]),this.options=Ee,this.fontOptionsWithKey=Ee.map(Te=>__spreadProps(__spreadValues({},Te),{fontKey:uniqueUuid()})),this.fontTable=createFontTable(this.fontOptionsWithKey),this.relationships=new Relationships;for(let Te=0;Te<Ee.length;Te++)this.relationships.createRelationship(Te+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${Ee[Te].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class FooterAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Footer$1=class extends InitializableXmlComponent{constructor(Ee,Te){super("w:ftr",Te),__publicField(this,"refId"),this.refId=Ee,Te||this.root.push(new FooterAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(Ee){this.root.push(Ee)}};class FooterWrapper{constructor(Ee,Te,Be){__publicField(this,"footer"),__publicField(this,"relationships"),this.media=Ee,this.footer=new Footer$1(Te,Be),this.relationships=new Relationships}add(Ee){this.footer.add(Ee)}addChildElement(Ee){this.footer.addChildElement(Ee)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class FootnoteAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class FootnoteRef extends XmlComponent{constructor(){super("w:footnoteRef")}}class FootnoteRefRun extends Run{constructor(){super({style:"FootnoteReference"}),this.root.push(new FootnoteRef)}}const FootnoteType={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Footnote extends XmlComponent{constructor(Ee){super("w:footnote"),this.root.push(new FootnoteAttributes({type:Ee.type,id:Ee.id}));for(let Te=0;Te<Ee.children.length;Te++){const Be=Ee.children[Te];Te===0&&Be.addRunToFront(new FootnoteRefRun),this.root.push(Be)}}}class ContinuationSeperator extends XmlComponent{constructor(){super("w:continuationSeparator")}}class ContinuationSeperatorRun extends Run{constructor(){super({}),this.root.push(new ContinuationSeperator)}}class Seperator extends XmlComponent{constructor(){super("w:separator")}}class SeperatorRun extends Run{constructor(){super({}),this.root.push(new Seperator)}}class FootnotesAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class FootNotes extends XmlComponent{constructor(){super("w:footnotes"),this.root.push(new FootnotesAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const Ee=new Footnote({id:-1,type:FootnoteType.SEPERATOR,children:[new Paragraph({spacing:{after:0,line:240,lineRule:LineRuleType.AUTO},children:[new SeperatorRun]})]});this.root.push(Ee);const Te=new Footnote({id:0,type:FootnoteType.CONTINUATION_SEPERATOR,children:[new Paragraph({spacing:{after:0,line:240,lineRule:LineRuleType.AUTO},children:[new ContinuationSeperatorRun]})]});this.root.push(Te)}createFootNote(Ee,Te){const Be=new Footnote({id:Ee,children:Te});this.root.push(Be)}}class FootnotesWrapper{constructor(){__publicField(this,"footnotess"),__publicField(this,"relationships"),this.footnotess=new FootNotes,this.relationships=new Relationships}get View(){return this.footnotess}get Relationships(){return this.relationships}}class HeaderAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Header$1=class extends InitializableXmlComponent{constructor(Ee,Te){super("w:hdr",Te),__publicField(this,"refId"),this.refId=Ee,Te||this.root.push(new HeaderAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(Ee){this.root.push(Ee)}};class HeaderWrapper{constructor(Ee,Te,Be){__publicField(this,"header"),__publicField(this,"relationships"),this.media=Ee,this.header=new Header$1(Te,Be),this.relationships=new Relationships}add(Ee){return this.header.add(Ee),this}addChildElement(Ee){this.header.addChildElement(Ee)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Media{constructor(){__publicField(this,"map"),this.map=new Map}addImage(Ee,Te){this.map.set(Ee,Te)}get Array(){return Array.from(this.map.values())}}const LevelFormat={BULLET:"bullet"};class LevelAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class NumberFormat extends XmlComponent{constructor(Ee){super("w:numFmt"),this.root.push(new Attributes({val:Ee}))}}class LevelText extends XmlComponent{constructor(Ee){super("w:lvlText"),this.root.push(new Attributes({val:Ee}))}}class LevelJc extends XmlComponent{constructor(Ee){super("w:lvlJc"),this.root.push(new Attributes({val:Ee}))}}class Suffix extends XmlComponent{constructor(Ee){super("w:suff"),this.root.push(new Attributes({val:Ee}))}}class IsLegalNumberingStyle extends XmlComponent{constructor(){super("w:isLgl")}}class LevelBase extends XmlComponent{constructor({level:Ee,format:Te,text:Be,alignment:Re=AlignmentType.START,start:Me=1,style:Ue,suffix:De,isLegalNumberingStyle:qe}){if(super("w:lvl"),__publicField(this,"paragraphProperties"),__publicField(this,"runProperties"),this.root.push(new NumberValueElement("w:start",decimalNumber(Me))),Te&&this.root.push(new NumberFormat(Te)),De&&this.root.push(new Suffix(De)),qe&&this.root.push(new IsLegalNumberingStyle),Be&&this.root.push(new LevelText(Be)),this.root.push(new LevelJc(Re)),this.paragraphProperties=new ParagraphProperties(Ue&&Ue.paragraph),this.runProperties=new RunProperties(Ue&&Ue.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),Ee>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new LevelAttributes({ilvl:decimalNumber(Ee),tentative:1}))}}class Level extends LevelBase{}class MultiLevelType extends XmlComponent{constructor(Ee){super("w:multiLevelType"),this.root.push(new Attributes({val:Ee}))}}class AbstractNumberingAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class AbstractNumbering extends XmlComponent{constructor(Ee,Te){super("w:abstractNum"),__publicField(this,"id"),this.root.push(new AbstractNumberingAttributes({abstractNumId:decimalNumber(Ee),restartNumberingAfterBreak:0})),this.root.push(new MultiLevelType("hybridMultilevel")),this.id=Ee;for(const Be of Te)this.root.push(new Level(Be))}}class AbstractNumId extends XmlComponent{constructor(Ee){super("w:abstractNumId"),this.root.push(new Attributes({val:Ee}))}}class NumAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{numId:"w:numId"})}}class ConcreteNumbering extends XmlComponent{constructor(Ee){if(super("w:num"),__publicField(this,"numId"),__publicField(this,"reference"),__publicField(this,"instance"),this.numId=Ee.numId,this.reference=Ee.reference,this.instance=Ee.instance,this.root.push(new NumAttributes({numId:decimalNumber(Ee.numId)})),this.root.push(new AbstractNumId(decimalNumber(Ee.abstractNumId))),Ee.overrideLevels&&Ee.overrideLevels.length)for(const Te of Ee.overrideLevels)this.root.push(new LevelOverride(Te.num,Te.start))}}class LevelOverrideAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{ilvl:"w:ilvl"})}}class LevelOverride extends XmlComponent{constructor(Ee,Te){super("w:lvlOverride"),this.root.push(new LevelOverrideAttributes({ilvl:Ee})),Te!==void 0&&this.root.push(new StartOverride(Te))}}class StartOverrideAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class StartOverride extends XmlComponent{constructor(Ee){super("w:startOverride"),this.root.push(new StartOverrideAttributes({val:Ee}))}}class Numbering extends XmlComponent{constructor(Ee){super("w:numbering"),__publicField(this,"abstractNumberingMap",new Map),__publicField(this,"concreteNumberingMap",new Map),__publicField(this,"referenceConfigMap",new Map),__publicField(this,"abstractNumUniqueNumericId",abstractNumUniqueNumericIdGen()),__publicField(this,"concreteNumUniqueNumericId",concreteNumUniqueNumericIdGen()),this.root.push(new DocumentAttributes(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const Te=new AbstractNumbering(this.abstractNumUniqueNumericId(),[{level:0,format:LevelFormat.BULLET,text:"●",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:convertInchesToTwip(.5),hanging:convertInchesToTwip(.25)}}}},{level:1,format:LevelFormat.BULLET,text:"○",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:convertInchesToTwip(1),hanging:convertInchesToTwip(.25)}}}},{level:2,format:LevelFormat.BULLET,text:"■",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:2160,hanging:convertInchesToTwip(.25)}}}},{level:3,format:LevelFormat.BULLET,text:"●",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:2880,hanging:convertInchesToTwip(.25)}}}},{level:4,format:LevelFormat.BULLET,text:"○",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:3600,hanging:convertInchesToTwip(.25)}}}},{level:5,format:LevelFormat.BULLET,text:"■",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:4320,hanging:convertInchesToTwip(.25)}}}},{level:6,format:LevelFormat.BULLET,text:"●",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:5040,hanging:convertInchesToTwip(.25)}}}},{level:7,format:LevelFormat.BULLET,text:"●",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:5760,hanging:convertInchesToTwip(.25)}}}},{level:8,format:LevelFormat.BULLET,text:"●",alignment:AlignmentType.LEFT,style:{paragraph:{indent:{left:6480,hanging:convertInchesToTwip(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new ConcreteNumbering({numId:1,abstractNumId:Te.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",Te);for(const Be of Ee.config)this.abstractNumberingMap.set(Be.reference,new AbstractNumbering(this.abstractNumUniqueNumericId(),Be.levels)),this.referenceConfigMap.set(Be.reference,Be.levels)}prepForXml(Ee){for(const Te of this.abstractNumberingMap.values())this.root.push(Te);for(const Te of this.concreteNumberingMap.values())this.root.push(Te);return super.prepForXml(Ee)}createConcreteNumberingInstance(Ee,Te){const Be=this.abstractNumberingMap.get(Ee);if(!Be)return;const Re=`${Ee}-${Te}`;if(this.concreteNumberingMap.has(Re))return;const Me=this.referenceConfigMap.get(Ee),Ue=Me&&Me[0].start,De={numId:this.concreteNumUniqueNumericId(),abstractNumId:Be.id,reference:Ee,instance:Te,overrideLevels:[Ue&&Number.isInteger(Ue)?{num:0,start:Ue}:{num:0,start:1}]};this.concreteNumberingMap.set(Re,new ConcreteNumbering(De))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class CompatibilitySettingAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class CompatibilitySetting extends XmlComponent{constructor(Ee){super("w:compatSetting"),this.root.push(new CompatibilitySettingAttributes({version:Ee,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Compatibility extends XmlComponent{constructor(Ee){super("w:compat"),Ee.version&&this.root.push(new CompatibilitySetting(Ee.version)),Ee.useSingleBorderforContiguousCells&&this.root.push(new OnOffElement("w:useSingleBorderforContiguousCells",Ee.useSingleBorderforContiguousCells)),Ee.wordPerfectJustification&&this.root.push(new OnOffElement("w:wpJustification",Ee.wordPerfectJustification)),Ee.noTabStopForHangingIndent&&this.root.push(new OnOffElement("w:noTabHangInd",Ee.noTabStopForHangingIndent)),Ee.noLeading&&this.root.push(new OnOffElement("w:noLeading",Ee.noLeading)),Ee.spaceForUnderline&&this.root.push(new OnOffElement("w:spaceForUL",Ee.spaceForUnderline)),Ee.noColumnBalance&&this.root.push(new OnOffElement("w:noColumnBalance",Ee.noColumnBalance)),Ee.balanceSingleByteDoubleByteWidth&&this.root.push(new OnOffElement("w:balanceSingleByteDoubleByteWidth",Ee.balanceSingleByteDoubleByteWidth)),Ee.noExtraLineSpacing&&this.root.push(new OnOffElement("w:noExtraLineSpacing",Ee.noExtraLineSpacing)),Ee.doNotLeaveBackslashAlone&&this.root.push(new OnOffElement("w:doNotLeaveBackslashAlone",Ee.doNotLeaveBackslashAlone)),Ee.underlineTrailingSpaces&&this.root.push(new OnOffElement("w:ulTrailSpace",Ee.underlineTrailingSpaces)),Ee.doNotExpandShiftReturn&&this.root.push(new OnOffElement("w:doNotExpandShiftReturn",Ee.doNotExpandShiftReturn)),Ee.spacingInWholePoints&&this.root.push(new OnOffElement("w:spacingInWholePoints",Ee.spacingInWholePoints)),Ee.lineWrapLikeWord6&&this.root.push(new OnOffElement("w:lineWrapLikeWord6",Ee.lineWrapLikeWord6)),Ee.printBodyTextBeforeHeader&&this.root.push(new OnOffElement("w:printBodyTextBeforeHeader",Ee.printBodyTextBeforeHeader)),Ee.printColorsBlack&&this.root.push(new OnOffElement("w:printColBlack",Ee.printColorsBlack)),Ee.spaceWidth&&this.root.push(new OnOffElement("w:wpSpaceWidth",Ee.spaceWidth)),Ee.showBreaksInFrames&&this.root.push(new OnOffElement("w:showBreaksInFrames",Ee.showBreaksInFrames)),Ee.subFontBySize&&this.root.push(new OnOffElement("w:subFontBySize",Ee.subFontBySize)),Ee.suppressBottomSpacing&&this.root.push(new OnOffElement("w:suppressBottomSpacing",Ee.suppressBottomSpacing)),Ee.suppressTopSpacing&&this.root.push(new OnOffElement("w:suppressTopSpacing",Ee.suppressTopSpacing)),Ee.suppressSpacingAtTopOfPage&&this.root.push(new OnOffElement("w:suppressSpacingAtTopOfPage",Ee.suppressSpacingAtTopOfPage)),Ee.suppressTopSpacingWP&&this.root.push(new OnOffElement("w:suppressTopSpacingWP",Ee.suppressTopSpacingWP)),Ee.suppressSpBfAfterPgBrk&&this.root.push(new OnOffElement("w:suppressSpBfAfterPgBrk",Ee.suppressSpBfAfterPgBrk)),Ee.swapBordersFacingPages&&this.root.push(new OnOffElement("w:swapBordersFacingPages",Ee.swapBordersFacingPages)),Ee.convertMailMergeEsc&&this.root.push(new OnOffElement("w:convMailMergeEsc",Ee.convertMailMergeEsc)),Ee.truncateFontHeightsLikeWP6&&this.root.push(new OnOffElement("w:truncateFontHeightsLikeWP6",Ee.truncateFontHeightsLikeWP6)),Ee.macWordSmallCaps&&this.root.push(new OnOffElement("w:mwSmallCaps",Ee.macWordSmallCaps)),Ee.usePrinterMetrics&&this.root.push(new OnOffElement("w:usePrinterMetrics",Ee.usePrinterMetrics)),Ee.doNotSuppressParagraphBorders&&this.root.push(new OnOffElement("w:doNotSuppressParagraphBorders",Ee.doNotSuppressParagraphBorders)),Ee.wrapTrailSpaces&&this.root.push(new OnOffElement("w:wrapTrailSpaces",Ee.wrapTrailSpaces)),Ee.footnoteLayoutLikeWW8&&this.root.push(new OnOffElement("w:footnoteLayoutLikeWW8",Ee.footnoteLayoutLikeWW8)),Ee.shapeLayoutLikeWW8&&this.root.push(new OnOffElement("w:shapeLayoutLikeWW8",Ee.shapeLayoutLikeWW8)),Ee.alignTablesRowByRow&&this.root.push(new OnOffElement("w:alignTablesRowByRow",Ee.alignTablesRowByRow)),Ee.forgetLastTabAlignment&&this.root.push(new OnOffElement("w:forgetLastTabAlignment",Ee.forgetLastTabAlignment)),Ee.adjustLineHeightInTable&&this.root.push(new OnOffElement("w:adjustLineHeightInTable",Ee.adjustLineHeightInTable)),Ee.autoSpaceLikeWord95&&this.root.push(new OnOffElement("w:autoSpaceLikeWord95",Ee.autoSpaceLikeWord95)),Ee.noSpaceRaiseLower&&this.root.push(new OnOffElement("w:noSpaceRaiseLower",Ee.noSpaceRaiseLower)),Ee.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new OnOffElement("w:doNotUseHTMLParagraphAutoSpacing",Ee.doNotUseHTMLParagraphAutoSpacing)),Ee.layoutRawTableWidth&&this.root.push(new OnOffElement("w:layoutRawTableWidth",Ee.layoutRawTableWidth)),Ee.layoutTableRowsApart&&this.root.push(new OnOffElement("w:layoutTableRowsApart",Ee.layoutTableRowsApart)),Ee.useWord97LineBreakRules&&this.root.push(new OnOffElement("w:useWord97LineBreakRules",Ee.useWord97LineBreakRules)),Ee.doNotBreakWrappedTables&&this.root.push(new OnOffElement("w:doNotBreakWrappedTables",Ee.doNotBreakWrappedTables)),Ee.doNotSnapToGridInCell&&this.root.push(new OnOffElement("w:doNotSnapToGridInCell",Ee.doNotSnapToGridInCell)),Ee.selectFieldWithFirstOrLastCharacter&&this.root.push(new OnOffElement("w:selectFldWithFirstOrLastChar",Ee.selectFieldWithFirstOrLastCharacter)),Ee.applyBreakingRules&&this.root.push(new OnOffElement("w:applyBreakingRules",Ee.applyBreakingRules)),Ee.doNotWrapTextWithPunctuation&&this.root.push(new OnOffElement("w:doNotWrapTextWithPunct",Ee.doNotWrapTextWithPunctuation)),Ee.doNotUseEastAsianBreakRules&&this.root.push(new OnOffElement("w:doNotUseEastAsianBreakRules",Ee.doNotUseEastAsianBreakRules)),Ee.useWord2002TableStyleRules&&this.root.push(new OnOffElement("w:useWord2002TableStyleRules",Ee.useWord2002TableStyleRules)),Ee.growAutofit&&this.root.push(new OnOffElement("w:growAutofit",Ee.growAutofit)),Ee.useFELayout&&this.root.push(new OnOffElement("w:useFELayout",Ee.useFELayout)),Ee.useNormalStyleForList&&this.root.push(new OnOffElement("w:useNormalStyleForList",Ee.useNormalStyleForList)),Ee.doNotUseIndentAsNumberingTabStop&&this.root.push(new OnOffElement("w:doNotUseIndentAsNumberingTabStop",Ee.doNotUseIndentAsNumberingTabStop)),Ee.useAlternateEastAsianLineBreakRules&&this.root.push(new OnOffElement("w:useAltKinsokuLineBreakRules",Ee.useAlternateEastAsianLineBreakRules)),Ee.allowSpaceOfSameStyleInTable&&this.root.push(new OnOffElement("w:allowSpaceOfSameStyleInTable",Ee.allowSpaceOfSameStyleInTable)),Ee.doNotSuppressIndentation&&this.root.push(new OnOffElement("w:doNotSuppressIndentation",Ee.doNotSuppressIndentation)),Ee.doNotAutofitConstrainedTables&&this.root.push(new OnOffElement("w:doNotAutofitConstrainedTables",Ee.doNotAutofitConstrainedTables)),Ee.autofitToFirstFixedWidthCell&&this.root.push(new OnOffElement("w:autofitToFirstFixedWidthCell",Ee.autofitToFirstFixedWidthCell)),Ee.underlineTabInNumberingList&&this.root.push(new OnOffElement("w:underlineTabInNumList",Ee.underlineTabInNumberingList)),Ee.displayHangulFixedWidth&&this.root.push(new OnOffElement("w:displayHangulFixedWidth",Ee.displayHangulFixedWidth)),Ee.splitPgBreakAndParaMark&&this.root.push(new OnOffElement("w:splitPgBreakAndParaMark",Ee.splitPgBreakAndParaMark)),Ee.doNotVerticallyAlignCellWithSp&&this.root.push(new OnOffElement("w:doNotVertAlignCellWithSp",Ee.doNotVerticallyAlignCellWithSp)),Ee.doNotBreakConstrainedForcedTable&&this.root.push(new OnOffElement("w:doNotBreakConstrainedForcedTable",Ee.doNotBreakConstrainedForcedTable)),Ee.ignoreVerticalAlignmentInTextboxes&&this.root.push(new OnOffElement("w:doNotVertAlignInTxbx",Ee.ignoreVerticalAlignmentInTextboxes)),Ee.useAnsiKerningPairs&&this.root.push(new OnOffElement("w:useAnsiKerningPairs",Ee.useAnsiKerningPairs)),Ee.cachedColumnBalance&&this.root.push(new OnOffElement("w:cachedColBalance",Ee.cachedColumnBalance))}}class SettingsAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Settings extends XmlComponent{constructor(Ee){var Te,Be,Re,Me,Ue,De,qe,$e;super("w:settings"),this.root.push(new SettingsAttributes({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new OnOffElement("w:displayBackgroundShape",!0)),Ee.trackRevisions!==void 0&&this.root.push(new OnOffElement("w:trackRevisions",Ee.trackRevisions)),Ee.evenAndOddHeaders!==void 0&&this.root.push(new OnOffElement("w:evenAndOddHeaders",Ee.evenAndOddHeaders)),Ee.updateFields!==void 0&&this.root.push(new OnOffElement("w:updateFields",Ee.updateFields)),Ee.defaultTabStop!==void 0&&this.root.push(new NumberValueElement("w:defaultTabStop",Ee.defaultTabStop)),((Te=Ee.hyphenation)==null?void 0:Te.autoHyphenation)!==void 0&&this.root.push(new OnOffElement("w:autoHyphenation",Ee.hyphenation.autoHyphenation)),((Be=Ee.hyphenation)==null?void 0:Be.hyphenationZone)!==void 0&&this.root.push(new NumberValueElement("w:hyphenationZone",Ee.hyphenation.hyphenationZone)),((Re=Ee.hyphenation)==null?void 0:Re.consecutiveHyphenLimit)!==void 0&&this.root.push(new NumberValueElement("w:consecutiveHyphenLimit",Ee.hyphenation.consecutiveHyphenLimit)),((Me=Ee.hyphenation)==null?void 0:Me.doNotHyphenateCaps)!==void 0&&this.root.push(new OnOffElement("w:doNotHyphenateCaps",Ee.hyphenation.doNotHyphenateCaps)),this.root.push(new Compatibility(__spreadProps(__spreadValues({},(Ue=Ee.compatibility)!=null?Ue:{}),{version:($e=(qe=(De=Ee.compatibility)==null?void 0:De.version)!=null?qe:Ee.compatibilityModeVersion)!=null?$e:15})))}}class ComponentAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{val:"w:val"})}}class Name extends XmlComponent{constructor(Ee){super("w:name"),this.root.push(new ComponentAttributes({val:Ee}))}}class UiPriority extends XmlComponent{constructor(Ee){super("w:uiPriority"),this.root.push(new ComponentAttributes({val:decimalNumber(Ee)}))}}class StyleAttributes extends XmlAttributeComponent{constructor(){super(...arguments),__publicField(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class Style2 extends XmlComponent{constructor(Ee,Te){super("w:style"),this.root.push(new StyleAttributes(Ee)),Te.name&&this.root.push(new Name(Te.name)),Te.basedOn&&this.root.push(new StringValueElement("w:basedOn",Te.basedOn)),Te.next&&this.root.push(new StringValueElement("w:next",Te.next)),Te.link&&this.root.push(new StringValueElement("w:link",Te.link)),Te.uiPriority!==void 0&&this.root.push(new UiPriority(Te.uiPriority)),Te.semiHidden!==void 0&&this.root.push(new OnOffElement("w:semiHidden",Te.semiHidden)),Te.unhideWhenUsed!==void 0&&this.root.push(new OnOffElement("w:unhideWhenUsed",Te.unhideWhenUsed)),Te.quickFormat!==void 0&&this.root.push(new OnOffElement("w:qFormat",Te.quickFormat))}}class StyleForParagraph extends Style2{constructor(Ee){super({type:"paragraph",styleId:Ee.id},Ee),__publicField(this,"paragraphProperties"),__publicField(this,"runProperties"),this.paragraphProperties=new ParagraphProperties(Ee.paragraph),this.runProperties=new RunProperties(Ee.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class StyleForCharacter extends Style2{constructor(Ee){super({type:"character",styleId:Ee.id},__spreadValues({uiPriority:99,unhideWhenUsed:!0},Ee)),__publicField(this,"runProperties"),this.runProperties=new RunProperties(Ee.run),this.root.push(this.runProperties)}}class HeadingStyle extends StyleForParagraph{constructor(Ee){super(__spreadValues({basedOn:"Normal",next:"Normal",quickFormat:!0},Ee))}}class TitleStyle extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Title",name:"Title"},Ee))}}class Heading1Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading1",name:"Heading 1"},Ee))}}class Heading2Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading2",name:"Heading 2"},Ee))}}class Heading3Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading3",name:"Heading 3"},Ee))}}class Heading4Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading4",name:"Heading 4"},Ee))}}class Heading5Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading5",name:"Heading 5"},Ee))}}class Heading6Style extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Heading6",name:"Heading 6"},Ee))}}class StrongStyle extends HeadingStyle{constructor(Ee){super(__spreadValues({id:"Strong",name:"Strong"},Ee))}}class ListParagraph extends StyleForParagraph{constructor(Ee){super(__spreadValues({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},Ee))}}class FootnoteText extends StyleForParagraph{constructor(Ee){super(__spreadValues({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:LineRuleType.AUTO}},run:{size:20}},Ee))}}class FootnoteReferenceStyle extends StyleForCharacter{constructor(Ee){super(__spreadValues({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},Ee))}}class FootnoteTextChar extends StyleForCharacter{constructor(Ee){super(__spreadValues({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},Ee))}}class HyperlinkStyle extends StyleForCharacter{constructor(Ee){super(__spreadValues({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:UnderlineType.SINGLE}}},Ee))}}class Styles extends XmlComponent{constructor(Ee){if(super("w:styles"),Ee.initialStyles&&this.root.push(Ee.initialStyles),Ee.importedStyles)for(const Te of Ee.importedStyles)this.root.push(Te);if(Ee.paragraphStyles)for(const Te of Ee.paragraphStyles)this.root.push(new StyleForParagraph(Te));if(Ee.characterStyles)for(const Te of Ee.characterStyles)this.root.push(new StyleForCharacter(Te))}}class ParagraphPropertiesDefaults extends XmlComponent{constructor(Ee){super("w:pPrDefault"),this.root.push(new ParagraphProperties(Ee))}}class RunPropertiesDefaults extends XmlComponent{constructor(Ee){super("w:rPrDefault"),this.root.push(new RunProperties(Ee))}}class DocumentDefaults extends XmlComponent{constructor(Ee){super("w:docDefaults"),__publicField(this,"runPropertiesDefaults"),__publicField(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new RunPropertiesDefaults(Ee.run),this.paragraphPropertiesDefaults=new ParagraphPropertiesDefaults(Ee.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class ExternalStylesFactory{newInstance(Ee){const Te=libExports.xml2js(Ee,{compact:!1});let Be;for(const Ue of Te.elements||[])Ue.name==="w:styles"&&(Be=Ue);if(Be===void 0)throw new Error("can not find styles element");const Re=Be.elements||[];return new Styles({initialStyles:new ImportedRootElementAttributes(Be.attributes),importedStyles:Re.map(Ue=>convertToXmlComponent(Ue))})}}class DefaultStylesFactory{newInstance(Ee={}){var Te;return{initialStyles:new DocumentAttributes(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new DocumentDefaults((Te=Ee.document)!=null?Te:{}),new TitleStyle(__spreadValues({run:{size:56}},Ee.title)),new Heading1Style(__spreadValues({run:{color:"2E74B5",size:32}},Ee.heading1)),new Heading2Style(__spreadValues({run:{color:"2E74B5",size:26}},Ee.heading2)),new Heading3Style(__spreadValues({run:{color:"1F4D78",size:24}},Ee.heading3)),new Heading4Style(__spreadValues({run:{color:"2E74B5",italics:!0}},Ee.heading4)),new Heading5Style(__spreadValues({run:{color:"2E74B5"}},Ee.heading5)),new Heading6Style(__spreadValues({run:{color:"1F4D78"}},Ee.heading6)),new StrongStyle(__spreadValues({run:{bold:!0}},Ee.strong)),new ListParagraph(Ee.listParagraph||{}),new HyperlinkStyle(Ee.hyperlink||{}),new FootnoteReferenceStyle(Ee.footnoteReference||{}),new FootnoteText(Ee.footnoteText||{}),new FootnoteTextChar(Ee.footnoteTextChar||{})]}}}let File$1=class{constructor(Ee){__publicField(this,"currentRelationshipId",1),__publicField(this,"documentWrapper"),__publicField(this,"headers",[]),__publicField(this,"footers",[]),__publicField(this,"coreProperties"),__publicField(this,"numbering"),__publicField(this,"media"),__publicField(this,"fileRelationships"),__publicField(this,"footnotesWrapper"),__publicField(this,"settings"),__publicField(this,"contentTypes"),__publicField(this,"customProperties"),__publicField(this,"appProperties"),__publicField(this,"styles"),__publicField(this,"comments"),__publicField(this,"fontWrapper");var Te,Be,Re,Me,Ue,De,qe,$e,ze,Xe,We,Ge;if(this.coreProperties=new CoreProperties(__spreadProps(__spreadValues({},Ee),{creator:(Te=Ee.creator)!=null?Te:"Un-named",revision:(Be=Ee.revision)!=null?Be:1,lastModifiedBy:(Re=Ee.lastModifiedBy)!=null?Re:"Un-named"})),this.numbering=new Numbering(Ee.numbering?Ee.numbering:{config:[]}),this.comments=new Comments((Me=Ee.comments)!=null?Me:{children:[]}),this.fileRelationships=new Relationships,this.customProperties=new CustomProperties((Ue=Ee.customProperties)!=null?Ue:[]),this.appProperties=new AppProperties,this.footnotesWrapper=new FootnotesWrapper,this.contentTypes=new ContentTypes,this.documentWrapper=new DocumentWrapper({background:Ee.background}),this.settings=new Settings({compatibilityModeVersion:Ee.compatabilityModeVersion,compatibility:Ee.compatibility,evenAndOddHeaders:!!Ee.evenAndOddHeaderAndFooters,trackRevisions:(De=Ee.features)==null?void 0:De.trackRevisions,updateFields:(qe=Ee.features)==null?void 0:qe.updateFields,defaultTabStop:Ee.defaultTabStop,hyphenation:{autoHyphenation:($e=Ee.hyphenation)==null?void 0:$e.autoHyphenation,hyphenationZone:(ze=Ee.hyphenation)==null?void 0:ze.hyphenationZone,consecutiveHyphenLimit:(Xe=Ee.hyphenation)==null?void 0:Xe.consecutiveHyphenLimit,doNotHyphenateCaps:(We=Ee.hyphenation)==null?void 0:We.doNotHyphenateCaps}}),this.media=new Media,Ee.externalStyles!==void 0){const tn=new ExternalStylesFactory;this.styles=tn.newInstance(Ee.externalStyles)}else if(Ee.styles){const en=new DefaultStylesFactory().newInstance(Ee.styles.default);this.styles=new Styles(__spreadValues(__spreadValues({},en),Ee.styles))}else{const tn=new DefaultStylesFactory;this.styles=new Styles(tn.newInstance())}this.addDefaultRelationships();for(const tn of Ee.sections)this.addSection(tn);if(Ee.footnotes)for(const tn in Ee.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(tn),Ee.footnotes[tn].children);this.fontWrapper=new FontWrapper((Ge=Ee.fonts)!=null?Ge:[])}addSection({headers:Ee={},footers:Te={},children:Be,properties:Re}){this.documentWrapper.View.Body.addSection(__spreadProps(__spreadValues({},Re),{headerWrapperGroup:{default:Ee.default?this.createHeader(Ee.default):void 0,first:Ee.first?this.createHeader(Ee.first):void 0,even:Ee.even?this.createHeader(Ee.even):void 0},footerWrapperGroup:{default:Te.default?this.createFooter(Te.default):void 0,first:Te.first?this.createFooter(Te.first):void 0,even:Te.even?this.createFooter(Te.even):void 0}}));for(const Me of Be)this.documentWrapper.View.add(Me)}createHeader(Ee){const Te=new HeaderWrapper(this.media,this.currentRelationshipId++);for(const Be of Ee.options.children)Te.add(Be);return this.addHeaderToDocument(Te),Te}createFooter(Ee){const Te=new FooterWrapper(this.media,this.currentRelationshipId++);for(const Be of Ee.options.children)Te.add(Be);return this.addFooterToDocument(Te),Te}addHeaderToDocument(Ee,Te=HeaderFooterReferenceType.DEFAULT){this.headers.push({header:Ee,type:Te}),this.documentWrapper.Relationships.createRelationship(Ee.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(Ee,Te=HeaderFooterReferenceType.DEFAULT){this.footers.push({footer:Ee,type:Te}),this.documentWrapper.Relationships.createRelationship(Ee.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(Ee=>Ee.header)}get Footers(){return this.footers.map(Ee=>Ee.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var streamBrowserifyExports=requireStreamBrowserify();function commonjsRequire(Ce){throw new Error('Could not dynamically require "'+Ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}},hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(Ce,Ee){(function(Te){Ce.exports=Te()})(function(){return(function Te(Be,Re,Me){function Ue($e,ze){if(!Re[$e]){if(!Be[$e]){var Xe=typeof commonjsRequire=="function"&&commonjsRequire;if(!ze&&Xe)return Xe($e,!0);if(De)return De($e,!0);var We=new Error("Cannot find module '"+$e+"'");throw We.code="MODULE_NOT_FOUND",We}var Ge=Re[$e]={exports:{}};Be[$e][0].call(Ge.exports,function(tn){var en=Be[$e][1][tn];return Ue(en||tn)},Ge,Ge.exports,Te,Be,Re,Me)}return Re[$e].exports}for(var De=typeof commonjsRequire=="function"&&commonjsRequire,qe=0;qe<Me.length;qe++)Ue(Me[qe]);return Ue})({1:[function(Te,Be,Re){var Me=Te("./utils"),Ue=Te("./support"),De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Re.encode=function(qe){for(var $e,ze,Xe,We,Ge,tn,en,an=[],Ye=0,Ze=qe.length,St=Ze,Qe=Me.getTypeOf(qe)!=="string";Ye<qe.length;)St=Ze-Ye,Xe=Qe?($e=qe[Ye++],ze=Ye<Ze?qe[Ye++]:0,Ye<Ze?qe[Ye++]:0):($e=qe.charCodeAt(Ye++),ze=Ye<Ze?qe.charCodeAt(Ye++):0,Ye<Ze?qe.charCodeAt(Ye++):0),We=$e>>2,Ge=(3&$e)<<4|ze>>4,tn=1<St?(15&ze)<<2|Xe>>6:64,en=2<St?63&Xe:64,an.push(De.charAt(We)+De.charAt(Ge)+De.charAt(tn)+De.charAt(en));return an.join("")},Re.decode=function(qe){var $e,ze,Xe,We,Ge,tn,en=0,an=0,Ye="data:";if(qe.substr(0,Ye.length)===Ye)throw new Error("Invalid base64 input, it looks like a data url.");var Ze,St=3*(qe=qe.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(qe.charAt(qe.length-1)===De.charAt(64)&&St--,qe.charAt(qe.length-2)===De.charAt(64)&&St--,St%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Ze=Ue.uint8array?new Uint8Array(0|St):new Array(0|St);en<qe.length;)$e=De.indexOf(qe.charAt(en++))<<2|(We=De.indexOf(qe.charAt(en++)))>>4,ze=(15&We)<<4|(Ge=De.indexOf(qe.charAt(en++)))>>2,Xe=(3&Ge)<<6|(tn=De.indexOf(qe.charAt(en++))),Ze[an++]=$e,Ge!==64&&(Ze[an++]=ze),tn!==64&&(Ze[an++]=Xe);return Ze}},{"./support":30,"./utils":32}],2:[function(Te,Be,Re){var Me=Te("./external"),Ue=Te("./stream/DataWorker"),De=Te("./stream/Crc32Probe"),qe=Te("./stream/DataLengthProbe");function $e(ze,Xe,We,Ge,tn){this.compressedSize=ze,this.uncompressedSize=Xe,this.crc32=We,this.compression=Ge,this.compressedContent=tn}$e.prototype={getContentWorker:function(){var ze=new Ue(Me.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new qe("data_length")),Xe=this;return ze.on("end",function(){if(this.streamInfo.data_length!==Xe.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ze},getCompressedWorker:function(){return new Ue(Me.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},$e.createWorkerFrom=function(ze,Xe,We){return ze.pipe(new De).pipe(new qe("uncompressedSize")).pipe(Xe.compressWorker(We)).pipe(new qe("compressedSize")).withStreamInfo("compression",Xe)},Be.exports=$e},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Te,Be,Re){var Me=Te("./stream/GenericWorker");Re.STORE={magic:"\0\0",compressWorker:function(){return new Me("STORE compression")},uncompressWorker:function(){return new Me("STORE decompression")}},Re.DEFLATE=Te("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Te,Be,Re){var Me=Te("./utils"),Ue=(function(){for(var De,qe=[],$e=0;$e<256;$e++){De=$e;for(var ze=0;ze<8;ze++)De=1&De?3988292384^De>>>1:De>>>1;qe[$e]=De}return qe})();Be.exports=function(De,qe){return De!==void 0&&De.length?Me.getTypeOf(De)!=="string"?(function($e,ze,Xe,We){var Ge=Ue,tn=We+Xe;$e^=-1;for(var en=We;en<tn;en++)$e=$e>>>8^Ge[255&($e^ze[en])];return-1^$e})(0|qe,De,De.length,0):(function($e,ze,Xe,We){var Ge=Ue,tn=We+Xe;$e^=-1;for(var en=We;en<tn;en++)$e=$e>>>8^Ge[255&($e^ze.charCodeAt(en))];return-1^$e})(0|qe,De,De.length,0):0}},{"./utils":32}],5:[function(Te,Be,Re){Re.base64=!1,Re.binary=!1,Re.dir=!1,Re.createFolders=!0,Re.date=null,Re.compression=null,Re.compressionOptions=null,Re.comment=null,Re.unixPermissions=null,Re.dosPermissions=null},{}],6:[function(Te,Be,Re){var Me=null;Me=typeof Promise<"u"?Promise:Te("lie"),Be.exports={Promise:Me}},{lie:37}],7:[function(Te,Be,Re){var Me=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",Ue=Te("pako"),De=Te("./utils"),qe=Te("./stream/GenericWorker"),$e=Me?"uint8array":"array";function ze(Xe,We){qe.call(this,"FlateWorker/"+Xe),this._pako=null,this._pakoAction=Xe,this._pakoOptions=We,this.meta={}}Re.magic="\b\0",De.inherits(ze,qe),ze.prototype.processChunk=function(Xe){this.meta=Xe.meta,this._pako===null&&this._createPako(),this._pako.push(De.transformTo($e,Xe.data),!1)},ze.prototype.flush=function(){qe.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ze.prototype.cleanUp=function(){qe.prototype.cleanUp.call(this),this._pako=null},ze.prototype._createPako=function(){this._pako=new Ue[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Xe=this;this._pako.onData=function(We){Xe.push({data:We,meta:Xe.meta})}},Re.compressWorker=function(Xe){return new ze("Deflate",Xe)},Re.uncompressWorker=function(){return new ze("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Te,Be,Re){function Me(Ge,tn){var en,an="";for(en=0;en<tn;en++)an+=String.fromCharCode(255&Ge),Ge>>>=8;return an}function Ue(Ge,tn,en,an,Ye,Ze){var St,Qe,Je=Ge.file,on=Ge.compression,hn=Ze!==$e.utf8encode,dn=De.transformTo("string",Ze(Je.name)),sn=De.transformTo("string",$e.utf8encode(Je.name)),kn=Je.comment,Pn=De.transformTo("string",Ze(kn)),_n=De.transformTo("string",$e.utf8encode(kn)),Mn=sn.length!==Je.name.length,yn=_n.length!==kn.length,zn="",Ln="",Vn="",On=Je.dir,Un=Je.date,jn={crc32:0,compressedSize:0,uncompressedSize:0};tn&&!en||(jn.crc32=Ge.crc32,jn.compressedSize=Ge.compressedSize,jn.uncompressedSize=Ge.uncompressedSize);var Gn=0;tn&&(Gn|=8),hn||!Mn&&!yn||(Gn|=2048);var An=0,$n=0;On&&(An|=16),Ye==="UNIX"?($n=798,An|=(function(En,Sn){var pn=En;return En||(pn=Sn?16893:33204),(65535&pn)<<16})(Je.unixPermissions,On)):($n=20,An|=(function(En){return 63&(En||0)})(Je.dosPermissions)),St=Un.getUTCHours(),St<<=6,St|=Un.getUTCMinutes(),St<<=5,St|=Un.getUTCSeconds()/2,Qe=Un.getUTCFullYear()-1980,Qe<<=4,Qe|=Un.getUTCMonth()+1,Qe<<=5,Qe|=Un.getUTCDate(),Mn&&(Ln=Me(1,1)+Me(ze(dn),4)+sn,zn+="up"+Me(Ln.length,2)+Ln),yn&&(Vn=Me(1,1)+Me(ze(Pn),4)+_n,zn+="uc"+Me(Vn.length,2)+Vn);var Nn="";return Nn+=`
\0`,Nn+=Me(Gn,2),Nn+=on.magic,Nn+=Me(St,2),Nn+=Me(Qe,2),Nn+=Me(jn.crc32,4),Nn+=Me(jn.compressedSize,4),Nn+=Me(jn.uncompressedSize,4),Nn+=Me(dn.length,2),Nn+=Me(zn.length,2),{fileRecord:Xe.LOCAL_FILE_HEADER+Nn+dn+zn,dirRecord:Xe.CENTRAL_FILE_HEADER+Me($n,2)+Nn+Me(Pn.length,2)+"\0\0\0\0"+Me(An,4)+Me(an,4)+dn+zn+Pn}}var De=Te("../utils"),qe=Te("../stream/GenericWorker"),$e=Te("../utf8"),ze=Te("../crc32"),Xe=Te("../signature");function We(Ge,tn,en,an){qe.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=tn,this.zipPlatform=en,this.encodeFileName=an,this.streamFiles=Ge,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}De.inherits(We,qe),We.prototype.push=function(Ge){var tn=Ge.meta.percent||0,en=this.entriesCount,an=this._sources.length;this.accumulate?this.contentBuffer.push(Ge):(this.bytesWritten+=Ge.data.length,qe.prototype.push.call(this,{data:Ge.data,meta:{currentFile:this.currentFile,percent:en?(tn+100*(en-an-1))/en:100}}))},We.prototype.openedSource=function(Ge){this.currentSourceOffset=this.bytesWritten,this.currentFile=Ge.file.name;var tn=this.streamFiles&&!Ge.file.dir;if(tn){var en=Ue(Ge,tn,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:en.fileRecord,meta:{percent:0}})}else this.accumulate=!0},We.prototype.closedSource=function(Ge){this.accumulate=!1;var tn=this.streamFiles&&!Ge.file.dir,en=Ue(Ge,tn,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(en.dirRecord),tn)this.push({data:(function(an){return Xe.DATA_DESCRIPTOR+Me(an.crc32,4)+Me(an.compressedSize,4)+Me(an.uncompressedSize,4)})(Ge),meta:{percent:100}});else for(this.push({data:en.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},We.prototype.flush=function(){for(var Ge=this.bytesWritten,tn=0;tn<this.dirRecords.length;tn++)this.push({data:this.dirRecords[tn],meta:{percent:100}});var en=this.bytesWritten-Ge,an=(function(Ye,Ze,St,Qe,Je){var on=De.transformTo("string",Je(Qe));return Xe.CENTRAL_DIRECTORY_END+"\0\0\0\0"+Me(Ye,2)+Me(Ye,2)+Me(Ze,4)+Me(St,4)+Me(on.length,2)+on})(this.dirRecords.length,en,Ge,this.zipComment,this.encodeFileName);this.push({data:an,meta:{percent:100}})},We.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},We.prototype.registerPrevious=function(Ge){this._sources.push(Ge);var tn=this;return Ge.on("data",function(en){tn.processChunk(en)}),Ge.on("end",function(){tn.closedSource(tn.previous.streamInfo),tn._sources.length?tn.prepareNextSource():tn.end()}),Ge.on("error",function(en){tn.error(en)}),this},We.prototype.resume=function(){return!!qe.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},We.prototype.error=function(Ge){var tn=this._sources;if(!qe.prototype.error.call(this,Ge))return!1;for(var en=0;en<tn.length;en++)try{tn[en].error(Ge)}catch{}return!0},We.prototype.lock=function(){qe.prototype.lock.call(this);for(var Ge=this._sources,tn=0;tn<Ge.length;tn++)Ge[tn].lock()},Be.exports=We},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Te,Be,Re){var Me=Te("../compressions"),Ue=Te("./ZipFileWorker");Re.generateWorker=function(De,qe,$e){var ze=new Ue(qe.streamFiles,$e,qe.platform,qe.encodeFileName),Xe=0;try{De.forEach(function(We,Ge){Xe++;var tn=(function(Ze,St){var Qe=Ze||St,Je=Me[Qe];if(!Je)throw new Error(Qe+" is not a valid compression method !");return Je})(Ge.options.compression,qe.compression),en=Ge.options.compressionOptions||qe.compressionOptions||{},an=Ge.dir,Ye=Ge.date;Ge._compressWorker(tn,en).withStreamInfo("file",{name:We,dir:an,date:Ye,comment:Ge.comment||"",unixPermissions:Ge.unixPermissions,dosPermissions:Ge.dosPermissions}).pipe(ze)}),ze.entriesCount=Xe}catch(We){ze.error(We)}return ze}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Te,Be,Re){function Me(){if(!(this instanceof Me))return new Me;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var Ue=new Me;for(var De in this)typeof this[De]!="function"&&(Ue[De]=this[De]);return Ue}}(Me.prototype=Te("./object")).loadAsync=Te("./load"),Me.support=Te("./support"),Me.defaults=Te("./defaults"),Me.version="3.10.1",Me.loadAsync=function(Ue,De){return new Me().loadAsync(Ue,De)},Me.external=Te("./external"),Be.exports=Me},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Te,Be,Re){var Me=Te("./utils"),Ue=Te("./external"),De=Te("./utf8"),qe=Te("./zipEntries"),$e=Te("./stream/Crc32Probe"),ze=Te("./nodejsUtils");function Xe(We){return new Ue.Promise(function(Ge,tn){var en=We.decompressed.getContentWorker().pipe(new $e);en.on("error",function(an){tn(an)}).on("end",function(){en.streamInfo.crc32!==We.decompressed.crc32?tn(new Error("Corrupted zip : CRC32 mismatch")):Ge()}).resume()})}Be.exports=function(We,Ge){var tn=this;return Ge=Me.extend(Ge||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:De.utf8decode}),ze.isNode&&ze.isStream(We)?Ue.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):Me.prepareContent("the loaded zip file",We,!0,Ge.optimizedBinaryString,Ge.base64).then(function(en){var an=new qe(Ge);return an.load(en),an}).then(function(en){var an=[Ue.Promise.resolve(en)],Ye=en.files;if(Ge.checkCRC32)for(var Ze=0;Ze<Ye.length;Ze++)an.push(Xe(Ye[Ze]));return Ue.Promise.all(an)}).then(function(en){for(var an=en.shift(),Ye=an.files,Ze=0;Ze<Ye.length;Ze++){var St=Ye[Ze],Qe=St.fileNameStr,Je=Me.resolve(St.fileNameStr);tn.file(Je,St.decompressed,{binary:!0,optimizedBinaryString:!0,date:St.date,dir:St.dir,comment:St.fileCommentStr.length?St.fileCommentStr:null,unixPermissions:St.unixPermissions,dosPermissions:St.dosPermissions,createFolders:Ge.createFolders}),St.dir||(tn.file(Je).unsafeOriginalName=Qe)}return an.zipComment.length&&(tn.comment=an.zipComment),tn})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Te,Be,Re){var Me=Te("../utils"),Ue=Te("../stream/GenericWorker");function De(qe,$e){Ue.call(this,"Nodejs stream input adapter for "+qe),this._upstreamEnded=!1,this._bindStream($e)}Me.inherits(De,Ue),De.prototype._bindStream=function(qe){var $e=this;(this._stream=qe).pause(),qe.on("data",function(ze){$e.push({data:ze,meta:{percent:0}})}).on("error",function(ze){$e.isPaused?this.generatedError=ze:$e.error(ze)}).on("end",function(){$e.isPaused?$e._upstreamEnded=!0:$e.end()})},De.prototype.pause=function(){return!!Ue.prototype.pause.call(this)&&(this._stream.pause(),!0)},De.prototype.resume=function(){return!!Ue.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Be.exports=De},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Te,Be,Re){var Me=Te("readable-stream").Readable;function Ue(De,qe,$e){Me.call(this,qe),this._helper=De;var ze=this;De.on("data",function(Xe,We){ze.push(Xe)||ze._helper.pause(),$e&&$e(We)}).on("error",function(Xe){ze.emit("error",Xe)}).on("end",function(){ze.push(null)})}Te("../utils").inherits(Ue,Me),Ue.prototype._read=function(){this._helper.resume()},Be.exports=Ue},{"../utils":32,"readable-stream":16}],14:[function(Te,Be,Re){Be.exports={isNode:typeof Buffer<"u",newBufferFrom:function(Me,Ue){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(Me,Ue);if(typeof Me=="number")throw new Error('The "data" argument must not be a number');return new Buffer(Me,Ue)},allocBuffer:function(Me){if(Buffer.alloc)return Buffer.alloc(Me);var Ue=new Buffer(Me);return Ue.fill(0),Ue},isBuffer:function(Me){return Buffer.isBuffer(Me)},isStream:function(Me){return Me&&typeof Me.on=="function"&&typeof Me.pause=="function"&&typeof Me.resume=="function"}}},{}],15:[function(Te,Be,Re){function Me(Je,on,hn){var dn,sn=De.getTypeOf(on),kn=De.extend(hn||{},ze);kn.date=kn.date||new Date,kn.compression!==null&&(kn.compression=kn.compression.toUpperCase()),typeof kn.unixPermissions=="string"&&(kn.unixPermissions=parseInt(kn.unixPermissions,8)),kn.unixPermissions&&16384&kn.unixPermissions&&(kn.dir=!0),kn.dosPermissions&&16&kn.dosPermissions&&(kn.dir=!0),kn.dir&&(Je=Ye(Je)),kn.createFolders&&(dn=an(Je))&&Ze.call(this,dn,!0);var Pn=sn==="string"&&kn.binary===!1&&kn.base64===!1;hn&&hn.binary!==void 0||(kn.binary=!Pn),(on instanceof Xe&&on.uncompressedSize===0||kn.dir||!on||on.length===0)&&(kn.base64=!1,kn.binary=!0,on="",kn.compression="STORE",sn="string");var _n=null;_n=on instanceof Xe||on instanceof qe?on:tn.isNode&&tn.isStream(on)?new en(Je,on):De.prepareContent(Je,on,kn.binary,kn.optimizedBinaryString,kn.base64);var Mn=new We(Je,_n,kn);this.files[Je]=Mn}var Ue=Te("./utf8"),De=Te("./utils"),qe=Te("./stream/GenericWorker"),$e=Te("./stream/StreamHelper"),ze=Te("./defaults"),Xe=Te("./compressedObject"),We=Te("./zipObject"),Ge=Te("./generate"),tn=Te("./nodejsUtils"),en=Te("./nodejs/NodejsStreamInputAdapter"),an=function(Je){Je.slice(-1)==="/"&&(Je=Je.substring(0,Je.length-1));var on=Je.lastIndexOf("/");return 0<on?Je.substring(0,on):""},Ye=function(Je){return Je.slice(-1)!=="/"&&(Je+="/"),Je},Ze=function(Je,on){return on=on!==void 0?on:ze.createFolders,Je=Ye(Je),this.files[Je]||Me.call(this,Je,null,{dir:!0,createFolders:on}),this.files[Je]};function St(Je){return Object.prototype.toString.call(Je)==="[object RegExp]"}var Qe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Je){var on,hn,dn;for(on in this.files)dn=this.files[on],(hn=on.slice(this.root.length,on.length))&&on.slice(0,this.root.length)===this.root&&Je(hn,dn)},filter:function(Je){var on=[];return this.forEach(function(hn,dn){Je(hn,dn)&&on.push(dn)}),on},file:function(Je,on,hn){if(arguments.length!==1)return Je=this.root+Je,Me.call(this,Je,on,hn),this;if(St(Je)){var dn=Je;return this.filter(function(kn,Pn){return!Pn.dir&&dn.test(kn)})}var sn=this.files[this.root+Je];return sn&&!sn.dir?sn:null},folder:function(Je){if(!Je)return this;if(St(Je))return this.filter(function(sn,kn){return kn.dir&&Je.test(sn)});var on=this.root+Je,hn=Ze.call(this,on),dn=this.clone();return dn.root=hn.name,dn},remove:function(Je){Je=this.root+Je;var on=this.files[Je];if(on||(Je.slice(-1)!=="/"&&(Je+="/"),on=this.files[Je]),on&&!on.dir)delete this.files[Je];else for(var hn=this.filter(function(sn,kn){return kn.name.slice(0,Je.length)===Je}),dn=0;dn<hn.length;dn++)delete this.files[hn[dn].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Je){var on,hn={};try{if((hn=De.extend(Je||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:Ue.utf8encode})).type=hn.type.toLowerCase(),hn.compression=hn.compression.toUpperCase(),hn.type==="binarystring"&&(hn.type="string"),!hn.type)throw new Error("No output type specified.");De.checkSupport(hn.type),hn.platform!=="darwin"&&hn.platform!=="freebsd"&&hn.platform!=="linux"&&hn.platform!=="sunos"||(hn.platform="UNIX"),hn.platform==="win32"&&(hn.platform="DOS");var dn=hn.comment||this.comment||"";on=Ge.generateWorker(this,hn,dn)}catch(sn){(on=new qe("error")).error(sn)}return new $e(on,hn.type||"string",hn.mimeType)},generateAsync:function(Je,on){return this.generateInternalStream(Je).accumulate(on)},generateNodeStream:function(Je,on){return(Je=Je||{}).type||(Je.type="nodebuffer"),this.generateInternalStream(Je).toNodejsStream(on)}};Be.exports=Qe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Te,Be,Re){Be.exports=Te("stream")},{stream:void 0}],17:[function(Te,Be,Re){var Me=Te("./DataReader");function Ue(De){Me.call(this,De);for(var qe=0;qe<this.data.length;qe++)De[qe]=255&De[qe]}Te("../utils").inherits(Ue,Me),Ue.prototype.byteAt=function(De){return this.data[this.zero+De]},Ue.prototype.lastIndexOfSignature=function(De){for(var qe=De.charCodeAt(0),$e=De.charCodeAt(1),ze=De.charCodeAt(2),Xe=De.charCodeAt(3),We=this.length-4;0<=We;--We)if(this.data[We]===qe&&this.data[We+1]===$e&&this.data[We+2]===ze&&this.data[We+3]===Xe)return We-this.zero;return-1},Ue.prototype.readAndCheckSignature=function(De){var qe=De.charCodeAt(0),$e=De.charCodeAt(1),ze=De.charCodeAt(2),Xe=De.charCodeAt(3),We=this.readData(4);return qe===We[0]&&$e===We[1]&&ze===We[2]&&Xe===We[3]},Ue.prototype.readData=function(De){if(this.checkOffset(De),De===0)return[];var qe=this.data.slice(this.zero+this.index,this.zero+this.index+De);return this.index+=De,qe},Be.exports=Ue},{"../utils":32,"./DataReader":18}],18:[function(Te,Be,Re){var Me=Te("../utils");function Ue(De){this.data=De,this.length=De.length,this.index=0,this.zero=0}Ue.prototype={checkOffset:function(De){this.checkIndex(this.index+De)},checkIndex:function(De){if(this.length<this.zero+De||De<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+De+"). Corrupted zip ?")},setIndex:function(De){this.checkIndex(De),this.index=De},skip:function(De){this.setIndex(this.index+De)},byteAt:function(){},readInt:function(De){var qe,$e=0;for(this.checkOffset(De),qe=this.index+De-1;qe>=this.index;qe--)$e=($e<<8)+this.byteAt(qe);return this.index+=De,$e},readString:function(De){return Me.transformTo("string",this.readData(De))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var De=this.readInt(4);return new Date(Date.UTC(1980+(De>>25&127),(De>>21&15)-1,De>>16&31,De>>11&31,De>>5&63,(31&De)<<1))}},Be.exports=Ue},{"../utils":32}],19:[function(Te,Be,Re){var Me=Te("./Uint8ArrayReader");function Ue(De){Me.call(this,De)}Te("../utils").inherits(Ue,Me),Ue.prototype.readData=function(De){this.checkOffset(De);var qe=this.data.slice(this.zero+this.index,this.zero+this.index+De);return this.index+=De,qe},Be.exports=Ue},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Te,Be,Re){var Me=Te("./DataReader");function Ue(De){Me.call(this,De)}Te("../utils").inherits(Ue,Me),Ue.prototype.byteAt=function(De){return this.data.charCodeAt(this.zero+De)},Ue.prototype.lastIndexOfSignature=function(De){return this.data.lastIndexOf(De)-this.zero},Ue.prototype.readAndCheckSignature=function(De){return De===this.readData(4)},Ue.prototype.readData=function(De){this.checkOffset(De);var qe=this.data.slice(this.zero+this.index,this.zero+this.index+De);return this.index+=De,qe},Be.exports=Ue},{"../utils":32,"./DataReader":18}],21:[function(Te,Be,Re){var Me=Te("./ArrayReader");function Ue(De){Me.call(this,De)}Te("../utils").inherits(Ue,Me),Ue.prototype.readData=function(De){if(this.checkOffset(De),De===0)return new Uint8Array(0);var qe=this.data.subarray(this.zero+this.index,this.zero+this.index+De);return this.index+=De,qe},Be.exports=Ue},{"../utils":32,"./ArrayReader":17}],22:[function(Te,Be,Re){var Me=Te("../utils"),Ue=Te("../support"),De=Te("./ArrayReader"),qe=Te("./StringReader"),$e=Te("./NodeBufferReader"),ze=Te("./Uint8ArrayReader");Be.exports=function(Xe){var We=Me.getTypeOf(Xe);return Me.checkSupport(We),We!=="string"||Ue.uint8array?We==="nodebuffer"?new $e(Xe):Ue.uint8array?new ze(Me.transformTo("uint8array",Xe)):new De(Me.transformTo("array",Xe)):new qe(Xe)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Te,Be,Re){Re.LOCAL_FILE_HEADER="PK",Re.CENTRAL_FILE_HEADER="PK",Re.CENTRAL_DIRECTORY_END="PK",Re.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",Re.ZIP64_CENTRAL_DIRECTORY_END="PK",Re.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Te,Be,Re){var Me=Te("./GenericWorker"),Ue=Te("../utils");function De(qe){Me.call(this,"ConvertWorker to "+qe),this.destType=qe}Ue.inherits(De,Me),De.prototype.processChunk=function(qe){this.push({data:Ue.transformTo(this.destType,qe.data),meta:qe.meta})},Be.exports=De},{"../utils":32,"./GenericWorker":28}],25:[function(Te,Be,Re){var Me=Te("./GenericWorker"),Ue=Te("../crc32");function De(){Me.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Te("../utils").inherits(De,Me),De.prototype.processChunk=function(qe){this.streamInfo.crc32=Ue(qe.data,this.streamInfo.crc32||0),this.push(qe)},Be.exports=De},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Te,Be,Re){var Me=Te("../utils"),Ue=Te("./GenericWorker");function De(qe){Ue.call(this,"DataLengthProbe for "+qe),this.propName=qe,this.withStreamInfo(qe,0)}Me.inherits(De,Ue),De.prototype.processChunk=function(qe){if(qe){var $e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=$e+qe.data.length}Ue.prototype.processChunk.call(this,qe)},Be.exports=De},{"../utils":32,"./GenericWorker":28}],27:[function(Te,Be,Re){var Me=Te("../utils"),Ue=Te("./GenericWorker");function De(qe){Ue.call(this,"DataWorker");var $e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,qe.then(function(ze){$e.dataIsReady=!0,$e.data=ze,$e.max=ze&&ze.length||0,$e.type=Me.getTypeOf(ze),$e.isPaused||$e._tickAndRepeat()},function(ze){$e.error(ze)})}Me.inherits(De,Ue),De.prototype.cleanUp=function(){Ue.prototype.cleanUp.call(this),this.data=null},De.prototype.resume=function(){return!!Ue.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Me.delay(this._tickAndRepeat,[],this)),!0)},De.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(Me.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},De.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var qe=null,$e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":qe=this.data.substring(this.index,$e);break;case"uint8array":qe=this.data.subarray(this.index,$e);break;case"array":case"nodebuffer":qe=this.data.slice(this.index,$e)}return this.index=$e,this.push({data:qe,meta:{percent:this.max?this.index/this.max*100:0}})},Be.exports=De},{"../utils":32,"./GenericWorker":28}],28:[function(Te,Be,Re){function Me(Ue){this.name=Ue||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}Me.prototype={push:function(Ue){this.emit("data",Ue)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(Ue){this.emit("error",Ue)}return!0},error:function(Ue){return!this.isFinished&&(this.isPaused?this.generatedError=Ue:(this.isFinished=!0,this.emit("error",Ue),this.previous&&this.previous.error(Ue),this.cleanUp()),!0)},on:function(Ue,De){return this._listeners[Ue].push(De),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(Ue,De){if(this._listeners[Ue])for(var qe=0;qe<this._listeners[Ue].length;qe++)this._listeners[Ue][qe].call(this,De)},pipe:function(Ue){return Ue.registerPrevious(this)},registerPrevious:function(Ue){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=Ue.streamInfo,this.mergeStreamInfo(),this.previous=Ue;var De=this;return Ue.on("data",function(qe){De.processChunk(qe)}),Ue.on("end",function(){De.end()}),Ue.on("error",function(qe){De.error(qe)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var Ue=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),Ue=!0),this.previous&&this.previous.resume(),!Ue},flush:function(){},processChunk:function(Ue){this.push(Ue)},withStreamInfo:function(Ue,De){return this.extraStreamInfo[Ue]=De,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var Ue in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,Ue)&&(this.streamInfo[Ue]=this.extraStreamInfo[Ue])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var Ue="Worker "+this.name;return this.previous?this.previous+" -> "+Ue:Ue}},Be.exports=Me},{}],29:[function(Te,Be,Re){var Me=Te("../utils"),Ue=Te("./ConvertWorker"),De=Te("./GenericWorker"),qe=Te("../base64"),$e=Te("../support"),ze=Te("../external"),Xe=null;if($e.nodestream)try{Xe=Te("../nodejs/NodejsStreamOutputAdapter")}catch{}function We(tn,en){return new ze.Promise(function(an,Ye){var Ze=[],St=tn._internalType,Qe=tn._outputType,Je=tn._mimeType;tn.on("data",function(on,hn){Ze.push(on),en&&en(hn)}).on("error",function(on){Ze=[],Ye(on)}).on("end",function(){try{var on=(function(hn,dn,sn){switch(hn){case"blob":return Me.newBlob(Me.transformTo("arraybuffer",dn),sn);case"base64":return qe.encode(dn);default:return Me.transformTo(hn,dn)}})(Qe,(function(hn,dn){var sn,kn=0,Pn=null,_n=0;for(sn=0;sn<dn.length;sn++)_n+=dn[sn].length;switch(hn){case"string":return dn.join("");case"array":return Array.prototype.concat.apply([],dn);case"uint8array":for(Pn=new Uint8Array(_n),sn=0;sn<dn.length;sn++)Pn.set(dn[sn],kn),kn+=dn[sn].length;return Pn;case"nodebuffer":return Buffer.concat(dn);default:throw new Error("concat : unsupported type '"+hn+"'")}})(St,Ze),Je);an(on)}catch(hn){Ye(hn)}Ze=[]}).resume()})}function Ge(tn,en,an){var Ye=en;switch(en){case"blob":case"arraybuffer":Ye="uint8array";break;case"base64":Ye="string"}try{this._internalType=Ye,this._outputType=en,this._mimeType=an,Me.checkSupport(Ye),this._worker=tn.pipe(new Ue(Ye)),tn.lock()}catch(Ze){this._worker=new De("error"),this._worker.error(Ze)}}Ge.prototype={accumulate:function(tn){return We(this,tn)},on:function(tn,en){var an=this;return tn==="data"?this._worker.on(tn,function(Ye){en.call(an,Ye.data,Ye.meta)}):this._worker.on(tn,function(){Me.delay(en,arguments,an)}),this},resume:function(){return Me.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(tn){if(Me.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Xe(this,{objectMode:this._outputType!=="nodebuffer"},tn)}},Be.exports=Ge},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Te,Be,Re){if(Re.base64=!0,Re.array=!0,Re.string=!0,Re.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Re.nodebuffer=typeof Buffer<"u",Re.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")Re.blob=!1;else{var Me=new ArrayBuffer(0);try{Re.blob=new Blob([Me],{type:"application/zip"}).size===0}catch{try{var Ue=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);Ue.append(Me),Re.blob=Ue.getBlob("application/zip").size===0}catch{Re.blob=!1}}}try{Re.nodestream=!!Te("readable-stream").Readable}catch{Re.nodestream=!1}},{"readable-stream":16}],31:[function(Te,Be,Re){for(var Me=Te("./utils"),Ue=Te("./support"),De=Te("./nodejsUtils"),qe=Te("./stream/GenericWorker"),$e=new Array(256),ze=0;ze<256;ze++)$e[ze]=252<=ze?6:248<=ze?5:240<=ze?4:224<=ze?3:192<=ze?2:1;$e[254]=$e[254]=1;function Xe(){qe.call(this,"utf-8 decode"),this.leftOver=null}function We(){qe.call(this,"utf-8 encode")}Re.utf8encode=function(Ge){return Ue.nodebuffer?De.newBufferFrom(Ge,"utf-8"):(function(tn){var en,an,Ye,Ze,St,Qe=tn.length,Je=0;for(Ze=0;Ze<Qe;Ze++)(64512&(an=tn.charCodeAt(Ze)))==55296&&Ze+1<Qe&&(64512&(Ye=tn.charCodeAt(Ze+1)))==56320&&(an=65536+(an-55296<<10)+(Ye-56320),Ze++),Je+=an<128?1:an<2048?2:an<65536?3:4;for(en=Ue.uint8array?new Uint8Array(Je):new Array(Je),Ze=St=0;St<Je;Ze++)(64512&(an=tn.charCodeAt(Ze)))==55296&&Ze+1<Qe&&(64512&(Ye=tn.charCodeAt(Ze+1)))==56320&&(an=65536+(an-55296<<10)+(Ye-56320),Ze++),an<128?en[St++]=an:(an<2048?en[St++]=192|an>>>6:(an<65536?en[St++]=224|an>>>12:(en[St++]=240|an>>>18,en[St++]=128|an>>>12&63),en[St++]=128|an>>>6&63),en[St++]=128|63&an);return en})(Ge)},Re.utf8decode=function(Ge){return Ue.nodebuffer?Me.transformTo("nodebuffer",Ge).toString("utf-8"):(function(tn){var en,an,Ye,Ze,St=tn.length,Qe=new Array(2*St);for(en=an=0;en<St;)if((Ye=tn[en++])<128)Qe[an++]=Ye;else if(4<(Ze=$e[Ye]))Qe[an++]=65533,en+=Ze-1;else{for(Ye&=Ze===2?31:Ze===3?15:7;1<Ze&&en<St;)Ye=Ye<<6|63&tn[en++],Ze--;1<Ze?Qe[an++]=65533:Ye<65536?Qe[an++]=Ye:(Ye-=65536,Qe[an++]=55296|Ye>>10&1023,Qe[an++]=56320|1023&Ye)}return Qe.length!==an&&(Qe.subarray?Qe=Qe.subarray(0,an):Qe.length=an),Me.applyFromCharCode(Qe)})(Ge=Me.transformTo(Ue.uint8array?"uint8array":"array",Ge))},Me.inherits(Xe,qe),Xe.prototype.processChunk=function(Ge){var tn=Me.transformTo(Ue.uint8array?"uint8array":"array",Ge.data);if(this.leftOver&&this.leftOver.length){if(Ue.uint8array){var en=tn;(tn=new Uint8Array(en.length+this.leftOver.length)).set(this.leftOver,0),tn.set(en,this.leftOver.length)}else tn=this.leftOver.concat(tn);this.leftOver=null}var an=(function(Ze,St){var Qe;for((St=St||Ze.length)>Ze.length&&(St=Ze.length),Qe=St-1;0<=Qe&&(192&Ze[Qe])==128;)Qe--;return Qe<0||Qe===0?St:Qe+$e[Ze[Qe]]>St?Qe:St})(tn),Ye=tn;an!==tn.length&&(Ue.uint8array?(Ye=tn.subarray(0,an),this.leftOver=tn.subarray(an,tn.length)):(Ye=tn.slice(0,an),this.leftOver=tn.slice(an,tn.length))),this.push({data:Re.utf8decode(Ye),meta:Ge.meta})},Xe.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Re.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Re.Utf8DecodeWorker=Xe,Me.inherits(We,qe),We.prototype.processChunk=function(Ge){this.push({data:Re.utf8encode(Ge.data),meta:Ge.meta})},Re.Utf8EncodeWorker=We},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Te,Be,Re){var Me=Te("./support"),Ue=Te("./base64"),De=Te("./nodejsUtils"),qe=Te("./external");function $e(en){return en}function ze(en,an){for(var Ye=0;Ye<en.length;++Ye)an[Ye]=255&en.charCodeAt(Ye);return an}Te("setimmediate"),Re.newBlob=function(en,an){Re.checkSupport("blob");try{return new Blob([en],{type:an})}catch{try{var Ye=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Ye.append(en),Ye.getBlob(an)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Xe={stringifyByChunk:function(en,an,Ye){var Ze=[],St=0,Qe=en.length;if(Qe<=Ye)return String.fromCharCode.apply(null,en);for(;St<Qe;)an==="array"||an==="nodebuffer"?Ze.push(String.fromCharCode.apply(null,en.slice(St,Math.min(St+Ye,Qe)))):Ze.push(String.fromCharCode.apply(null,en.subarray(St,Math.min(St+Ye,Qe)))),St+=Ye;return Ze.join("")},stringifyByChar:function(en){for(var an="",Ye=0;Ye<en.length;Ye++)an+=String.fromCharCode(en[Ye]);return an},applyCanBeUsed:{uint8array:(function(){try{return Me.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return Me.nodebuffer&&String.fromCharCode.apply(null,De.allocBuffer(1)).length===1}catch{return!1}})()}};function We(en){var an=65536,Ye=Re.getTypeOf(en),Ze=!0;if(Ye==="uint8array"?Ze=Xe.applyCanBeUsed.uint8array:Ye==="nodebuffer"&&(Ze=Xe.applyCanBeUsed.nodebuffer),Ze)for(;1<an;)try{return Xe.stringifyByChunk(en,Ye,an)}catch{an=Math.floor(an/2)}return Xe.stringifyByChar(en)}function Ge(en,an){for(var Ye=0;Ye<en.length;Ye++)an[Ye]=en[Ye];return an}Re.applyFromCharCode=We;var tn={};tn.string={string:$e,array:function(en){return ze(en,new Array(en.length))},arraybuffer:function(en){return tn.string.uint8array(en).buffer},uint8array:function(en){return ze(en,new Uint8Array(en.length))},nodebuffer:function(en){return ze(en,De.allocBuffer(en.length))}},tn.array={string:We,array:$e,arraybuffer:function(en){return new Uint8Array(en).buffer},uint8array:function(en){return new Uint8Array(en)},nodebuffer:function(en){return De.newBufferFrom(en)}},tn.arraybuffer={string:function(en){return We(new Uint8Array(en))},array:function(en){return Ge(new Uint8Array(en),new Array(en.byteLength))},arraybuffer:$e,uint8array:function(en){return new Uint8Array(en)},nodebuffer:function(en){return De.newBufferFrom(new Uint8Array(en))}},tn.uint8array={string:We,array:function(en){return Ge(en,new Array(en.length))},arraybuffer:function(en){return en.buffer},uint8array:$e,nodebuffer:function(en){return De.newBufferFrom(en)}},tn.nodebuffer={string:We,array:function(en){return Ge(en,new Array(en.length))},arraybuffer:function(en){return tn.nodebuffer.uint8array(en).buffer},uint8array:function(en){return Ge(en,new Uint8Array(en.length))},nodebuffer:$e},Re.transformTo=function(en,an){if(an=an||"",!en)return an;Re.checkSupport(en);var Ye=Re.getTypeOf(an);return tn[Ye][en](an)},Re.resolve=function(en){for(var an=en.split("/"),Ye=[],Ze=0;Ze<an.length;Ze++){var St=an[Ze];St==="."||St===""&&Ze!==0&&Ze!==an.length-1||(St===".."?Ye.pop():Ye.push(St))}return Ye.join("/")},Re.getTypeOf=function(en){return typeof en=="string"?"string":Object.prototype.toString.call(en)==="[object Array]"?"array":Me.nodebuffer&&De.isBuffer(en)?"nodebuffer":Me.uint8array&&en instanceof Uint8Array?"uint8array":Me.arraybuffer&&en instanceof ArrayBuffer?"arraybuffer":void 0},Re.checkSupport=function(en){if(!Me[en.toLowerCase()])throw new Error(en+" is not supported by this platform")},Re.MAX_VALUE_16BITS=65535,Re.MAX_VALUE_32BITS=-1,Re.pretty=function(en){var an,Ye,Ze="";for(Ye=0;Ye<(en||"").length;Ye++)Ze+="\\x"+((an=en.charCodeAt(Ye))<16?"0":"")+an.toString(16).toUpperCase();return Ze},Re.delay=function(en,an,Ye){setImmediate(function(){en.apply(Ye||null,an||[])})},Re.inherits=function(en,an){function Ye(){}Ye.prototype=an.prototype,en.prototype=new Ye},Re.extend=function(){var en,an,Ye={};for(en=0;en<arguments.length;en++)for(an in arguments[en])Object.prototype.hasOwnProperty.call(arguments[en],an)&&Ye[an]===void 0&&(Ye[an]=arguments[en][an]);return Ye},Re.prepareContent=function(en,an,Ye,Ze,St){return qe.Promise.resolve(an).then(function(Qe){return Me.blob&&(Qe instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Qe))!==-1)&&typeof FileReader<"u"?new qe.Promise(function(Je,on){var hn=new FileReader;hn.onload=function(dn){Je(dn.target.result)},hn.onerror=function(dn){on(dn.target.error)},hn.readAsArrayBuffer(Qe)}):Qe}).then(function(Qe){var Je=Re.getTypeOf(Qe);return Je?(Je==="arraybuffer"?Qe=Re.transformTo("uint8array",Qe):Je==="string"&&(St?Qe=Ue.decode(Qe):Ye&&Ze!==!0&&(Qe=(function(on){return ze(on,Me.uint8array?new Uint8Array(on.length):new Array(on.length))})(Qe))),Qe):qe.Promise.reject(new Error("Can't read the data of '"+en+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Te,Be,Re){var Me=Te("./reader/readerFor"),Ue=Te("./utils"),De=Te("./signature"),qe=Te("./zipEntry"),$e=Te("./support");function ze(Xe){this.files=[],this.loadOptions=Xe}ze.prototype={checkSignature:function(Xe){if(!this.reader.readAndCheckSignature(Xe)){this.reader.index-=4;var We=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Ue.pretty(We)+", expected "+Ue.pretty(Xe)+")")}},isSignature:function(Xe,We){var Ge=this.reader.index;this.reader.setIndex(Xe);var tn=this.reader.readString(4)===We;return this.reader.setIndex(Ge),tn},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Xe=this.reader.readData(this.zipCommentLength),We=$e.uint8array?"uint8array":"array",Ge=Ue.transformTo(We,Xe);this.zipComment=this.loadOptions.decodeFileName(Ge)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Xe,We,Ge,tn=this.zip64EndOfCentralSize-44;0<tn;)Xe=this.reader.readInt(2),We=this.reader.readInt(4),Ge=this.reader.readData(We),this.zip64ExtensibleData[Xe]={id:Xe,length:We,value:Ge}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Xe,We;for(Xe=0;Xe<this.files.length;Xe++)We=this.files[Xe],this.reader.setIndex(We.localHeaderOffset),this.checkSignature(De.LOCAL_FILE_HEADER),We.readLocalPart(this.reader),We.handleUTF8(),We.processAttributes()},readCentralDir:function(){var Xe;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(De.CENTRAL_FILE_HEADER);)(Xe=new qe({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Xe);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Xe=this.reader.lastIndexOfSignature(De.CENTRAL_DIRECTORY_END);if(Xe<0)throw this.isSignature(0,De.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Xe);var We=Xe;if(this.checkSignature(De.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===Ue.MAX_VALUE_16BITS||this.diskWithCentralDirStart===Ue.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===Ue.MAX_VALUE_16BITS||this.centralDirRecords===Ue.MAX_VALUE_16BITS||this.centralDirSize===Ue.MAX_VALUE_32BITS||this.centralDirOffset===Ue.MAX_VALUE_32BITS){if(this.zip64=!0,(Xe=this.reader.lastIndexOfSignature(De.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Xe),this.checkSignature(De.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,De.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(De.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(De.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Ge=this.centralDirOffset+this.centralDirSize;this.zip64&&(Ge+=20,Ge+=12+this.zip64EndOfCentralSize);var tn=We-Ge;if(0<tn)this.isSignature(We,De.CENTRAL_FILE_HEADER)||(this.reader.zero=tn);else if(tn<0)throw new Error("Corrupted zip: missing "+Math.abs(tn)+" bytes.")},prepareReader:function(Xe){this.reader=Me(Xe)},load:function(Xe){this.prepareReader(Xe),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Be.exports=ze},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Te,Be,Re){var Me=Te("./reader/readerFor"),Ue=Te("./utils"),De=Te("./compressedObject"),qe=Te("./crc32"),$e=Te("./utf8"),ze=Te("./compressions"),Xe=Te("./support");function We(Ge,tn){this.options=Ge,this.loadOptions=tn}We.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(Ge){var tn,en;if(Ge.skip(22),this.fileNameLength=Ge.readInt(2),en=Ge.readInt(2),this.fileName=Ge.readData(this.fileNameLength),Ge.skip(en),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((tn=(function(an){for(var Ye in ze)if(Object.prototype.hasOwnProperty.call(ze,Ye)&&ze[Ye].magic===an)return ze[Ye];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+Ue.pretty(this.compressionMethod)+" unknown (inner file : "+Ue.transformTo("string",this.fileName)+")");this.decompressed=new De(this.compressedSize,this.uncompressedSize,this.crc32,tn,Ge.readData(this.compressedSize))},readCentralPart:function(Ge){this.versionMadeBy=Ge.readInt(2),Ge.skip(2),this.bitFlag=Ge.readInt(2),this.compressionMethod=Ge.readString(2),this.date=Ge.readDate(),this.crc32=Ge.readInt(4),this.compressedSize=Ge.readInt(4),this.uncompressedSize=Ge.readInt(4);var tn=Ge.readInt(2);if(this.extraFieldsLength=Ge.readInt(2),this.fileCommentLength=Ge.readInt(2),this.diskNumberStart=Ge.readInt(2),this.internalFileAttributes=Ge.readInt(2),this.externalFileAttributes=Ge.readInt(4),this.localHeaderOffset=Ge.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");Ge.skip(tn),this.readExtraFields(Ge),this.parseZIP64ExtraField(Ge),this.fileComment=Ge.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var Ge=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),Ge==0&&(this.dosPermissions=63&this.externalFileAttributes),Ge==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Ge=Me(this.extraFields[1].value);this.uncompressedSize===Ue.MAX_VALUE_32BITS&&(this.uncompressedSize=Ge.readInt(8)),this.compressedSize===Ue.MAX_VALUE_32BITS&&(this.compressedSize=Ge.readInt(8)),this.localHeaderOffset===Ue.MAX_VALUE_32BITS&&(this.localHeaderOffset=Ge.readInt(8)),this.diskNumberStart===Ue.MAX_VALUE_32BITS&&(this.diskNumberStart=Ge.readInt(4))}},readExtraFields:function(Ge){var tn,en,an,Ye=Ge.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});Ge.index+4<Ye;)tn=Ge.readInt(2),en=Ge.readInt(2),an=Ge.readData(en),this.extraFields[tn]={id:tn,length:en,value:an};Ge.setIndex(Ye)},handleUTF8:function(){var Ge=Xe.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=$e.utf8decode(this.fileName),this.fileCommentStr=$e.utf8decode(this.fileComment);else{var tn=this.findExtraFieldUnicodePath();if(tn!==null)this.fileNameStr=tn;else{var en=Ue.transformTo(Ge,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(en)}var an=this.findExtraFieldUnicodeComment();if(an!==null)this.fileCommentStr=an;else{var Ye=Ue.transformTo(Ge,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Ye)}}},findExtraFieldUnicodePath:function(){var Ge=this.extraFields[28789];if(Ge){var tn=Me(Ge.value);return tn.readInt(1)!==1||qe(this.fileName)!==tn.readInt(4)?null:$e.utf8decode(tn.readData(Ge.length-5))}return null},findExtraFieldUnicodeComment:function(){var Ge=this.extraFields[25461];if(Ge){var tn=Me(Ge.value);return tn.readInt(1)!==1||qe(this.fileComment)!==tn.readInt(4)?null:$e.utf8decode(tn.readData(Ge.length-5))}return null}},Be.exports=We},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Te,Be,Re){function Me(tn,en,an){this.name=tn,this.dir=an.dir,this.date=an.date,this.comment=an.comment,this.unixPermissions=an.unixPermissions,this.dosPermissions=an.dosPermissions,this._data=en,this._dataBinary=an.binary,this.options={compression:an.compression,compressionOptions:an.compressionOptions}}var Ue=Te("./stream/StreamHelper"),De=Te("./stream/DataWorker"),qe=Te("./utf8"),$e=Te("./compressedObject"),ze=Te("./stream/GenericWorker");Me.prototype={internalStream:function(tn){var en=null,an="string";try{if(!tn)throw new Error("No output type specified.");var Ye=(an=tn.toLowerCase())==="string"||an==="text";an!=="binarystring"&&an!=="text"||(an="string"),en=this._decompressWorker();var Ze=!this._dataBinary;Ze&&!Ye&&(en=en.pipe(new qe.Utf8EncodeWorker)),!Ze&&Ye&&(en=en.pipe(new qe.Utf8DecodeWorker))}catch(St){(en=new ze("error")).error(St)}return new Ue(en,an,"")},async:function(tn,en){return this.internalStream(tn).accumulate(en)},nodeStream:function(tn,en){return this.internalStream(tn||"nodebuffer").toNodejsStream(en)},_compressWorker:function(tn,en){if(this._data instanceof $e&&this._data.compression.magic===tn.magic)return this._data.getCompressedWorker();var an=this._decompressWorker();return this._dataBinary||(an=an.pipe(new qe.Utf8EncodeWorker)),$e.createWorkerFrom(an,tn,en)},_decompressWorker:function(){return this._data instanceof $e?this._data.getContentWorker():this._data instanceof ze?this._data:new De(this._data)}};for(var Xe=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],We=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},Ge=0;Ge<Xe.length;Ge++)Me.prototype[Xe[Ge]]=We;Be.exports=Me},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Te,Be,Re){(function(Me){var Ue,De,qe=Me.MutationObserver||Me.WebKitMutationObserver;if(qe){var $e=0,ze=new qe(tn),Xe=Me.document.createTextNode("");ze.observe(Xe,{characterData:!0}),Ue=function(){Xe.data=$e=++$e%2}}else if(Me.setImmediate||Me.MessageChannel===void 0)Ue="document"in Me&&"onreadystatechange"in Me.document.createElement("script")?function(){var en=Me.document.createElement("script");en.onreadystatechange=function(){tn(),en.onreadystatechange=null,en.parentNode.removeChild(en),en=null},Me.document.documentElement.appendChild(en)}:function(){setTimeout(tn,0)};else{var We=new Me.MessageChannel;We.port1.onmessage=tn,Ue=function(){We.port2.postMessage(0)}}var Ge=[];function tn(){var en,an;De=!0;for(var Ye=Ge.length;Ye;){for(an=Ge,Ge=[],en=-1;++en<Ye;)an[en]();Ye=Ge.length}De=!1}Be.exports=function(en){Ge.push(en)!==1||De||Ue()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Te,Be,Re){var Me=Te("immediate");function Ue(){}var De={},qe=["REJECTED"],$e=["FULFILLED"],ze=["PENDING"];function Xe(Ye){if(typeof Ye!="function")throw new TypeError("resolver must be a function");this.state=ze,this.queue=[],this.outcome=void 0,Ye!==Ue&&en(this,Ye)}function We(Ye,Ze,St){this.promise=Ye,typeof Ze=="function"&&(this.onFulfilled=Ze,this.callFulfilled=this.otherCallFulfilled),typeof St=="function"&&(this.onRejected=St,this.callRejected=this.otherCallRejected)}function Ge(Ye,Ze,St){Me(function(){var Qe;try{Qe=Ze(St)}catch(Je){return De.reject(Ye,Je)}Qe===Ye?De.reject(Ye,new TypeError("Cannot resolve promise with itself")):De.resolve(Ye,Qe)})}function tn(Ye){var Ze=Ye&&Ye.then;if(Ye&&(typeof Ye=="object"||typeof Ye=="function")&&typeof Ze=="function")return function(){Ze.apply(Ye,arguments)}}function en(Ye,Ze){var St=!1;function Qe(hn){St||(St=!0,De.reject(Ye,hn))}function Je(hn){St||(St=!0,De.resolve(Ye,hn))}var on=an(function(){Ze(Je,Qe)});on.status==="error"&&Qe(on.value)}function an(Ye,Ze){var St={};try{St.value=Ye(Ze),St.status="success"}catch(Qe){St.status="error",St.value=Qe}return St}(Be.exports=Xe).prototype.finally=function(Ye){if(typeof Ye!="function")return this;var Ze=this.constructor;return this.then(function(St){return Ze.resolve(Ye()).then(function(){return St})},function(St){return Ze.resolve(Ye()).then(function(){throw St})})},Xe.prototype.catch=function(Ye){return this.then(null,Ye)},Xe.prototype.then=function(Ye,Ze){if(typeof Ye!="function"&&this.state===$e||typeof Ze!="function"&&this.state===qe)return this;var St=new this.constructor(Ue);return this.state!==ze?Ge(St,this.state===$e?Ye:Ze,this.outcome):this.queue.push(new We(St,Ye,Ze)),St},We.prototype.callFulfilled=function(Ye){De.resolve(this.promise,Ye)},We.prototype.otherCallFulfilled=function(Ye){Ge(this.promise,this.onFulfilled,Ye)},We.prototype.callRejected=function(Ye){De.reject(this.promise,Ye)},We.prototype.otherCallRejected=function(Ye){Ge(this.promise,this.onRejected,Ye)},De.resolve=function(Ye,Ze){var St=an(tn,Ze);if(St.status==="error")return De.reject(Ye,St.value);var Qe=St.value;if(Qe)en(Ye,Qe);else{Ye.state=$e,Ye.outcome=Ze;for(var Je=-1,on=Ye.queue.length;++Je<on;)Ye.queue[Je].callFulfilled(Ze)}return Ye},De.reject=function(Ye,Ze){Ye.state=qe,Ye.outcome=Ze;for(var St=-1,Qe=Ye.queue.length;++St<Qe;)Ye.queue[St].callRejected(Ze);return Ye},Xe.resolve=function(Ye){return Ye instanceof this?Ye:De.resolve(new this(Ue),Ye)},Xe.reject=function(Ye){var Ze=new this(Ue);return De.reject(Ze,Ye)},Xe.all=function(Ye){var Ze=this;if(Object.prototype.toString.call(Ye)!=="[object Array]")return this.reject(new TypeError("must be an array"));var St=Ye.length,Qe=!1;if(!St)return this.resolve([]);for(var Je=new Array(St),on=0,hn=-1,dn=new this(Ue);++hn<St;)sn(Ye[hn],hn);return dn;function sn(kn,Pn){Ze.resolve(kn).then(function(_n){Je[Pn]=_n,++on!==St||Qe||(Qe=!0,De.resolve(dn,Je))},function(_n){Qe||(Qe=!0,De.reject(dn,_n))})}},Xe.race=function(Ye){var Ze=this;if(Object.prototype.toString.call(Ye)!=="[object Array]")return this.reject(new TypeError("must be an array"));var St=Ye.length,Qe=!1;if(!St)return this.resolve([]);for(var Je=-1,on=new this(Ue);++Je<St;)hn=Ye[Je],Ze.resolve(hn).then(function(dn){Qe||(Qe=!0,De.resolve(on,dn))},function(dn){Qe||(Qe=!0,De.reject(on,dn))});var hn;return on}},{immediate:36}],38:[function(Te,Be,Re){var Me={};(0,Te("./lib/utils/common").assign)(Me,Te("./lib/deflate"),Te("./lib/inflate"),Te("./lib/zlib/constants")),Be.exports=Me},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Te,Be,Re){var Me=Te("./zlib/deflate"),Ue=Te("./utils/common"),De=Te("./utils/strings"),qe=Te("./zlib/messages"),$e=Te("./zlib/zstream"),ze=Object.prototype.toString,Xe=0,We=-1,Ge=0,tn=8;function en(Ye){if(!(this instanceof en))return new en(Ye);this.options=Ue.assign({level:We,method:tn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ge,to:""},Ye||{});var Ze=this.options;Ze.raw&&0<Ze.windowBits?Ze.windowBits=-Ze.windowBits:Ze.gzip&&0<Ze.windowBits&&Ze.windowBits<16&&(Ze.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $e,this.strm.avail_out=0;var St=Me.deflateInit2(this.strm,Ze.level,Ze.method,Ze.windowBits,Ze.memLevel,Ze.strategy);if(St!==Xe)throw new Error(qe[St]);if(Ze.header&&Me.deflateSetHeader(this.strm,Ze.header),Ze.dictionary){var Qe;if(Qe=typeof Ze.dictionary=="string"?De.string2buf(Ze.dictionary):ze.call(Ze.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Ze.dictionary):Ze.dictionary,(St=Me.deflateSetDictionary(this.strm,Qe))!==Xe)throw new Error(qe[St]);this._dict_set=!0}}function an(Ye,Ze){var St=new en(Ze);if(St.push(Ye,!0),St.err)throw St.msg||qe[St.err];return St.result}en.prototype.push=function(Ye,Ze){var St,Qe,Je=this.strm,on=this.options.chunkSize;if(this.ended)return!1;Qe=Ze===~~Ze?Ze:Ze===!0?4:0,typeof Ye=="string"?Je.input=De.string2buf(Ye):ze.call(Ye)==="[object ArrayBuffer]"?Je.input=new Uint8Array(Ye):Je.input=Ye,Je.next_in=0,Je.avail_in=Je.input.length;do{if(Je.avail_out===0&&(Je.output=new Ue.Buf8(on),Je.next_out=0,Je.avail_out=on),(St=Me.deflate(Je,Qe))!==1&&St!==Xe)return this.onEnd(St),!(this.ended=!0);Je.avail_out!==0&&(Je.avail_in!==0||Qe!==4&&Qe!==2)||(this.options.to==="string"?this.onData(De.buf2binstring(Ue.shrinkBuf(Je.output,Je.next_out))):this.onData(Ue.shrinkBuf(Je.output,Je.next_out)))}while((0<Je.avail_in||Je.avail_out===0)&&St!==1);return Qe===4?(St=Me.deflateEnd(this.strm),this.onEnd(St),this.ended=!0,St===Xe):Qe!==2||(this.onEnd(Xe),!(Je.avail_out=0))},en.prototype.onData=function(Ye){this.chunks.push(Ye)},en.prototype.onEnd=function(Ye){Ye===Xe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ue.flattenChunks(this.chunks)),this.chunks=[],this.err=Ye,this.msg=this.strm.msg},Re.Deflate=en,Re.deflate=an,Re.deflateRaw=function(Ye,Ze){return(Ze=Ze||{}).raw=!0,an(Ye,Ze)},Re.gzip=function(Ye,Ze){return(Ze=Ze||{}).gzip=!0,an(Ye,Ze)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Te,Be,Re){var Me=Te("./zlib/inflate"),Ue=Te("./utils/common"),De=Te("./utils/strings"),qe=Te("./zlib/constants"),$e=Te("./zlib/messages"),ze=Te("./zlib/zstream"),Xe=Te("./zlib/gzheader"),We=Object.prototype.toString;function Ge(en){if(!(this instanceof Ge))return new Ge(en);this.options=Ue.assign({chunkSize:16384,windowBits:0,to:""},en||{});var an=this.options;an.raw&&0<=an.windowBits&&an.windowBits<16&&(an.windowBits=-an.windowBits,an.windowBits===0&&(an.windowBits=-15)),!(0<=an.windowBits&&an.windowBits<16)||en&&en.windowBits||(an.windowBits+=32),15<an.windowBits&&an.windowBits<48&&(15&an.windowBits)==0&&(an.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ze,this.strm.avail_out=0;var Ye=Me.inflateInit2(this.strm,an.windowBits);if(Ye!==qe.Z_OK)throw new Error($e[Ye]);this.header=new Xe,Me.inflateGetHeader(this.strm,this.header)}function tn(en,an){var Ye=new Ge(an);if(Ye.push(en,!0),Ye.err)throw Ye.msg||$e[Ye.err];return Ye.result}Ge.prototype.push=function(en,an){var Ye,Ze,St,Qe,Je,on,hn=this.strm,dn=this.options.chunkSize,sn=this.options.dictionary,kn=!1;if(this.ended)return!1;Ze=an===~~an?an:an===!0?qe.Z_FINISH:qe.Z_NO_FLUSH,typeof en=="string"?hn.input=De.binstring2buf(en):We.call(en)==="[object ArrayBuffer]"?hn.input=new Uint8Array(en):hn.input=en,hn.next_in=0,hn.avail_in=hn.input.length;do{if(hn.avail_out===0&&(hn.output=new Ue.Buf8(dn),hn.next_out=0,hn.avail_out=dn),(Ye=Me.inflate(hn,qe.Z_NO_FLUSH))===qe.Z_NEED_DICT&&sn&&(on=typeof sn=="string"?De.string2buf(sn):We.call(sn)==="[object ArrayBuffer]"?new Uint8Array(sn):sn,Ye=Me.inflateSetDictionary(this.strm,on)),Ye===qe.Z_BUF_ERROR&&kn===!0&&(Ye=qe.Z_OK,kn=!1),Ye!==qe.Z_STREAM_END&&Ye!==qe.Z_OK)return this.onEnd(Ye),!(this.ended=!0);hn.next_out&&(hn.avail_out!==0&&Ye!==qe.Z_STREAM_END&&(hn.avail_in!==0||Ze!==qe.Z_FINISH&&Ze!==qe.Z_SYNC_FLUSH)||(this.options.to==="string"?(St=De.utf8border(hn.output,hn.next_out),Qe=hn.next_out-St,Je=De.buf2string(hn.output,St),hn.next_out=Qe,hn.avail_out=dn-Qe,Qe&&Ue.arraySet(hn.output,hn.output,St,Qe,0),this.onData(Je)):this.onData(Ue.shrinkBuf(hn.output,hn.next_out)))),hn.avail_in===0&&hn.avail_out===0&&(kn=!0)}while((0<hn.avail_in||hn.avail_out===0)&&Ye!==qe.Z_STREAM_END);return Ye===qe.Z_STREAM_END&&(Ze=qe.Z_FINISH),Ze===qe.Z_FINISH?(Ye=Me.inflateEnd(this.strm),this.onEnd(Ye),this.ended=!0,Ye===qe.Z_OK):Ze!==qe.Z_SYNC_FLUSH||(this.onEnd(qe.Z_OK),!(hn.avail_out=0))},Ge.prototype.onData=function(en){this.chunks.push(en)},Ge.prototype.onEnd=function(en){en===qe.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ue.flattenChunks(this.chunks)),this.chunks=[],this.err=en,this.msg=this.strm.msg},Re.Inflate=Ge,Re.inflate=tn,Re.inflateRaw=function(en,an){return(an=an||{}).raw=!0,tn(en,an)},Re.ungzip=tn},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Te,Be,Re){var Me=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";Re.assign=function(qe){for(var $e=Array.prototype.slice.call(arguments,1);$e.length;){var ze=$e.shift();if(ze){if(typeof ze!="object")throw new TypeError(ze+"must be non-object");for(var Xe in ze)ze.hasOwnProperty(Xe)&&(qe[Xe]=ze[Xe])}}return qe},Re.shrinkBuf=function(qe,$e){return qe.length===$e?qe:qe.subarray?qe.subarray(0,$e):(qe.length=$e,qe)};var Ue={arraySet:function(qe,$e,ze,Xe,We){if($e.subarray&&qe.subarray)qe.set($e.subarray(ze,ze+Xe),We);else for(var Ge=0;Ge<Xe;Ge++)qe[We+Ge]=$e[ze+Ge]},flattenChunks:function(qe){var $e,ze,Xe,We,Ge,tn;for($e=Xe=0,ze=qe.length;$e<ze;$e++)Xe+=qe[$e].length;for(tn=new Uint8Array(Xe),$e=We=0,ze=qe.length;$e<ze;$e++)Ge=qe[$e],tn.set(Ge,We),We+=Ge.length;return tn}},De={arraySet:function(qe,$e,ze,Xe,We){for(var Ge=0;Ge<Xe;Ge++)qe[We+Ge]=$e[ze+Ge]},flattenChunks:function(qe){return[].concat.apply([],qe)}};Re.setTyped=function(qe){qe?(Re.Buf8=Uint8Array,Re.Buf16=Uint16Array,Re.Buf32=Int32Array,Re.assign(Re,Ue)):(Re.Buf8=Array,Re.Buf16=Array,Re.Buf32=Array,Re.assign(Re,De))},Re.setTyped(Me)},{}],42:[function(Te,Be,Re){var Me=Te("./common"),Ue=!0,De=!0;try{String.fromCharCode.apply(null,[0])}catch{Ue=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{De=!1}for(var qe=new Me.Buf8(256),$e=0;$e<256;$e++)qe[$e]=252<=$e?6:248<=$e?5:240<=$e?4:224<=$e?3:192<=$e?2:1;function ze(Xe,We){if(We<65537&&(Xe.subarray&&De||!Xe.subarray&&Ue))return String.fromCharCode.apply(null,Me.shrinkBuf(Xe,We));for(var Ge="",tn=0;tn<We;tn++)Ge+=String.fromCharCode(Xe[tn]);return Ge}qe[254]=qe[254]=1,Re.string2buf=function(Xe){var We,Ge,tn,en,an,Ye=Xe.length,Ze=0;for(en=0;en<Ye;en++)(64512&(Ge=Xe.charCodeAt(en)))==55296&&en+1<Ye&&(64512&(tn=Xe.charCodeAt(en+1)))==56320&&(Ge=65536+(Ge-55296<<10)+(tn-56320),en++),Ze+=Ge<128?1:Ge<2048?2:Ge<65536?3:4;for(We=new Me.Buf8(Ze),en=an=0;an<Ze;en++)(64512&(Ge=Xe.charCodeAt(en)))==55296&&en+1<Ye&&(64512&(tn=Xe.charCodeAt(en+1)))==56320&&(Ge=65536+(Ge-55296<<10)+(tn-56320),en++),Ge<128?We[an++]=Ge:(Ge<2048?We[an++]=192|Ge>>>6:(Ge<65536?We[an++]=224|Ge>>>12:(We[an++]=240|Ge>>>18,We[an++]=128|Ge>>>12&63),We[an++]=128|Ge>>>6&63),We[an++]=128|63&Ge);return We},Re.buf2binstring=function(Xe){return ze(Xe,Xe.length)},Re.binstring2buf=function(Xe){for(var We=new Me.Buf8(Xe.length),Ge=0,tn=We.length;Ge<tn;Ge++)We[Ge]=Xe.charCodeAt(Ge);return We},Re.buf2string=function(Xe,We){var Ge,tn,en,an,Ye=We||Xe.length,Ze=new Array(2*Ye);for(Ge=tn=0;Ge<Ye;)if((en=Xe[Ge++])<128)Ze[tn++]=en;else if(4<(an=qe[en]))Ze[tn++]=65533,Ge+=an-1;else{for(en&=an===2?31:an===3?15:7;1<an&&Ge<Ye;)en=en<<6|63&Xe[Ge++],an--;1<an?Ze[tn++]=65533:en<65536?Ze[tn++]=en:(en-=65536,Ze[tn++]=55296|en>>10&1023,Ze[tn++]=56320|1023&en)}return ze(Ze,tn)},Re.utf8border=function(Xe,We){var Ge;for((We=We||Xe.length)>Xe.length&&(We=Xe.length),Ge=We-1;0<=Ge&&(192&Xe[Ge])==128;)Ge--;return Ge<0||Ge===0?We:Ge+qe[Xe[Ge]]>We?Ge:We}},{"./common":41}],43:[function(Te,Be,Re){Be.exports=function(Me,Ue,De,qe){for(var $e=65535&Me|0,ze=Me>>>16&65535|0,Xe=0;De!==0;){for(De-=Xe=2e3<De?2e3:De;ze=ze+($e=$e+Ue[qe++]|0)|0,--Xe;);$e%=65521,ze%=65521}return $e|ze<<16|0}},{}],44:[function(Te,Be,Re){Be.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Te,Be,Re){var Me=(function(){for(var Ue,De=[],qe=0;qe<256;qe++){Ue=qe;for(var $e=0;$e<8;$e++)Ue=1&Ue?3988292384^Ue>>>1:Ue>>>1;De[qe]=Ue}return De})();Be.exports=function(Ue,De,qe,$e){var ze=Me,Xe=$e+qe;Ue^=-1;for(var We=$e;We<Xe;We++)Ue=Ue>>>8^ze[255&(Ue^De[We])];return-1^Ue}},{}],46:[function(Te,Be,Re){var Me,Ue=Te("../utils/common"),De=Te("./trees"),qe=Te("./adler32"),$e=Te("./crc32"),ze=Te("./messages"),Xe=0,We=4,Ge=0,tn=-2,en=-1,an=4,Ye=2,Ze=8,St=9,Qe=286,Je=30,on=19,hn=2*Qe+1,dn=15,sn=3,kn=258,Pn=kn+sn+1,_n=42,Mn=113,yn=1,zn=2,Ln=3,Vn=4;function On(vn,qn){return vn.msg=ze[qn],qn}function Un(vn){return(vn<<1)-(4<vn?9:0)}function jn(vn){for(var qn=vn.length;0<=--qn;)vn[qn]=0}function Gn(vn){var qn=vn.state,In=qn.pending;In>vn.avail_out&&(In=vn.avail_out),In!==0&&(Ue.arraySet(vn.output,qn.pending_buf,qn.pending_out,In,vn.next_out),vn.next_out+=In,qn.pending_out+=In,vn.total_out+=In,vn.avail_out-=In,qn.pending-=In,qn.pending===0&&(qn.pending_out=0))}function An(vn,qn){De._tr_flush_block(vn,0<=vn.block_start?vn.block_start:-1,vn.strstart-vn.block_start,qn),vn.block_start=vn.strstart,Gn(vn.strm)}function $n(vn,qn){vn.pending_buf[vn.pending++]=qn}function Nn(vn,qn){vn.pending_buf[vn.pending++]=qn>>>8&255,vn.pending_buf[vn.pending++]=255&qn}function En(vn,qn){var In,cn,bn=vn.max_chain_length,Cn=vn.strstart,Yn=vn.prev_length,Jn=vn.nice_match,er=vn.strstart>vn.w_size-Pn?vn.strstart-(vn.w_size-Pn):0,ur=vn.window,dr=vn.w_mask,br=vn.prev,yr=vn.strstart+kn,jr=ur[Cn+Yn-1],Gr=ur[Cn+Yn];vn.prev_length>=vn.good_match&&(bn>>=2),Jn>vn.lookahead&&(Jn=vn.lookahead);do if(ur[(In=qn)+Yn]===Gr&&ur[In+Yn-1]===jr&&ur[In]===ur[Cn]&&ur[++In]===ur[Cn+1]){Cn+=2,In++;do;while(ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&ur[++Cn]===ur[++In]&&Cn<yr);if(cn=kn-(yr-Cn),Cn=yr-kn,Yn<cn){if(vn.match_start=qn,Jn<=(Yn=cn))break;jr=ur[Cn+Yn-1],Gr=ur[Cn+Yn]}}while((qn=br[qn&dr])>er&&--bn!=0);return Yn<=vn.lookahead?Yn:vn.lookahead}function Sn(vn){var qn,In,cn,bn,Cn,Yn,Jn,er,ur,dr,br=vn.w_size;do{if(bn=vn.window_size-vn.lookahead-vn.strstart,vn.strstart>=br+(br-Pn)){for(Ue.arraySet(vn.window,vn.window,br,br,0),vn.match_start-=br,vn.strstart-=br,vn.block_start-=br,qn=In=vn.hash_size;cn=vn.head[--qn],vn.head[qn]=br<=cn?cn-br:0,--In;);for(qn=In=br;cn=vn.prev[--qn],vn.prev[qn]=br<=cn?cn-br:0,--In;);bn+=br}if(vn.strm.avail_in===0)break;if(Yn=vn.strm,Jn=vn.window,er=vn.strstart+vn.lookahead,ur=bn,dr=void 0,dr=Yn.avail_in,ur<dr&&(dr=ur),In=dr===0?0:(Yn.avail_in-=dr,Ue.arraySet(Jn,Yn.input,Yn.next_in,dr,er),Yn.state.wrap===1?Yn.adler=qe(Yn.adler,Jn,dr,er):Yn.state.wrap===2&&(Yn.adler=$e(Yn.adler,Jn,dr,er)),Yn.next_in+=dr,Yn.total_in+=dr,dr),vn.lookahead+=In,vn.lookahead+vn.insert>=sn)for(Cn=vn.strstart-vn.insert,vn.ins_h=vn.window[Cn],vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[Cn+1])&vn.hash_mask;vn.insert&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[Cn+sn-1])&vn.hash_mask,vn.prev[Cn&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=Cn,Cn++,vn.insert--,!(vn.lookahead+vn.insert<sn)););}while(vn.lookahead<Pn&&vn.strm.avail_in!==0)}function pn(vn,qn){for(var In,cn;;){if(vn.lookahead<Pn){if(Sn(vn),vn.lookahead<Pn&&qn===Xe)return yn;if(vn.lookahead===0)break}if(In=0,vn.lookahead>=sn&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+sn-1])&vn.hash_mask,In=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),In!==0&&vn.strstart-In<=vn.w_size-Pn&&(vn.match_length=En(vn,In)),vn.match_length>=sn)if(cn=De._tr_tally(vn,vn.strstart-vn.match_start,vn.match_length-sn),vn.lookahead-=vn.match_length,vn.match_length<=vn.max_lazy_match&&vn.lookahead>=sn){for(vn.match_length--;vn.strstart++,vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+sn-1])&vn.hash_mask,In=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart,--vn.match_length!=0;);vn.strstart++}else vn.strstart+=vn.match_length,vn.match_length=0,vn.ins_h=vn.window[vn.strstart],vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+1])&vn.hash_mask;else cn=De._tr_tally(vn,0,vn.window[vn.strstart]),vn.lookahead--,vn.strstart++;if(cn&&(An(vn,!1),vn.strm.avail_out===0))return yn}return vn.insert=vn.strstart<sn-1?vn.strstart:sn-1,qn===We?(An(vn,!0),vn.strm.avail_out===0?Ln:Vn):vn.last_lit&&(An(vn,!1),vn.strm.avail_out===0)?yn:zn}function mn(vn,qn){for(var In,cn,bn;;){if(vn.lookahead<Pn){if(Sn(vn),vn.lookahead<Pn&&qn===Xe)return yn;if(vn.lookahead===0)break}if(In=0,vn.lookahead>=sn&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+sn-1])&vn.hash_mask,In=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),vn.prev_length=vn.match_length,vn.prev_match=vn.match_start,vn.match_length=sn-1,In!==0&&vn.prev_length<vn.max_lazy_match&&vn.strstart-In<=vn.w_size-Pn&&(vn.match_length=En(vn,In),vn.match_length<=5&&(vn.strategy===1||vn.match_length===sn&&4096<vn.strstart-vn.match_start)&&(vn.match_length=sn-1)),vn.prev_length>=sn&&vn.match_length<=vn.prev_length){for(bn=vn.strstart+vn.lookahead-sn,cn=De._tr_tally(vn,vn.strstart-1-vn.prev_match,vn.prev_length-sn),vn.lookahead-=vn.prev_length-1,vn.prev_length-=2;++vn.strstart<=bn&&(vn.ins_h=(vn.ins_h<<vn.hash_shift^vn.window[vn.strstart+sn-1])&vn.hash_mask,In=vn.prev[vn.strstart&vn.w_mask]=vn.head[vn.ins_h],vn.head[vn.ins_h]=vn.strstart),--vn.prev_length!=0;);if(vn.match_available=0,vn.match_length=sn-1,vn.strstart++,cn&&(An(vn,!1),vn.strm.avail_out===0))return yn}else if(vn.match_available){if((cn=De._tr_tally(vn,0,vn.window[vn.strstart-1]))&&An(vn,!1),vn.strstart++,vn.lookahead--,vn.strm.avail_out===0)return yn}else vn.match_available=1,vn.strstart++,vn.lookahead--}return vn.match_available&&(cn=De._tr_tally(vn,0,vn.window[vn.strstart-1]),vn.match_available=0),vn.insert=vn.strstart<sn-1?vn.strstart:sn-1,qn===We?(An(vn,!0),vn.strm.avail_out===0?Ln:Vn):vn.last_lit&&(An(vn,!1),vn.strm.avail_out===0)?yn:zn}function un(vn,qn,In,cn,bn){this.good_length=vn,this.max_lazy=qn,this.nice_length=In,this.max_chain=cn,this.func=bn}function wn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ze,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ue.Buf16(2*hn),this.dyn_dtree=new Ue.Buf16(2*(2*Je+1)),this.bl_tree=new Ue.Buf16(2*(2*on+1)),jn(this.dyn_ltree),jn(this.dyn_dtree),jn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ue.Buf16(dn+1),this.heap=new Ue.Buf16(2*Qe+1),jn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ue.Buf16(2*Qe+1),jn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xn(vn){var qn;return vn&&vn.state?(vn.total_in=vn.total_out=0,vn.data_type=Ye,(qn=vn.state).pending=0,qn.pending_out=0,qn.wrap<0&&(qn.wrap=-qn.wrap),qn.status=qn.wrap?_n:Mn,vn.adler=qn.wrap===2?0:1,qn.last_flush=Xe,De._tr_init(qn),Ge):On(vn,tn)}function Rn(vn){var qn=xn(vn);return qn===Ge&&(function(In){In.window_size=2*In.w_size,jn(In.head),In.max_lazy_match=Me[In.level].max_lazy,In.good_match=Me[In.level].good_length,In.nice_match=Me[In.level].nice_length,In.max_chain_length=Me[In.level].max_chain,In.strstart=0,In.block_start=0,In.lookahead=0,In.insert=0,In.match_length=In.prev_length=sn-1,In.match_available=0,In.ins_h=0})(vn.state),qn}function Hn(vn,qn,In,cn,bn,Cn){if(!vn)return tn;var Yn=1;if(qn===en&&(qn=6),cn<0?(Yn=0,cn=-cn):15<cn&&(Yn=2,cn-=16),bn<1||St<bn||In!==Ze||cn<8||15<cn||qn<0||9<qn||Cn<0||an<Cn)return On(vn,tn);cn===8&&(cn=9);var Jn=new wn;return(vn.state=Jn).strm=vn,Jn.wrap=Yn,Jn.gzhead=null,Jn.w_bits=cn,Jn.w_size=1<<Jn.w_bits,Jn.w_mask=Jn.w_size-1,Jn.hash_bits=bn+7,Jn.hash_size=1<<Jn.hash_bits,Jn.hash_mask=Jn.hash_size-1,Jn.hash_shift=~~((Jn.hash_bits+sn-1)/sn),Jn.window=new Ue.Buf8(2*Jn.w_size),Jn.head=new Ue.Buf16(Jn.hash_size),Jn.prev=new Ue.Buf16(Jn.w_size),Jn.lit_bufsize=1<<bn+6,Jn.pending_buf_size=4*Jn.lit_bufsize,Jn.pending_buf=new Ue.Buf8(Jn.pending_buf_size),Jn.d_buf=1*Jn.lit_bufsize,Jn.l_buf=3*Jn.lit_bufsize,Jn.level=qn,Jn.strategy=Cn,Jn.method=In,Rn(vn)}Me=[new un(0,0,0,0,function(vn,qn){var In=65535;for(In>vn.pending_buf_size-5&&(In=vn.pending_buf_size-5);;){if(vn.lookahead<=1){if(Sn(vn),vn.lookahead===0&&qn===Xe)return yn;if(vn.lookahead===0)break}vn.strstart+=vn.lookahead,vn.lookahead=0;var cn=vn.block_start+In;if((vn.strstart===0||vn.strstart>=cn)&&(vn.lookahead=vn.strstart-cn,vn.strstart=cn,An(vn,!1),vn.strm.avail_out===0)||vn.strstart-vn.block_start>=vn.w_size-Pn&&(An(vn,!1),vn.strm.avail_out===0))return yn}return vn.insert=0,qn===We?(An(vn,!0),vn.strm.avail_out===0?Ln:Vn):(vn.strstart>vn.block_start&&(An(vn,!1),vn.strm.avail_out),yn)}),new un(4,4,8,4,pn),new un(4,5,16,8,pn),new un(4,6,32,32,pn),new un(4,4,16,16,mn),new un(8,16,32,32,mn),new un(8,16,128,128,mn),new un(8,32,128,256,mn),new un(32,128,258,1024,mn),new un(32,258,258,4096,mn)],Re.deflateInit=function(vn,qn){return Hn(vn,qn,Ze,15,8,0)},Re.deflateInit2=Hn,Re.deflateReset=Rn,Re.deflateResetKeep=xn,Re.deflateSetHeader=function(vn,qn){return vn&&vn.state?vn.state.wrap!==2?tn:(vn.state.gzhead=qn,Ge):tn},Re.deflate=function(vn,qn){var In,cn,bn,Cn;if(!vn||!vn.state||5<qn||qn<0)return vn?On(vn,tn):tn;if(cn=vn.state,!vn.output||!vn.input&&vn.avail_in!==0||cn.status===666&&qn!==We)return On(vn,vn.avail_out===0?-5:tn);if(cn.strm=vn,In=cn.last_flush,cn.last_flush=qn,cn.status===_n)if(cn.wrap===2)vn.adler=0,$n(cn,31),$n(cn,139),$n(cn,8),cn.gzhead?($n(cn,(cn.gzhead.text?1:0)+(cn.gzhead.hcrc?2:0)+(cn.gzhead.extra?4:0)+(cn.gzhead.name?8:0)+(cn.gzhead.comment?16:0)),$n(cn,255&cn.gzhead.time),$n(cn,cn.gzhead.time>>8&255),$n(cn,cn.gzhead.time>>16&255),$n(cn,cn.gzhead.time>>24&255),$n(cn,cn.level===9?2:2<=cn.strategy||cn.level<2?4:0),$n(cn,255&cn.gzhead.os),cn.gzhead.extra&&cn.gzhead.extra.length&&($n(cn,255&cn.gzhead.extra.length),$n(cn,cn.gzhead.extra.length>>8&255)),cn.gzhead.hcrc&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending,0)),cn.gzindex=0,cn.status=69):($n(cn,0),$n(cn,0),$n(cn,0),$n(cn,0),$n(cn,0),$n(cn,cn.level===9?2:2<=cn.strategy||cn.level<2?4:0),$n(cn,3),cn.status=Mn);else{var Yn=Ze+(cn.w_bits-8<<4)<<8;Yn|=(2<=cn.strategy||cn.level<2?0:cn.level<6?1:cn.level===6?2:3)<<6,cn.strstart!==0&&(Yn|=32),Yn+=31-Yn%31,cn.status=Mn,Nn(cn,Yn),cn.strstart!==0&&(Nn(cn,vn.adler>>>16),Nn(cn,65535&vn.adler)),vn.adler=1}if(cn.status===69)if(cn.gzhead.extra){for(bn=cn.pending;cn.gzindex<(65535&cn.gzhead.extra.length)&&(cn.pending!==cn.pending_buf_size||(cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),Gn(vn),bn=cn.pending,cn.pending!==cn.pending_buf_size));)$n(cn,255&cn.gzhead.extra[cn.gzindex]),cn.gzindex++;cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),cn.gzindex===cn.gzhead.extra.length&&(cn.gzindex=0,cn.status=73)}else cn.status=73;if(cn.status===73)if(cn.gzhead.name){bn=cn.pending;do{if(cn.pending===cn.pending_buf_size&&(cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),Gn(vn),bn=cn.pending,cn.pending===cn.pending_buf_size)){Cn=1;break}Cn=cn.gzindex<cn.gzhead.name.length?255&cn.gzhead.name.charCodeAt(cn.gzindex++):0,$n(cn,Cn)}while(Cn!==0);cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),Cn===0&&(cn.gzindex=0,cn.status=91)}else cn.status=91;if(cn.status===91)if(cn.gzhead.comment){bn=cn.pending;do{if(cn.pending===cn.pending_buf_size&&(cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),Gn(vn),bn=cn.pending,cn.pending===cn.pending_buf_size)){Cn=1;break}Cn=cn.gzindex<cn.gzhead.comment.length?255&cn.gzhead.comment.charCodeAt(cn.gzindex++):0,$n(cn,Cn)}while(Cn!==0);cn.gzhead.hcrc&&cn.pending>bn&&(vn.adler=$e(vn.adler,cn.pending_buf,cn.pending-bn,bn)),Cn===0&&(cn.status=103)}else cn.status=103;if(cn.status===103&&(cn.gzhead.hcrc?(cn.pending+2>cn.pending_buf_size&&Gn(vn),cn.pending+2<=cn.pending_buf_size&&($n(cn,255&vn.adler),$n(cn,vn.adler>>8&255),vn.adler=0,cn.status=Mn)):cn.status=Mn),cn.pending!==0){if(Gn(vn),vn.avail_out===0)return cn.last_flush=-1,Ge}else if(vn.avail_in===0&&Un(qn)<=Un(In)&&qn!==We)return On(vn,-5);if(cn.status===666&&vn.avail_in!==0)return On(vn,-5);if(vn.avail_in!==0||cn.lookahead!==0||qn!==Xe&&cn.status!==666){var Jn=cn.strategy===2?(function(er,ur){for(var dr;;){if(er.lookahead===0&&(Sn(er),er.lookahead===0)){if(ur===Xe)return yn;break}if(er.match_length=0,dr=De._tr_tally(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++,dr&&(An(er,!1),er.strm.avail_out===0))return yn}return er.insert=0,ur===We?(An(er,!0),er.strm.avail_out===0?Ln:Vn):er.last_lit&&(An(er,!1),er.strm.avail_out===0)?yn:zn})(cn,qn):cn.strategy===3?(function(er,ur){for(var dr,br,yr,jr,Gr=er.window;;){if(er.lookahead<=kn){if(Sn(er),er.lookahead<=kn&&ur===Xe)return yn;if(er.lookahead===0)break}if(er.match_length=0,er.lookahead>=sn&&0<er.strstart&&(br=Gr[yr=er.strstart-1])===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]){jr=er.strstart+kn;do;while(br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&br===Gr[++yr]&&yr<jr);er.match_length=kn-(jr-yr),er.match_length>er.lookahead&&(er.match_length=er.lookahead)}if(er.match_length>=sn?(dr=De._tr_tally(er,1,er.match_length-sn),er.lookahead-=er.match_length,er.strstart+=er.match_length,er.match_length=0):(dr=De._tr_tally(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++),dr&&(An(er,!1),er.strm.avail_out===0))return yn}return er.insert=0,ur===We?(An(er,!0),er.strm.avail_out===0?Ln:Vn):er.last_lit&&(An(er,!1),er.strm.avail_out===0)?yn:zn})(cn,qn):Me[cn.level].func(cn,qn);if(Jn!==Ln&&Jn!==Vn||(cn.status=666),Jn===yn||Jn===Ln)return vn.avail_out===0&&(cn.last_flush=-1),Ge;if(Jn===zn&&(qn===1?De._tr_align(cn):qn!==5&&(De._tr_stored_block(cn,0,0,!1),qn===3&&(jn(cn.head),cn.lookahead===0&&(cn.strstart=0,cn.block_start=0,cn.insert=0))),Gn(vn),vn.avail_out===0))return cn.last_flush=-1,Ge}return qn!==We?Ge:cn.wrap<=0?1:(cn.wrap===2?($n(cn,255&vn.adler),$n(cn,vn.adler>>8&255),$n(cn,vn.adler>>16&255),$n(cn,vn.adler>>24&255),$n(cn,255&vn.total_in),$n(cn,vn.total_in>>8&255),$n(cn,vn.total_in>>16&255),$n(cn,vn.total_in>>24&255)):(Nn(cn,vn.adler>>>16),Nn(cn,65535&vn.adler)),Gn(vn),0<cn.wrap&&(cn.wrap=-cn.wrap),cn.pending!==0?Ge:1)},Re.deflateEnd=function(vn){var qn;return vn&&vn.state?(qn=vn.state.status)!==_n&&qn!==69&&qn!==73&&qn!==91&&qn!==103&&qn!==Mn&&qn!==666?On(vn,tn):(vn.state=null,qn===Mn?On(vn,-3):Ge):tn},Re.deflateSetDictionary=function(vn,qn){var In,cn,bn,Cn,Yn,Jn,er,ur,dr=qn.length;if(!vn||!vn.state||(Cn=(In=vn.state).wrap)===2||Cn===1&&In.status!==_n||In.lookahead)return tn;for(Cn===1&&(vn.adler=qe(vn.adler,qn,dr,0)),In.wrap=0,dr>=In.w_size&&(Cn===0&&(jn(In.head),In.strstart=0,In.block_start=0,In.insert=0),ur=new Ue.Buf8(In.w_size),Ue.arraySet(ur,qn,dr-In.w_size,In.w_size,0),qn=ur,dr=In.w_size),Yn=vn.avail_in,Jn=vn.next_in,er=vn.input,vn.avail_in=dr,vn.next_in=0,vn.input=qn,Sn(In);In.lookahead>=sn;){for(cn=In.strstart,bn=In.lookahead-(sn-1);In.ins_h=(In.ins_h<<In.hash_shift^In.window[cn+sn-1])&In.hash_mask,In.prev[cn&In.w_mask]=In.head[In.ins_h],In.head[In.ins_h]=cn,cn++,--bn;);In.strstart=cn,In.lookahead=sn-1,Sn(In)}return In.strstart+=In.lookahead,In.block_start=In.strstart,In.insert=In.lookahead,In.lookahead=0,In.match_length=In.prev_length=sn-1,In.match_available=0,vn.next_in=Jn,vn.input=er,vn.avail_in=Yn,In.wrap=Cn,Ge},Re.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Te,Be,Re){Be.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Te,Be,Re){Be.exports=function(Me,Ue){var De,qe,$e,ze,Xe,We,Ge,tn,en,an,Ye,Ze,St,Qe,Je,on,hn,dn,sn,kn,Pn,_n,Mn,yn,zn;De=Me.state,qe=Me.next_in,yn=Me.input,$e=qe+(Me.avail_in-5),ze=Me.next_out,zn=Me.output,Xe=ze-(Ue-Me.avail_out),We=ze+(Me.avail_out-257),Ge=De.dmax,tn=De.wsize,en=De.whave,an=De.wnext,Ye=De.window,Ze=De.hold,St=De.bits,Qe=De.lencode,Je=De.distcode,on=(1<<De.lenbits)-1,hn=(1<<De.distbits)-1;e:do{St<15&&(Ze+=yn[qe++]<<St,St+=8,Ze+=yn[qe++]<<St,St+=8),dn=Qe[Ze&on];t:for(;;){if(Ze>>>=sn=dn>>>24,St-=sn,(sn=dn>>>16&255)===0)zn[ze++]=65535&dn;else{if(!(16&sn)){if((64&sn)==0){dn=Qe[(65535&dn)+(Ze&(1<<sn)-1)];continue t}if(32&sn){De.mode=12;break e}Me.msg="invalid literal/length code",De.mode=30;break e}kn=65535&dn,(sn&=15)&&(St<sn&&(Ze+=yn[qe++]<<St,St+=8),kn+=Ze&(1<<sn)-1,Ze>>>=sn,St-=sn),St<15&&(Ze+=yn[qe++]<<St,St+=8,Ze+=yn[qe++]<<St,St+=8),dn=Je[Ze&hn];n:for(;;){if(Ze>>>=sn=dn>>>24,St-=sn,!(16&(sn=dn>>>16&255))){if((64&sn)==0){dn=Je[(65535&dn)+(Ze&(1<<sn)-1)];continue n}Me.msg="invalid distance code",De.mode=30;break e}if(Pn=65535&dn,St<(sn&=15)&&(Ze+=yn[qe++]<<St,(St+=8)<sn&&(Ze+=yn[qe++]<<St,St+=8)),Ge<(Pn+=Ze&(1<<sn)-1)){Me.msg="invalid distance too far back",De.mode=30;break e}if(Ze>>>=sn,St-=sn,(sn=ze-Xe)<Pn){if(en<(sn=Pn-sn)&&De.sane){Me.msg="invalid distance too far back",De.mode=30;break e}if(Mn=Ye,(_n=0)===an){if(_n+=tn-sn,sn<kn){for(kn-=sn;zn[ze++]=Ye[_n++],--sn;);_n=ze-Pn,Mn=zn}}else if(an<sn){if(_n+=tn+an-sn,(sn-=an)<kn){for(kn-=sn;zn[ze++]=Ye[_n++],--sn;);if(_n=0,an<kn){for(kn-=sn=an;zn[ze++]=Ye[_n++],--sn;);_n=ze-Pn,Mn=zn}}}else if(_n+=an-sn,sn<kn){for(kn-=sn;zn[ze++]=Ye[_n++],--sn;);_n=ze-Pn,Mn=zn}for(;2<kn;)zn[ze++]=Mn[_n++],zn[ze++]=Mn[_n++],zn[ze++]=Mn[_n++],kn-=3;kn&&(zn[ze++]=Mn[_n++],1<kn&&(zn[ze++]=Mn[_n++]))}else{for(_n=ze-Pn;zn[ze++]=zn[_n++],zn[ze++]=zn[_n++],zn[ze++]=zn[_n++],2<(kn-=3););kn&&(zn[ze++]=zn[_n++],1<kn&&(zn[ze++]=zn[_n++]))}break}}break}}while(qe<$e&&ze<We);qe-=kn=St>>3,Ze&=(1<<(St-=kn<<3))-1,Me.next_in=qe,Me.next_out=ze,Me.avail_in=qe<$e?$e-qe+5:5-(qe-$e),Me.avail_out=ze<We?We-ze+257:257-(ze-We),De.hold=Ze,De.bits=St}},{}],49:[function(Te,Be,Re){var Me=Te("../utils/common"),Ue=Te("./adler32"),De=Te("./crc32"),qe=Te("./inffast"),$e=Te("./inftrees"),ze=1,Xe=2,We=0,Ge=-2,tn=1,en=852,an=592;function Ye(_n){return(_n>>>24&255)+(_n>>>8&65280)+((65280&_n)<<8)+((255&_n)<<24)}function Ze(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Me.Buf16(320),this.work=new Me.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function St(_n){var Mn;return _n&&_n.state?(Mn=_n.state,_n.total_in=_n.total_out=Mn.total=0,_n.msg="",Mn.wrap&&(_n.adler=1&Mn.wrap),Mn.mode=tn,Mn.last=0,Mn.havedict=0,Mn.dmax=32768,Mn.head=null,Mn.hold=0,Mn.bits=0,Mn.lencode=Mn.lendyn=new Me.Buf32(en),Mn.distcode=Mn.distdyn=new Me.Buf32(an),Mn.sane=1,Mn.back=-1,We):Ge}function Qe(_n){var Mn;return _n&&_n.state?((Mn=_n.state).wsize=0,Mn.whave=0,Mn.wnext=0,St(_n)):Ge}function Je(_n,Mn){var yn,zn;return _n&&_n.state?(zn=_n.state,Mn<0?(yn=0,Mn=-Mn):(yn=1+(Mn>>4),Mn<48&&(Mn&=15)),Mn&&(Mn<8||15<Mn)?Ge:(zn.window!==null&&zn.wbits!==Mn&&(zn.window=null),zn.wrap=yn,zn.wbits=Mn,Qe(_n))):Ge}function on(_n,Mn){var yn,zn;return _n?(zn=new Ze,(_n.state=zn).window=null,(yn=Je(_n,Mn))!==We&&(_n.state=null),yn):Ge}var hn,dn,sn=!0;function kn(_n){if(sn){var Mn;for(hn=new Me.Buf32(512),dn=new Me.Buf32(32),Mn=0;Mn<144;)_n.lens[Mn++]=8;for(;Mn<256;)_n.lens[Mn++]=9;for(;Mn<280;)_n.lens[Mn++]=7;for(;Mn<288;)_n.lens[Mn++]=8;for($e(ze,_n.lens,0,288,hn,0,_n.work,{bits:9}),Mn=0;Mn<32;)_n.lens[Mn++]=5;$e(Xe,_n.lens,0,32,dn,0,_n.work,{bits:5}),sn=!1}_n.lencode=hn,_n.lenbits=9,_n.distcode=dn,_n.distbits=5}function Pn(_n,Mn,yn,zn){var Ln,Vn=_n.state;return Vn.window===null&&(Vn.wsize=1<<Vn.wbits,Vn.wnext=0,Vn.whave=0,Vn.window=new Me.Buf8(Vn.wsize)),zn>=Vn.wsize?(Me.arraySet(Vn.window,Mn,yn-Vn.wsize,Vn.wsize,0),Vn.wnext=0,Vn.whave=Vn.wsize):(zn<(Ln=Vn.wsize-Vn.wnext)&&(Ln=zn),Me.arraySet(Vn.window,Mn,yn-zn,Ln,Vn.wnext),(zn-=Ln)?(Me.arraySet(Vn.window,Mn,yn-zn,zn,0),Vn.wnext=zn,Vn.whave=Vn.wsize):(Vn.wnext+=Ln,Vn.wnext===Vn.wsize&&(Vn.wnext=0),Vn.whave<Vn.wsize&&(Vn.whave+=Ln))),0}Re.inflateReset=Qe,Re.inflateReset2=Je,Re.inflateResetKeep=St,Re.inflateInit=function(_n){return on(_n,15)},Re.inflateInit2=on,Re.inflate=function(_n,Mn){var yn,zn,Ln,Vn,On,Un,jn,Gn,An,$n,Nn,En,Sn,pn,mn,un,wn,xn,Rn,Hn,vn,qn,In,cn,bn=0,Cn=new Me.Buf8(4),Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_n||!_n.state||!_n.output||!_n.input&&_n.avail_in!==0)return Ge;(yn=_n.state).mode===12&&(yn.mode=13),On=_n.next_out,Ln=_n.output,jn=_n.avail_out,Vn=_n.next_in,zn=_n.input,Un=_n.avail_in,Gn=yn.hold,An=yn.bits,$n=Un,Nn=jn,qn=We;e:for(;;)switch(yn.mode){case tn:if(yn.wrap===0){yn.mode=13;break}for(;An<16;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(2&yn.wrap&&Gn===35615){Cn[yn.check=0]=255&Gn,Cn[1]=Gn>>>8&255,yn.check=De(yn.check,Cn,2,0),An=Gn=0,yn.mode=2;break}if(yn.flags=0,yn.head&&(yn.head.done=!1),!(1&yn.wrap)||(((255&Gn)<<8)+(Gn>>8))%31){_n.msg="incorrect header check",yn.mode=30;break}if((15&Gn)!=8){_n.msg="unknown compression method",yn.mode=30;break}if(An-=4,vn=8+(15&(Gn>>>=4)),yn.wbits===0)yn.wbits=vn;else if(vn>yn.wbits){_n.msg="invalid window size",yn.mode=30;break}yn.dmax=1<<vn,_n.adler=yn.check=1,yn.mode=512&Gn?10:12,An=Gn=0;break;case 2:for(;An<16;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(yn.flags=Gn,(255&yn.flags)!=8){_n.msg="unknown compression method",yn.mode=30;break}if(57344&yn.flags){_n.msg="unknown header flags set",yn.mode=30;break}yn.head&&(yn.head.text=Gn>>8&1),512&yn.flags&&(Cn[0]=255&Gn,Cn[1]=Gn>>>8&255,yn.check=De(yn.check,Cn,2,0)),An=Gn=0,yn.mode=3;case 3:for(;An<32;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.head&&(yn.head.time=Gn),512&yn.flags&&(Cn[0]=255&Gn,Cn[1]=Gn>>>8&255,Cn[2]=Gn>>>16&255,Cn[3]=Gn>>>24&255,yn.check=De(yn.check,Cn,4,0)),An=Gn=0,yn.mode=4;case 4:for(;An<16;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.head&&(yn.head.xflags=255&Gn,yn.head.os=Gn>>8),512&yn.flags&&(Cn[0]=255&Gn,Cn[1]=Gn>>>8&255,yn.check=De(yn.check,Cn,2,0)),An=Gn=0,yn.mode=5;case 5:if(1024&yn.flags){for(;An<16;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.length=Gn,yn.head&&(yn.head.extra_len=Gn),512&yn.flags&&(Cn[0]=255&Gn,Cn[1]=Gn>>>8&255,yn.check=De(yn.check,Cn,2,0)),An=Gn=0}else yn.head&&(yn.head.extra=null);yn.mode=6;case 6:if(1024&yn.flags&&(Un<(En=yn.length)&&(En=Un),En&&(yn.head&&(vn=yn.head.extra_len-yn.length,yn.head.extra||(yn.head.extra=new Array(yn.head.extra_len)),Me.arraySet(yn.head.extra,zn,Vn,En,vn)),512&yn.flags&&(yn.check=De(yn.check,zn,En,Vn)),Un-=En,Vn+=En,yn.length-=En),yn.length))break e;yn.length=0,yn.mode=7;case 7:if(2048&yn.flags){if(Un===0)break e;for(En=0;vn=zn[Vn+En++],yn.head&&vn&&yn.length<65536&&(yn.head.name+=String.fromCharCode(vn)),vn&&En<Un;);if(512&yn.flags&&(yn.check=De(yn.check,zn,En,Vn)),Un-=En,Vn+=En,vn)break e}else yn.head&&(yn.head.name=null);yn.length=0,yn.mode=8;case 8:if(4096&yn.flags){if(Un===0)break e;for(En=0;vn=zn[Vn+En++],yn.head&&vn&&yn.length<65536&&(yn.head.comment+=String.fromCharCode(vn)),vn&&En<Un;);if(512&yn.flags&&(yn.check=De(yn.check,zn,En,Vn)),Un-=En,Vn+=En,vn)break e}else yn.head&&(yn.head.comment=null);yn.mode=9;case 9:if(512&yn.flags){for(;An<16;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(Gn!==(65535&yn.check)){_n.msg="header crc mismatch",yn.mode=30;break}An=Gn=0}yn.head&&(yn.head.hcrc=yn.flags>>9&1,yn.head.done=!0),_n.adler=yn.check=0,yn.mode=12;break;case 10:for(;An<32;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}_n.adler=yn.check=Ye(Gn),An=Gn=0,yn.mode=11;case 11:if(yn.havedict===0)return _n.next_out=On,_n.avail_out=jn,_n.next_in=Vn,_n.avail_in=Un,yn.hold=Gn,yn.bits=An,2;_n.adler=yn.check=1,yn.mode=12;case 12:if(Mn===5||Mn===6)break e;case 13:if(yn.last){Gn>>>=7&An,An-=7&An,yn.mode=27;break}for(;An<3;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}switch(yn.last=1&Gn,An-=1,3&(Gn>>>=1)){case 0:yn.mode=14;break;case 1:if(kn(yn),yn.mode=20,Mn!==6)break;Gn>>>=2,An-=2;break e;case 2:yn.mode=17;break;case 3:_n.msg="invalid block type",yn.mode=30}Gn>>>=2,An-=2;break;case 14:for(Gn>>>=7&An,An-=7&An;An<32;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if((65535&Gn)!=(Gn>>>16^65535)){_n.msg="invalid stored block lengths",yn.mode=30;break}if(yn.length=65535&Gn,An=Gn=0,yn.mode=15,Mn===6)break e;case 15:yn.mode=16;case 16:if(En=yn.length){if(Un<En&&(En=Un),jn<En&&(En=jn),En===0)break e;Me.arraySet(Ln,zn,Vn,En,On),Un-=En,Vn+=En,jn-=En,On+=En,yn.length-=En;break}yn.mode=12;break;case 17:for(;An<14;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(yn.nlen=257+(31&Gn),Gn>>>=5,An-=5,yn.ndist=1+(31&Gn),Gn>>>=5,An-=5,yn.ncode=4+(15&Gn),Gn>>>=4,An-=4,286<yn.nlen||30<yn.ndist){_n.msg="too many length or distance symbols",yn.mode=30;break}yn.have=0,yn.mode=18;case 18:for(;yn.have<yn.ncode;){for(;An<3;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.lens[Yn[yn.have++]]=7&Gn,Gn>>>=3,An-=3}for(;yn.have<19;)yn.lens[Yn[yn.have++]]=0;if(yn.lencode=yn.lendyn,yn.lenbits=7,In={bits:yn.lenbits},qn=$e(0,yn.lens,0,19,yn.lencode,0,yn.work,In),yn.lenbits=In.bits,qn){_n.msg="invalid code lengths set",yn.mode=30;break}yn.have=0,yn.mode=19;case 19:for(;yn.have<yn.nlen+yn.ndist;){for(;un=(bn=yn.lencode[Gn&(1<<yn.lenbits)-1])>>>16&255,wn=65535&bn,!((mn=bn>>>24)<=An);){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(wn<16)Gn>>>=mn,An-=mn,yn.lens[yn.have++]=wn;else{if(wn===16){for(cn=mn+2;An<cn;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(Gn>>>=mn,An-=mn,yn.have===0){_n.msg="invalid bit length repeat",yn.mode=30;break}vn=yn.lens[yn.have-1],En=3+(3&Gn),Gn>>>=2,An-=2}else if(wn===17){for(cn=mn+3;An<cn;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}An-=mn,vn=0,En=3+(7&(Gn>>>=mn)),Gn>>>=3,An-=3}else{for(cn=mn+7;An<cn;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}An-=mn,vn=0,En=11+(127&(Gn>>>=mn)),Gn>>>=7,An-=7}if(yn.have+En>yn.nlen+yn.ndist){_n.msg="invalid bit length repeat",yn.mode=30;break}for(;En--;)yn.lens[yn.have++]=vn}}if(yn.mode===30)break;if(yn.lens[256]===0){_n.msg="invalid code -- missing end-of-block",yn.mode=30;break}if(yn.lenbits=9,In={bits:yn.lenbits},qn=$e(ze,yn.lens,0,yn.nlen,yn.lencode,0,yn.work,In),yn.lenbits=In.bits,qn){_n.msg="invalid literal/lengths set",yn.mode=30;break}if(yn.distbits=6,yn.distcode=yn.distdyn,In={bits:yn.distbits},qn=$e(Xe,yn.lens,yn.nlen,yn.ndist,yn.distcode,0,yn.work,In),yn.distbits=In.bits,qn){_n.msg="invalid distances set",yn.mode=30;break}if(yn.mode=20,Mn===6)break e;case 20:yn.mode=21;case 21:if(6<=Un&&258<=jn){_n.next_out=On,_n.avail_out=jn,_n.next_in=Vn,_n.avail_in=Un,yn.hold=Gn,yn.bits=An,qe(_n,Nn),On=_n.next_out,Ln=_n.output,jn=_n.avail_out,Vn=_n.next_in,zn=_n.input,Un=_n.avail_in,Gn=yn.hold,An=yn.bits,yn.mode===12&&(yn.back=-1);break}for(yn.back=0;un=(bn=yn.lencode[Gn&(1<<yn.lenbits)-1])>>>16&255,wn=65535&bn,!((mn=bn>>>24)<=An);){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(un&&(240&un)==0){for(xn=mn,Rn=un,Hn=wn;un=(bn=yn.lencode[Hn+((Gn&(1<<xn+Rn)-1)>>xn)])>>>16&255,wn=65535&bn,!(xn+(mn=bn>>>24)<=An);){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}Gn>>>=xn,An-=xn,yn.back+=xn}if(Gn>>>=mn,An-=mn,yn.back+=mn,yn.length=wn,un===0){yn.mode=26;break}if(32&un){yn.back=-1,yn.mode=12;break}if(64&un){_n.msg="invalid literal/length code",yn.mode=30;break}yn.extra=15&un,yn.mode=22;case 22:if(yn.extra){for(cn=yn.extra;An<cn;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.length+=Gn&(1<<yn.extra)-1,Gn>>>=yn.extra,An-=yn.extra,yn.back+=yn.extra}yn.was=yn.length,yn.mode=23;case 23:for(;un=(bn=yn.distcode[Gn&(1<<yn.distbits)-1])>>>16&255,wn=65535&bn,!((mn=bn>>>24)<=An);){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if((240&un)==0){for(xn=mn,Rn=un,Hn=wn;un=(bn=yn.distcode[Hn+((Gn&(1<<xn+Rn)-1)>>xn)])>>>16&255,wn=65535&bn,!(xn+(mn=bn>>>24)<=An);){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}Gn>>>=xn,An-=xn,yn.back+=xn}if(Gn>>>=mn,An-=mn,yn.back+=mn,64&un){_n.msg="invalid distance code",yn.mode=30;break}yn.offset=wn,yn.extra=15&un,yn.mode=24;case 24:if(yn.extra){for(cn=yn.extra;An<cn;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}yn.offset+=Gn&(1<<yn.extra)-1,Gn>>>=yn.extra,An-=yn.extra,yn.back+=yn.extra}if(yn.offset>yn.dmax){_n.msg="invalid distance too far back",yn.mode=30;break}yn.mode=25;case 25:if(jn===0)break e;if(En=Nn-jn,yn.offset>En){if((En=yn.offset-En)>yn.whave&&yn.sane){_n.msg="invalid distance too far back",yn.mode=30;break}Sn=En>yn.wnext?(En-=yn.wnext,yn.wsize-En):yn.wnext-En,En>yn.length&&(En=yn.length),pn=yn.window}else pn=Ln,Sn=On-yn.offset,En=yn.length;for(jn<En&&(En=jn),jn-=En,yn.length-=En;Ln[On++]=pn[Sn++],--En;);yn.length===0&&(yn.mode=21);break;case 26:if(jn===0)break e;Ln[On++]=yn.length,jn--,yn.mode=21;break;case 27:if(yn.wrap){for(;An<32;){if(Un===0)break e;Un--,Gn|=zn[Vn++]<<An,An+=8}if(Nn-=jn,_n.total_out+=Nn,yn.total+=Nn,Nn&&(_n.adler=yn.check=yn.flags?De(yn.check,Ln,Nn,On-Nn):Ue(yn.check,Ln,Nn,On-Nn)),Nn=jn,(yn.flags?Gn:Ye(Gn))!==yn.check){_n.msg="incorrect data check",yn.mode=30;break}An=Gn=0}yn.mode=28;case 28:if(yn.wrap&&yn.flags){for(;An<32;){if(Un===0)break e;Un--,Gn+=zn[Vn++]<<An,An+=8}if(Gn!==(4294967295&yn.total)){_n.msg="incorrect length check",yn.mode=30;break}An=Gn=0}yn.mode=29;case 29:qn=1;break e;case 30:qn=-3;break e;case 31:return-4;case 32:default:return Ge}return _n.next_out=On,_n.avail_out=jn,_n.next_in=Vn,_n.avail_in=Un,yn.hold=Gn,yn.bits=An,(yn.wsize||Nn!==_n.avail_out&&yn.mode<30&&(yn.mode<27||Mn!==4))&&Pn(_n,_n.output,_n.next_out,Nn-_n.avail_out)?(yn.mode=31,-4):($n-=_n.avail_in,Nn-=_n.avail_out,_n.total_in+=$n,_n.total_out+=Nn,yn.total+=Nn,yn.wrap&&Nn&&(_n.adler=yn.check=yn.flags?De(yn.check,Ln,Nn,_n.next_out-Nn):Ue(yn.check,Ln,Nn,_n.next_out-Nn)),_n.data_type=yn.bits+(yn.last?64:0)+(yn.mode===12?128:0)+(yn.mode===20||yn.mode===15?256:0),($n==0&&Nn===0||Mn===4)&&qn===We&&(qn=-5),qn)},Re.inflateEnd=function(_n){if(!_n||!_n.state)return Ge;var Mn=_n.state;return Mn.window&&(Mn.window=null),_n.state=null,We},Re.inflateGetHeader=function(_n,Mn){var yn;return _n&&_n.state?(2&(yn=_n.state).wrap)==0?Ge:((yn.head=Mn).done=!1,We):Ge},Re.inflateSetDictionary=function(_n,Mn){var yn,zn=Mn.length;return _n&&_n.state?(yn=_n.state).wrap!==0&&yn.mode!==11?Ge:yn.mode===11&&Ue(1,Mn,zn,0)!==yn.check?-3:Pn(_n,Mn,zn,zn)?(yn.mode=31,-4):(yn.havedict=1,We):Ge},Re.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Te,Be,Re){var Me=Te("../utils/common"),Ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],De=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],qe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Be.exports=function(ze,Xe,We,Ge,tn,en,an,Ye){var Ze,St,Qe,Je,on,hn,dn,sn,kn,Pn=Ye.bits,_n=0,Mn=0,yn=0,zn=0,Ln=0,Vn=0,On=0,Un=0,jn=0,Gn=0,An=null,$n=0,Nn=new Me.Buf16(16),En=new Me.Buf16(16),Sn=null,pn=0;for(_n=0;_n<=15;_n++)Nn[_n]=0;for(Mn=0;Mn<Ge;Mn++)Nn[Xe[We+Mn]]++;for(Ln=Pn,zn=15;1<=zn&&Nn[zn]===0;zn--);if(zn<Ln&&(Ln=zn),zn===0)return tn[en++]=20971520,tn[en++]=20971520,Ye.bits=1,0;for(yn=1;yn<zn&&Nn[yn]===0;yn++);for(Ln<yn&&(Ln=yn),_n=Un=1;_n<=15;_n++)if(Un<<=1,(Un-=Nn[_n])<0)return-1;if(0<Un&&(ze===0||zn!==1))return-1;for(En[1]=0,_n=1;_n<15;_n++)En[_n+1]=En[_n]+Nn[_n];for(Mn=0;Mn<Ge;Mn++)Xe[We+Mn]!==0&&(an[En[Xe[We+Mn]]++]=Mn);if(hn=ze===0?(An=Sn=an,19):ze===1?(An=Ue,$n-=257,Sn=De,pn-=257,256):(An=qe,Sn=$e,-1),_n=yn,on=en,On=Mn=Gn=0,Qe=-1,Je=(jn=1<<(Vn=Ln))-1,ze===1&&852<jn||ze===2&&592<jn)return 1;for(;;){for(dn=_n-On,kn=an[Mn]<hn?(sn=0,an[Mn]):an[Mn]>hn?(sn=Sn[pn+an[Mn]],An[$n+an[Mn]]):(sn=96,0),Ze=1<<_n-On,yn=St=1<<Vn;tn[on+(Gn>>On)+(St-=Ze)]=dn<<24|sn<<16|kn|0,St!==0;);for(Ze=1<<_n-1;Gn&Ze;)Ze>>=1;if(Ze!==0?(Gn&=Ze-1,Gn+=Ze):Gn=0,Mn++,--Nn[_n]==0){if(_n===zn)break;_n=Xe[We+an[Mn]]}if(Ln<_n&&(Gn&Je)!==Qe){for(On===0&&(On=Ln),on+=yn,Un=1<<(Vn=_n-On);Vn+On<zn&&!((Un-=Nn[Vn+On])<=0);)Vn++,Un<<=1;if(jn+=1<<Vn,ze===1&&852<jn||ze===2&&592<jn)return 1;tn[Qe=Gn&Je]=Ln<<24|Vn<<16|on-en|0}}return Gn!==0&&(tn[on+Gn]=_n-On<<24|64<<16|0),Ye.bits=Ln,0}},{"../utils/common":41}],51:[function(Te,Be,Re){Be.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Te,Be,Re){var Me=Te("../utils/common"),Ue=0,De=1;function qe(bn){for(var Cn=bn.length;0<=--Cn;)bn[Cn]=0}var $e=0,ze=29,Xe=256,We=Xe+1+ze,Ge=30,tn=19,en=2*We+1,an=15,Ye=16,Ze=7,St=256,Qe=16,Je=17,on=18,hn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],dn=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],sn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],kn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Pn=new Array(2*(We+2));qe(Pn);var _n=new Array(2*Ge);qe(_n);var Mn=new Array(512);qe(Mn);var yn=new Array(256);qe(yn);var zn=new Array(ze);qe(zn);var Ln,Vn,On,Un=new Array(Ge);function jn(bn,Cn,Yn,Jn,er){this.static_tree=bn,this.extra_bits=Cn,this.extra_base=Yn,this.elems=Jn,this.max_length=er,this.has_stree=bn&&bn.length}function Gn(bn,Cn){this.dyn_tree=bn,this.max_code=0,this.stat_desc=Cn}function An(bn){return bn<256?Mn[bn]:Mn[256+(bn>>>7)]}function $n(bn,Cn){bn.pending_buf[bn.pending++]=255&Cn,bn.pending_buf[bn.pending++]=Cn>>>8&255}function Nn(bn,Cn,Yn){bn.bi_valid>Ye-Yn?(bn.bi_buf|=Cn<<bn.bi_valid&65535,$n(bn,bn.bi_buf),bn.bi_buf=Cn>>Ye-bn.bi_valid,bn.bi_valid+=Yn-Ye):(bn.bi_buf|=Cn<<bn.bi_valid&65535,bn.bi_valid+=Yn)}function En(bn,Cn,Yn){Nn(bn,Yn[2*Cn],Yn[2*Cn+1])}function Sn(bn,Cn){for(var Yn=0;Yn|=1&bn,bn>>>=1,Yn<<=1,0<--Cn;);return Yn>>>1}function pn(bn,Cn,Yn){var Jn,er,ur=new Array(an+1),dr=0;for(Jn=1;Jn<=an;Jn++)ur[Jn]=dr=dr+Yn[Jn-1]<<1;for(er=0;er<=Cn;er++){var br=bn[2*er+1];br!==0&&(bn[2*er]=Sn(ur[br]++,br))}}function mn(bn){var Cn;for(Cn=0;Cn<We;Cn++)bn.dyn_ltree[2*Cn]=0;for(Cn=0;Cn<Ge;Cn++)bn.dyn_dtree[2*Cn]=0;for(Cn=0;Cn<tn;Cn++)bn.bl_tree[2*Cn]=0;bn.dyn_ltree[2*St]=1,bn.opt_len=bn.static_len=0,bn.last_lit=bn.matches=0}function un(bn){8<bn.bi_valid?$n(bn,bn.bi_buf):0<bn.bi_valid&&(bn.pending_buf[bn.pending++]=bn.bi_buf),bn.bi_buf=0,bn.bi_valid=0}function wn(bn,Cn,Yn,Jn){var er=2*Cn,ur=2*Yn;return bn[er]<bn[ur]||bn[er]===bn[ur]&&Jn[Cn]<=Jn[Yn]}function xn(bn,Cn,Yn){for(var Jn=bn.heap[Yn],er=Yn<<1;er<=bn.heap_len&&(er<bn.heap_len&&wn(Cn,bn.heap[er+1],bn.heap[er],bn.depth)&&er++,!wn(Cn,Jn,bn.heap[er],bn.depth));)bn.heap[Yn]=bn.heap[er],Yn=er,er<<=1;bn.heap[Yn]=Jn}function Rn(bn,Cn,Yn){var Jn,er,ur,dr,br=0;if(bn.last_lit!==0)for(;Jn=bn.pending_buf[bn.d_buf+2*br]<<8|bn.pending_buf[bn.d_buf+2*br+1],er=bn.pending_buf[bn.l_buf+br],br++,Jn===0?En(bn,er,Cn):(En(bn,(ur=yn[er])+Xe+1,Cn),(dr=hn[ur])!==0&&Nn(bn,er-=zn[ur],dr),En(bn,ur=An(--Jn),Yn),(dr=dn[ur])!==0&&Nn(bn,Jn-=Un[ur],dr)),br<bn.last_lit;);En(bn,St,Cn)}function Hn(bn,Cn){var Yn,Jn,er,ur=Cn.dyn_tree,dr=Cn.stat_desc.static_tree,br=Cn.stat_desc.has_stree,yr=Cn.stat_desc.elems,jr=-1;for(bn.heap_len=0,bn.heap_max=en,Yn=0;Yn<yr;Yn++)ur[2*Yn]!==0?(bn.heap[++bn.heap_len]=jr=Yn,bn.depth[Yn]=0):ur[2*Yn+1]=0;for(;bn.heap_len<2;)ur[2*(er=bn.heap[++bn.heap_len]=jr<2?++jr:0)]=1,bn.depth[er]=0,bn.opt_len--,br&&(bn.static_len-=dr[2*er+1]);for(Cn.max_code=jr,Yn=bn.heap_len>>1;1<=Yn;Yn--)xn(bn,ur,Yn);for(er=yr;Yn=bn.heap[1],bn.heap[1]=bn.heap[bn.heap_len--],xn(bn,ur,1),Jn=bn.heap[1],bn.heap[--bn.heap_max]=Yn,bn.heap[--bn.heap_max]=Jn,ur[2*er]=ur[2*Yn]+ur[2*Jn],bn.depth[er]=(bn.depth[Yn]>=bn.depth[Jn]?bn.depth[Yn]:bn.depth[Jn])+1,ur[2*Yn+1]=ur[2*Jn+1]=er,bn.heap[1]=er++,xn(bn,ur,1),2<=bn.heap_len;);bn.heap[--bn.heap_max]=bn.heap[1],(function(Gr,$r){var Dr,hr,Ur,Qr,ia,Er,Kr=$r.dyn_tree,na=$r.max_code,Pr=$r.stat_desc.static_tree,fr=$r.stat_desc.has_stree,gr=$r.stat_desc.extra_bits,Mr=$r.stat_desc.extra_base,sa=$r.stat_desc.max_length,aa=0;for(Qr=0;Qr<=an;Qr++)Gr.bl_count[Qr]=0;for(Kr[2*Gr.heap[Gr.heap_max]+1]=0,Dr=Gr.heap_max+1;Dr<en;Dr++)sa<(Qr=Kr[2*Kr[2*(hr=Gr.heap[Dr])+1]+1]+1)&&(Qr=sa,aa++),Kr[2*hr+1]=Qr,na<hr||(Gr.bl_count[Qr]++,ia=0,Mr<=hr&&(ia=gr[hr-Mr]),Er=Kr[2*hr],Gr.opt_len+=Er*(Qr+ia),fr&&(Gr.static_len+=Er*(Pr[2*hr+1]+ia)));if(aa!==0){do{for(Qr=sa-1;Gr.bl_count[Qr]===0;)Qr--;Gr.bl_count[Qr]--,Gr.bl_count[Qr+1]+=2,Gr.bl_count[sa]--,aa-=2}while(0<aa);for(Qr=sa;Qr!==0;Qr--)for(hr=Gr.bl_count[Qr];hr!==0;)na<(Ur=Gr.heap[--Dr])||(Kr[2*Ur+1]!==Qr&&(Gr.opt_len+=(Qr-Kr[2*Ur+1])*Kr[2*Ur],Kr[2*Ur+1]=Qr),hr--)}})(bn,Cn),pn(ur,jr,bn.bl_count)}function vn(bn,Cn,Yn){var Jn,er,ur=-1,dr=Cn[1],br=0,yr=7,jr=4;for(dr===0&&(yr=138,jr=3),Cn[2*(Yn+1)+1]=65535,Jn=0;Jn<=Yn;Jn++)er=dr,dr=Cn[2*(Jn+1)+1],++br<yr&&er===dr||(br<jr?bn.bl_tree[2*er]+=br:er!==0?(er!==ur&&bn.bl_tree[2*er]++,bn.bl_tree[2*Qe]++):br<=10?bn.bl_tree[2*Je]++:bn.bl_tree[2*on]++,ur=er,jr=(br=0)===dr?(yr=138,3):er===dr?(yr=6,3):(yr=7,4))}function qn(bn,Cn,Yn){var Jn,er,ur=-1,dr=Cn[1],br=0,yr=7,jr=4;for(dr===0&&(yr=138,jr=3),Jn=0;Jn<=Yn;Jn++)if(er=dr,dr=Cn[2*(Jn+1)+1],!(++br<yr&&er===dr)){if(br<jr)for(;En(bn,er,bn.bl_tree),--br!=0;);else er!==0?(er!==ur&&(En(bn,er,bn.bl_tree),br--),En(bn,Qe,bn.bl_tree),Nn(bn,br-3,2)):br<=10?(En(bn,Je,bn.bl_tree),Nn(bn,br-3,3)):(En(bn,on,bn.bl_tree),Nn(bn,br-11,7));ur=er,jr=(br=0)===dr?(yr=138,3):er===dr?(yr=6,3):(yr=7,4)}}qe(Un);var In=!1;function cn(bn,Cn,Yn,Jn){Nn(bn,($e<<1)+(Jn?1:0),3),(function(er,ur,dr,br){un(er),$n(er,dr),$n(er,~dr),Me.arraySet(er.pending_buf,er.window,ur,dr,er.pending),er.pending+=dr})(bn,Cn,Yn)}Re._tr_init=function(bn){In||((function(){var Cn,Yn,Jn,er,ur,dr=new Array(an+1);for(er=Jn=0;er<ze-1;er++)for(zn[er]=Jn,Cn=0;Cn<1<<hn[er];Cn++)yn[Jn++]=er;for(yn[Jn-1]=er,er=ur=0;er<16;er++)for(Un[er]=ur,Cn=0;Cn<1<<dn[er];Cn++)Mn[ur++]=er;for(ur>>=7;er<Ge;er++)for(Un[er]=ur<<7,Cn=0;Cn<1<<dn[er]-7;Cn++)Mn[256+ur++]=er;for(Yn=0;Yn<=an;Yn++)dr[Yn]=0;for(Cn=0;Cn<=143;)Pn[2*Cn+1]=8,Cn++,dr[8]++;for(;Cn<=255;)Pn[2*Cn+1]=9,Cn++,dr[9]++;for(;Cn<=279;)Pn[2*Cn+1]=7,Cn++,dr[7]++;for(;Cn<=287;)Pn[2*Cn+1]=8,Cn++,dr[8]++;for(pn(Pn,We+1,dr),Cn=0;Cn<Ge;Cn++)_n[2*Cn+1]=5,_n[2*Cn]=Sn(Cn,5);Ln=new jn(Pn,hn,Xe+1,We,an),Vn=new jn(_n,dn,0,Ge,an),On=new jn(new Array(0),sn,0,tn,Ze)})(),In=!0),bn.l_desc=new Gn(bn.dyn_ltree,Ln),bn.d_desc=new Gn(bn.dyn_dtree,Vn),bn.bl_desc=new Gn(bn.bl_tree,On),bn.bi_buf=0,bn.bi_valid=0,mn(bn)},Re._tr_stored_block=cn,Re._tr_flush_block=function(bn,Cn,Yn,Jn){var er,ur,dr=0;0<bn.level?(bn.strm.data_type===2&&(bn.strm.data_type=(function(br){var yr,jr=4093624447;for(yr=0;yr<=31;yr++,jr>>>=1)if(1&jr&&br.dyn_ltree[2*yr]!==0)return Ue;if(br.dyn_ltree[18]!==0||br.dyn_ltree[20]!==0||br.dyn_ltree[26]!==0)return De;for(yr=32;yr<Xe;yr++)if(br.dyn_ltree[2*yr]!==0)return De;return Ue})(bn)),Hn(bn,bn.l_desc),Hn(bn,bn.d_desc),dr=(function(br){var yr;for(vn(br,br.dyn_ltree,br.l_desc.max_code),vn(br,br.dyn_dtree,br.d_desc.max_code),Hn(br,br.bl_desc),yr=tn-1;3<=yr&&br.bl_tree[2*kn[yr]+1]===0;yr--);return br.opt_len+=3*(yr+1)+5+5+4,yr})(bn),er=bn.opt_len+3+7>>>3,(ur=bn.static_len+3+7>>>3)<=er&&(er=ur)):er=ur=Yn+5,Yn+4<=er&&Cn!==-1?cn(bn,Cn,Yn,Jn):bn.strategy===4||ur===er?(Nn(bn,2+(Jn?1:0),3),Rn(bn,Pn,_n)):(Nn(bn,4+(Jn?1:0),3),(function(br,yr,jr,Gr){var $r;for(Nn(br,yr-257,5),Nn(br,jr-1,5),Nn(br,Gr-4,4),$r=0;$r<Gr;$r++)Nn(br,br.bl_tree[2*kn[$r]+1],3);qn(br,br.dyn_ltree,yr-1),qn(br,br.dyn_dtree,jr-1)})(bn,bn.l_desc.max_code+1,bn.d_desc.max_code+1,dr+1),Rn(bn,bn.dyn_ltree,bn.dyn_dtree)),mn(bn),Jn&&un(bn)},Re._tr_tally=function(bn,Cn,Yn){return bn.pending_buf[bn.d_buf+2*bn.last_lit]=Cn>>>8&255,bn.pending_buf[bn.d_buf+2*bn.last_lit+1]=255&Cn,bn.pending_buf[bn.l_buf+bn.last_lit]=255&Yn,bn.last_lit++,Cn===0?bn.dyn_ltree[2*Yn]++:(bn.matches++,Cn--,bn.dyn_ltree[2*(yn[Yn]+Xe+1)]++,bn.dyn_dtree[2*An(Cn)]++),bn.last_lit===bn.lit_bufsize-1},Re._tr_align=function(bn){Nn(bn,2,3),En(bn,St,Pn),(function(Cn){Cn.bi_valid===16?($n(Cn,Cn.bi_buf),Cn.bi_buf=0,Cn.bi_valid=0):8<=Cn.bi_valid&&(Cn.pending_buf[Cn.pending++]=255&Cn.bi_buf,Cn.bi_buf>>=8,Cn.bi_valid-=8)})(bn)}},{"../utils/common":41}],53:[function(Te,Be,Re){Be.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Te,Be,Re){(function(Me){(function(Ue,De){if(!Ue.setImmediate){var qe,$e,ze,Xe,We=1,Ge={},tn=!1,en=Ue.document,an=Object.getPrototypeOf&&Object.getPrototypeOf(Ue);an=an&&an.setTimeout?an:Ue,qe={}.toString.call(Ue.process)==="[object process]"?function(Qe){process$1$1.nextTick(function(){Ze(Qe)})}:(function(){if(Ue.postMessage&&!Ue.importScripts){var Qe=!0,Je=Ue.onmessage;return Ue.onmessage=function(){Qe=!1},Ue.postMessage("","*"),Ue.onmessage=Je,Qe}})()?(Xe="setImmediate$"+Math.random()+"$",Ue.addEventListener?Ue.addEventListener("message",St,!1):Ue.attachEvent("onmessage",St),function(Qe){Ue.postMessage(Xe+Qe,"*")}):Ue.MessageChannel?((ze=new MessageChannel).port1.onmessage=function(Qe){Ze(Qe.data)},function(Qe){ze.port2.postMessage(Qe)}):en&&"onreadystatechange"in en.createElement("script")?($e=en.documentElement,function(Qe){var Je=en.createElement("script");Je.onreadystatechange=function(){Ze(Qe),Je.onreadystatechange=null,$e.removeChild(Je),Je=null},$e.appendChild(Je)}):function(Qe){setTimeout(Ze,0,Qe)},an.setImmediate=function(Qe){typeof Qe!="function"&&(Qe=new Function(""+Qe));for(var Je=new Array(arguments.length-1),on=0;on<Je.length;on++)Je[on]=arguments[on+1];var hn={callback:Qe,args:Je};return Ge[We]=hn,qe(We),We++},an.clearImmediate=Ye}function Ye(Qe){delete Ge[Qe]}function Ze(Qe){if(tn)setTimeout(Ze,0,Qe);else{var Je=Ge[Qe];if(Je){tn=!0;try{(function(on){var hn=on.callback,dn=on.args;switch(dn.length){case 0:hn();break;case 1:hn(dn[0]);break;case 2:hn(dn[0],dn[1]);break;case 3:hn(dn[0],dn[1],dn[2]);break;default:hn.apply(De,dn)}})(Je)}finally{Ye(Qe),tn=!1}}}}function St(Qe){Qe.source===Ue&&typeof Qe.data=="string"&&Qe.data.indexOf(Xe)===0&&Ze(+Qe.data.slice(Xe.length))}})(typeof self>"u"?Me===void 0?this:Me:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs$1(jszip_minExports);var xml$1={exports:{}},escapeForXML_1,hasRequiredEscapeForXML;function requireEscapeForXML(){if(hasRequiredEscapeForXML)return escapeForXML_1;hasRequiredEscapeForXML=1;var Ce={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Ee(Te){return Te&&Te.replace?Te.replace(/([&"<>'])/g,function(Be,Re){return Ce[Re]}):Te}return escapeForXML_1=Ee,escapeForXML_1}var hasRequiredXml;function requireXml(){if(hasRequiredXml)return xml$1.exports;hasRequiredXml=1;var Ce=requireEscapeForXML(),Ee=requireStreamBrowserify().Stream,Te="    ";function Be($e,ze){typeof ze!="object"&&(ze={indent:ze});var Xe=ze.stream?new Ee:null,We="",Ge=!1,tn=ze.indent?ze.indent===!0?Te:ze.indent:"",en=!0;function an(Je){en?process$1$1.nextTick(Je):Je()}function Ye(Je,on){if(on!==void 0&&(We+=on),Je&&!Ge&&(Xe=Xe||new Ee,Ge=!0),Je&&Ge){var hn=We;an(function(){Xe.emit("data",hn)}),We=""}}function Ze(Je,on){De(Ye,Ue(Je,tn,tn?1:0),on)}function St(){if(Xe){var Je=We;an(function(){Xe.emit("data",Je),Xe.emit("end"),Xe.readable=!1,Xe.emit("close")})}}function Qe(Je){var on=Je.encoding||"UTF-8",hn={version:"1.0",encoding:on};Je.standalone&&(hn.standalone=Je.standalone),Ze({"?xml":{_attr:hn}}),We=We.replace("/>","?>")}return an(function(){en=!1}),ze.declaration&&Qe(ze.declaration),$e&&$e.forEach?$e.forEach(function(Je,on){var hn;on+1===$e.length&&(hn=St),Ze(Je,hn)}):Ze($e,St),Xe?(Xe.readable=!0,Xe):We}function Re(){var $e=Array.prototype.slice.call(arguments),ze={_elem:Ue($e)};return ze.push=function(Xe){if(!this.append)throw new Error("not assigned to a parent!");var We=this,Ge=this._elem.indent;De(this.append,Ue(Xe,Ge,this._elem.icount+(Ge?1:0)),function(){We.append(!0)})},ze.close=function(Xe){Xe!==void 0&&this.push(Xe),this.end&&this.end()},ze}function Me($e,ze){return new Array(ze||0).join($e||"")}function Ue($e,ze,Xe){Xe=Xe||0;var We=Me(ze,Xe),Ge,tn=$e,en=!1;if(typeof $e=="object"){var an=Object.keys($e);if(Ge=an[0],tn=$e[Ge],tn&&tn._elem)return tn._elem.name=Ge,tn._elem.icount=Xe,tn._elem.indent=ze,tn._elem.indents=We,tn._elem.interrupt=tn,tn._elem}var Ye=[],Ze=[],St;function Qe(Je){var on=Object.keys(Je);on.forEach(function(hn){Ye.push(qe(hn,Je[hn]))})}switch(typeof tn){case"object":if(tn===null)break;tn._attr&&Qe(tn._attr),tn._cdata&&Ze.push(("<![CDATA["+tn._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),tn.forEach&&(St=!1,Ze.push(""),tn.forEach(function(Je){if(typeof Je=="object"){var on=Object.keys(Je)[0];on=="_attr"?Qe(Je._attr):Ze.push(Ue(Je,ze,Xe+1))}else Ze.pop(),St=!0,Ze.push(Ce(Je))}),St||Ze.push(""));break;default:Ze.push(Ce(tn))}return{name:Ge,interrupt:en,attributes:Ye,content:Ze,icount:Xe,indents:We,indent:ze}}function De($e,ze,Xe){if(typeof ze!="object")return $e(!1,ze);var We=ze.interrupt?1:ze.content.length;function Ge(){for(;ze.content.length;){var en=ze.content.shift();if(en!==void 0){if(tn(en))return;De($e,en)}}$e(!1,(We>1?ze.indents:"")+(ze.name?"</"+ze.name+">":"")+(ze.indent&&!Xe?`
`:"")),Xe&&Xe()}function tn(en){return en.interrupt?(en.interrupt.append=$e,en.interrupt.end=Ge,en.interrupt=!1,$e(!0),!0):!1}if($e(!1,ze.indents+(ze.name?"<"+ze.name:"")+(ze.attributes.length?" "+ze.attributes.join(" "):"")+(We?ze.name?">":"":ze.name?"/>":"")+(ze.indent&&We>1?`
`:"")),!We)return $e(!1,ze.indent?`
`:"");tn(ze)||Ge()}function qe($e,ze){return $e+'="'+Ce(ze)+'"'}return xml$1.exports=Be,xml$1.exports.element=xml$1.exports.Element=Re,xml$1.exports}var xmlExports=requireXml();const xml=getDefaultExportFromCjs$1(xmlExports),obfuscatedStartOffset=0,obfuscatedEndOffset=32,guidSize=32,obfuscate=(Ce,Ee)=>{const Te=Ee.replace(/-/g,"");if(Te.length!==guidSize)throw new Error(`Error: Cannot extract GUID from font filename: ${Ee}`);const Re=Te.replace(/(..)/g,"$1 ").trim().split(" ").map(qe=>parseInt(qe,16));Re.reverse();const Ue=Ce.slice(obfuscatedStartOffset,obfuscatedEndOffset).map((qe,$e)=>qe^Re[$e%Re.length]),De=new Uint8Array(obfuscatedStartOffset+Ue.length+Math.max(0,Ce.length-obfuscatedEndOffset));return De.set(Ce.slice(0,obfuscatedStartOffset)),De.set(Ue,obfuscatedStartOffset),De.set(Ce.slice(obfuscatedEndOffset),obfuscatedStartOffset+Ue.length),De};class Formatter{format(Ee,Te={stack:[]}){const Be=Ee.prepForXml(Te);if(Be)return Be;throw Error("XMLComponent did not format correctly")}}class ImageReplacer{replace(Ee,Te,Be){let Re=Ee;return Te.forEach((Me,Ue)=>{Re=Re.replace(new RegExp(`{${Me.fileName}}`,"g"),(Be+Ue).toString())}),Re}getMediaData(Ee,Te){return Te.Array.filter(Be=>Ee.search(`{${Be.fileName}}`)>0)}}class NumberingReplacer{replace(Ee,Te){let Be=Ee;for(const Re of Te)Be=Be.replace(new RegExp(`{${Re.reference}-${Re.instance}}`,"g"),Re.numId.toString());return Be}}class Compiler{constructor(){__publicField(this,"formatter"),__publicField(this,"imageReplacer"),__publicField(this,"numberingReplacer"),this.formatter=new Formatter,this.imageReplacer=new ImageReplacer,this.numberingReplacer=new NumberingReplacer}compile(Ee,Te,Be=[]){const Re=new JSZip,Me=this.xmlifyFile(Ee,Te),Ue=new Map(Object.entries(Me));for(const[,De]of Ue)if(Array.isArray(De))for(const qe of De)Re.file(qe.path,qe.data);else Re.file(De.path,De.data);for(const De of Be)Re.file(De.path,De.data);for(const De of Ee.Media.Array)De.type!=="svg"?Re.file(`word/media/${De.fileName}`,De.data):(Re.file(`word/media/${De.fileName}`,De.data),Re.file(`word/media/${De.fallback.fileName}`,De.fallback.data));for(const{data:De,name:qe,fontKey:$e}of Ee.FontTable.fontOptionsWithKey){const[ze]=qe.split(".");Re.file(`word/fonts/${ze}.odttf`,obfuscate(De,$e))}return Re}xmlifyFile(Ee,Te){const Be=Ee.Document.Relationships.RelationshipCount+1,Re=xml(this.formatter.format(Ee.Document.View,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),Me=Ee.Comments.Relationships.RelationshipCount+1,Ue=xml(this.formatter.format(Ee.Comments,{viewWrapper:{View:Ee.Comments,Relationships:Ee.Comments.Relationships},file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),De=this.imageReplacer.getMediaData(Re,Ee.Media),qe=this.imageReplacer.getMediaData(Ue,Ee.Media);return{Relationships:{data:(De.forEach(($e,ze)=>{Ee.Document.Relationships.createRelationship(Be+ze,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${$e.fileName}`)}),Ee.Document.Relationships.createRelationship(Ee.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),xml(this.formatter.format(Ee.Document.Relationships,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const $e=this.imageReplacer.replace(Re,De,Be);return this.numberingReplacer.replace($e,Ee.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const $e=xml(this.formatter.format(Ee.Styles,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace($e,Ee.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:xml(this.formatter.format(Ee.CoreProperties,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:xml(this.formatter.format(Ee.Numbering,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:xml(this.formatter.format(Ee.FileRelationships,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:Ee.Headers.map(($e,ze)=>{const Xe=xml(this.formatter.format($e.View,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Xe,Ee.Media).forEach((Ge,tn)=>{$e.Relationships.createRelationship(tn,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${Ge.fileName}`)}),{data:xml(this.formatter.format($e.Relationships,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${ze+1}.xml.rels`}}),FooterRelationships:Ee.Footers.map(($e,ze)=>{const Xe=xml(this.formatter.format($e.View,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Xe,Ee.Media).forEach((Ge,tn)=>{$e.Relationships.createRelationship(tn,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${Ge.fileName}`)}),{data:xml(this.formatter.format($e.Relationships,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${ze+1}.xml.rels`}}),Headers:Ee.Headers.map(($e,ze)=>{const Xe=xml(this.formatter.format($e.View,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Xe,Ee.Media),Ge=this.imageReplacer.replace(Xe,We,0);return{data:this.numberingReplacer.replace(Ge,Ee.Numbering.ConcreteNumbering),path:`word/header${ze+1}.xml`}}),Footers:Ee.Footers.map(($e,ze)=>{const Xe=xml(this.formatter.format($e.View,{viewWrapper:$e,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Xe,Ee.Media),Ge=this.imageReplacer.replace(Xe,We,0);return{data:this.numberingReplacer.replace(Ge,Ee.Numbering.ConcreteNumbering),path:`word/footer${ze+1}.xml`}}),ContentTypes:{data:xml(this.formatter.format(Ee.ContentTypes,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:xml(this.formatter.format(Ee.CustomProperties,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:xml(this.formatter.format(Ee.AppProperties,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:xml(this.formatter.format(Ee.FootNotes.View,{viewWrapper:Ee.FootNotes,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:xml(this.formatter.format(Ee.FootNotes.Relationships,{viewWrapper:Ee.FootNotes,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:xml(this.formatter.format(Ee.Settings,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const $e=this.imageReplacer.replace(Ue,qe,Me);return this.numberingReplacer.replace($e,Ee.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(qe.forEach(($e,ze)=>{Ee.Comments.Relationships.createRelationship(Me+ze,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${$e.fileName}`)}),xml(this.formatter.format(Ee.Comments.Relationships,{viewWrapper:{View:Ee.Comments,Relationships:Ee.Comments.Relationships},file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:xml(this.formatter.format(Ee.FontTable.View,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:xml(this.formatter.format(Ee.FontTable.Relationships,{viewWrapper:Ee.Document,file:Ee,stack:[]}),{indent:Te,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const PrettifyType={WITH_2_BLANKS:"  "},convertPrettifyType=Ce=>Ce===!0?PrettifyType.WITH_2_BLANKS:Ce===!1?void 0:Ce,_Packer=class yf{static pack(Ee,Te,Be){return __async(this,arguments,function*(Re,Me,Ue,De=[]){return this.compiler.compile(Re,convertPrettifyType(Ue),De).generateAsync({type:Me,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(Ee,Te,Be=[]){return yf.pack(Ee,"string",Te,Be)}static toBuffer(Ee,Te,Be=[]){return yf.pack(Ee,"nodebuffer",Te,Be)}static toBase64String(Ee,Te,Be=[]){return yf.pack(Ee,"base64",Te,Be)}static toBlob(Ee,Te,Be=[]){return yf.pack(Ee,"blob",Te,Be)}static toArrayBuffer(Ee,Te,Be=[]){return yf.pack(Ee,"arraybuffer",Te,Be)}static toStream(Ee,Te,Be=[]){const Re=new streamBrowserifyExports.Stream;return this.compiler.compile(Ee,convertPrettifyType(Te),Be).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(Ue=>{Re.emit("data",Ue),Re.emit("end")}),Re}};__publicField(_Packer,"compiler",new Compiler);let Packer=_Packer;var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,(function(Ce,Ee){(function(Te,Be){Be()})(FileSaver_min,function(){function Te($e,ze){return typeof ze>"u"?ze={autoBom:!1}:typeof ze!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ze={autoBom:!ze}),ze.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test($e.type)?new Blob(["\uFEFF",$e],{type:$e.type}):$e}function Be($e,ze,Xe){var We=new XMLHttpRequest;We.open("GET",$e),We.responseType="blob",We.onload=function(){qe(We.response,ze,Xe)},We.onerror=function(){console.error("could not download file")},We.send()}function Re($e){var ze=new XMLHttpRequest;ze.open("HEAD",$e,!1);try{ze.send()}catch{}return 200<=ze.status&&299>=ze.status}function Me($e){try{$e.dispatchEvent(new MouseEvent("click"))}catch{var ze=document.createEvent("MouseEvents");ze.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),$e.dispatchEvent(ze)}}var Ue=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$1=="object"&&commonjsGlobal$1.global===commonjsGlobal$1?commonjsGlobal$1:void 0,De=Ue.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),qe=Ue.saveAs||(typeof window!="object"||window!==Ue?function(){}:"download"in HTMLAnchorElement.prototype&&!De?function($e,ze,Xe){var We=Ue.URL||Ue.webkitURL,Ge=document.createElement("a");ze=ze||$e.name||"download",Ge.download=ze,Ge.rel="noopener",typeof $e=="string"?(Ge.href=$e,Ge.origin===location.origin?Me(Ge):Re(Ge.href)?Be($e,ze,Xe):Me(Ge,Ge.target="_blank")):(Ge.href=We.createObjectURL($e),setTimeout(function(){We.revokeObjectURL(Ge.href)},4e4),setTimeout(function(){Me(Ge)},0))}:"msSaveOrOpenBlob"in navigator?function($e,ze,Xe){if(ze=ze||$e.name||"download",typeof $e!="string")navigator.msSaveOrOpenBlob(Te($e,Xe),ze);else if(Re($e))Be($e,ze,Xe);else{var We=document.createElement("a");We.href=$e,We.target="_blank",setTimeout(function(){Me(We)})}}:function($e,ze,Xe,We){if(We=We||open("","_blank"),We&&(We.document.title=We.document.body.innerText="downloading..."),typeof $e=="string")return Be($e,ze,Xe);var Ge=$e.type==="application/octet-stream",tn=/constructor/i.test(Ue.HTMLElement)||Ue.safari,en=/CriOS\/[\d]+/.test(navigator.userAgent);if((en||Ge&&tn||De)&&typeof FileReader<"u"){var an=new FileReader;an.onloadend=function(){var St=an.result;St=en?St:St.replace(/^data:[^;]*;/,"data:attachment/file;"),We?We.location.href=St:location=St,We=null},an.readAsDataURL($e)}else{var Ye=Ue.URL||Ue.webkitURL,Ze=Ye.createObjectURL($e);We?We.location=Ze:location.href=Ze,We=null,setTimeout(function(){Ye.revokeObjectURL(Ze)},4e4)}});Ue.saveAs=qe.saveAs=qe,Ce.exports=qe})})(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();const saveAs=getDefaultExportFromCjs$2(FileSaver_minExports);let audioContext=null;if(typeof window<"u"&&(window.AudioContext||window.webkitAudioContext)){const Ce=window.AudioContext||window.webkitAudioContext;audioContext=new Ce}const pcmToWav=(Ce,Ee)=>{const Re=Ee*1*2,Me=1*(16/8),Ue=Ce.byteLength,De=44+Ue,qe=new ArrayBuffer(De),$e=new DataView(qe);$e.setUint8(0,82),$e.setUint8(1,73),$e.setUint8(2,70),$e.setUint8(3,70),$e.setUint32(4,De-8,!0),$e.setUint8(8,87),$e.setUint8(9,65),$e.setUint8(10,86),$e.setUint8(11,69),$e.setUint8(12,102),$e.setUint8(13,109),$e.setUint8(14,116),$e.setUint8(15,32),$e.setUint32(16,16,!0),$e.setUint16(20,1,!0),$e.setUint16(22,1,!0),$e.setUint32(24,Ee,!0),$e.setUint32(28,Re,!0),$e.setUint16(32,Me,!0),$e.setUint16(34,16,!0),$e.setUint8(36,100),$e.setUint8(37,97),$e.setUint8(38,116),$e.setUint8(39,97),$e.setUint32(40,Ue,!0);const ze=new Uint8Array(Ce);return new Uint8Array(qe,44).set(ze),qe},ChatMessage=({message:Ce,onSummarize:Ee,onTakeNote:Te,isFirstBotMessage:Be,userProfile:Re})=>{const[Me,Ue]=reactExports.useState(!1),[De,qe]=reactExports.useState(!1),$e=Ce.sender===MessageSender.USER,ze=Ce.isError??!1,Xe=reactExports.useRef(null);reactExports.useEffect(()=>()=>{if(Xe.current){try{Xe.current.stop(0)}catch{}Xe.current.disconnect(),Xe.current=null}},[]);const We=reactExports.useCallback(async()=>{if(Me&&Xe.current){Xe.current.stop(0);return}if(!(De||!Ce.text)){if(!audioContext){alert("Web Audio API is not supported in your browser.");return}qe(!0);try{const hn=await generateSpeechFromText(Ce.text,Re.preferredVoice);if(!hn)throw new Error("Failed to generate audio from text.");audioContext.state==="suspended"&&await audioContext.resume();const dn=window.atob(hn),sn=new Uint8Array(dn.length);for(let yn=0;yn<dn.length;yn++)sn[yn]=dn.charCodeAt(yn);const kn=sn.buffer,Pn=pcmToWav(kn,24e3),_n=await audioContext.decodeAudioData(Pn),Mn=audioContext.createBufferSource();Mn.buffer=_n,Mn.connect(audioContext.destination),Mn.onended=yn=>{Ue(!1),Xe.current=null},Mn.start(0),Xe.current=Mn,Ue(!0)}catch(hn){console.error("Text-to-Speech Error:",hn),alert("عذراً، حدث خطأ أثناء توليد الصوت.")}finally{qe(!1)}}},[Me,De,Ce.text,Re.preferredVoice]),Ge=()=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-current text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("circle",{cx:"4",cy:"12",r:"3",children:jsxRuntimeExports.jsx("animate",{id:"spinner_qFRN",begin:"0;spinner_OcgL.end-0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".36,.61,.3,.98;.36,.61,.3,.98"})}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"3",children:jsxRuntimeExports.jsx("animate",{id:"spinner_f2Vi",begin:"spinner_qFRN.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".36,.61,.3,.98;.36,.61,.3,.98"})}),jsxRuntimeExports.jsx("circle",{cx:"20",cy:"12",r:"3",children:jsxRuntimeExports.jsx("animate",{id:"spinner_OcgL",begin:"spinner_f2Vi.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".36,.61,.3,.98;.36,.61,.3,.98"})})]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Ce.text||"يفكر..."})]}),tn=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),en=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 10h6"})]}),an=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12,2A2,2 0 0,0 10,4H14A2,2 0 0,0 12,2M16,6V5A1,1 0 0,0 15,4H9A1,1 0 0,0 8,5V6H4A2,2 0 0,0 2,8V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V8A2,2 0 0,0 20,6H16M6,10V12H9V10H6M15,10V12H18V10H15M6,14V16H9V14H6M15,14V16H18V14H15Z"})}),Ye=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Ze=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h7"})}),St=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Qe=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-red-500 dark:text-red-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Je=`max-w-xl p-4 rounded-lg shadow-md ${ze?"bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700":$e?"bg-blue-100 dark:bg-blue-900":"bg-gray-100 dark:bg-gray-700"}`,on=!$e&&!Ce.isThinking&&Ce.text&&!ze&&!Be;return jsxRuntimeExports.jsxs("div",{className:`flex items-start gap-3 ${$e?"":"flex-row-reverse"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${$e?"bg-blue-500":"bg-green-500"}`,children:$e?jsxRuntimeExports.jsx(Ye,{}):jsxRuntimeExports.jsx(an,{})}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col w-full max-w-xl ${$e?"items-start":"items-end"}`,children:[jsxRuntimeExports.jsxs("div",{className:Je,children:[Ce.isThinking?jsxRuntimeExports.jsx(Ge,{}):ze?jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Qe,{}),jsxRuntimeExports.jsx("p",{className:"text-red-800 dark:text-red-200",children:Ce.text})]}):jsxRuntimeExports.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:Ce.text}),Ce.sources&&Ce.sources.length>0&&!ze&&jsxRuntimeExports.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"المصادر:"}),jsxRuntimeExports.jsx("ul",{className:"list-decimal list-inside space-y-1 text-sm",children:Ce.sources.map((hn,dn)=>jsxRuntimeExports.jsx("li",{className:"truncate",children:jsxRuntimeExports.jsx("a",{href:hn.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",title:hn.web.uri,children:hn.web.title||hn.web.uri})},dn))})]}),Ce.action&&!$e&&!Ce.isThinking&&!ze&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:jsxRuntimeExports.jsx("button",{onClick:Ce.action.onClick,className:"w-full text-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:Ce.action.label})}),on&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-around mt-3 pt-2 border-t border-gray-200 dark:border-gray-600",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ee(Ce.id),title:"تلخيص",className:"text-gray-500 hover:text-blue-500",children:jsxRuntimeExports.jsx(Ze,{})}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(Ce.id),title:"تدوين ملاحظة",className:"text-gray-500 hover:text-yellow-500",children:jsxRuntimeExports.jsx(St,{})}),jsxRuntimeExports.jsx("button",{onClick:We,title:Me?"إيقاف":"استماع",className:"text-gray-500 hover:text-green-500 w-5 h-5 flex items-center justify-center disabled:cursor-not-allowed",disabled:De,children:De?jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):Me?jsxRuntimeExports.jsx(en,{}):jsxRuntimeExports.jsx(tn,{})})]})]}),Ce.timestamp&&!Ce.isThinking&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:Ce.timestamp})]})]})};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=globalThis,e$4=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$2=Symbol(),o$4=new WeakMap;let n$3=class{constructor(Ee,Te,Be){if(this._$cssResult$=!0,Be!==s$2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Ee,this.t=Te}get styleSheet(){let Ee=this.o;const Te=this.t;if(e$4&&Ee===void 0){const Be=Te!==void 0&&Te.length===1;Be&&(Ee=o$4.get(Te)),Ee===void 0&&((this.o=Ee=new CSSStyleSheet).replaceSync(this.cssText),Be&&o$4.set(Te,Ee))}return Ee}toString(){return this.cssText}};const r$4=Ce=>new n$3(typeof Ce=="string"?Ce:Ce+"",void 0,s$2),i$4=(Ce,...Ee)=>{const Te=Ce.length===1?Ce[0]:Ee.reduce(((Be,Re,Me)=>Be+(Ue=>{if(Ue._$cssResult$===!0)return Ue.cssText;if(typeof Ue=="number")return Ue;throw Error("Value passed to 'css' function must be a 'css' function result: "+Ue+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(Re)+Ce[Me+1]),Ce[0]);return new n$3(Te,Ce,s$2)},S$1=(Ce,Ee)=>{if(e$4)Ce.adoptedStyleSheets=Ee.map((Te=>Te instanceof CSSStyleSheet?Te:Te.styleSheet));else for(const Te of Ee){const Be=document.createElement("style"),Re=t$3.litNonce;Re!==void 0&&Be.setAttribute("nonce",Re),Be.textContent=Te.cssText,Ce.appendChild(Be)}},c$2=e$4?Ce=>Ce:Ce=>Ce instanceof CSSStyleSheet?(Ee=>{let Te="";for(const Be of Ee.cssRules)Te+=Be.cssText;return r$4(Te)})(Ce):Ce;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$3,defineProperty:e$3,getOwnPropertyDescriptor:h$1,getOwnPropertyNames:r$3,getOwnPropertySymbols:o$3,getPrototypeOf:n$2}=Object,a$1=globalThis,c$1=a$1.trustedTypes,l$1=c$1?c$1.emptyScript:"",p$1=a$1.reactiveElementPolyfillSupport,d$1=(Ce,Ee)=>Ce,u$1={toAttribute(Ce,Ee){switch(Ee){case Boolean:Ce=Ce?l$1:null;break;case Object:case Array:Ce=Ce==null?Ce:JSON.stringify(Ce)}return Ce},fromAttribute(Ce,Ee){let Te=Ce;switch(Ee){case Boolean:Te=Ce!==null;break;case Number:Te=Ce===null?null:Number(Ce);break;case Object:case Array:try{Te=JSON.parse(Ce)}catch{Te=null}}return Te}},f$1=(Ce,Ee)=>!i$3(Ce,Ee),b={attribute:!0,type:String,converter:u$1,reflect:!1,useDefault:!1,hasChanged:f$1};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$1.litPropertyMetadata??(a$1.litPropertyMetadata=new WeakMap);let y$1=class extends HTMLElement{static addInitializer(Ee){this._$Ei(),(this.l??(this.l=[])).push(Ee)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(Ee,Te=b){if(Te.state&&(Te.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(Ee)&&((Te=Object.create(Te)).wrapped=!0),this.elementProperties.set(Ee,Te),!Te.noAccessor){const Be=Symbol(),Re=this.getPropertyDescriptor(Ee,Be,Te);Re!==void 0&&e$3(this.prototype,Ee,Re)}}static getPropertyDescriptor(Ee,Te,Be){const{get:Re,set:Me}=h$1(this.prototype,Ee)??{get(){return this[Te]},set(Ue){this[Te]=Ue}};return{get:Re,set(Ue){const De=Re==null?void 0:Re.call(this);Me==null||Me.call(this,Ue),this.requestUpdate(Ee,De,Be)},configurable:!0,enumerable:!0}}static getPropertyOptions(Ee){return this.elementProperties.get(Ee)??b}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const Ee=n$2(this);Ee.finalize(),Ee.l!==void 0&&(this.l=[...Ee.l]),this.elementProperties=new Map(Ee.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const Te=this.properties,Be=[...r$3(Te),...o$3(Te)];for(const Re of Be)this.createProperty(Re,Te[Re])}const Ee=this[Symbol.metadata];if(Ee!==null){const Te=litPropertyMetadata.get(Ee);if(Te!==void 0)for(const[Be,Re]of Te)this.elementProperties.set(Be,Re)}this._$Eh=new Map;for(const[Te,Be]of this.elementProperties){const Re=this._$Eu(Te,Be);Re!==void 0&&this._$Eh.set(Re,Te)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(Ee){const Te=[];if(Array.isArray(Ee)){const Be=new Set(Ee.flat(1/0).reverse());for(const Re of Be)Te.unshift(c$2(Re))}else Ee!==void 0&&Te.push(c$2(Ee));return Te}static _$Eu(Ee,Te){const Be=Te.attribute;return Be===!1?void 0:typeof Be=="string"?Be:typeof Ee=="string"?Ee.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var Ee;this._$ES=new Promise((Te=>this.enableUpdating=Te)),this._$AL=new Map,this._$E_(),this.requestUpdate(),(Ee=this.constructor.l)==null||Ee.forEach((Te=>Te(this)))}addController(Ee){var Te;(this._$EO??(this._$EO=new Set)).add(Ee),this.renderRoot!==void 0&&this.isConnected&&((Te=Ee.hostConnected)==null||Te.call(Ee))}removeController(Ee){var Te;(Te=this._$EO)==null||Te.delete(Ee)}_$E_(){const Ee=new Map,Te=this.constructor.elementProperties;for(const Be of Te.keys())this.hasOwnProperty(Be)&&(Ee.set(Be,this[Be]),delete this[Be]);Ee.size>0&&(this._$Ep=Ee)}createRenderRoot(){const Ee=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(Ee,this.constructor.elementStyles),Ee}connectedCallback(){var Ee;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Ee=this._$EO)==null||Ee.forEach((Te=>{var Be;return(Be=Te.hostConnected)==null?void 0:Be.call(Te)}))}enableUpdating(Ee){}disconnectedCallback(){var Ee;(Ee=this._$EO)==null||Ee.forEach((Te=>{var Be;return(Be=Te.hostDisconnected)==null?void 0:Be.call(Te)}))}attributeChangedCallback(Ee,Te,Be){this._$AK(Ee,Be)}_$ET(Ee,Te){var Me;const Be=this.constructor.elementProperties.get(Ee),Re=this.constructor._$Eu(Ee,Be);if(Re!==void 0&&Be.reflect===!0){const Ue=(((Me=Be.converter)==null?void 0:Me.toAttribute)!==void 0?Be.converter:u$1).toAttribute(Te,Be.type);this._$Em=Ee,Ue==null?this.removeAttribute(Re):this.setAttribute(Re,Ue),this._$Em=null}}_$AK(Ee,Te){var Me,Ue;const Be=this.constructor,Re=Be._$Eh.get(Ee);if(Re!==void 0&&this._$Em!==Re){const De=Be.getPropertyOptions(Re),qe=typeof De.converter=="function"?{fromAttribute:De.converter}:((Me=De.converter)==null?void 0:Me.fromAttribute)!==void 0?De.converter:u$1;this._$Em=Re;const $e=qe.fromAttribute(Te,De.type);this[Re]=$e??((Ue=this._$Ej)==null?void 0:Ue.get(Re))??$e,this._$Em=null}}requestUpdate(Ee,Te,Be){var Re;if(Ee!==void 0){const Me=this.constructor,Ue=this[Ee];if(Be??(Be=Me.getPropertyOptions(Ee)),!((Be.hasChanged??f$1)(Ue,Te)||Be.useDefault&&Be.reflect&&Ue===((Re=this._$Ej)==null?void 0:Re.get(Ee))&&!this.hasAttribute(Me._$Eu(Ee,Be))))return;this.C(Ee,Te,Be)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(Ee,Te,{useDefault:Be,reflect:Re,wrapped:Me},Ue){Be&&!(this._$Ej??(this._$Ej=new Map)).has(Ee)&&(this._$Ej.set(Ee,Ue??Te??this[Ee]),Me!==!0||Ue!==void 0)||(this._$AL.has(Ee)||(this.hasUpdated||Be||(Te=void 0),this._$AL.set(Ee,Te)),Re===!0&&this._$Em!==Ee&&(this._$Eq??(this._$Eq=new Set)).add(Ee))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(Te){Promise.reject(Te)}const Ee=this.scheduleUpdate();return Ee!=null&&await Ee,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var Be;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[Me,Ue]of this._$Ep)this[Me]=Ue;this._$Ep=void 0}const Re=this.constructor.elementProperties;if(Re.size>0)for(const[Me,Ue]of Re){const{wrapped:De}=Ue,qe=this[Me];De!==!0||this._$AL.has(Me)||qe===void 0||this.C(Me,void 0,Ue,qe)}}let Ee=!1;const Te=this._$AL;try{Ee=this.shouldUpdate(Te),Ee?(this.willUpdate(Te),(Be=this._$EO)==null||Be.forEach((Re=>{var Me;return(Me=Re.hostUpdate)==null?void 0:Me.call(Re)})),this.update(Te)):this._$EM()}catch(Re){throw Ee=!1,this._$EM(),Re}Ee&&this._$AE(Te)}willUpdate(Ee){}_$AE(Ee){var Te;(Te=this._$EO)==null||Te.forEach((Be=>{var Re;return(Re=Be.hostUpdated)==null?void 0:Re.call(Be)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Ee)),this.updated(Ee)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(Ee){return!0}update(Ee){this._$Eq&&(this._$Eq=this._$Eq.forEach((Te=>this._$ET(Te,this[Te])))),this._$EM()}updated(Ee){}firstUpdated(Ee){}};y$1.elementStyles=[],y$1.shadowRootOptions={mode:"open"},y$1[d$1("elementProperties")]=new Map,y$1[d$1("finalized")]=new Map,p$1==null||p$1({ReactiveElement:y$1}),(a$1.reactiveElementVersions??(a$1.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2=globalThis,i$2=t$2.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:Ce=>Ce}):void 0,e$2="$lit$",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o$2="?"+h,n$1=`<${o$2}>`,r$2=document,l=()=>r$2.createComment(""),c=Ce=>Ce===null||typeof Ce!="object"&&typeof Ce!="function",a=Array.isArray,u=Ce=>a(Ce)||typeof(Ce==null?void 0:Ce[Symbol.iterator])=="function",d=`[ 	
\f\r]`,f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g=/"/g,$=/^(?:script|style|textarea|title)$/i,y=Ce=>(Ee,...Te)=>({_$litType$:Ce,strings:Ee,values:Te}),x=y(1),T=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),A=new WeakMap,C=r$2.createTreeWalker(r$2,129);function P(Ce,Ee){if(!a(Ce)||!Ce.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$1!==void 0?s$1.createHTML(Ee):Ee}const V=(Ce,Ee)=>{const Te=Ce.length-1,Be=[];let Re,Me=Ee===2?"<svg>":Ee===3?"<math>":"",Ue=f;for(let De=0;De<Te;De++){const qe=Ce[De];let $e,ze,Xe=-1,We=0;for(;We<qe.length&&(Ue.lastIndex=We,ze=Ue.exec(qe),ze!==null);)We=Ue.lastIndex,Ue===f?ze[1]==="!--"?Ue=v:ze[1]!==void 0?Ue=_:ze[2]!==void 0?($.test(ze[2])&&(Re=RegExp("</"+ze[2],"g")),Ue=m):ze[3]!==void 0&&(Ue=m):Ue===m?ze[0]===">"?(Ue=Re??f,Xe=-1):ze[1]===void 0?Xe=-2:(Xe=Ue.lastIndex-ze[2].length,$e=ze[1],Ue=ze[3]===void 0?m:ze[3]==='"'?g:p):Ue===g||Ue===p?Ue=m:Ue===v||Ue===_?Ue=f:(Ue=m,Re=void 0);const Ge=Ue===m&&Ce[De+1].startsWith("/>")?" ":"";Me+=Ue===f?qe+n$1:Xe>=0?(Be.push($e),qe.slice(0,Xe)+e$2+qe.slice(Xe)+h+Ge):qe+h+(Xe===-2?De:Ge)}return[P(Ce,Me+(Ce[Te]||"<?>")+(Ee===2?"</svg>":Ee===3?"</math>":"")),Be]};class N{constructor({strings:Ee,_$litType$:Te},Be){let Re;this.parts=[];let Me=0,Ue=0;const De=Ee.length-1,qe=this.parts,[$e,ze]=V(Ee,Te);if(this.el=N.createElement($e,Be),C.currentNode=this.el.content,Te===2||Te===3){const Xe=this.el.content.firstChild;Xe.replaceWith(...Xe.childNodes)}for(;(Re=C.nextNode())!==null&&qe.length<De;){if(Re.nodeType===1){if(Re.hasAttributes())for(const Xe of Re.getAttributeNames())if(Xe.endsWith(e$2)){const We=ze[Ue++],Ge=Re.getAttribute(Xe).split(h),tn=/([.?@])?(.*)/.exec(We);qe.push({type:1,index:Me,name:tn[2],strings:Ge,ctor:tn[1]==="."?H:tn[1]==="?"?I:tn[1]==="@"?L:k}),Re.removeAttribute(Xe)}else Xe.startsWith(h)&&(qe.push({type:6,index:Me}),Re.removeAttribute(Xe));if($.test(Re.tagName)){const Xe=Re.textContent.split(h),We=Xe.length-1;if(We>0){Re.textContent=i$2?i$2.emptyScript:"";for(let Ge=0;Ge<We;Ge++)Re.append(Xe[Ge],l()),C.nextNode(),qe.push({type:2,index:++Me});Re.append(Xe[We],l())}}}else if(Re.nodeType===8)if(Re.data===o$2)qe.push({type:2,index:Me});else{let Xe=-1;for(;(Xe=Re.data.indexOf(h,Xe+1))!==-1;)qe.push({type:7,index:Me}),Xe+=h.length-1}Me++}}static createElement(Ee,Te){const Be=r$2.createElement("template");return Be.innerHTML=Ee,Be}}function S(Ce,Ee,Te=Ce,Be){var Ue,De;if(Ee===T)return Ee;let Re=Be!==void 0?(Ue=Te._$Co)==null?void 0:Ue[Be]:Te._$Cl;const Me=c(Ee)?void 0:Ee._$litDirective$;return(Re==null?void 0:Re.constructor)!==Me&&((De=Re==null?void 0:Re._$AO)==null||De.call(Re,!1),Me===void 0?Re=void 0:(Re=new Me(Ce),Re._$AT(Ce,Te,Be)),Be!==void 0?(Te._$Co??(Te._$Co=[]))[Be]=Re:Te._$Cl=Re),Re!==void 0&&(Ee=S(Ce,Re._$AS(Ce,Ee.values),Re,Be)),Ee}class M{constructor(Ee,Te){this._$AV=[],this._$AN=void 0,this._$AD=Ee,this._$AM=Te}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Ee){const{el:{content:Te},parts:Be}=this._$AD,Re=((Ee==null?void 0:Ee.creationScope)??r$2).importNode(Te,!0);C.currentNode=Re;let Me=C.nextNode(),Ue=0,De=0,qe=Be[0];for(;qe!==void 0;){if(Ue===qe.index){let $e;qe.type===2?$e=new R(Me,Me.nextSibling,this,Ee):qe.type===1?$e=new qe.ctor(Me,qe.name,qe.strings,this,Ee):qe.type===6&&($e=new z(Me,this,Ee)),this._$AV.push($e),qe=Be[++De]}Ue!==(qe==null?void 0:qe.index)&&(Me=C.nextNode(),Ue++)}return C.currentNode=r$2,Re}p(Ee){let Te=0;for(const Be of this._$AV)Be!==void 0&&(Be.strings!==void 0?(Be._$AI(Ee,Be,Te),Te+=Be.strings.length-2):Be._$AI(Ee[Te])),Te++}}class R{get _$AU(){var Ee;return((Ee=this._$AM)==null?void 0:Ee._$AU)??this._$Cv}constructor(Ee,Te,Be,Re){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=Ee,this._$AB=Te,this._$AM=Be,this.options=Re,this._$Cv=(Re==null?void 0:Re.isConnected)??!0}get parentNode(){let Ee=this._$AA.parentNode;const Te=this._$AM;return Te!==void 0&&(Ee==null?void 0:Ee.nodeType)===11&&(Ee=Te.parentNode),Ee}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Ee,Te=this){Ee=S(this,Ee,Te),c(Ee)?Ee===E||Ee==null||Ee===""?(this._$AH!==E&&this._$AR(),this._$AH=E):Ee!==this._$AH&&Ee!==T&&this._(Ee):Ee._$litType$!==void 0?this.$(Ee):Ee.nodeType!==void 0?this.T(Ee):u(Ee)?this.k(Ee):this._(Ee)}O(Ee){return this._$AA.parentNode.insertBefore(Ee,this._$AB)}T(Ee){this._$AH!==Ee&&(this._$AR(),this._$AH=this.O(Ee))}_(Ee){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=Ee:this.T(r$2.createTextNode(Ee)),this._$AH=Ee}$(Ee){var Me;const{values:Te,_$litType$:Be}=Ee,Re=typeof Be=="number"?this._$AC(Ee):(Be.el===void 0&&(Be.el=N.createElement(P(Be.h,Be.h[0]),this.options)),Be);if(((Me=this._$AH)==null?void 0:Me._$AD)===Re)this._$AH.p(Te);else{const Ue=new M(Re,this),De=Ue.u(this.options);Ue.p(Te),this.T(De),this._$AH=Ue}}_$AC(Ee){let Te=A.get(Ee.strings);return Te===void 0&&A.set(Ee.strings,Te=new N(Ee)),Te}k(Ee){a(this._$AH)||(this._$AH=[],this._$AR());const Te=this._$AH;let Be,Re=0;for(const Me of Ee)Re===Te.length?Te.push(Be=new R(this.O(l()),this.O(l()),this,this.options)):Be=Te[Re],Be._$AI(Me),Re++;Re<Te.length&&(this._$AR(Be&&Be._$AB.nextSibling,Re),Te.length=Re)}_$AR(Ee=this._$AA.nextSibling,Te){var Be;for((Be=this._$AP)==null?void 0:Be.call(this,!1,!0,Te);Ee!==this._$AB;){const Re=Ee.nextSibling;Ee.remove(),Ee=Re}}setConnected(Ee){var Te;this._$AM===void 0&&(this._$Cv=Ee,(Te=this._$AP)==null||Te.call(this,Ee))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(Ee,Te,Be,Re,Me){this.type=1,this._$AH=E,this._$AN=void 0,this.element=Ee,this.name=Te,this._$AM=Re,this.options=Me,Be.length>2||Be[0]!==""||Be[1]!==""?(this._$AH=Array(Be.length-1).fill(new String),this.strings=Be):this._$AH=E}_$AI(Ee,Te=this,Be,Re){const Me=this.strings;let Ue=!1;if(Me===void 0)Ee=S(this,Ee,Te,0),Ue=!c(Ee)||Ee!==this._$AH&&Ee!==T,Ue&&(this._$AH=Ee);else{const De=Ee;let qe,$e;for(Ee=Me[0],qe=0;qe<Me.length-1;qe++)$e=S(this,De[Be+qe],Te,qe),$e===T&&($e=this._$AH[qe]),Ue||(Ue=!c($e)||$e!==this._$AH[qe]),$e===E?Ee=E:Ee!==E&&(Ee+=($e??"")+Me[qe+1]),this._$AH[qe]=$e}Ue&&!Re&&this.j(Ee)}j(Ee){Ee===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Ee??"")}}class H extends k{constructor(){super(...arguments),this.type=3}j(Ee){this.element[this.name]=Ee===E?void 0:Ee}}class I extends k{constructor(){super(...arguments),this.type=4}j(Ee){this.element.toggleAttribute(this.name,!!Ee&&Ee!==E)}}class L extends k{constructor(Ee,Te,Be,Re,Me){super(Ee,Te,Be,Re,Me),this.type=5}_$AI(Ee,Te=this){if((Ee=S(this,Ee,Te,0)??E)===T)return;const Be=this._$AH,Re=Ee===E&&Be!==E||Ee.capture!==Be.capture||Ee.once!==Be.once||Ee.passive!==Be.passive,Me=Ee!==E&&(Be===E||Re);Re&&this.element.removeEventListener(this.name,this,Be),Me&&this.element.addEventListener(this.name,this,Ee),this._$AH=Ee}handleEvent(Ee){var Te;typeof this._$AH=="function"?this._$AH.call(((Te=this.options)==null?void 0:Te.host)??this.element,Ee):this._$AH.handleEvent(Ee)}}class z{constructor(Ee,Te,Be){this.element=Ee,this.type=6,this._$AN=void 0,this._$AM=Te,this.options=Be}get _$AU(){return this._$AM._$AU}_$AI(Ee){S(this,Ee)}}const j=t$2.litHtmlPolyfillSupport;j==null||j(N,R),(t$2.litHtmlVersions??(t$2.litHtmlVersions=[])).push("3.3.1");const B=(Ce,Ee,Te)=>{const Be=(Te==null?void 0:Te.renderBefore)??Ee;let Re=Be._$litPart$;if(Re===void 0){const Me=(Te==null?void 0:Te.renderBefore)??null;Be._$litPart$=Re=new R(Ee.insertBefore(l(),Me),Me,void 0,Te??{})}return Re._$AI(Ce),Re};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=globalThis;let i$1=class extends y$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var Te;const Ee=super.createRenderRoot();return(Te=this.renderOptions).renderBefore??(Te.renderBefore=Ee.firstChild),Ee}update(Ee){const Te=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(Ee),this._$Do=B(Te,this.renderRoot,this.renderOptions)}connectedCallback(){var Ee;super.connectedCallback(),(Ee=this._$Do)==null||Ee.setConnected(!0)}disconnectedCallback(){var Ee;super.disconnectedCallback(),(Ee=this._$Do)==null||Ee.setConnected(!1)}render(){return T}};var $m;i$1._$litElement$=!0,i$1.finalized=!0,($m=s.litElementHydrateSupport)==null||$m.call(s,{LitElement:i$1});const o$1=s.litElementPolyfillSupport;o$1==null||o$1({LitElement:i$1});(s.litElementVersions??(s.litElementVersions=[])).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1=Ce=>(Ee,Te)=>{Te!==void 0?Te.addInitializer((()=>{customElements.define(Ce,Ee)})):customElements.define(Ce,Ee)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o={attribute:!0,type:String,converter:u$1,reflect:!1,hasChanged:f$1},r$1=(Ce=o,Ee,Te)=>{const{kind:Be,metadata:Re}=Te;let Me=globalThis.litPropertyMetadata.get(Re);if(Me===void 0&&globalThis.litPropertyMetadata.set(Re,Me=new Map),Be==="setter"&&((Ce=Object.create(Ce)).wrapped=!0),Me.set(Te.name,Ce),Be==="accessor"){const{name:Ue}=Te;return{set(De){const qe=Ee.get.call(this);Ee.set.call(this,De),this.requestUpdate(Ue,qe,Ce)},init(De){return De!==void 0&&this.C(Ue,void 0,Ce,De),De}}}if(Be==="setter"){const{name:Ue}=Te;return function(De){const qe=this[Ue];Ee.call(this,De),this.requestUpdate(Ue,qe,Ce)}}throw Error("Unsupported decorator location: "+Be)};function n(Ce){return(Ee,Te)=>typeof Te=="object"?r$1(Ce,Ee,Te):((Be,Re,Me)=>{const Ue=Re.hasOwnProperty(Me);return Re.constructor.createProperty(Me,Be),Ue?Object.getOwnPropertyDescriptor(Re,Me):void 0})(Ce,Ee,Te)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r(Ce){return n({...Ce,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t={ATTRIBUTE:1},e$1=Ce=>(...Ee)=>({_$litDirective$:Ce,values:Ee});class i{constructor(Ee){}get _$AU(){return this._$AM._$AU}_$AT(Ee,Te,Be){this._$Ct=Ee,this._$AM=Te,this._$Ci=Be}_$AS(Ee,Te){return this.update(Ee,Te)}update(Ee,Te){return this.render(...Te)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e=e$1(class extends i{constructor(Ce){var Ee;if(super(Ce),Ce.type!==t.ATTRIBUTE||Ce.name!=="class"||((Ee=Ce.strings)==null?void 0:Ee.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(Ce){return" "+Object.keys(Ce).filter((Ee=>Ce[Ee])).join(" ")+" "}update(Ce,[Ee]){var Be,Re;if(this.st===void 0){this.st=new Set,Ce.strings!==void 0&&(this.nt=new Set(Ce.strings.join(" ").split(/\s/).filter((Me=>Me!==""))));for(const Me in Ee)Ee[Me]&&!((Be=this.nt)!=null&&Be.has(Me))&&this.st.add(Me);return this.render(Ee)}const Te=Ce.element.classList;for(const Me of this.st)Me in Ee||(Te.remove(Me),this.st.delete(Me));for(const Me in Ee){const Ue=!!Ee[Me];Ue===this.st.has(Me)||(Re=this.nt)!=null&&Re.has(Me)||(Ue?(Te.add(Me),this.st.add(Me)):(Te.remove(Me),this.st.delete(Me)))}return T}});var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(Ce,Ee,Te,Be)=>{for(var Re=Be>1?void 0:Be?__getOwnPropDesc(Ee,Te):Ee,Me=Ce.length-1,Ue;Me>=0;Me--)(Ue=Ce[Me])&&(Re=(Be?Ue(Ee,Te,Re):Ue(Re))||Re);return Be&&Re&&__defProp(Ee,Te,Re),Re};const VoiceMode=({onClose:Ce,userProfile:Ee})=>{const Te=reactExports.useRef(null);return reactExports.useEffect(()=>{const Be=()=>Ce(),Re=Te.current;return Re==null||Re.addEventListener("close",Be),()=>{Re==null||Re.removeEventListener("close",Be)}},[Ce]),React.createElement("gdm-live-audio",{ref:Te,"profile-image-url":Ee.profileImageUrl})},decode=Ce=>{const Ee=atob(Ce),Te=Ee.length,Be=new Uint8Array(Te);for(let Re=0;Re<Te;Re++)Be[Re]=Ee.charCodeAt(Re);return Be.buffer},createBlob=Ce=>{const Ee=new DataView(new ArrayBuffer(Ce.length*2));for(let Me=0;Me<Ce.length;Me++){const Ue=Math.max(-1,Math.min(1,Ce[Me]));Ee.setInt16(Me*2,Ue<0?Ue*32768:Ue*32767,!0)}let Te="";const Be=new Uint8Array(Ee.buffer),Re=Be.byteLength;for(let Me=0;Me<Re;Me++)Te+=String.fromCharCode(Be[Me]);return btoa(Te)},AGENT_INSTRUCTION="You are a helpful voice AI teacher that speaks Arabic only (Egyptian Dialect), if user asks some english words like terms as example (AI, Artificial Intelligence, ML, Machine Leaarning, DL, Deep Learning, Data Analysis, Big Data Analytics), you will use those data during speaking and you can use them, or mix like (The word in English and the meaning in arabic (Artificial Intelligence أو الذكاء الإصطناعي), Your answers must be in details and long answers, don't try to minimize/ shorten your response)",SESSION_INSTRUCTION="Greet the user with (Alsalamo Alikum) and present yourself as that your name is Master. Rashid, and I'm teacher and offer your assistance to help user in understanding anythin in during his study in Arabic Language (Egyptian Materials) only, When user need to end the discussion you will End your discussion with only one of the words (Fe Amana Ellah) or say (Fe Hefz Ellah) and say (Alsalamo Alikum).";let GdmLiveAudio=class extends i$1{constructor(){super(),this.isRecording=!1,this.isSpeaking=!1,this.status="اضغط على الزر لبدء التحدث.",this.error="",this.nextStartTime=0,this.sources=new Set,this.initClient()}connectedCallback(){super.connectedCallback(),this.initAudioContexts(),this.initSession()}disconnectedCallback(){var Ce,Ee,Te;super.disconnectedCallback(),this.stopRecording(),(Ce=this.session)==null||Ce.close(),(Ee=this.inputAudioContext)==null||Ee.close().catch(console.error),(Te=this.outputAudioContext)==null||Te.close().catch(console.error)}initAudioContexts(){const Ce=window.AudioContext||window.webkitAudioContext;this.inputAudioContext=new Ce({sampleRate:16e3}),this.outputAudioContext=new Ce({sampleRate:24e3}),this.inputNode=this.inputAudioContext.createGain(),this.outputNode=this.outputAudioContext.createGain(),this.outputNode.connect(this.outputAudioContext.destination),this.nextStartTime=0}initClient(){this.client=new GoogleGenAI({apiKey:"AIzaSyCYDHWIZRV6KXLL1SFOZKoiN47dI6hmsYU"})}async initSession(){if(!this.client)return;const Ce="gemini-2.5-flash-preview-native-audio-dialog",Ee=`${SESSION_INSTRUCTION}
${AGENT_INSTRUCTION}`;try{this.session=await this.client.live.connect({model:Ce,callbacks:{onopen:()=>this.updateStatus("الاتصال مفتوح."),onmessage:Te=>this.handleLiveMessage(Te),onerror:Te=>this.updateError(Te.message),onclose:Te=>this.updateStatus(`انتهى الاتصال: ${Te.reason}`)},config:{systemInstruction:Ee,responseModalities:[Modality.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Orus"}}}}})}catch(Te){console.error(Te),this.updateError(Te instanceof Error?Te.message:"فشل في بدء الجلسة.")}}handleLiveMessage(Ce){var Te,Be,Re,Me;const Ee=(Re=(Be=(Te=Ce.serverContent)==null?void 0:Te.modelTurn)==null?void 0:Be.parts[0])==null?void 0:Re.inlineData;if(Ee){const Ue=decode(Ee.data),De=new Int16Array(Ue),qe=this.outputAudioContext.createBuffer(1,De.length,24e3),$e=qe.getChannelData(0);for(let Xe=0;Xe<De.length;Xe++)$e[Xe]=De[Xe]/32768;this.nextStartTime=Math.max(this.nextStartTime,this.outputAudioContext.currentTime);const ze=this.outputAudioContext.createBufferSource();ze.buffer=qe,ze.connect(this.outputNode),ze.onended=()=>{this.sources.delete(ze),this.sources.size===0&&(this.isSpeaking=!1)},ze.start(this.nextStartTime),this.nextStartTime+=qe.duration,this.sources.add(ze),this.isSpeaking=!0}if((Me=Ce.serverContent)!=null&&Me.interrupted){for(const Ue of this.sources)Ue.stop();this.sources.clear(),this.nextStartTime=0,this.isSpeaking=!1}}updateStatus(Ce){this.status=Ce,this.error=""}updateError(Ce){this.error=Ce,this.status=""}async startRecording(){if(!this.isRecording){this.inputAudioContext.state==="suspended"&&await this.inputAudioContext.resume(),this.updateStatus("جاري طلب الوصول إلى الميكروفون...");try{this.mediaStream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),this.updateStatus("تم منح الوصول إلى الميكروفون."),this.sourceNode=this.inputAudioContext.createMediaStreamSource(this.mediaStream),this.sourceNode.connect(this.inputNode);const Ce=4096;this.scriptProcessorNode=this.inputAudioContext.createScriptProcessor(Ce,1,1),this.scriptProcessorNode.onaudioprocess=Ee=>{if(!this.isRecording||!this.session)return;const Te=Ee.inputBuffer.getChannelData(0);this.session.sendRealtimeInput({audio:{data:createBlob(Te),mimeType:"audio/pcm;rate=16000"}})},this.sourceNode.connect(this.scriptProcessorNode),this.scriptProcessorNode.connect(this.inputAudioContext.destination),this.isRecording=!0,this.updateStatus("🔴 جاري التسجيل...")}catch(Ce){console.error("Error starting recording:",Ce),this.updateError(Ce instanceof Error?Ce.message:"خطأ غير معروف في التسجيل."),this.stopRecording()}}}stopRecording(){var Ce,Ee,Te;!this.isRecording&&!this.mediaStream||(this.updateStatus("جاري إيقاف التسجيل..."),this.isRecording=!1,(Ce=this.scriptProcessorNode)==null||Ce.disconnect(),(Ee=this.sourceNode)==null||Ee.disconnect(),this.scriptProcessorNode=null,this.sourceNode=null,(Te=this.mediaStream)==null||Te.getTracks().forEach(Be=>Be.stop()),this.mediaStream=null,this.updateStatus("توقف الإدخال الصوتي. اضغط لبدء التحدث."))}reset(){var Ce;(Ce=this.session)==null||Ce.close(),this.initSession(),this.updateStatus("تم إعادة تعيين الجلسة.")}handleClose(){this.dispatchEvent(new CustomEvent("close"))}render(){const Ce={"teacher-avatar":!0,"animate-glowing-orb":!0,"animate-speaking-pulse":this.isSpeaking},Ee={"student-avatar":!0,"animate-speaking-pulse":this.isRecording},Te={"control-btn":!0,recording:this.isRecording};return x`
      <button class="close-btn" @click=${this.handleClose} title="إغلاق الوضع الصوتي">&times;</button>
      
      <div class=${e(Ce)}>
        <p>الأستاذ راشد</p>
        <p class="text-sm opacity-80">${this.isSpeaking?"يتحدث...":"يستمع"}</p>
      </div>

      <div id="status">
        ${this.error?x`<span style="color: #f87171;">${this.error}</span>`:this.status}
      </div>

      <div class="student-section">
        <img 
            src=${this.profileImageUrl||"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?q=80&w=2080&auto=format&fit=crop"} 
            alt="صورة الطالب" 
            class=${e(Ee)}
        />
        <div class="controls">
            <button id="resetButton" class="control-btn" @click=${this.reset} ?disabled=${this.isRecording} title="إعادة تعيين الجلسة">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z" /></svg>
            </button>
            <button id="recordButton" class=${e(Te)} @click=${this.isRecording?this.stopRecording:this.startRecording}>
                ${this.isRecording?x`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M9,9V15H15V9H9Z" /></svg>`:x`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12,2A3,3 0 0,1 15,5V12A3,3 0 0,1 12,15A3,3 0 0,1 9,12V5A3,3 0 0,1 12,2M19,12C19,15.31 16.31,18 13,18V22H11V18C7.69,18 5,15.31 5,12H7A5,5 0 0,0 12,17A5,5 0 0,0 17,12H19Z" /></svg>`}
            </button>
            <div style="width: 50px;"></div>
        </div>
      </div>
    `}};GdmLiveAudio.styles=i$4`
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      height: 100%;
      position: relative;
      background: radial-gradient(ellipse at center, #1e3a8a 0%, #111827 70%);
      padding: 4vh 2vw;
      box-sizing: border-box;
      color: white;
      font-family: sans-serif;
    }
    .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 20;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 0.2);
      color: white;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      cursor: pointer;
      font-size: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      padding-bottom: 4px;
      transition: background-color 0.2s;
    }
    .close-btn:hover {
        background: rgba(255, 255, 255, 0.2);
    }
    .teacher-avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: radial-gradient(ellipse at center, #38bdf8 0%, #0ea5e9 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      border: 4px solid rgba(255, 255, 255, 0.1);
      text-align: center;
    }
    .teacher-avatar p {
        margin: 0;
        font-weight: bold;
        text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    }
    #status {
      text-align: center;
      padding: 0 10px;
      min-height: 40px; /* Reserve space */
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      padding: 10px 20px;
      backdrop-filter: blur(5px);
    }
    .student-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }
    .student-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #34d399;
        object-fit: cover;
        box-shadow: 0 0 15px rgba(52, 211, 153, 0.5);
        transition: transform 0.5s ease;
    }
    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      max-width: 300px;
    }
    .control-btn {
        outline: none;
        border: none;
        color: white;
        cursor: pointer;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
    }
    .control-btn:hover {
        background: rgba(255, 255, 255, 0.2);
    }
    .control-btn:active {
        transform: scale(0.95);
    }
    #recordButton {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background-color: #ef4444; /* red-500 */
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.6);
    }
    #recordButton.recording {
        background-color: #3b82f6; /* blue-500 */
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
    }
    #recordButton svg {
        width: 36px;
        height: 36px;
    }
    #resetButton {
        width: 50px;
        height: 50px;
        border-radius: 50%;
    }
    #resetButton svg {
        width: 28px;
        height: 28px;
        fill: #fff;
    }
    #resetButton[disabled] {
      opacity: 0;
      pointer-events: none;
    }
  `;__decorateClass([r()],GdmLiveAudio.prototype,"isRecording",2);__decorateClass([r()],GdmLiveAudio.prototype,"isSpeaking",2);__decorateClass([r()],GdmLiveAudio.prototype,"status",2);__decorateClass([r()],GdmLiveAudio.prototype,"error",2);__decorateClass([n({type:String,attribute:"profile-image-url"})],GdmLiveAudio.prototype,"profileImageUrl",2);__decorateClass([r()],GdmLiveAudio.prototype,"inputNode",2);__decorateClass([r()],GdmLiveAudio.prototype,"outputNode",2);GdmLiveAudio=__decorateClass([t$1("gdm-live-audio")],GdmLiveAudio);const DownloadIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),MicrophoneIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),SummarizeChatIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h7"})}),ChatInput=({onSendMessage:Ce,isLoading:Ee,onDownloadChat:Te,onSummarizeChat:Be,userProfile:Re})=>{const[Me,Ue]=reactExports.useState(""),[De,qe]=reactExports.useState(!1),$e=reactExports.useCallback(()=>{Me.trim()&&(Ce(Me),Ue(""))},[Me,Ce]),ze=Xe=>{Xe.key==="Enter"&&!Xe.shiftKey&&(Xe.preventDefault(),$e())};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg shadow-sm p-2 gap-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:$e,disabled:Ee||!Me.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed transition-colors",children:Ee?"يُفكر...":"إرسال"}),jsxRuntimeExports.jsx("button",{onClick:Te,className:"p-2 text-gray-500 hover:text-blue-500 transition-colors rounded-full",title:"تنزيل المحادثة",disabled:Ee,children:jsxRuntimeExports.jsx(DownloadIcon,{})}),jsxRuntimeExports.jsx("button",{onClick:Be,className:"p-2 text-gray-500 hover:text-green-500 transition-colors rounded-full",title:"تلخيص المحادثة",disabled:Ee,children:jsxRuntimeExports.jsx(SummarizeChatIcon,{})}),jsxRuntimeExports.jsx("textarea",{value:Me,onChange:Xe=>Ue(Xe.target.value),onKeyDown:ze,placeholder:"اكتب رسالتك هنا...",className:"flex-1 px-4 py-2 bg-transparent text-gray-800 dark:text-gray-200 focus:outline-none resize-none",rows:1,disabled:Ee}),jsxRuntimeExports.jsx("button",{onClick:()=>qe(!0),className:"p-2 text-gray-500 hover:text-red-500 transition-colors rounded-full",disabled:Ee,title:"الوضع الصوتي",children:jsxRuntimeExports.jsx(MicrophoneIcon,{})})]})}),De&&jsxRuntimeExports.jsx(VoiceMode,{onClose:()=>qe(!1),userProfile:Re})]})},ConfirmationModal=({title:Ce,options:Ee,onCancel:Te})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:Ce}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[Ee.map((Be,Re)=>jsxRuntimeExports.jsx("button",{onClick:Be.action,className:`w-full px-4 py-2 font-semibold rounded-md transition-colors ${Be.isDestructive?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:Be.label},Re)),jsxRuntimeExports.jsx("button",{onClick:Te,className:"w-full px-4 py-2 font-semibold bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"إلغاء"})]})]})}),ToastContext=reactExports.createContext(void 0),useToast=()=>{const Ce=reactExports.useContext(ToastContext);if(!Ce)throw new Error("useToast must be used within a ToastProvider");return Ce},ToastContainer=({toasts:Ce,removeToast:Ee})=>(reactExports.useEffect(()=>{if(Ce.length>0){const Te=setTimeout(()=>{Ee(Ce[Ce.length-1].id)},3e3);return()=>clearTimeout(Te)}},[Ce,Ee]),jsxRuntimeExports.jsx("div",{className:"fixed bottom-5 right-5 z-[100] space-y-2",children:Ce.map(Te=>jsxRuntimeExports.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg text-white animate-fade-in-out ${Te.type==="success"?"bg-green-500":"bg-red-500"}`,children:Te.message},Te.id))})),ToastProvider=({children:Ce})=>{const[Ee,Te]=reactExports.useState([]),Be=React.useRef(0),Re=reactExports.useCallback((Ue,De="success")=>{const qe=Be.current++;Te($e=>[...$e,{id:qe,message:Ue,type:De}])},[]),Me=reactExports.useCallback(Ue=>{Te(De=>De.filter(qe=>qe.id!==Ue))},[]);return jsxRuntimeExports.jsxs(ToastContext.Provider,{value:{addToast:Re},children:[Ce,jsxRuntimeExports.jsx(ToastContainer,{toasts:Ee,removeToast:Me})]})},ChatPanel=({messages:Ce,setMessages:Ee,knowledgeBase:Te,addNote:Be,userProfile:Re,clearKnowledgeBase:Me,isLoading:Ue,setIsLoading:De,sessionTitle:qe})=>{const[$e,ze]=reactExports.useState(null),Xe=reactExports.useRef(null),{addToast:We}=useToast(),Ge=()=>{var dn;(dn=Xe.current)==null||dn.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(Ge,[Ce]);const tn=dn=>{const sn={id:Date.now().toString(),sender:MessageSender.USER,text:dn,timestamp:new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})};Ee(kn=>[...kn,sn])},en=reactExports.useCallback(async dn=>{if(!dn.trim()||Ue)return;tn(dn),De(!0);const sn=(Date.now()+1).toString(),kn={id:sn,sender:MessageSender.BOT,text:"",isThinking:!0};Ee(Ln=>[...Ln,kn]);const{fullText:Pn,sources:_n,error:Mn}=await generateResponse(dn,Te,Re,qe||"محادثة عامة");Ee(Ln=>Ln.filter(Vn=>Vn.id!==sn));const zn={id:(Date.now()+2).toString(),sender:MessageSender.BOT,timestamp:new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})};if(Mn){const Ln={...zn,text:Mn,isError:!0};Ee(Vn=>[...Vn,Ln])}else{const Ln={...zn,text:Pn,sources:_n};Ee(Vn=>[...Vn,Ln])}De(!1)},[Ue,Te,Ee,Re,De,qe]),an=reactExports.useCallback(async()=>{if(Ue||Ce.length===0)return;De(!0),Me();const dn=(Date.now()+1).toString(),sn={id:dn,sender:MessageSender.BOT,text:"جاري تلخيص المحادثة...",isThinking:!0};Ee(Mn=>[...Mn,sn]);const kn=Ce.filter(Mn=>!Mn.isThinking).map(Mn=>`${Mn.sender===MessageSender.USER?"المستخدم":"ذاكربوت"}: ${Mn.text}`).join(`
`),Pn=await summarizeChatHistory(kn);Ee(Mn=>Mn.filter(yn=>yn.id!==dn));const _n={id:Date.now().toString(),sender:MessageSender.BOT,text:`ملخص المحادثة:
${Pn}`,timestamp:new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})};Ee(Mn=>[...Mn,_n]),De(!1)},[Ce,Ue,Ee,Me,De]),Ye=reactExports.useCallback(async dn=>{const sn=Ce.find(_n=>_n.id===dn);if(!sn)return;De(!0);const kn=await summarizeText(sn.text),Pn={id:Date.now().toString(),sender:MessageSender.BOT,text:`ملخص: ${kn}`,timestamp:new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})};Ee(_n=>[..._n,Pn]),De(!1)},[Ce,Ee,De]),Ze=reactExports.useCallback(dn=>{const sn=Ce.findIndex(Mn=>Mn.id===dn);if(sn===-1)return;const kn=Ce[sn];let Pn=null;for(let Mn=sn-1;Mn>=0;Mn--)if(Ce[Mn].sender===MessageSender.USER){Pn=Ce[Mn];break}const _n=Pn?`سؤالي: ${Pn.text}

الرد: ${kn.text}`:kn.text;Be(_n)},[Ce,Be]),St=dn=>Ce.filter(sn=>!sn.isThinking&&(dn||sn.sender===MessageSender.BOT)).map(sn=>`${sn.sender===MessageSender.USER?"أنا":"ذاكربوت"}: ${sn.text}`).join(`

`),Qe=dn=>{const sn=St(dn),kn=new E$1;kn.text("محادثتي مع ذاكربوت",20,10);const Pn=kn.splitTextToSize(sn,170);kn.text(Pn,20,20),kn.save("chat-history.pdf")},Je=dn=>{const sn=Ce.filter(Pn=>!Pn.isThinking&&(dn||Pn.sender===MessageSender.BOT)).map(Pn=>new Paragraph({children:[new TextRun({text:Pn.sender===MessageSender.USER?"أنا: ":"ذاكربوت: ",bold:!0}),new TextRun(Pn.text)]})),kn=new File$1({sections:[{children:sn}]});Packer.toBlob(kn).then(Pn=>{saveAs(Pn,"chat-history.docx")})},on=reactExports.useCallback(()=>{ze({title:"تنزيل المحادثة",options:[{label:"المحادثة كاملة (PDF)",action:()=>{Qe(!0),ze(null)}},{label:"الردود فقط (PDF)",action:()=>{Qe(!1),ze(null)}},{label:"المحادثة كاملة (Word)",action:()=>{Je(!0),ze(null)}},{label:"الردود فقط (Word)",action:()=>{Je(!1),ze(null)}}]})},[Ce]),hn=Ce.findIndex(dn=>dn.sender===MessageSender.BOT&&!dn.isThinking);return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[$e&&jsxRuntimeExports.jsx(ConfirmationModal,{...$e,onCancel:()=>ze(null)}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Ce.map((dn,sn)=>jsxRuntimeExports.jsx("div",{className:`flex w-full ${dn.sender===MessageSender.USER?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsx(ChatMessage,{message:dn,onSummarize:Ye,onTakeNote:Ze,isFirstBotMessage:sn===hn,userProfile:Re})},dn.id)),jsxRuntimeExports.jsx("div",{ref:Xe})]})}),jsxRuntimeExports.jsx(ChatInput,{onSendMessage:en,isLoading:Ue,onDownloadChat:on,onSummarizeChat:an,userProfile:Re})]})},SearchIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),DeleteIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),NotesSidebar=({isVisible:Ce,notes:Ee,onClose:Te,onRemoveNote:Be})=>{const[Re,Me]=reactExports.useState(""),Ue=Ee.filter(ze=>ze.content.toLowerCase().includes(Re.toLowerCase())),De=()=>{const ze=new E$1;ze.text("ملاحظاتي",20,10),Ee.forEach((Xe,We)=>{const Ge=20+We*10;ze.text(`${We+1}. ${Xe.content}`,20,Ge)}),ze.save("notes.pdf")},qe=()=>{const ze=new File$1({sections:[{properties:{},children:[new Paragraph({children:[new TextRun({text:"ملاحظاتي",bold:!0,size:28})]}),...Ee.flatMap(Xe=>[new Paragraph({children:[new TextRun(Xe.content)],style:"ListParagraph"}),new Paragraph({children:[new TextRun({text:`(حُفظت في: ${Xe.timestamp})`,size:16,italics:!0})]}),new Paragraph({text:""})])]}]});Packer.toBlob(ze).then(Xe=>{saveAs(Xe,"notes.docx")})},$e=()=>{const ze=Ee.map(We=>`[${We.timestamp}]
${We.content}`).join(`

---

`),Xe=new Blob([ze],{type:"text/plain;charset=utf-8"});saveAs(Xe,"ذاكربوت-ملاحظات.txt")};return jsxRuntimeExports.jsxs("aside",{className:`bg-yellow-50 dark:bg-gray-800 border-e border-gray-200 dark:border-gray-700 flex flex-col flex-shrink-0 transition-all duration-300 ease-in-out ${Ce?"w-96":"w-0 hidden"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"الملاحظات"}),jsxRuntimeExports.jsx("button",{onClick:Te,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white text-2xl leading-none",children:"×"})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"search",value:Re,onChange:ze=>Me(ze.target.value),placeholder:"ابحث في ملاحظاتك...",className:"w-full ps-10 pe-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:jsxRuntimeExports.jsx(SearchIcon,{})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:Ee.length>0?Ue.length>0?Ue.map(ze=>jsxRuntimeExports.jsxs("div",{className:"relative p-3 bg-white dark:bg-gray-700 rounded-lg shadow-sm group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Be(ze.id),className:"absolute top-2 left-2 p-1 text-gray-400 bg-white dark:bg-gray-700 rounded-full opacity-0 group-hover:opacity-100 hover:text-red-500 hover:bg-gray-100 dark:hover:bg-gray-600 transition-opacity",title:"حذف الملاحظة",children:jsxRuntimeExports.jsx(DeleteIcon,{})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:ze.content}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:ze.timestamp})]},ze.id)):jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 mt-4",children:"لا توجد ملاحظات تطابق بحثك."}):jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500",children:"لا توجد ملاحظات بعد."})}),Ee.length>0&&jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400 mb-2",children:["سيتم تنزيل جميع الملاحظات (",Ee.length,")."]}),jsxRuntimeExports.jsx("button",{onClick:$e,className:"w-full bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:"تنزيل كـ TXT"}),jsxRuntimeExports.jsx("button",{onClick:De,className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 transition-colors",children:"تنزيل كـ PDF"}),jsxRuntimeExports.jsx("button",{onClick:qe,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"تنزيل كـ Word"})]})]})},BookOpenIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),DocumentTextIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),ChatAlt2Icon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V10a2 2 0 012-2h8z"})}),Header=({userProfile:Ce,onLogout:Ee,onNavigateToProfile:Te,onNavigateToChat:Be,onNavigateHome:Re,onToggleKnowledgeBase:Me,onToggleNotes:Ue,onToggleSessions:De,isKnowledgeBaseActive:qe,isNotesActive:$e,isSessionsActive:ze,isLoading:Xe})=>{const[We,Ge]=reactExports.useState(!1),tn=reactExports.useRef(null);reactExports.useEffect(()=>{const an=Ye=>{tn.current&&!tn.current.contains(Ye.target)&&Ge(!1)};return document.addEventListener("mousedown",an),()=>document.removeEventListener("mousedown",an)},[]);const en=an=>{const Ye=an.split(" ");return Ye.length>1?`${Ye[0][0]}${Ye[Ye.length-1][0]}`.toUpperCase():an.substring(0,2).toUpperCase()};return jsxRuntimeExports.jsxs("header",{className:"relative flex-shrink-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between z-10 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-x-2 sm:gap-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:De,"aria-label":"عرض أو إخفاء المحادثات",className:`p-2 rounded-full transition-colors ${ze?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:jsxRuntimeExports.jsx(ChatAlt2Icon,{})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-gray-600 hidden sm:block"}),jsxRuntimeExports.jsx("button",{onClick:Me,"aria-label":"عرض أو إخفاء قاعدة المعرفة",className:`p-2 rounded-full transition-colors ${qe?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:jsxRuntimeExports.jsx(BookOpenIcon,{})}),jsxRuntimeExports.jsx("button",{onClick:Ue,"aria-label":"عرض أو إخفاء الملاحظات",className:`p-2 rounded-full transition-colors ${$e?"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:jsxRuntimeExports.jsx(DocumentTextIcon,{})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-3",children:[Xe&&jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("button",{onClick:Re,"aria-label":"العودة إلى الصفحة الرئيسية",className:"text-xl font-bold",children:jsxRuntimeExports.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500",children:"ذاكربوت"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",ref:tn,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Ge(!We),className:"flex items-center gap-x-2 text-right",children:[jsxRuntimeExports.jsxs("div",{className:"hidden sm:block",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-sm text-gray-800 dark:text-white",children:Ce.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Ce.stage})]}),Ce.profileImageUrl?jsxRuntimeExports.jsx("img",{src:Ce.profileImageUrl,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:en(Ce.name)})]}),We&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-20 border dark:border-gray-600",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Te(),Ge(!1)},className:"block w-full text-right px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:"الملف الشخصي"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Be(),Ge(!1)},className:"block w-full text-right px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",children:"العودة للدردشة"}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ee(),Ge(!1)},className:"block w-full text-right px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:"تسجيل الخروج"})]})]})]})},governorates=["القاهرة","الإسكندرية","الجيزة","القليبوبية","بورسعيد","السويس","الإسماعيلية","كفر الشيخ","الغربية","المنوفية","البحيرة","الشرقية","الدقهلية","دمياط","أسيوط","سوهاج","قنا","أسوان","الأقصر","المنيا","بني سويف","الفيوم","البحر الأحمر","الوادي الجديد","مطروح","شمال سيناء","جنوب سيناء"],stages=["المرحلة الإبتدائية","المرحلة الإعدادية","المرحلة الثانوية"],getSchoolsByStage=Ce=>{const Ee=["مدرسة أ","مدرسة ب","مدرسة ج","مدرسة د","مدرسة هـ","مدرسة و","مدرسة ز","مدرسة ح","مدرسة ط","مدرسة ي"];switch(Ce){case"المرحلة الإبتدائية":return[...Ee,"مدرسة السلام الإبتدائية","مدرسة المستقبل الإبتدائية"];case"المرحلة الإعدادية":return[...Ee,"مدرسة المستقبل الإعدادية بنين","مدرسة المستقبل الإعدادية بنات"];case"المرحلة الثانوية":return[...Ee,"مدرسة السلام الثانوية","مدرسة العاشر من رمضان"];default:return[]}},getClassesByStage=Ce=>{switch(Ce){case"المرحلة الإبتدائية":return["الصف الأول","الصف الثاني","الصف الثالث","الصف الرابع","الصف الخامس","الصف السادس"];case"المرحلة الإعدادية":return["الصف الأول","الصف الثاني","الصف الثالث"];case"المرحلة الثانوية":return["الصف الأول","الصف الثاني","الصف الثالث"];default:return[]}},learningDifficulties=["لا يوجد","كفيف","توحد","تأخر الكلام","سرعة التشتت وقلة التركيز","متلازمة داون"],ttsVoices=[{name:"Orus",label:"صوت رجل ١ (راشد)"},{name:"Alya",label:"صوت رجل ٢ (كريم)"}],ProfilePage=({userProfile:Ce,onProfileUpdate:Ee,onBack:Te})=>{const[Be,Re]=reactExports.useState({...Ce,preferredVoice:Ce.preferredVoice||"Orus",profileImageUrl:Ce.profileImageUrl}),[Me,Ue]=reactExports.useState(Ce.age),[De,qe]=reactExports.useState({}),[$e,ze]=reactExports.useState(!1),Xe=reactExports.useRef(null);reactExports.useEffect(()=>{if(Be.birthDate){const Ze=new Date,St=new Date(Be.birthDate);let Qe=Ze.getFullYear()-St.getFullYear();const Je=Ze.getMonth()-St.getMonth();(Je<0||Je===0&&Ze.getDate()<St.getDate())&&Qe--,Ue(Qe)}},[Be.birthDate]);const We=reactExports.useCallback((Ze,St)=>{Re(Qe=>{const Je={...Qe,[Ze]:St};return Ze==="stage"&&(Je.class="",Je.schoolName=""),Je}),De[Ze]&&qe(Qe=>{const Je={...Qe};return delete Je[Ze],Je})},[De]),Ge=Ze=>{var Qe;const St=(Qe=Ze.target.files)==null?void 0:Qe[0];if(St&&St.type.startsWith("image/")){const Je=new FileReader;Je.onload=on=>{Re(hn=>{var dn;return{...hn,profileImageUrl:(dn=on.target)==null?void 0:dn.result}})},Je.readAsDataURL(St)}},tn=()=>{var Ze;(Ze=Xe.current)==null||Ze.click()},en=Ze=>{Re(St=>{const Qe=St.learningDifficulty.filter(on=>on!=="لا يوجد");let Je;return Ze==="لا يوجد"?Je=["لا يوجد"]:(Qe.includes(Ze)?Je=Qe.filter(on=>on!==Ze):Je=[...Qe,Ze],Je.length===0&&(Je=["لا يوجد"])),{...St,learningDifficulty:Je}})},an=()=>{const Ze={};return Be.name.trim()||(Ze.name="الاسم الكامل مطلوب."),Be.birthDate?Me<0&&(Ze.birthDate="لا يمكن أن يكون تاريخ الميلاد في المستقبل."):Ze.birthDate="تاريخ الميلاد مطلوب.",Be.governorate||(Ze.governorate="المحافظة مطلوبة."),Be.stage||(Ze.stage="المرحلة التعليمية مطلوبة."),Be.schoolName||(Ze.schoolName="اسم المدرسة مطلوب."),Be.class||(Ze.class="الصف مطلوب."),Be.hobbies.trim()||(Ze.hobbies="الهوايات والاهتمامات مطلوبة."),qe(Ze),Object.keys(Ze).length===0},Ye=reactExports.useCallback(Ze=>{Ze.preventDefault(),an()&&(Ee({...Be,age:Me}),ze(!0),setTimeout(()=>ze(!1),3e3))},[Be,Me,Ee]);return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-start p-4 sm:p-6 md:p-8 h-full overflow-y-auto bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("button",{onClick:Te,className:"px-4 py-2 text-sm font-medium text-white bg-gray-500 rounded-lg hover:bg-gray-600 transition-colors",children:"العودة للدردشة"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"تعديل ملفك الشخصي"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ye,className:"space-y-6 text-right",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[Be.profileImageUrl?jsxRuntimeExports.jsx("img",{src:Be.profileImageUrl,alt:"صورة الملف الشخصي",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-200 dark:border-gray-600 shadow-md"}):jsxRuntimeExports.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center border-4 border-gray-300 dark:border-gray-500 shadow-md",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-20 h-20 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),jsxRuntimeExports.jsx("input",{type:"file",ref:Xe,onChange:Ge,className:"hidden",accept:"image/png, image/jpeg, image/gif"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:tn,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-500 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:"تغيير الصورة"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الاسم الكامل:"}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",value:Be.name,onChange:Ze=>We("name",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),De.name&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الجنس:"}),jsxRuntimeExports.jsxs("select",{id:"gender",value:Be.gender,onChange:Ze=>We("gender",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"Male",children:"ذكر"}),jsxRuntimeExports.jsx("option",{value:"Female",children:"أنثى"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"birthdate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"تاريخ الميلاد:"}),jsxRuntimeExports.jsx("input",{id:"birthdate",type:"date",value:Be.birthDate,onChange:Ze=>We("birthDate",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),De.birthDate&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.birthDate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"العمر:"}),jsxRuntimeExports.jsx("p",{className:"mt-1 w-full px-4 py-2 bg-gray-100 dark:bg-gray-700/50 rounded-md h-10 flex items-center text-gray-500 dark:text-gray-400",children:Me>=0?Me:"تاريخ غير صالح"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"governorate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"المحافظة:"}),jsxRuntimeExports.jsxs("select",{id:"governorate",value:Be.governorate,onChange:Ze=>We("governorate",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"اختر المحافظة:"}),governorates.map(Ze=>jsxRuntimeExports.jsx("option",{value:Ze,children:Ze},Ze))]}),De.governorate&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.governorate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"stage",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"المرحلة التعليمية:"}),jsxRuntimeExports.jsxs("select",{id:"stage",value:Be.stage,onChange:Ze=>We("stage",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"",children:"اختر المرحلة:"}),stages.map(Ze=>jsxRuntimeExports.jsx("option",{value:Ze,children:Ze},Ze))]}),De.stage&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.stage})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"schoolName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"اسم المدرسة:"}),jsxRuntimeExports.jsxs("select",{id:"schoolName",value:Be.schoolName,onChange:Ze=>We("schoolName",Ze.target.value),required:!0,disabled:!Be.stage,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200 dark:disabled:bg-gray-700/50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx("option",{value:"",children:Be.stage?"اختر المدرسة:":"اختر المرحلة أولاً"}),getSchoolsByStage(Be.stage).map(Ze=>jsxRuntimeExports.jsx("option",{value:Ze,children:Ze},Ze))]}),De.schoolName&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.schoolName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"class",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الصف:"}),jsxRuntimeExports.jsxs("select",{id:"class",value:Be.class,onChange:Ze=>We("class",Ze.target.value),required:!0,disabled:!Be.stage,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-200 dark:disabled:bg-gray-700/50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx("option",{value:"",children:Be.stage?"اختر الصف:":"اختر المرحلة أولاً"}),getClassesByStage(Be.stage).map(Ze=>jsxRuntimeExports.jsx("option",{value:Ze,children:Ze},Ze))]}),De.class&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.class})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"semester",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الفصل الدراسي:"}),jsxRuntimeExports.jsxs("select",{id:"semester",value:Be.semester,onChange:Ze=>We("semester",Ze.target.value),required:!0,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[jsxRuntimeExports.jsx("option",{value:"الفصل الدراسي الأول",children:"الفصل الدراسي الأول"}),jsxRuntimeExports.jsx("option",{value:"الفصل الدراسي الثاني",children:"الفصل الدراسي الثاني"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"preferredVoice",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الصوت المفضل للمساعد:"}),jsxRuntimeExports.jsx("select",{id:"preferredVoice",value:Be.preferredVoice||"Orus",onChange:Ze=>We("preferredVoice",Ze.target.value),className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:ttsVoices.map(Ze=>jsxRuntimeExports.jsx("option",{value:Ze.name,children:Ze.label},Ze.name))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"صعوبات التعلم:"}),jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 bg-gray-100 dark:bg-gray-700/50 rounded-lg",children:learningDifficulties.map(Ze=>jsxRuntimeExports.jsxs("label",{className:"flex items-center space-x-3 rtl:space-x-reverse cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Be.learningDifficulty.includes(Ze),onChange:()=>en(Ze),className:"form-checkbox h-4 w-4 text-blue-600 bg-gray-200 dark:bg-gray-600 border-gray-300 dark:border-gray-500 rounded focus:ring-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:Ze})]},Ze))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"hobbies",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"الهوايات والاهتمامات:"}),jsxRuntimeExports.jsx("textarea",{id:"hobbies",value:Be.hobbies,onChange:Ze=>We("hobbies",Ze.target.value),required:!0,rows:4,className:"mt-1 w-full px-4 py-2 text-gray-900 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"أخبرنا عن هواياتك، اهتماماتك، أو ما تود أن تتعلمه."}),De.hobbies&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:De.hobbies})]}),jsxRuntimeExports.jsxs("div",{className:"pt-6 flex justify-end items-center gap-4 border-t border-gray-200 dark:border-gray-700",children:[$e&&jsxRuntimeExports.jsx("p",{className:"text-green-600 dark:text-green-400 animate-pulse",children:"تم حفظ الملف الشخصي بنجاح!"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-6 py-2 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"حفظ التغييرات"})]})]})]})})},getSubjectsForStage=Ce=>{switch(Ce){case"المرحلة الإبتدائية":return["اللغة العربية","الرياضيات","العلوم","الدراسات الاجتماعية","اللغة الإنجليزية","التربية الدينية"];case"المرحلة الإعدادية":return["اللغة العربية","الرياضيات","العلوم","الدراسات الاجتماعية","اللغة الإنجليزية","الحاسب الآلي","التربية الفنية"];case"المرحلة الثانوية":return["اللغة العربية","اللغة الإنجليزية","اللغة الفرنسية","اللغة الألمانية","اللغة الإيطالية","الرياضيات","الفيزياء","الكيمياء","الأحياء","الجيولوجيا","التاريخ","الجغرافيا","الفلسفة والمنطق","علم النفس والاجتماع"];default:return[]}},SubjectSelectionModal=({userProfile:Ce,onSubjectSelect:Ee,onClose:Te})=>{const[Be,Re]=reactExports.useState(""),Me=getSubjectsForStage(Ce.stage),Ue=()=>{Be&&Ee(Be)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-lg text-center transform transition-all",children:[jsxRuntimeExports.jsx("button",{onClick:Te,className:"absolute top-3 left-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors","aria-label":"إغلاق",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:["مرحباً بك يا ",Ce.name,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"ما هي المادة التي تود التركيز عليها اليوم؟"}),jsxRuntimeExports.jsx("div",{className:"max-h-60 overflow-y-auto pr-2 space-y-3 my-4",children:Me.map(De=>jsxRuntimeExports.jsxs("label",{className:`block w-full text-right p-4 rounded-lg cursor-pointer transition-all border-2 ${Be===De?"bg-blue-600 border-blue-700 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 border-transparent hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"subject",value:De,checked:Be===De,onChange:qe=>Re(qe.target.value),className:"hidden"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:De})]},De))}),jsxRuntimeExports.jsx("button",{onClick:Ue,disabled:!Be,className:"w-full mt-6 px-6 py-3 font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:transform-none",children:"ابدأ المذاكرة"})]})})},PlusIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),DotsVerticalIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),SessionItem=({session:Ce,isActive:Ee,onSelect:Te,onRename:Be,onDelete:Re})=>{const[Me,Ue]=reactExports.useState(!1),[De,qe]=reactExports.useState(!1),[$e,ze]=reactExports.useState(Ce.title),Xe=reactExports.useRef(null),We=reactExports.useRef(null);reactExports.useEffect(()=>{const an=Ye=>{Xe.current&&!Xe.current.contains(Ye.target)&&Ue(!1)};return document.addEventListener("mousedown",an),()=>document.removeEventListener("mousedown",an)},[]),reactExports.useEffect(()=>{var an,Ye;De&&((an=We.current)==null||an.focus(),(Ye=We.current)==null||Ye.select())},[De]);const Ge=()=>{Ue(!1),qe(!0)},tn=()=>{$e.trim()?Be(Ce.id,$e.trim()):ze(Ce.title),qe(!1)},en=()=>{Ue(!1),Re(Ce.id)};return jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors group ${Ee?"bg-blue-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[De?jsxRuntimeExports.jsx("input",{ref:We,type:"text",value:$e,onChange:an=>ze(an.target.value),onBlur:tn,onKeyDown:an=>an.key==="Enter"&&tn(),className:"w-full bg-transparent border-b border-gray-400 focus:outline-none"}):jsxRuntimeExports.jsx("span",{onClick:Te,className:"truncate flex-1",children:Ce.title}),!De&&jsxRuntimeExports.jsxs("div",{className:"relative",ref:Xe,children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue(an=>!an),className:`p-1 rounded-full ${Ee?"hover:bg-blue-500":"text-gray-500 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600"} opacity-0 group-hover:opacity-100 transition-opacity`,children:jsxRuntimeExports.jsx(DotsVerticalIcon,{})}),Me&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 top-full mt-1 w-32 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-md shadow-lg z-10",children:[jsxRuntimeExports.jsx("button",{onClick:Ge,className:"block w-full text-right px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"إعادة تسمية"}),jsxRuntimeExports.jsx("button",{onClick:en,className:"block w-full text-right px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"حذف"})]})]})]})},SessionsSidebar=({isVisible:Ce,sessions:Ee,activeSessionId:Te,onSelectSession:Be,onNewSession:Re,onClose:Me,onRenameSession:Ue,onDeleteSession:De})=>jsxRuntimeExports.jsxs("aside",{className:`bg-gray-100 dark:bg-gray-900 border-e border-gray-200 dark:border-gray-700 flex flex-col flex-shrink-0 transition-all duration-300 ease-in-out ${Ce?"w-80":"w-0 hidden"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"المحادثات"}),jsxRuntimeExports.jsx("button",{onClick:Me,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white text-2xl leading-none",children:"×"})]}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsxs("button",{onClick:Re,className:"w-full flex items-center justify-center gap-2 px-4 py-2 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[jsxRuntimeExports.jsx(PlusIcon,{}),"محادثة جديدة"]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 pt-0 overflow-y-auto space-y-2",children:Ee.map(qe=>jsxRuntimeExports.jsx(SessionItem,{session:qe,isActive:qe.id===Te,onSelect:()=>Be(qe.id),onRename:Ue,onDelete:De},qe.id))})]}),MainChatPage=({userProfile:Ce,onLogout:Ee,onProfileUpdate:Te,onNavigateHome:Be})=>{const[Re,Me]=reactExports.useState([]),[Ue,De]=reactExports.useState([]),[qe,$e]=reactExports.useState(null),[ze,Xe]=reactExports.useState([]),[We,Ge]=reactExports.useState(!1),[tn,en]=reactExports.useState(!0),[an,Ye]=reactExports.useState(!1),[Ze,St]=reactExports.useState("chat"),[Qe,Je]=reactExports.useState(!1),[on,hn]=reactExports.useState(!1),[dn,sn]=reactExports.useState(null),{addToast:kn}=useToast();reactExports.useEffect(()=>{var pn;try{const mn=localStorage.getItem("notes");mn&&Xe(JSON.parse(mn));const un=localStorage.getItem("sessions");if(un){const wn=JSON.parse(un);if(wn.length>0){De(wn),$e(((pn=wn[0])==null?void 0:pn.id)||null);return}}}catch(mn){console.error("Failed to load data from localStorage",mn),localStorage.removeItem("notes"),localStorage.removeItem("sessions")}Pn(!0)},[]),reactExports.useEffect(()=>{try{localStorage.setItem("notes",JSON.stringify(ze))}catch(pn){console.error("Failed to save notes to localStorage",pn)}},[ze]),reactExports.useEffect(()=>{try{Ue.length>0?localStorage.setItem("sessions",JSON.stringify(Ue)):localStorage.removeItem("sessions")}catch(pn){console.error("Failed to save sessions to localStorage",pn)}},[Ue]),reactExports.useEffect(()=>{const pn=setInterval(()=>{try{Ue.length>0&&localStorage.setItem("sessions",JSON.stringify(Ue))}catch(mn){console.error("Failed to auto-save sessions to localStorage",mn)}},6e4);return()=>clearInterval(pn)},[Ue]);const Pn=(pn=!0)=>{const mn={id:`session-${Date.now()}`,title:"محادثة جديدة",messages:[]};De(un=>[mn,...un]),$e(mn.id),Me([]),pn&&hn(!0)},_n=pn=>{$e(pn),Ye(!1)},Mn=(pn,mn)=>{De(un=>un.map(wn=>wn.id===pn?{...wn,title:mn}:wn))},yn=pn=>{const mn=Ue.find(un=>un.id===pn);mn&&sn(mn)},zn=()=>{if(!dn)return;const pn=Ue.filter(mn=>mn.id!==dn.id);De(pn),qe===dn.id&&(pn.length>0?$e(pn[0].id):Pn(!1)),sn(null)},Ln=Ue.find(pn=>pn.id===qe),Vn=pn=>{De(mn=>mn.map(un=>{if(un.id===qe){const wn=typeof pn=="function"?pn(un.messages):pn;let xn=un.title;if(un.title==="محادثة جديدة"&&!on){const Rn=wn.find(Hn=>Hn.sender===MessageSender.USER&&Hn.text.trim()!=="");Rn&&(xn=Rn.text.substring(0,35)+(Rn.text.length>35?"...":""))}return{...un,messages:wn,title:xn}}return un}))},On=reactExports.useCallback(async pn=>{const mn={id:`bot-search-start-${Date.now()}`,sender:MessageSender.BOT,text:`أقوم بالبحث عن مصادر تعليمية لمادة ${pn}. قد يستغرق هذا بعض الوقت...`,isThinking:!0};Vn(wn=>[mn,...wn.filter(xn=>!xn.id.startsWith("bot-search-fail"))]);const un=await searchEducationalResources(Ce,pn);if(Vn(wn=>wn.filter(xn=>!xn.id.startsWith("bot-search-start"))),un.length>0){Me(xn=>{const Rn=new Set(xn.map(vn=>vn.url)),Hn=un.filter(vn=>vn.url&&!Rn.has(vn.url));return[...xn,...Hn]});const wn={id:`bot-search-end-${Date.now()}`,sender:MessageSender.BOT,text:`لقد أضفت ${un.length} من المصادر التعليمية إلى قاعدة المعرفة الخاصة بك للبدء. لا تتردد في تحميل مستنداتك الخاصة أيضًا!`};Vn(xn=>[wn,...xn])}else{const wn={id:`bot-search-fail-${Date.now()}`,sender:MessageSender.BOT,text:"لم أتمكن من العثور على مصادر تلقائية لهذه المادة في الوقت الحالي. لا يزال بإمكانك إضافة المستندات والروابط الخاصة بك إلى قاعدة المعرفة!",action:{label:"إعادة البحث عن مصادر",onClick:()=>On(pn)}};Vn(xn=>[wn,...xn])}},[Ce,qe]),Un=reactExports.useCallback(pn=>{hn(!1);const mn=pn,un=new Set(Ue.map(xn=>xn.title));let wn=mn;if(un.has(wn)){let xn=2;for(;un.has(`${mn} (${xn})`);)xn++;wn=`${mn} (${xn})`}De(xn=>xn.map(Rn=>Rn.id===qe?{...Rn,title:wn}:Rn)),On(pn)},[On,Ue,qe]),jn=reactExports.useCallback(pn=>{Me(mn=>[{...pn,id:Date.now().toString()},...mn])},[]),Gn=reactExports.useCallback(pn=>{Me(mn=>mn.filter(un=>un.id!==pn))},[]),An=reactExports.useCallback(pn=>{const mn={id:Date.now().toString(),content:pn,timestamp:new Date().toLocaleString("ar-EG")};Xe(un=>[mn,...un]),kn("تم حفظ الملاحظة بنجاح!","success"),Ge(!0)},[kn]),$n=reactExports.useCallback(pn=>{Xe(mn=>mn.filter(un=>un.id!==pn))},[]),Nn=reactExports.useCallback(()=>Ge(pn=>!pn),[]),En=reactExports.useCallback(()=>en(pn=>!pn),[]),Sn=reactExports.useCallback(()=>Ye(pn=>!pn),[]);return jsxRuntimeExports.jsxs("div",{className:"flex h-screen w-screen overflow-hidden bg-white dark:bg-gray-800",children:[on&&Ce&&jsxRuntimeExports.jsx(SubjectSelectionModal,{userProfile:Ce,onSubjectSelect:Un,onClose:()=>hn(!1)}),dn&&jsxRuntimeExports.jsx(ConfirmationModal,{title:`هل أنت متأكد أنك تريد حذف محادثة "${dn.title}"؟`,options:[{label:"نعم، قم بالحذف",action:zn,isDestructive:!0}],onCancel:()=>sn(null)}),jsxRuntimeExports.jsx(SessionsSidebar,{isVisible:an,sessions:Ue,activeSessionId:qe,onSelectSession:_n,onNewSession:Pn,onClose:Sn,onRenameSession:Mn,onDeleteSession:yn}),jsxRuntimeExports.jsx(KnowledgeBase,{isVisible:tn,knowledgeItems:Re,onAddItem:jn,onRemoveItem:Gn}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[jsxRuntimeExports.jsx(Header,{userProfile:Ce,onLogout:Ee,onNavigateToProfile:()=>St("profile"),onNavigateToChat:()=>St("chat"),onNavigateHome:Be,onToggleKnowledgeBase:En,onToggleNotes:Nn,onToggleSessions:Sn,isKnowledgeBaseActive:tn,isNotesActive:We,isSessionsActive:an,isLoading:Qe}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:Ze==="chat"?jsxRuntimeExports.jsx(ChatPanel,{messages:(Ln==null?void 0:Ln.messages)||[],setMessages:Vn,knowledgeBase:Re,addNote:An,userProfile:Ce,clearKnowledgeBase:()=>Me([]),isLoading:Qe,setIsLoading:Je,sessionTitle:Ln==null?void 0:Ln.title},qe):jsxRuntimeExports.jsx(ProfilePage,{userProfile:Ce,onProfileUpdate:Te,onBack:()=>St("chat")})})]}),jsxRuntimeExports.jsx(NotesSidebar,{isVisible:We,notes:ze,onClose:Nn,onRemoveNote:$n})]})},BrainIcon=()=>jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-teal-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 0 0 9-9 9 9 0 0 0-9-9 9 9 0 0 0-9 9 9 9 0 0 0 9 9z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 0 1-9-9"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21v-3"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a3 3 0 0 1 3 3"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12a3 3 0 0 0-3 3"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12V9"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9a3 3 0 0 0-3-3 3 3 0 0 0-3 3"})]}),LimitlessKnowledgeIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),VoiceAssistantIcon=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 016 0v8.25a3 3 0 01-3 3z"})}),HomePage=({onNavigateToAuth:Ce})=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 text-white min-h-screen overflow-x-hidden relative",children:[jsxRuntimeExports.jsx("style",{children:`
      @keyframes subtle-float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
      .animate-subtle-float {
        animation: subtle-float 6s ease-in-out infinite;
      }
    `}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=2098&auto=format&fit=crop')"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0 bg-black/50"}),jsxRuntimeExports.jsxs("nav",{className:"relative z-10 flex justify-between items-center p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("h1",{onClick:()=>window.location.href="/",className:"text-2xl font-bold cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-teal-400",children:"ذاكر"}),jsxRuntimeExports.jsx("span",{className:"text-sky-400",children:"بوت"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("login"),className:"px-5 py-2 text-sm font-semibold bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 transition-colors",children:"تسجيل الدخول"})]}),jsxRuntimeExports.jsxs("main",{className:"relative z-10",children:[jsxRuntimeExports.jsxs("section",{className:"text-center pt-16 pb-24 px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-br from-white to-gray-100",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:"أطلق العنان لقدراتك الدراسية"}),jsxRuntimeExports.jsx("p",{className:"mt-6 max-w-2xl mx-auto text-lg md:text-xl text-gray-300",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:"رفيقك الدراسي الذكي الذي يتكيف معك خطوة بخطوة، ويحول أصعب المواد إلى رحلة ممتعة."}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("register"),className:"mt-10 px-8 py-4 text-lg font-bold text-gray-900 bg-gradient-to-r from-teal-300 to-sky-400 rounded-full hover:scale-105 transform transition-all duration-300 shadow-2xl shadow-teal-500/20",children:"ابدأ رحلتك التعليمية الآن"})]}),jsxRuntimeExports.jsx("section",{className:"py-24 bg-gray-900/50 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold",children:"مُصمَم خصيصاً لنجاحك"}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-lg text-gray-400",children:"كل ما تحتاجه في منصة واحدة ذكية."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-teal-900/50 border border-teal-500/30 rounded-2xl inline-block",children:jsxRuntimeExports.jsx(BrainIcon,{})}),jsxRuntimeExports.jsx("h4",{className:"mt-4 text-xl font-semibold",children:"تعلم مُخصص"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"يُحلل ذاكربوت أسلوب تعلُمك وسماتك الشخصية لتقديم شروحات ومصادر تناسبك تماماً."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-indigo-900/50 border border-indigo-500/30 rounded-2xl inline-block",children:jsxRuntimeExports.jsx(LimitlessKnowledgeIcon,{})}),jsxRuntimeExports.jsx("h4",{className:"mt-4 text-xl font-semibold",children:"معرفة بلا حدود"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"اجمع موادك الدراسية، أضف روابط وفيديوهات وملفات، ودع ذاكربوت يبحث لك عن أحدث المصادر الموثوقة."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-sky-900/50 border border-sky-500/30 rounded-2xl inline-block",children:jsxRuntimeExports.jsx(VoiceAssistantIcon,{})}),jsxRuntimeExports.jsx("h4",{className:"mt-4 text-xl font-semibold",children:"مساعد صوتي ذكي"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:'تحدث مباشرة مع "الأستاذ راشد - مُعلمُك الذكي" للحصول على إجابات فورية وشروحات صوتية تفاعلية لموادك الدراسية.'})]})]})]})}),jsxRuntimeExports.jsx("section",{className:"py-24 px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-subtle-float",children:jsxRuntimeExports.jsx("img",{src:"/anime-student.svg",alt:"صورة طالب أنمي مبتسم",className:"w-20 h-20 mx-auto rounded-full object-cover"})}),jsxRuntimeExports.jsx("blockquote",{className:"mt-8",children:jsxRuntimeExports.jsx("p",{className:"text-xl font-medium text-gray-200",children:'"ذاكربوت غيّر طريقتي في المذاكرة، كل المواد بقت سهلة وواضحة أكتر، ميزة المساعد الصوتي كمان إنه مُتفاعل معايا حاسس إني بكلم مدرس بجد!"'})}),jsxRuntimeExports.jsx("cite",{className:"mt-4 block font-semibold text-gray-400 not-italic",children:"أحمد - طالب في المرحلة الثانوية"})]})})]}),jsxRuntimeExports.jsx("footer",{className:"relative z-10 text-center py-8 text-gray-500 bg-gray-900/50",children:jsxRuntimeExports.jsxs("p",{children:["ذاكربوت. كل الحقوق محفوظة © ",new Date().getFullYear(),"."]})})]}),App=()=>{const[Ce,Ee]=reactExports.useState(()=>{try{const We=localStorage.getItem("userProfile");return We?JSON.parse(We):null}catch(We){return console.error("Failed to parse user profile from localStorage",We),localStorage.removeItem("userProfile"),null}}),[Te,Be]=reactExports.useState(Ce?"chat":"home"),[Re,Me]=reactExports.useState("login");reactExports.useEffect(()=>{try{Ce?localStorage.setItem("userProfile",JSON.stringify(Ce)):localStorage.removeItem("userProfile")}catch(We){console.error("Failed to save user profile to localStorage",We)}},[Ce]);const Ue=reactExports.useCallback(We=>{Ee(We),localStorage.removeItem("lastUserName"),Be("chat")},[]),De=reactExports.useCallback(()=>{Ce&&localStorage.setItem("lastUserName",Ce.name),Ee(null),Be("home")},[Ce]),qe=reactExports.useCallback(We=>{Ee(We)},[]),$e=We=>{Me(We),Be("auth")},ze=reactExports.useCallback(()=>{Be("home")},[]),Xe=()=>Te==="home"?jsxRuntimeExports.jsx(HomePage,{onNavigateToAuth:$e}):Te==="auth"?jsxRuntimeExports.jsx(AuthPage,{onLogin:Ue,initialMode:Re,onBackToHome:()=>Be("home")}):Te==="chat"&&Ce?jsxRuntimeExports.jsx(MainChatPage,{userProfile:Ce,onLogout:De,onProfileUpdate:qe,onNavigateHome:ze}):jsxRuntimeExports.jsx(HomePage,{onNavigateToAuth:$e});return jsxRuntimeExports.jsx(ToastProvider,{children:jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans",children:Xe()})})},rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{_typeof as _,commonjsGlobal$1 as c,getDefaultExportFromCjs$2 as g};
